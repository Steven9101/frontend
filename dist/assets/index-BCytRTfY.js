var l7=Object.defineProperty;var c7=(He,Nn,po)=>Nn in He?l7(He,Nn,{enumerable:!0,configurable:!0,writable:!0,value:po}):He[Nn]=po;var fo=(He,Nn,po)=>c7(He,typeof Nn!="symbol"?Nn+"":Nn,po);let km,Ku,Fm,Qu,ed,td,nd,rd,od,id,ad,sd,ld,cd,ud,dd,hd,u7=(async()=>{Fm=function(){import.meta.url,import("_").then(async e=>(await e.__tla,e)).catch(()=>1),async function*(){}().next()},function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}}();function He(){}const Nn=e=>e;function po(e){return e()}function pd(){return Object.create(null)}function Ut(e){e.forEach(po)}function Bt(e){return typeof e=="function"}function Uo(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Rm(e){return Object.keys(e).length===0}function Pm(e,...t){if(e==null){for(const r of t)r(void 0);return He}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function md(e,t,n){e.$$.on_destroy.push(Pm(t,n))}function Pi(e){return e&&Bt(e.destroy)?e.destroy:He}function gd(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const yd=typeof window<"u";let vd=yd?()=>window.performance.now():()=>Date.now(),gl=yd?e=>requestAnimationFrame(e):He;const Bo=new Set;function bd(e){Bo.forEach(t=>{t.c(e)||(Bo.delete(t),t.f())}),Bo.size!==0&&gl(bd)}function wd(e){let t;return Bo.size===0&&gl(bd),{promise:new Promise(n=>{Bo.add(t={c:e,f:n})}),abort(){Bo.delete(t)}}}const xd=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function _(e,t){e.appendChild(t)}function _d(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Dm(e){const t=q("style");return t.textContent="/* empty */",Nm(_d(e),t),t.sheet}function Nm(e,t){return _(e.head||e,t),t.sheet}function ve(e,t,n){e.insertBefore(t,n||null)}function ge(e){e.parentNode&&e.parentNode.removeChild(e)}function Wo(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function Ve(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Fe(e){return document.createTextNode(e)}function Z(){return Fe(" ")}function yl(){return Fe("")}function ee(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Lm(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Sd(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function vl(e){return function(t){t.target===this&&e.call(this,t)}}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function zo(e){return e===""?null:+e}function qm(e){return Array.from(e.childNodes)}function it(e,t){t=""+t,e.data!==t&&(e.data=t)}function pt(e,t){e.value=t!=null?t:""}function bt(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function Cd(e,t,n){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function jm(e){const t=e.querySelector(":checked");return t&&t.__value}let Ba;function Um(){if(Ba===void 0){Ba=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(e){Ba=!0}}return Ba}function Bm(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const n=q("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Um();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=ee(window,"message",i=>{i.source===n.contentWindow&&t()})):(n.src="about:blank",n.onload=()=>{o=ee(n.contentWindow,"resize",t),t()}),_(e,n),()=>{(r||o&&n.contentWindow)&&o(),ge(n)}}function Md(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class bl{constructor(t=!1){fo(this,"is_svg",!1);fo(this,"e");fo(this,"n");fo(this,"t");fo(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=Ve(n.nodeName):this.e=q(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)ve(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(ge)}}const Wa=new Map;let za=0;function Wm(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function zm(e,t){const n={stylesheet:Dm(t),rules:{}};return Wa.set(e,n),n}function wl(e,t,n,r,o,i,a,s=0){const l=16.666/r;let c="{\n";for(let T=0;T<=1;T+=l){const L=t+(n-t)*i(T);c+=T*100+"%{".concat(a(L,1-L),"}\n")}const u=c+"100% {".concat(a(n,1-n),"}\n}"),d="__svelte_".concat(Wm(u),"_").concat(s),f=_d(e),{stylesheet:g,rules:b}=Wa.get(f)||zm(f,e);b[d]||(b[d]=!0,g.insertRule("@keyframes ".concat(d," ").concat(u),g.cssRules.length));const C=e.style.animation||"";return e.style.animation="".concat(C?"".concat(C,", "):"").concat(d," ").concat(r,"ms linear ").concat(o,"ms 1 both"),za+=1,d}function xl(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),za-=o,za||$m())}function $m(){gl(()=>{za||(Wa.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&ge(t)}),Wa.clear())})}let Di;function Ni(e){Di=e}function _l(){if(!Di)throw new Error("Function called outside component initialization");return Di}function Sl(e){_l().$$.on_mount.push(e)}function Hm(e){_l().$$.on_destroy.push(e)}function Cl(){const e=_l();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=Md(t,n,{cancelable:r});return o.slice().forEach(a=>{a.call(e,i)}),!i.defaultPrevented}return!0}}function Ad(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const $o=[],Kt=[];let Ho=[];const Ed=[],Td=Promise.resolve();let Ml=!1;function kd(){Ml||(Ml=!0,Td.then(Fd))}function Al(){return kd(),Td}function Ln(e){Ho.push(e)}const El=new Set;let Vo=0;function Fd(){if(Vo!==0)return;const e=Di;do{try{for(;Vo<$o.length;){const t=$o[Vo];Vo++,Ni(t),Vm(t.$$)}}catch(t){throw $o.length=0,Vo=0,t}for(Ni(null),$o.length=0,Vo=0;Kt.length;)Kt.pop()();for(let t=0;t<Ho.length;t+=1){const n=Ho[t];El.has(n)||(El.add(n),n())}Ho.length=0}while($o.length);for(;Ed.length;)Ed.pop()();Ml=!1,El.clear(),Ni(e)}function Vm(e){if(e.fragment!==null){e.update(),Ut(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ln)}}function Ym(e){const t=[],n=[];Ho.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Ho=t}let Li;function Od(){return Li||(Li=Promise.resolve(),Li.then(()=>{Li=null})),Li}function qi(e,t,n){e.dispatchEvent(Md("".concat(t?"intro":"outro").concat(n)))}const $a=new Set;let Fr;function Id(){Fr={r:0,c:[],p:Fr}}function Rd(){Fr.r||Ut(Fr.c),Fr=Fr.p}function qn(e,t){e&&e.i&&($a.delete(e),e.i(t))}function Yo(e,t,n,r){if(e&&e.o){if($a.has(e))return;$a.add(e),Fr.c.push(()=>{$a.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Pd={duration:0};function Gm(e,t,n){const r={direction:"in"};let o=t(e,n,r),i=!1,a,s,l=0;function c(){a&&xl(e,a)}function u(){const{delay:f=0,duration:g=300,easing:b=Nn,tick:C=He,css:T}=o||Pd;T&&(a=wl(e,0,1,g,f,b,T,l++)),C(0,1);const L=vd()+f,R=L+g;s&&s.abort(),i=!0,Ln(()=>qi(e,!0,"start")),s=wd(k=>{if(i){if(k>=R)return C(1,0),qi(e,!0,"end"),c(),i=!1;if(k>=L){const j=b((k-L)/g);C(j,1-j)}}return i})}let d=!1;return{start(){d||(d=!0,xl(e),Bt(o)?(o=o(r),Od().then(u)):u())},invalidate(){d=!1},end(){i&&(c(),i=!1)}}}function Go(e,t,n,r){let o=t(e,n,{direction:"both"}),i=r?0:1,a=null,s=null,l=null,c;function u(){l&&xl(e,l)}function d(g,b){const C=g.b-i;return b*=Math.abs(C),{a:i,b:g.b,d:C,duration:b,start:g.start,end:g.start+b,group:g.group}}function f(g){const{delay:b=0,duration:C=300,easing:T=Nn,tick:L=He,css:R}=o||Pd,k={start:vd()+b,b:g};g||(k.group=Fr,Fr.r+=1),"inert"in e&&(g?c!==void 0&&(e.inert=c):(c=e.inert,e.inert=!0)),a||s?s=k:(R&&(u(),l=wl(e,i,g,C,b,T,R)),g&&L(0,1),a=d(k,C),Ln(()=>qi(e,g,"start")),wd(j=>{if(s&&j>s.start&&(a=d(s,C),s=null,qi(e,a.b,"start"),R&&(u(),l=wl(e,i,a.b,a.duration,0,T,o.css))),a){if(j>=a.end)L(i=a.b,1-i),qi(e,a.b,"end"),s||(a.b?u():--a.group.r||Ut(a.group.c)),a=null;else if(j>=a.start){const N=j-a.start;i=a.a+a.d*T(N/a.duration),L(i,1-i)}}return!!(a||s)}))}return{run(g){Bt(o)?Od().then(()=>{o=o({direction:g?"in":"out"}),f(g)}):f(g)},end(){u(),a=s=null}}}function At(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Tl(e,t){e.d(1),t.delete(e.key)}function kl(e,t,n,r,o,i,a,s,l,c,u,d){let f=e.length,g=i.length,b=f;const C={};for(;b--;)C[e[b].key]=b;const T=[],L=new Map,R=new Map,k=[];for(b=g;b--;){const E=d(o,i,b),S=n(E);let M=a.get(S);M?k.push(()=>M.p(E,t)):(M=c(S,E),M.c()),L.set(S,T[b]=M),S in C&&R.set(S,Math.abs(b-C[S]))}const j=new Set,N=new Set;function D(E){qn(E,1),E.m(s,u),a.set(E.key,E),u=E.first,g--}for(;f&&g;){const E=T[g-1],S=e[f-1],M=E.key,x=S.key;E===S?(u=E.first,f--,g--):L.has(x)?!a.has(M)||j.has(M)?D(E):N.has(x)?f--:R.get(M)>R.get(x)?(N.add(M),D(E)):(j.add(x),f--):(l(S,a),f--)}for(;f--;){const E=e[f];L.has(E.key)||l(E,a)}for(;g;)D(T[g-1]);return Ut(k),T}function Fl(e){e&&e.c()}function Ha(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),Ln(()=>{const i=e.$$.on_mount.map(po).filter(Bt);e.$$.on_destroy?e.$$.on_destroy.push(...i):Ut(i),e.$$.on_mount=[]}),o.forEach(Ln)}function Va(e,t){const n=e.$$;n.fragment!==null&&(Ym(n.after_update),Ut(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xm(e,t){e.$$.dirty[0]===-1&&($o.push(e),kd(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ya(e,t,n,r,o,i,a=null,s=[-1]){const l=Di;Ni(e);const c=e.$$={fragment:null,ctx:[],props:i,update:He,not_equal:o,bound:pd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:pd(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(d,f,...g)=>{const b=g.length?g[0]:f;return c.ctx&&o(c.ctx[d],c.ctx[d]=b)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](b),u&&Xm(e,d)),f}):[],c.update(),u=!0,Ut(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const d=qm(t.target);c.fragment&&c.fragment.l(d),d.forEach(ge)}else c.fragment&&c.fragment.c();t.intro&&qn(e.$$.fragment),Ha(e,t.target,t.anchor),Fd()}Ni(l)}class Ga{constructor(){fo(this,"$$");fo(this,"$$set")}$destroy(){Va(this,1),this.$destroy=He}$on(t,n){if(!Bt(n))return He;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Rm(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Zm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zm);function Dd(e){const t=e-1;return t*t*t+1}function Jm(e){return--e*e*e*e*e+1}function Nd(e,{delay:t=0,duration:n=400,easing:r=Nn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>"opacity: ".concat(i*o)}}function Ol(e,{delay:t=0,duration:n=400,easing:r=Dd,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(e),l=+s.opacity,c=s.transform==="none"?"":s.transform,u=l*(1-a),[d,f]=gd(o),[g,b]=gd(i);return{delay:t,duration:n,easing:r,css:(C,T)=>"\n			transform: ".concat(c," translate(").concat((1-C)*d).concat(f,", ").concat((1-C)*g).concat(b,");\n			opacity: ").concat(l-u*T)}}function Ld(e,{delay:t=0,duration:n=400,easing:r=Dd,start:o=0,opacity:i=0}={}){const a=getComputedStyle(e),s=+a.opacity,l=a.transform==="none"?"":a.transform,c=1-o,u=s*(1-i);return{delay:t,duration:n,easing:r,css:(d,f)=>"\n			transform: ".concat(l," scale(").concat(1-c*f,");\n			opacity: ").concat(s-u*f,"\n		")}}var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Km(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Qm=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},eg=Qm,qd={"text/plain":"Text","text/html":"Url",default:"Text"},tg="Copy to clipboard: #{key}, Enter";function ng(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function rg(e,t){var n,r,o,i,a,s,l=!1;t||(t={}),n=t.debug||!1;try{o=eg(),i=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),t.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=qd[t.format]||qd.default;window.clipboardData.setData(d,e)}else u.clipboardData.clearData(),u.clipboardData.setData(t.format,e);t.onCopy&&(u.preventDefault(),t.onCopy(u.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=ng("message"in t?t.message:tg),window.prompt(r,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return l}var og=rg;const jd=mo(og);var Ud={};(function(e){function t(E){var S=[],M=[],x=0,m=E;function y(w){for(S.length!==0&&S[0]<=x-m&&(S.shift(),M.shift());M.length!==0&&M[M.length-1]>w;)S.pop(),M.pop();return S.push(x),M.push(w),x++,M[0]}return y.setWindowSize=function(w){m=w},y.reset=function(){S.splice(0,S.length),M.splice(0,M.length),x=0},y}function n(E){var S=[],M=[],x=0,m=E;function y(w){for(S.length!==0&&S[0]<=x-m&&(S.shift(),M.shift());M.length!==0&&M[M.length-1]<w;)S.pop(),M.pop();return S.push(x),M.push(w),x++,M[0]}return y.setWindowSize=function(w){m=w},y.reset=function(){S.splice(0,S.length),M.splice(0,M.length),x=0},y}function r(E){var S=[],M=E,x=0,m;function y(w){if(S.length>=M&&(x-=S.shift()),w||w===0)S.push(w),x+=w;else return m;return m=S.length==0?0:x/S.length}return y.setWindowSize=function(w){M=w},y.reset=function(){x=0,S.splice(0,S.length)},y}function o(E){var S=[],M=[],x=E;function m(y,w){for(;S.length!==0&&S[0]<=w-x;)S.shift(),M.shift();for(;M.length!==0&&M[M.length-1]>y;)S.pop(),M.pop();return S.push(w),M.push(y),M[0]}return m.setWindowSize=function(y){x=y},m.reset=function(){S.splice(0,S.length),M.splice(0,M.length)},m}function i(E){var S=[],M=[],x=E;function m(y,w){for(;S.length!==0&&S[0]<=w-x;)S.shift(),M.shift();for(;M.length!==0&&M[M.length-1]<y;)S.pop(),M.pop();return S.push(w),M.push(y),M[0]}return m.setWindowSize=function(y){x=y},m.reset=function(){S.splice(0,S.length),M.splice(0,M.length)},m}function a(E){var S=[],M=[],x=E,m=0;function y(w,A){for(;S.length!==0&&S[0]<=A-x;)S.shift(),m-=M.shift();if(w||w===0)S.push(A),M.push(w),m+=w;else return prev;return prev=M.length==0?0:m/M.length}return y.setWindowSize=function(w){x=w},y.reset=function(){S.splice(0,S.length),M.splice(0,M.length),m=0},y}function s(E,S){for(var M=0,x=E.length;M<x;){var m=M+x>>>1;E[m]<S?M=m+1:x=m}return M}function l(E){var S=[],M=E,x=[],m=s,y,w=null,A=0,F=0,I=0,Y=0,G=null;function U(B){if(S.length>=M){var H=S.shift(),K=H,de=K*K,J=de*K,ie=J*K;A-=K,F-=de,I-=J,Y-=ie;var be=m(x,H);x[be]==H&&x.splice(be,1)}if(B||B===0){S.push(B),x.splice(m(x,B),0,B),w=null,G=null;var K=B,de=K*K,J=de*K,ie=J*K;A+=K,F+=de,I+=J,Y+=ie}else return y;if(x.length==0)return y;if(x.length&1)return y=x[x.length-1>>>1];var Ae=(x.length>>>1)-1;return y=(x[Ae]+x[Ae+1])/2}return U.setWindowSize=function(B){M=B},U.reset=function(){S.splice(0,S.length),x.splice(0,x.length),w=null,A=0,F=0,I=0,Y=0,G=null},U.avg=function(){return A/S.length},U.sum=function(){return A},U.min=function(){return x[0]},U.q1=function(){if(x.length==1)return x[0];if(x.length==2)return x[0]*.75+x[1]*.25;if(x.length==3)return x[0]*.5+x[1]*.5;if((x.length-1)%4==0){var B=x.length-1>>2;return x[B-1]*.25+x[B]*.75}if((x.length-3)%4==0){var B=x.length-3>>2;return x[B]*.75+x[B+1]*.25}},U.moments_avg=function(){return G===null&&(G=U.moments()),G.average},U.variance=function(){return G===null&&(G=U.moments()),G.variance},U.standardDeviation=function(){return G===null&&(G=U.moments()),G.standardDeviation},U.skew=function(){return G===null&&(G=U.moments()),G.skew},U.kurtosis=function(){return G===null&&(G=U.moments()),G.kurtosis},U.exkurtosis=function(){return G===null&&(G=U.moments()),G.exkurtosis},U.moments=function(){var B={};if(this.c>0){var H=S.length,K=A/H,de=F/H,J=I/H,ie=Y/H,be=K,Ae=F/H-K;m3=J-3*de*K+2*K*K*K,m4=ie-3*J*K+6*de*K*K- -3*K*K*K*K,B.average=be,B.variance=Ae,B.standardDeviation=Math.pow(B.variance,.5),H>2&&(B.skew=Math.pow(H*(H-1),.5)/(H-2)*m3/Math.pow(Ae,1.5)),Ae>0&&(B.exkurtosis=m4/Ae/Ae-3,B.kurtosis=m4/Ae/Ae)}return B},U.median=function(){return y},U.q3=function(){if(x.length==1)return x[0];if(x.length==2)return x[0]*.25+x[1]*.75;if(x.length==3)return x[1]*.5+x[2]*.5;if((x.length-1)%4==0){var B=(x.length-1>>2)*3;return x[B]*.75+x[B+1]*.25}if((x.length-3)%4==0){var B=(x.length-3>>2)*3;return x[B+1]*.25+x[B+2]*.75}},U.max=function(){return x[x.length-1]},U.center=function(){return(x[0]+x[x.length-1])/2},U.medianskew=function(){return x[x.length-1]-y-(y-x[0])},U.medianskew_bowleys_coef=function(){return(x[x.length-1]-y)*(y-x[0])/(x[x.length-1]-x[0])},U.mediankurt=function(){var B=Math.round((x.length-1)*.9),H=Math.round((x.length-1)*.1);return(x[x.length-1]-y)*(y-x[0])/(x[B]-x[H])},U.pabovecenter=function(){return w===null&&(w=m(x,(x[0]+x[x.length-1])/2)),(x.length-1-w)/(x.length-1)},U.pbelowcenter=function(){return w===null&&(w=m(x,(x[0]+x[x.length-1])/2)),w/(x.length-1)},U}function c(E){var S=[],M=[],x=E,m=[],y=s,w,A=null,F=0,I=0,Y=0,G=0,U=null;function B(H,K){for(;M.length!==0&&M[0]<=K-x;){M.shift();var de=S.shift(),J=de,ie=J*J,be=ie*J,Ae=be*J;F-=J,I-=ie,Y-=be,G-=Ae;var re=y(m,de);m[re]==de&&m.splice(re,1)}if(H||H===0){M.push(K),S.push(H),m.splice(y(m,H),0,H),A=null,U=null;var J=H,ie=J*J,be=ie*J,Ae=be*J;F+=J,I+=ie,Y+=be,G+=Ae}else return w;if(m.length==0)return w;if(m.length&1)return w=m[m.length-1>>>1];var Re=(m.length>>>1)-1;return w=(m[Re]+m[Re+1])/2}return B.setWindowSize=function(H){x=H},B.reset=function(){S.splice(0,S.length),M.splice(0,M.length),m.splice(0,m.length),A=null,F=0,I=0,Y=0,G=0,U=null},B.avg=function(){return F/S.length},B.sum=function(){return F},B.min=function(){return m[0]},B.q1=function(){if(m.length==1)return m[0];if(m.length==2)return m[0]*.75+m[1]*.25;if(m.length==3)return m[0]*.5+m[1]*.5;if((m.length-1)%4==0){var H=m.length-1>>2;return m[H-1]*.25+m[H]*.75}if((m.length-3)%4==0){var H=m.length-3>>2;return m[H]*.75+m[H+1]*.25}},B.moments_avg=function(){return U===null&&(U=B.moments()),U.average},B.variance=function(){return U===null&&(U=B.moments()),U.variance},B.standardDeviation=function(){return U===null&&(U=B.moments()),U.standardDeviation},B.skew=function(){return U===null&&(U=B.moments()),U.skew},B.kurtosis=function(){return U===null&&(U=B.moments()),U.kurtosis},B.exkurtosis=function(){return U===null&&(U=B.moments()),U.exkurtosis},B.moments=function(){var H={};if(this.c>0){var K=S.length,de=F/K,J=I/K,ie=Y/K,be=G/K,Ae=de,re=I/K-de;m3=ie-3*J*de+2*de*de*de,m4=be-3*ie*de+6*J*de*de- -3*de*de*de*de,H.average=Ae,H.variance=re,H.standardDeviation=Math.pow(H.variance,.5),K>2&&(H.skew=Math.pow(K*(K-1),.5)/(K-2)*m3/Math.pow(re,1.5)),re>0&&(H.exkurtosis=m4/re/re-3,H.kurtosis=m4/re/re)}return H},B.median=function(){return w},B.q3=function(){if(m.length==1)return m[0];if(m.length==2)return m[0]*.25+m[1]*.75;if(m.length==3)return m[1]*.5+m[2]*.5;if((m.length-1)%4==0){var H=(m.length-1>>2)*3;return m[H]*.75+m[H+1]*.25}if((m.length-3)%4==0){var H=(m.length-3>>2)*3;return m[H+1]*.25+m[H+2]*.75}},B.max=function(){return m[m.length-1]},B.center=function(){return(m[0]+m[m.length-1])/2},B.medianskew=function(){return m[m.length-1]-w-(w-m[0])},B.medianskew_bowleys_coef=function(){return(m[m.length-1]-w)*(w-m[0])/(m[m.length-1]-m[0])},B.mediankurt=function(){var H=Math.round((m.length-1)*.9),K=Math.round((m.length-1)*.1);return(m[m.length-1]-w)*(w-m[0])/(m[H]-m[K])},B.pabovecenter=function(){return A===null&&(A=y(m,(m[0]+m[m.length-1])/2)),(m.length-1-A)/(m.length-1)},B.pbelowcenter=function(){return A===null&&(A=y(m,(m[0]+m[m.length-1])/2)),A/(m.length-1)},B}function u(E,S){var M=[],x=[],m=E,y=0,w=!1,A=S;function F(I,Y){for(;M.length!==0&&M[0]<=Y-m&&M[0]!=Y;)w=M.shift(),y-=x.shift();w===!1&&(w=Y-A),M.push(Y),x.push(I),y+=I;var G=Y-w;return G==0&&(G=A),y/G}return F.setWindowSize=function(I){m=I},F.setUsualIndexSkipBetweenOccations=function(I){A=I},F.reset=function(){M.splice(0,M.length),x.splice(0,x.length),y=0,w=!1},F}function d(E,S){var M=[],x=E,m=S;function y(w){var A=m;return M.length==x&&(A=M.shift()),M.push(w),A}return y.setWindowSize=function(w){x=w},y.setUndefinedValue=function(w){m=S},y.reset=function(w){M.splice(0,M.length)},y}function f(E,S){var M=1,x=E+1,m=S;function y(w){return M==x?w:(M++,m)}return y.setWindowSize=function(w){x=w+1},y.setUndefinedValue=function(w){m=S},y.reset=function(){M=0},y}function g(E,S,M){var x=[],m=[],y=E,w=M;function A(F,I){if(x.push(I),m.push(F),x.length!==0&&x[0]<=I-y)for(x.shift(),w=m.shift();x.length!==0&&x[0]<=I-y;)x.shift(),m.shift();return w}return A.setWindowSize=function(F){y=F},A.setUsualIndexSkipBetweenOccations=function(F){},A.reset=function(){x.splice(0,x.length),m.splice(0,m.length),w=M},A}function b(E){var S=-1;function M(x){return x>0&&(S=0),S>=0&&S++,S>E&&(S=-1),S>0}return M.setWindowSize=function(x){},M.reset=function(){S=-1},M}function C(E){var S=E,M=!1,x=-1;function m(y,w){return y>0&&(M=w,x=0),x>=0&&x++,M!=!1&&M<=w-S&&(x=-1),x>0}return m.setWindowSize=function(y){S=y},m.reset=function(){M=!1,x=-1},m}function T(E){var S=E,M=new Map;function x(m,y=1){var w=parseFloat((Math.round(m*S)/S).toFixed(12));return M.has(w)?M.set(w,parseFloat((M.get(w)+y).toFixed(12))):M.set(w,y),M}return x.hist=M,x.reset=function(){M.clear()},x}function L(E,S){var M=[],x=[],m=E,y=S,w=new Map;function A(F,I=1){if(M.length>=m){var Y=M.shift(),G=x.shift(),U=parseFloat((w.get(Y)-G).toFixed(12));U!==0?w.set(Y,U):w.delete(Y)}var B=parseFloat((Math.round(F*y)/y).toFixed(12));return M.push(B),x.push(I),w.has(B)?w.set(B,parseFloat((w.get(B)+I).toFixed(12))):w.set(B,I),w}return A.hist=w,A.setWindowSize=function(F){m=F},A.reset=function(){Sum=0,M.splice(0,M.length)},A}function R(E,S){var M=[],x=[],m=[],y=E,w=S,A=new Map;function F(I,Y,G=1){if(!G&&G!==0||!I&&I!==0)return A;for(;M.length!==0&&M[0]<=Y-y;){M.shift();var U=x.shift(),B=m.shift();if(!U&&U!==0&&console.log("nana1",{prevamount:B,prevpos:U}),!B&&B!==0&&console.log("nana2",{prevamount:B,prevpos:U}),A.has(U)){var H=parseFloat((A.get(U)-B).toFixed(12));!H&&H!==0&&console.log("nana3",{newamount:H,prevamount:B,prevpos:U}),H!==0?A.set(U,H):A.delete(U)}}var K=parseFloat((Math.round(I*w)/w).toFixed(12));if(x.push(K),m.push(G),M.push(Y),A.has(K)){let de=parseFloat((A.get(K)+G).toFixed(12));A.set(K,de)}else A.set(K,G);return A}return F.hist=A,F.setWindowSize=function(I){y=I},F.reset=function(){M.splice(0,M.length),x.splice(0,x.length),Sum=0},F}var k=e;function j(E,S,M,x,m){var y=[],w=function(Ne){return y.push(Ne),Ne},A=w(k.RollingAvg(E)),F=w(k.RollingAvg(E)),I=w(k.RollingAvg(E)),Y=w(k.RollingMedian(E)),G=w(k.RollingAvg(E)),U=w(k.RollingAvg(E)),B=w(k.RollingAvgIndex(M)),H=w(k.RollingAvgIndex(M)),K=w(k.RollingMedianIndex(M)),de=w(k.RollingAvgIndex(M)),J=w(k.RollingAvgIndex(M)),ie=w(k.RollingSumPerIndex(M,x)),be=w(k.Delay(S)),Ae=w(k.DelayIndex(m,x)),re=w(k.Delay(S)),Re=w(k.DelayIndex(m,x)),_e=!1,ke=0,Be=0;function nn(Ne,pe){var ae={};ae.median=Y(Ne),ae.min=Y.min(),ae.max=Y.max(),ae.q1=Y.q1(),ae.q3=Y.q3(),ae.avg=Y.avg(),ae.stdev=Math.sqrt(F(Math.pow(Ne-ae.avg,2))),ae.z=ae.stdev==0?0:(Ne-ae.avg)/ae.stdev,ae.zavg=I(ae.z),ae.mstdev=Math.sqrt(G(Math.pow(Ne-ae.median,2))),ae.mz=ae.mstdev==0?0:.6745*(Ne-ae.median)/ae.mstdev,ae.mzavg=U(ae.mz),ae.tmedian=K(Ne,pe),ae.tmin=K.min(),ae.tmax=K.max(),ae.tavg=K.avg(),ae.tcenter=K.center(),ae.tq1=K.q1(),ae.tq3=K.q3(),ae.tsum=ie(Ne,pe),ae.tstdev=Math.sqrt(H(Math.pow(Ne-ae.tavg,2),pe)),ae.tz=ae.tstdev==0?0:(Ne-ae.tavg)/ae.tstdev,ae.tzavg=B(ae.tz,pe),ae.tmstdev=Math.sqrt(J(Math.pow(Ne-ae.tmedian,2),pe)),ae.tmz=ae.tmstdev==0?0:.6745*(Ne-ae.tmedian)/ae.tmstdev,ae.tmzavg=de(ae.tmz,pe),_e===!1&&(_e=pe-x);var Tt=pe-_e;return _e=pe,ae.avgtime=A(Tt),ae.count=ke,ke++,ae.tcount=Be,Be+=Tt,ae.value_delay=be(Ne),ae.tvalue_delay=Ae(Ne,pe),ae.index_delay=re(pe),ae.tindex_delay=Re(pe,pe),ae}return nn.reset=function(){for(var Ne=0;Ne<y.length;Ne++)y[Ne].reset();_e=!1,ke=0},nn}function N(E,S){var M=k.RollingMin(E),x=k.RollingMax(E),m=k.RollingAvg(E),y=k.Delay(S);function w(A){var F={};return F.min=M(A),F.max=x(A),F.avg=m(A),F.value_delay=y(A),F}return w.reset=function(){M.reset(),x.reset(),m.reset(),y.reset()},w}function D(E){var S=k.RollingMin(E),M=k.RollingMax(E),x=k.RollingAvg(E);function m(y){var w={};return w.min=S(y),w.max=M(y),w.avg=x(y),w}return m.reset=function(){S.reset(),M.reset(),x.reset()},m}e.RollingMin=t,e.RollingMax=n,e.RollingAvg=r,e.RollingMedian=l,e.RollingMinIndex=o,e.RollingMaxIndex=i,e.RollingAvgIndex=a,e.RollingMedianIndex=c,e.RollingSumPerIndex=u,e.Delay=d,e.DelayIndex=g,e.AllStats=j,e.SimpleStats=N,e.SimpleStatsNoDelay=D,e.PositiveLately=b,e.PositiveLatelyIndex=C,e.Histogram=T,e.RollingHistogram=L,e.RollingHistogramIndex=R,e.HideFirst=f})(Ud);const Zo=[];function Bd(e,t=He){let n;const r=new Set;function o(s){if(Uo(e,s)&&(e=s,n)){const l=!Zo.length;for(const c of r)c[1](),Zo.push(c,e);if(l){for(let c=0;c<Zo.length;c+=2)Zo[c][0](Zo[c+1]);Zo.length=0}}}function i(s){o(s(e))}function a(s,l=He){const c=[s,l];return r.add(c),r.size===1&&(n=t(o,i)||He),s(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}const ig="modulepreload",ag=function(e){return"/"+e},Wd={},Xa=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=ag(a),a in Wd)return;Wd[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(l)))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":ig,s||(c.as="script",c.crossOrigin=""),c.href=a,i&&c.setAttribute("nonce",i),document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(a))))})}))}return r.then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};let De;function zd(e){De=e}const Or=new Array(128).fill(void 0);Or.push(void 0,null,!0,!1);function jn(e){return Or[e]}let ji=Or.length;function sg(e){e<132||(Or[e]=ji,ji=e)}function Za(e){const t=jn(e);return sg(e),t}function wn(e){ji===Or.length&&Or.push(Or.length+1);const t=ji;return ji=Or[t],Or[t]=e,t}const lg=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let $d=new lg("utf-8",{ignoreBOM:!0,fatal:!0});$d.decode();let Ja=null;function Ui(){return(Ja===null||Ja.byteLength===0)&&(Ja=new Uint8Array(De.memory.buffer)),Ja}function Il(e,t){return e=e>>>0,$d.decode(Ui().subarray(e,e+t))}let Jo=0;function Hd(e,t){const n=t(e.length*1,1)>>>0;return Ui().set(e,n/1),Jo=e.length,n}function cg(e){return e==null}let Ka=null;function Qa(){return(Ka===null||Ka.byteLength===0)&&(Ka=new Int32Array(De.memory.buffer)),Ka}let es=null;function ug(){return(es===null||es.byteLength===0)&&(es=new Uint32Array(De.memory.buffer)),es}function dg(e,t){e=e>>>0;const n=ug().subarray(e/4,e/4+t),r=[];for(let o=0;o<n.length;o++)r.push(Za(n[o]));return r}function hg(){De.greet()}function fg(){De.main()}function Vd(e,t,n){const r=De.firdes_kaiser_lowpass(e,t,n);return Za(r)}const pg=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let ts=new pg("utf-8");const mg=typeof ts.encodeInto=="function"?function(e,t){return ts.encodeInto(e,t)}:function(e,t){const n=ts.encode(e);return t.set(n),{read:e.length,written:n.length}};function gg(e,t,n){if(n===void 0){const s=ts.encode(e),l=t(s.length,1)>>>0;return Ui().subarray(l,l+s.length).set(s),Jo=s.length,l}let r=e.length,o=t(r,1)>>>0;const i=Ui();let a=0;for(;a<r;a++){const s=e.charCodeAt(a);if(s>127)break;i[o+a]=s}if(a!==r){a!==0&&(e=e.slice(a)),o=n(o,r,r=a+e.length*3,1)>>>0;const s=Ui().subarray(o+a,o+r),l=mg(e,s);a+=l.written,o=n(o,r,a,1)>>>0}return Jo=a,o}function yg(e,t){try{return e.apply(this,t)}catch(n){De.__wbindgen_exn_store(wn(n))}}const Rl=Object.freeze({Flac:0,0:"Flac",Opus:1,1:"Opus"}),vg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>De.__wbg_audio_free(e>>>0));class Pl{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,vg.unregister(this),t}free(){const t=this.__destroy_into_raw();De.__wbg_audio_free(t)}constructor(t,n,r,o){const i=De.audio_new(t,n,r,o);return this.__wbg_ptr=i>>>0,this}decode(t){const n=Hd(t,De.__wbindgen_malloc),r=Jo,o=De.audio_decode(this.__wbg_ptr,n,r);return Za(o)}set_nr(t){De.audio_set_nr(this.__wbg_ptr,t)}set_nb(t){De.audio_set_nb(this.__wbg_ptr,t)}set_an(t){De.audio_set_an(this.__wbg_ptr,t)}set_decoded_callback(t){De.audio_set_decoded_callback(this.__wbg_ptr,cg(t)?0:wn(t))}}const Yd=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>De.__wbg_foxenflacdecoder_free(e>>>0));class ns{static __wrap(t){t=t>>>0;const n=Object.create(ns.prototype);return n.__wbg_ptr=t,Yd.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Yd.unregister(this),t}free(){const t=this.__destroy_into_raw();De.__wbg_foxenflacdecoder_free(t)}static new(){const t=De.foxenflacdecoder_new();return ns.__wrap(t)}}const bg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>De.__wbg_zstdstreamdecoder_free(e>>>0));class Gd{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,bg.unregister(this),t}free(){const t=this.__destroy_into_raw();De.__wbg_zstdstreamdecoder_free(t)}constructor(){const t=De.zstdstreamdecoder_new();return this.__wbg_ptr=t>>>0,this}clear(){De.zstdstreamdecoder_clear(this.__wbg_ptr)}decode(t){try{const i=De.__wbindgen_add_to_stack_pointer(-16),a=Hd(t,De.__wbindgen_malloc),s=Jo;De.zstdstreamdecoder_decode(i,this.__wbg_ptr,a,s);var n=Qa()[i/4+0],r=Qa()[i/4+1],o=dg(n,r).slice();return De.__wbindgen_free(n,r*4,4),o}finally{De.__wbindgen_add_to_stack_pointer(16)}}}Ku=function(e){Za(e)},Qu=function(e){const t=jn(e);return wn(t)},ed=function(e,t){alert(Il(e,t))},td=function(){const e=new Error;return wn(e)},nd=function(e,t){const n=jn(t).stack,r=gg(n,De.__wbindgen_malloc,De.__wbindgen_realloc),o=Jo;Qa()[e/4+1]=o,Qa()[e/4+0]=r},rd=function(e,t){let n,r;try{n=e,r=t,console.error(Il(e,t))}finally{De.__wbindgen_free(n,r,1)}},od=function(){return yg(function(e,t,n){const r=jn(e).call(jn(t),jn(n));return wn(r)},arguments)},id=function(e){const t=jn(e).buffer;return wn(t)},ad=function(e,t,n){const r=new Uint8Array(jn(e),t>>>0,n>>>0);return wn(r)},sd=function(e){const t=new Uint8Array(jn(e));return wn(t)},ld=function(e,t,n){const r=new Float32Array(jn(e),t>>>0,n>>>0);return wn(r)},cd=function(e){const t=new Float32Array(jn(e));return wn(t)},ud=function(e){const t=new Float32Array(e>>>0);return wn(t)},dd=function(e,t){throw new Error(Il(e,t))},hd=function(){const e=De.memory;return wn(e)},km=Object.freeze(Object.defineProperty({__proto__:null,Audio:Pl,AudioCodec:Rl,FoxenFlacDecoder:ns,ZstdStreamDecoder:Gd,__wbg_alert_379870a8a3d45260:ed,__wbg_buffer_12d079cc21e14bdb:id,__wbg_call_b3ca7c6051f9bec1:od,__wbg_error_f851667af71bcfc6:rd,__wbg_new_63b92bc8671ed464:sd,__wbg_new_9efabd6b6d2ce46d:cd,__wbg_new_abda76e883ba8a5f:td,__wbg_newwithbyteoffsetandlength_4a659d079a1650e0:ld,__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb:ad,__wbg_newwithlength_1e8b839a06de01c5:ud,__wbg_set_wasm:zd,__wbg_stack_658279fe44541cf6:nd,__wbindgen_memory:hd,__wbindgen_object_clone_ref:Qu,__wbindgen_object_drop_ref:Ku,__wbindgen_throw:dd,firdes_kaiser_lowpass:Vd,greet:hg,main:fg},Symbol.toStringTag,{value:"Module"}));let Dl;try{Dl=new TextDecoder}catch(e){}let ue,go,X=0;const wg=105,xg=57342,_g=57343,Xd=57337,Zd=6,Ko={};let Bi=11281e4,Ir=1681e4,Ee={},et,rs,os=0,Wi=0,mt,xn,at=[],Nl=[],Qt,Wt,zi,Jd={useRecords:!1,mapsAsObjects:!0},$i=!1,Kd=2;try{new Function("")}catch(e){Kd=1/0}let Qd=class fd{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,o]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,o);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,o]of Object.entries(this._keyMap))this._mapKey.set(o,r)}let n={};return t.forEach((r,o)=>n[_n(this._mapKey.has(o)?this._mapKey.get(o):o)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(o=>this.decodeKeys(o))}return r}decode(t,n){if(ue)return ih(()=>(Bl(),this?this.decode(t,n):fd.prototype.decode.call(Jd,t,n)));go=n>-1?n:t.length,X=0,Wi=0,rs=null,mt=null,ue=t;try{Wt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ue=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof fd){if(Ee=this,Qt=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return et=this.structures,is();(!et||et.length>0)&&(et=[])}else Ee=Jd,(!et||et.length>0)&&(et=[]),Qt=null;return is()}decodeMultiple(t,n){let r,o=0;try{let i=t.length;$i=!0;let a=this?this.decode(t,i):zl.decode(t,i);if(n){if(n(a)===!1)return;for(;X<i;)if(o=X,n(is())===!1)return}else{for(r=[a];X<i;)o=X,r.push(is());return r}}catch(i){throw i.lastPosition=o,i.values=r,i}finally{$i=!1,Bl()}}};function is(){try{let e=Oe();if(mt){if(X>=mt.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}X=mt.postBundlePosition,mt=null}if(X==go)et=null,ue=null,xn&&(xn=null);else if(X>go){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!$i)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Bl(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function Oe(){let e=ue[X++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=ue[X++];break;case 25:if(t==7)return Ag();e=Wt.getUint16(X),X+=2;break;case 26:if(t==7){let n=Wt.getFloat32(X);if(Ee.useFloat32>2){let r=Wl[(ue[X]&127)<<1|ue[X+1]>>7];return X+=4,(r*n+(n>0?.5:-.5)>>0)/r}return X+=4,n}e=Wt.getUint32(X),X+=4;break;case 27:if(t==7){let n=Wt.getFloat64(X);return X+=8,n}if(t>1){if(Wt.getUint32(X)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=Wt.getUint32(X+4)}else Ee.int64AsNumber?(e=Wt.getUint32(X)*4294967296,e+=Wt.getUint32(X+4)):e=Wt.getBigUint64(X);X+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,o=0;for(;(r=Oe())!=Ko;){if(o>=Bi)throw new Error("Array length exceeds ".concat(Bi));n[o++]=r}return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let i;if(Ee.mapsAsObjects){let a={},s=0;if(Ee.keyMap)for(;(i=Oe())!=Ko;){if(s++>=Ir)throw new Error("Property count exceeds ".concat(Ir));a[_n(Ee.decodeKey(i))]=Oe()}else for(;(i=Oe())!=Ko;){if(s++>=Ir)throw new Error("Property count exceeds ".concat(Ir));a[_n(i)]=Oe()}return a}else{zi&&(Ee.mapsAsObjects=!0,zi=!1);let a=new Map;if(Ee.keyMap){let s=0;for(;(i=Oe())!=Ko;){if(s++>=Ir)throw new Error("Map size exceeds ".concat(Ir));a.set(Ee.decodeKey(i),Oe())}}else{let s=0;for(;(i=Oe())!=Ko;){if(s++>=Ir)throw new Error("Map size exceeds ".concat(Ir));a.set(i,Oe())}}return a}case 7:return Ko;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return Mg(e);case 3:if(Wi>=X)return rs.slice(X-os,(X+=e)-os);if(Wi==0&&go<140&&e<32){let o=e<16?th(e):Cg(e);if(o!=null)return o}return Sg(e);case 4:if(e>=Bi)throw new Error("Array length exceeds ".concat(Bi));let n=new Array(e);for(let o=0;o<e;o++)n[o]=Oe();return n;case 5:if(e>=Ir)throw new Error("Map size exceeds ".concat(Bi));if(Ee.mapsAsObjects){let o={};if(Ee.keyMap)for(let i=0;i<e;i++)o[_n(Ee.decodeKey(Oe()))]=Oe();else for(let i=0;i<e;i++)o[_n(Oe())]=Oe();return o}else{zi&&(Ee.mapsAsObjects=!0,zi=!1);let o=new Map;if(Ee.keyMap)for(let i=0;i<e;i++)o.set(Ee.decodeKey(Oe()),Oe());else for(let i=0;i<e;i++)o.set(Oe(),Oe());return o}case 6:if(e>=Xd){let o=et[e&8191];if(o)return o.read||(o.read=Ll(o)),o.read();if(e<65536){if(e==_g){let i=ei(),a=Oe(),s=Oe();jl(a,s);let l={};if(Ee.keyMap)for(let c=2;c<i;c++){let u=Ee.decodeKey(s[c-2]);l[_n(u)]=Oe()}else for(let c=2;c<i;c++){let u=s[c-2];l[_n(u)]=Oe()}return l}else if(e==xg){let i=ei(),a=Oe();for(let s=2;s<i;s++)jl(a++,Oe());return Oe()}else if(e==Xd)return Ig();if(Ee.getShared&&(Ul(),o=et[e&8191],o))return o.read||(o.read=Ll(o)),o.read()}}let r=at[e];if(r)return r.handlesRead?r(Oe):r(Oe());{let o=Oe();for(let i=0;i<Nl.length;i++){let a=Nl[i](e,o);if(a!==void 0)return a}return new yo(o,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let o=(Qt||vo())[e];if(o!==void 0)return o;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let o=new Error("Unexpected end of CBOR data");throw o.incomplete=!0,o}throw new Error("Unknown CBOR token "+e)}}const eh=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ll(e){if(!e)throw new Error("Structure is required in record definition");function t(){let n=ue[X++];if(n=n&31,n>23)switch(n){case 24:n=ue[X++];break;case 25:n=Wt.getUint16(X),X+=2;break;case 26:n=Wt.getUint32(X),X+=4;break;default:throw new Error("Expected array header, but got "+ue[X-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(Oe);r=r.next}if(this.slowReads++>=Kd){let i=this.length==n?this:this.slice(0,n);return r=Ee.keyMap?new Function("r","return {"+i.map(a=>Ee.decodeKey(a)).map(a=>eh.test(a)?_n(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(a=>eh.test(a)?_n(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(Oe)}let o={};if(Ee.keyMap)for(let i=0;i<n;i++)o[_n(Ee.decodeKey(this[i]))]=Oe();else for(let i=0;i<n;i++)o[_n(this[i])]=Oe();return o}return e.slowReads=0,t}function _n(e){if(typeof e=="string")return e==="__proto__"?"__proto_":e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";throw new Error("Invalid property name type "+typeof e)}let Sg=ql;function ql(e){let t;if(e<16&&(t=th(e)))return t;if(e>64&&Dl)return Dl.decode(ue.subarray(X,X+=e));const n=X+e,r=[];for(t="";X<n;){const o=ue[X++];if(!(o&128))r.push(o);else if((o&224)===192){const i=ue[X++]&63;r.push((o&31)<<6|i)}else if((o&240)===224){const i=ue[X++]&63,a=ue[X++]&63;r.push((o&31)<<12|i<<6|a)}else if((o&248)===240){const i=ue[X++]&63,a=ue[X++]&63,s=ue[X++]&63;let l=(o&7)<<18|i<<12|a<<6|s;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(o);r.length>=4096&&(t+=wt.apply(String,r),r.length=0)}return r.length>0&&(t+=wt.apply(String,r)),t}let wt=String.fromCharCode;function Cg(e){let t=X,n=new Array(e);for(let r=0;r<e;r++){const o=ue[X++];if((o&128)>0){X=t;return}n[r]=o}return wt.apply(String,n)}function th(e){if(e<4)if(e<2){if(e===0)return"";{let t=ue[X++];if((t&128)>1){X-=1;return}return wt(t)}}else{let t=ue[X++],n=ue[X++];if((t&128)>0||(n&128)>0){X-=2;return}if(e<3)return wt(t,n);let r=ue[X++];if((r&128)>0){X-=3;return}return wt(t,n,r)}else{let t=ue[X++],n=ue[X++],r=ue[X++],o=ue[X++];if((t&128)>0||(n&128)>0||(r&128)>0||(o&128)>0){X-=4;return}if(e<6){if(e===4)return wt(t,n,r,o);{let i=ue[X++];if((i&128)>0){X-=5;return}return wt(t,n,r,o,i)}}else if(e<8){let i=ue[X++],a=ue[X++];if((i&128)>0||(a&128)>0){X-=6;return}if(e<7)return wt(t,n,r,o,i,a);let s=ue[X++];if((s&128)>0){X-=7;return}return wt(t,n,r,o,i,a,s)}else{let i=ue[X++],a=ue[X++],s=ue[X++],l=ue[X++];if((i&128)>0||(a&128)>0||(s&128)>0||(l&128)>0){X-=8;return}if(e<10){if(e===8)return wt(t,n,r,o,i,a,s,l);{let c=ue[X++];if((c&128)>0){X-=9;return}return wt(t,n,r,o,i,a,s,l,c)}}else if(e<12){let c=ue[X++],u=ue[X++];if((c&128)>0||(u&128)>0){X-=10;return}if(e<11)return wt(t,n,r,o,i,a,s,l,c,u);let d=ue[X++];if((d&128)>0){X-=11;return}return wt(t,n,r,o,i,a,s,l,c,u,d)}else{let c=ue[X++],u=ue[X++],d=ue[X++],f=ue[X++];if((c&128)>0||(u&128)>0||(d&128)>0||(f&128)>0){X-=12;return}if(e<14){if(e===12)return wt(t,n,r,o,i,a,s,l,c,u,d,f);{let g=ue[X++];if((g&128)>0){X-=13;return}return wt(t,n,r,o,i,a,s,l,c,u,d,f,g)}}else{let g=ue[X++],b=ue[X++];if((g&128)>0||(b&128)>0){X-=14;return}if(e<15)return wt(t,n,r,o,i,a,s,l,c,u,d,f,g,b);let C=ue[X++];if((C&128)>0){X-=15;return}return wt(t,n,r,o,i,a,s,l,c,u,d,f,g,b,C)}}}}}function Mg(e){return Ee.copyBuffers?Uint8Array.prototype.slice.call(ue,X,X+=e):ue.subarray(X,X+=e)}let nh=new Float32Array(1),as=new Uint8Array(nh.buffer,0,4);function Ag(){let e=ue[X++],t=ue[X++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return as[3]=e&128|(n>>1)+56,as[2]=(e&7)<<5|t>>3,as[1]=t<<5,as[0]=0,nh[0]}new Array(4096);class yo{constructor(t,n){this.value=t,this.tag=n}}at[0]=e=>new Date(e),at[1]=e=>new Date(Math.round(e*1e3)),at[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+(t<<BigInt(8));return t},at[3]=e=>BigInt(-1)-at[2](e),at[4]=e=>+(e[1]+"e"+e[0]),at[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const jl=(e,t)=>{e=e-57344;let n=et[e];n&&n.isShared&&((et.restoreStructures||(et.restoreStructures=[]))[e]=n),et[e]=t,t.read=Ll(t)};at[wg]=e=>{let t=e.length,n=e[1];jl(e[0],n);let r={};for(let o=2;o<t;o++){let i=n[o-2];r[_n(i)]=e[o]}return r},at[14]=e=>mt?mt[0].slice(mt.position0,mt.position0+=e):new yo(e,14),at[15]=e=>mt?mt[1].slice(mt.position1,mt.position1+=e):new yo(e,15);let Eg={Error,RegExp};at[27]=e=>(Eg[e[0]]||Error)(e[1],e[2]);const rh=e=>{if(ue[X++]!=132){let n=new Error("Packed values structure must be followed by a 4 element array");throw ue.length<X&&(n.incomplete=!0),n}let t=e();if(!t||!t.length){let n=new Error("Packed values structure must be followed by a 4 element array");throw n.incomplete=!0,n}return Qt=Qt?t.concat(Qt.slice(t.length)):t,Qt.prefixes=e(),Qt.suffixes=e(),e()};rh.handlesRead=!0,at[51]=rh,at[Zd]=e=>{if(!Qt)if(Ee.getShared)Ul();else return new yo(e,Zd);if(typeof e=="number")return Qt[16+(e>=0?2*e:-2*e-1)];let t=new Error("No support for non-integer packed references yet");throw e===void 0&&(t.incomplete=!0),t},at[28]=e=>{xn||(xn=new Map,xn.id=0);let t=xn.id++,n=X,r=ue[X],o;r>>5==4?o=[]:o={};let i={target:o};xn.set(t,i);let a=e();return i.used?(Object.getPrototypeOf(o)!==Object.getPrototypeOf(a)&&(X=n,o=a,xn.set(t,{target:o}),a=e()),Object.assign(o,a)):(i.target=a,a)},at[28].handlesRead=!0,at[29]=e=>{let t=xn.get(e);return t.used=!0,t.target},at[258]=e=>new Set(e),(at[259]=e=>(Ee.mapsAsObjects&&(Ee.mapsAsObjects=!1,zi=!0),e())).handlesRead=!0;function Qo(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function vo(){if(!Qt)if(Ee.getShared)Ul();else throw new Error("No packed values available");return Qt}const Tg=1399353956;Nl.push((e,t)=>{if(e>=225&&e<=255)return Qo(vo().prefixes[e-224],t);if(e>=28704&&e<=32767)return Qo(vo().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return Qo(vo().prefixes[e-1879048192],t);if(e>=216&&e<=223)return Qo(t,vo().suffixes[e-216]);if(e>=27647&&e<=28671)return Qo(t,vo().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return Qo(t,vo().suffixes[e-1811939328]);if(e==Tg)return{packedValues:Qt,structures:et.slice(0),version:t};if(e==55799)return t});const kg=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,oh=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Fg=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<oh.length;e++)Og(oh[e],Fg[e]);function Og(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let o=0;o<2;o++){if(!o&&r==1)continue;let i=r==2?1:r==4?2:r==8?3:0;at[o?t:t-4]=r==1||o==kg?a=>{if(!e)throw new Error("Could not find typed array for code "+t);return!Ee.copyBuffers&&(r===1||r===2&&!(a.byteOffset&1)||r===4&&!(a.byteOffset&3)||r===8&&!(a.byteOffset&7))?new e(a.buffer,a.byteOffset,a.byteLength>>i):new e(Uint8Array.prototype.slice.call(a,0).buffer)}:a=>{if(!e)throw new Error("Could not find typed array for code "+t);let s=new DataView(a.buffer,a.byteOffset,a.byteLength),l=a.length>>i,c=new e(l),u=s[n];for(let d=0;d<l;d++)c[d]=u.call(s,d<<i,o);return c}}}function Ig(){let e=ei(),t=X+Oe();for(let r=2;r<e;r++){let o=ei();X+=o}let n=X;return X=t,mt=[ql(ei()),ql(ei())],mt.position0=0,mt.position1=0,mt.postBundlePosition=X,X=n,Oe()}function ei(){let e=ue[X++]&31;if(e>23)switch(e){case 24:e=ue[X++];break;case 25:e=Wt.getUint16(X),X+=2;break;case 26:e=Wt.getUint32(X),X+=4;break}return e}function Ul(){if(Ee.getShared){let e=ih(()=>(ue=null,Ee.getShared()))||{},t=e.structures||[];Ee.sharedVersion=e.version,Qt=Ee.sharedValues=e.packedValues,et===!0?Ee.structures=et=t:et.splice.apply(et,[0,t.length].concat(t))}}function ih(e){let t=go,n=X,r=os,o=Wi,i=rs,a=xn,s=mt,l=new Uint8Array(ue.slice(0,go)),c=et,u=Ee,d=$i,f=e();return go=t,X=n,os=r,Wi=o,rs=i,xn=a,mt=s,ue=l,$i=d,et=c,Ee=u,Wt=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),f}function Bl(){ue=null,xn=null,et=null}const Wl=new Array(147);for(let e=0;e<256;e++)Wl[e]=+("1e"+Math.floor(45.15-e*.30103));let zl=new Qd({useRecords:!1});const ah=zl.decode;zl.decodeMultiple;let ss;try{ss=new TextEncoder}catch(e){}let $l,sh;const ls=typeof globalThis=="object"&&globalThis.Buffer,Hi=typeof ls<"u",Hl=Hi?ls.allocUnsafeSlow:Uint8Array,lh=Hi?ls:Uint8Array,ch=256,uh=Hi?4294967296:2144337920;let Vl,z,Ye,P=0,Gr,gt=null;const Rg=61440,Pg=/[\u0080-\uFFFF]/,un=Symbol("record-id");let Dg=class extends Qd{constructor(e){super(e),this.offset=0;let t,n,r,o,i;e=e||{};let a=lh.prototype.utf8Write?function(y,w,A){return z.utf8Write(y,w,A)}:ss&&ss.encodeInto?function(y,w){return ss.encodeInto(y,z.subarray(w)).written}:!1,s=this,l=e.structures||e.saveStructures,c=e.maxSharedStructures;if(c==null&&(c=l?128:0),c>8190)throw new Error("Maximum maxSharedStructure is 8190");let u=e.sequential;u&&(c=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let d,f,g=e.sharedValues,b;if(g){b=Object.create(null);for(let y=0,w=g.length;y<w;y++)b[g[y]]=y}let C=[],T=0,L=0;this.mapEncode=function(y,w){if(this._keyMap&&!this._mapped)switch(y.constructor.name){case"Array":y=y.map(A=>this.encodeKeys(A));break}return this.encode(y,w)},this.encode=function(y,w){if(z||(z=new Hl(8192),Ye=new DataView(z.buffer,0,8192),P=0),Gr=z.length-10,Gr-P<2048?(z=new Hl(z.length),Ye=new DataView(z.buffer,0,z.length),Gr=z.length-10,P=0):w===ph&&(P=P+7&2147483640),t=P,s.useSelfDescribedHeader&&(Ye.setUint32(P,3654940416),P+=3),i=s.structuredClone?new Map:null,s.bundleStrings&&typeof y!="string"?(gt=[],gt.size=1/0):gt=null,n=s.structures,n){if(n.uninitialized){let F=s.getShared()||{};s.structures=n=F.structures||[],s.sharedVersion=F.version;let I=s.sharedValues=F.packedValues;if(I){b={};for(let Y=0,G=I.length;Y<G;Y++)b[I[Y]]=Y}}let A=n.length;if(A>c&&!u&&(A=c),!n.transitions){n.transitions=Object.create(null);for(let F=0;F<A;F++){let I=n[F];if(!I)continue;let Y,G=n.transitions;for(let U=0,B=I.length;U<B;U++){G[un]===void 0&&(G[un]=F);let H=I[U];Y=G[H],Y||(Y=G[H]=Object.create(null)),G=Y}G[un]=F|1048576}}u||(n.nextId=A)}if(r&&(r=!1),o=n||[],f=b,e.pack){let A=new Map;if(A.values=[],A.encoder=s,A.maxValues=e.maxPrivatePackedValues||(b?16:1/0),A.objectMap=b||!1,A.samplingPackedValues=d,cs(y,A),A.values.length>0){z[P++]=216,z[P++]=51,ar(4);let F=A.values;R(F),ar(0),ar(0),f=Object.create(b||null);for(let I=0,Y=F.length;I<Y;I++)f[F[I]]=I}}Vl=w&Zl;try{if(Vl)return;if(R(y),gt&&fh(t,R),s.offset=P,i&&i.idsToInsert){P+=i.idsToInsert.length*2,P>Gr&&j(P),s.offset=P;let A=qg(z.subarray(t,P),i.idsToInsert);return i=null,A}return w&ph?(z.start=t,z.end=P,z):z.subarray(t,P)}finally{if(n){if(L<10&&L++,n.length>c&&(n.length=c),T>1e4)n.transitions=null,L=0,T=0,C.length>0&&(C=[]);else if(C.length>0&&!u){for(let A=0,F=C.length;A<F;A++)C[A][un]=void 0;C=[]}}if(r&&s.saveShared){s.structures.length>c&&(s.structures=s.structures.slice(0,c));let A=z.subarray(t,P);return s.updateSharedData()===!1?s.encode(y):A}w&jg&&(P=t)}},this.findCommonStringsToPack=()=>(d=new Map,b||(b=Object.create(null)),y=>{let w=y&&y.threshold||4,A=this.pack?y.maxPrivatePackedValues||16:0;g||(g=this.sharedValues=[]);for(let[F,I]of d)I.count>w&&(b[F]=A++,g.push(F),r=!0);for(;this.saveShared&&this.updateSharedData()===!1;);d=null});const R=y=>{P>Gr&&(z=j(P));var w=typeof y,A;if(w==="string"){if(f){let G=f[y];if(G>=0){G<16?z[P++]=G+224:(z[P++]=198,G&1?R(15-G>>1):R(G-16>>1));return}else if(d&&!e.pack){let U=d.get(y);U?U.count++:d.set(y,{count:1})}}let F=y.length;if(gt&&F>=4&&F<1024){if((gt.size+=F)>Rg){let U,B=(gt[0]?gt[0].length*3+gt[1].length:0)+10;P+B>Gr&&(z=j(P+B)),z[P++]=217,z[P++]=223,z[P++]=249,z[P++]=gt.position?132:130,z[P++]=26,U=P-t,P+=4,gt.position&&fh(t,R),gt=["",""],gt.size=0,gt.position=U}let G=Pg.test(y);gt[G?0:1]+=y,z[P++]=G?206:207,R(F);return}let I;F<32?I=1:F<256?I=2:F<65536?I=3:I=5;let Y=F*3;if(P+Y>Gr&&(z=j(P+Y)),F<64||!a){let G,U,B,H=P+I;for(G=0;G<F;G++)U=y.charCodeAt(G),U<128?z[H++]=U:U<2048?(z[H++]=U>>6|192,z[H++]=U&63|128):(U&64512)===55296&&((B=y.charCodeAt(G+1))&64512)===56320?(U=65536+((U&1023)<<10)+(B&1023),G++,z[H++]=U>>18|240,z[H++]=U>>12&63|128,z[H++]=U>>6&63|128,z[H++]=U&63|128):(z[H++]=U>>12|224,z[H++]=U>>6&63|128,z[H++]=U&63|128);A=H-P-I}else A=a(y,P+I,Y);A<24?z[P++]=96|A:A<256?(I<2&&z.copyWithin(P+2,P+1,P+1+A),z[P++]=120,z[P++]=A):A<65536?(I<3&&z.copyWithin(P+3,P+2,P+2+A),z[P++]=121,z[P++]=A>>8,z[P++]=A&255):(I<5&&z.copyWithin(P+5,P+3,P+3+A),z[P++]=122,Ye.setUint32(P,A),P+=4),P+=A}else if(w==="number")if(!this.alwaysUseFloat&&y>>>0===y)y<24?z[P++]=y:y<256?(z[P++]=24,z[P++]=y):y<65536?(z[P++]=25,z[P++]=y>>8,z[P++]=y&255):(z[P++]=26,Ye.setUint32(P,y),P+=4);else if(!this.alwaysUseFloat&&y>>0===y)y>=-24?z[P++]=31-y:y>=-256?(z[P++]=56,z[P++]=~y):y>=-65536?(z[P++]=57,Ye.setUint16(P,~y),P+=2):(z[P++]=58,Ye.setUint32(P,~y),P+=4);else{let F;if((F=this.useFloat32)>0&&y<4294967296&&y>=-2147483648){z[P++]=250,Ye.setFloat32(P,y);let I;if(F<4||(I=y*Wl[(z[P]&127)<<1|z[P+1]>>7])>>0===I){P+=4;return}else P--}z[P++]=251,Ye.setFloat64(P,y),P+=8}else if(w==="object")if(!y)z[P++]=246;else{if(i){let I=i.get(y);if(I){if(z[P++]=216,z[P++]=29,z[P++]=25,!I.references){let Y=i.idsToInsert||(i.idsToInsert=[]);I.references=[],Y.push(I)}I.references.push(P-t),P+=2;return}else i.set(y,{offset:P-t})}let F=y.constructor;if(F===Object)k(y);else if(F===Array){A=y.length,A<24?z[P++]=128|A:ar(A);for(let I=0;I<A;I++)R(y[I])}else if(F===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(z[P++]=217,z[P++]=1,z[P++]=3),A=y.size,A<24?z[P++]=160|A:A<256?(z[P++]=184,z[P++]=A):A<65536?(z[P++]=185,z[P++]=A>>8,z[P++]=A&255):(z[P++]=186,Ye.setUint32(P,A),P+=4),s.keyMap)for(let[I,Y]of y)R(s.encodeKey(I)),R(Y);else for(let[I,Y]of y)R(I),R(Y);else{for(let I=0,Y=$l.length;I<Y;I++){let G=sh[I];if(y instanceof G){let U=$l[I],B=U.tag;B==null&&(B=U.getTag&&U.getTag.call(this,y)),B<24?z[P++]=192|B:B<256?(z[P++]=216,z[P++]=B):B<65536?(z[P++]=217,z[P++]=B>>8,z[P++]=B&255):B>-1&&(z[P++]=218,Ye.setUint32(P,B),P+=4),U.encode.call(this,y,R,j);return}}if(y[Symbol.iterator]){if(Vl){let I=new Error("Iterable should be serialized as iterator");throw I.iteratorNotHandled=!0,I}z[P++]=159;for(let I of y)R(I);z[P++]=255;return}if(y[Symbol.asyncIterator]||Yl(y)){let I=new Error("Iterable/blob should be serialized as iterator");throw I.iteratorNotHandled=!0,I}if(this.useToJSON&&y.toJSON){const I=y.toJSON();if(I!==y)return R(I)}k(y)}}else if(w==="boolean")z[P++]=y?245:244;else if(w==="bigint"){if(y<BigInt(1)<<BigInt(64)&&y>=0)z[P++]=27,Ye.setBigUint64(P,y);else if(y>-(BigInt(1)<<BigInt(64))&&y<0)z[P++]=59,Ye.setBigUint64(P,-y-BigInt(1));else if(this.largeBigIntToFloat)z[P++]=251,Ye.setFloat64(P,Number(y));else{y>=BigInt(0)?z[P++]=194:(z[P++]=195,y=BigInt(-1)-y);let F=[];for(;y;)F.push(Number(y&BigInt(255))),y>>=BigInt(8);Gl(new Uint8Array(F.reverse()),j);return}P+=8}else if(w==="undefined")z[P++]=247;else throw new Error("Unknown type: "+w)},k=this.useRecords===!1?this.variableMapSize?y=>{let w=Object.keys(y),A=Object.values(y),F=w.length;if(F<24?z[P++]=160|F:F<256?(z[P++]=184,z[P++]=F):F<65536?(z[P++]=185,z[P++]=F>>8,z[P++]=F&255):(z[P++]=186,Ye.setUint32(P,F),P+=4),s.keyMap)for(let I=0;I<F;I++)R(s.encodeKey(w[I])),R(A[I]);else for(let I=0;I<F;I++)R(w[I]),R(A[I])}:y=>{z[P++]=185;let w=P-t;P+=2;let A=0;if(s.keyMap)for(let F in y)(typeof y.hasOwnProperty!="function"||y.hasOwnProperty(F))&&(R(s.encodeKey(F)),R(y[F]),A++);else for(let F in y)(typeof y.hasOwnProperty!="function"||y.hasOwnProperty(F))&&(R(F),R(y[F]),A++);z[w+++t]=A>>8,z[w+t]=A&255}:(y,w)=>{let A,F=o.transitions||(o.transitions=Object.create(null)),I=0,Y=0,G,U;if(this.keyMap){U=Object.keys(y).map(H=>this.encodeKey(H)),Y=U.length;for(let H=0;H<Y;H++){let K=U[H];A=F[K],A||(A=F[K]=Object.create(null),I++),F=A}}else for(let H in y)(typeof y.hasOwnProperty!="function"||y.hasOwnProperty(H))&&(A=F[H],A||(F[un]&1048576&&(G=F[un]&65535),A=F[H]=Object.create(null),I++),F=A,Y++);let B=F[un];if(B!==void 0)B&=65535,z[P++]=217,z[P++]=B>>8|224,z[P++]=B&255;else if(U||(U=F.__keys__||(F.__keys__=Object.keys(y))),G===void 0?(B=o.nextId++,B||(B=0,o.nextId=1),B>=ch&&(o.nextId=(B=c)+1)):B=G,o[B]=U,B<c){z[P++]=217,z[P++]=B>>8|224,z[P++]=B&255,F=o.transitions;for(let H=0;H<Y;H++)(F[un]===void 0||F[un]&1048576)&&(F[un]=B),F=F[U[H]];F[un]=B|1048576,r=!0}else{if(F[un]=B,Ye.setUint32(P,3655335680),P+=3,I&&(T+=L*I),C.length>=ch-c&&(C.shift()[un]=void 0),C.push(F),ar(Y+2),R(57344+B),R(U),w)return;for(let H in y)(typeof y.hasOwnProperty!="function"||y.hasOwnProperty(H))&&R(y[H]);return}if(Y<24?z[P++]=128|Y:ar(Y),!w)for(let H in y)(typeof y.hasOwnProperty!="function"||y.hasOwnProperty(H))&&R(y[H])},j=y=>{let w;if(y>16777216){if(y-t>uh)throw new Error("Encoded buffer would be larger than maximum buffer size");w=Math.min(uh,Math.round(Math.max((y-t)*(y>67108864?1.25:2),4194304)/4096)*4096)}else w=(Math.max(y-t<<2,z.length-1)>>12)+1<<12;let A=new Hl(w);return Ye=new DataView(A.buffer,0,w),z.copy?z.copy(A,0,t,y):A.set(z.slice(t,y)),P-=t,t=0,Gr=A.length-10,z=A};let N=100,D=1e3;this.encodeAsIterable=function(y,w){return x(y,w,E)},this.encodeAsAsyncIterable=function(y,w){return x(y,w,m)};function*E(y,w,A){let F=y.constructor;if(F===Object){let I=s.useRecords!==!1;I?k(y,!0):dh(Object.keys(y).length,160);for(let Y in y){let G=y[Y];I||R(Y),G&&typeof G=="object"?w[Y]?yield*E(G,w[Y]):yield*S(G,w,Y):R(G)}}else if(F===Array){let I=y.length;ar(I);for(let Y=0;Y<I;Y++){let G=y[Y];G&&(typeof G=="object"||P-t>N)?w.element?yield*E(G,w.element):yield*S(G,w,"element"):R(G)}}else if(y[Symbol.iterator]&&!y.buffer){z[P++]=159;for(let I of y)I&&(typeof I=="object"||P-t>N)?w.element?yield*E(I,w.element):yield*S(I,w,"element"):R(I);z[P++]=255}else Yl(y)?(dh(y.size,64),yield z.subarray(t,P),yield y,M()):y[Symbol.asyncIterator]?(z[P++]=159,yield z.subarray(t,P),yield y,M(),z[P++]=255):R(y);A&&P>t?yield z.subarray(t,P):P-t>N&&(yield z.subarray(t,P),M())}function*S(y,w,A){let F=P-t;try{R(y),P-t>N&&(yield z.subarray(t,P),M())}catch(I){if(I.iteratorNotHandled)w[A]={},P=t+F,yield*E.call(this,y,w[A]);else throw I}}function M(){N=D,s.encode(null,Zl)}function x(y,w,A){return w&&w.chunkThreshold?N=D=w.chunkThreshold:N=100,y&&typeof y=="object"?(s.encode(null,Zl),A(y,s.iterateProperties||(s.iterateProperties={}),!0)):[s.encode(y)]}async function*m(y,w){for(let A of E(y,w,!0)){let F=A.constructor;if(F===lh||F===Uint8Array)yield A;else if(Yl(A)){let I=A.stream().getReader(),Y;for(;!(Y=await I.read()).done;)yield Y.value}else if(A[Symbol.asyncIterator])for await(let I of A)M(),I?yield*m(I,w.async||(w.async={})):yield s.encode(I);else yield A}}}useBuffer(e){z=e,Ye=new DataView(z.buffer,z.byteOffset,z.byteLength),P=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let t=this.structures.slice(0),n=new hh(t,this.sharedValues,this.sharedVersion),r=this.saveShared(n,o=>(o&&o.version||0)==e);return r===!1?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):t.forEach((o,i)=>this.structures[i]=o),r}};function dh(e,t){e<24?z[P++]=t|e:e<256?(z[P++]=t|24,z[P++]=e):e<65536?(z[P++]=t|25,z[P++]=e>>8,z[P++]=e&255):(z[P++]=t|26,Ye.setUint32(P,e),P+=4)}class hh{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function ar(e){e<24?z[P++]=128|e:e<256?(z[P++]=152,z[P++]=e):e<65536?(z[P++]=153,z[P++]=e>>8,z[P++]=e&255):(z[P++]=154,Ye.setUint32(P,e),P+=4)}const Ng=typeof Blob>"u"?function(){}:Blob;function Yl(e){if(e instanceof Ng)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function cs(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let o=t.samplingPackedValues.get(e);o?o.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,o=e.length;r<o;r++)cs(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&cs(n,t),cs(e[n],t))}break;case"function":console.log(e)}}const Lg=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;sh=[Date,Set,Error,RegExp,yo,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,hh],$l=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(z[P++]=26,Ye.setUint32(P,n),P+=4):(z[P++]=251,Ye.setFloat64(P,n),P+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){Gl(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||Hi&&this.tagUint8Array!==!1))return 64},encode(e,t,n){Gl(e,n)}},sr(68,1),sr(69,2),sr(70,4),sr(71,8),sr(72,1),sr(77,2),sr(78,4),sr(79,8),sr(85,4),sr(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){z[P++]=216,z[P++]=51,ar(4);let o=n.values;t(o),ar(0),ar(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,a=o.length;i<a;i++)packedObjectMap[o[i]]=i}if(r){Ye.setUint32(P,3655335424),P+=3;let o=r.slice(0);o.unshift(57344),o.push(new yo(e.version,1399353956)),t(o)}else t(new yo(e.version,1399353956))}}];function sr(e,t){return!Lg&&t>1&&(e-=4),{tag:e,encode:function(n,r){let o=n.byteLength,i=n.byteOffset||0,a=n.buffer||n;r(Hi?ls.from(a,i,o):new Uint8Array(a,i,o))}}}function Gl(e,t){let n=e.byteLength;n<24?z[P++]=64+n:n<256?(z[P++]=88,z[P++]=n):n<65536?(z[P++]=89,z[P++]=n>>8,z[P++]=n&255):(z[P++]=90,Ye.setUint32(P,n),P+=4),P+n>=z.length&&t(P+n),z.set(e.buffer?e:new Uint8Array(e),P),P+=n}function qg(e,t){let n,r=t.length*2,o=e.length-r;t.sort((i,a)=>i.offset>a.offset?1:-1);for(let i=0;i<t.length;i++){let a=t[i];a.id=i;for(let s of a.references)e[s++]=i>>8,e[s]=i&255}for(;n=t.pop();){let i=n.offset;e.copyWithin(i+r,i,o),r-=2;let a=i+r;e[a++]=216,e[a++]=28,o=i}return e}function fh(e,t){Ye.setUint32(gt.position+e,P-gt.position-e+1);let n=gt;gt=null,t(n[0]),t(n[1])}let Xl=new Dg({useRecords:!1});Xl.encode,Xl.encodeAsIterable,Xl.encodeAsAsyncIterable;const ph=512,jg=1024,Zl=2048;function Ke(e,n){var n=n||{};this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}Ke.prototype.peekAt=function(e){var t=e;if(t===(t|0)){var n=this.size();if(!(t>=n||t<-n))return t<0&&(t+=n),t=this._head+t&this._capacityMask,this._list[t]}},Ke.prototype.get=function(e){return this.peekAt(e)},Ke.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},Ke.prototype.peekFront=function(){return this.peek()},Ke.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(Ke.prototype,"length",{get:function(){return this.size()}}),Ke.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Ke.prototype.unshift=function(e){if(arguments.length===0)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Ke.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},Ke.prototype.push=function(e){if(arguments.length===0)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Ke.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),n}},Ke.prototype.removeOne=function(e){var t=e;if(t===(t|0)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(t>=n||t<-n)){t<0&&(t+=n),t=this._head+t&this._capacityMask;var o=this._list[t],i;if(e<n/2){for(i=e;i>0;i--)this._list[t]=this._list[t=t-1+r&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(i=n-1-e;i>0;i--)this._list[t]=this._list[t=t+1+r&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+r&this._capacityMask}return o}}},Ke.prototype.remove=function(e,t){var n=e,r,o=t;if(n===(n|0)&&this._head!==this._tail){var i=this.size(),a=this._list.length;if(!(n>=i||n<-i||t<1)){if(n<0&&(n+=i),t===1||!t)return r=new Array(1),r[0]=this.removeOne(n),r;if(n===0&&n+t>=i)return r=this.toArray(),this.clear(),r;n+t>i&&(t=i-n);var s;for(r=new Array(t),s=0;s<t;s++)r[s]=this._list[this._head+n+s&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===i){for(this._tail=this._tail-t+a&this._capacityMask,s=t;s>0;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(e===0){for(this._head=this._head+t+a&this._capacityMask,s=t-1;s>0;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(n<i/2){for(this._head=this._head+e+t+a&this._capacityMask,s=e;s>0;s--)this.unshift(this._list[n=n-1+a&this._capacityMask]);for(n=this._head-1+a&this._capacityMask;o>0;)this._list[n=n-1+a&this._capacityMask]=void 0,o--;e<0&&(this._tail=n)}else{for(this._tail=n,n=n+t+a&this._capacityMask,s=i-(t+e);s>0;s--)this.push(this._list[n++]);for(n=this._tail;o>0;)this._list[n=n+1+a&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),r}}},Ke.prototype.splice=function(e,t){var n=e;if(n===(n|0)){var r=this.size();if(n<0&&(n+=r),!(n>r))if(arguments.length>2){var o,i,a,s=arguments.length,l=this._list.length,c=2;if(!r||n<r/2){for(i=new Array(n),o=0;o<n;o++)i[o]=this._list[this._head+o&this._capacityMask];for(t===0?(a=[],n>0&&(this._head=this._head+n+l&this._capacityMask)):(a=this.remove(n,t),this._head=this._head+n+l&this._capacityMask);s>c;)this.unshift(arguments[--s]);for(o=n;o>0;o--)this.unshift(i[o-1])}else{i=new Array(r-(n+t));var u=i.length;for(o=0;o<u;o++)i[o]=this._list[this._head+n+t+o&this._capacityMask];for(t===0?(a=[],n!=r&&(this._tail=this._head+n+l&this._capacityMask)):(a=this.remove(n,t),this._tail=this._tail-u+l&this._capacityMask);c<s;)this.push(arguments[c++]);for(o=0;o<u;o++)this.push(i[o])}return a}else return this.remove(n,t)}},Ke.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},Ke.prototype.isEmpty=function(){return this._head===this._tail},Ke.prototype.toArray=function(){return this._copyArray(!1)},Ke.prototype._fromArray=function(e){var t=e.length,n=this._nextPowerOf2(t);this._list=new Array(n),this._capacityMask=n-1,this._tail=t;for(var r=0;r<t;r++)this._list[r]=e[r]},Ke.prototype._copyArray=function(e,t){var n=this._list,r=n.length,o=this.length;if(t=t|o,t==o&&this._head<this._tail)return this._list.slice(this._head,this._tail);var i=new Array(t),a=0,s;if(e||this._head>this._tail){for(s=this._head;s<r;s++)i[a++]=n[s];for(s=0;s<this._tail;s++)i[a++]=n[s]}else for(s=this._head;s<this._tail;s++)i[a++]=n[s];return i},Ke.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},Ke.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},Ke.prototype._nextPowerOf2=function(e){var t=Math.log(e)/Math.log(2),n=1<<t+1;return Math.max(n,4)};var Ug=Ke;const mh=mo(Ug),Bg=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1})();window.crypto||(window.crypto=window.msCrypto);function Wg(e,t,n,r){switch(e){case"flac":return new Pl(Rl.Flac,t,n,r);case"opus":return new Pl(Rl.Opus,t,n,r)}}function zg(e){return e=ah(e),e.data=new Int8Array(e.data),e}class gh{constructor(){this.decoder=new Gd}decode(t){return t=new Uint8Array(t),this.decoder.decode(t).map(zg)}destroy(){this.decoder.free()}}function $g(e){switch(e){case"zstd":return new gh;case"av1":return new gh}}async function Hg(){let e;Bg?e=await Xa(()=>import("./phantomsdrdsp_bg-Bxi2muHM.js").then(async t=>(await t.__tla,t)),[]):e=await Xa(()=>import("./phantomsdrdsp_bg_fallback-Dd3IGRx0.js").then(async t=>(await t.__tla,t)),[]),zd(e),e.__wbindgen_start()}const Vg={push:function(e){if(typeof e!="number")throw new Error("val must be a number.");return this.sum-=this.data[this.dataI],this.sum+=e,this.data[this.dataI]=e,this.dataI=(this.dataI+1)%this.size,this},get:function(){return this.sum/this.size}};var Yg=(e,t=0)=>{if(typeof e!="number")throw new Error("size must be a number.");if(typeof t!="number")throw new Error("fill must be a number.");const n=Object.create(Vg);return n.sum=e*t,n.size=e,n.data=new Array(e),n.data.fill(t),n.dataI=0,n};const yh=mo(Yg);var Gg=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((h,p)=>{r=h,o=p}),["_init_decode","_exec_decode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(h=>{Object.getOwnPropertyDescriptor(n.ready,h)||Object.defineProperty(n.ready,h,{get:()=>pe("You are getting "+h+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>pe("You are setting "+h+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),a=(h,p)=>{throw p},s=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u=!s&&!c&&!l;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var d="";function f(h){return n.locateFile?n.locateFile(h,d):d+h}var g,b,C;if(c){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var T=process.versions.node,L=T.split(".").slice(0,3);if(L=L[0]*1e4+L[1]*100+L[2].split("-")[0]*1,L<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+T+")");const{createRequire:h}=await Xa(async()=>{const{createRequire:p}=await Promise.resolve().then(()=>_u);return{createRequire:p}},void 0);var R=h(import.meta.url),k=R("fs"),j=R("path");l?d=j.dirname(d)+"/":d=R("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),g=(p,O)=>(p=Pt(p)?new URL(p):j.normalize(p),k.readFileSync(p,O?void 0:"utf8")),C=p=>{var O=g(p,!0);return O.buffer||(O=new Uint8Array(O)),m(O.buffer),O},b=(p,O,$,Q=!0)=>{p=Pt(p)?new URL(p):j.normalize(p),k.readFile(p,Q?void 0:"utf8",(le,te)=>{le?$(le):O(Q?te.buffer:te)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",p=>{if(p!=="unwind"&&!(p instanceof Ft)&&!(p.context instanceof Ft))throw p}),a=(p,O)=>{throw process.exitCode=p,O},n.inspect=()=>"[Emscripten Module object]"}else if(u){if(typeof process=="object"&&typeof R=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(g=read),C=h=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(h));let p=read(h,"binary");return m(typeof p=="object"),p},b=(h,p,O)=>{setTimeout(()=>p(C(h)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=h=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=h=>typeof h=="function"?h():pe()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(a=(h,p)=>{throw setTimeout(()=>{if(!(p instanceof Ft)){let O=p;p&&typeof p=="object"&&p.stack&&(O=[p,p.stack]),D("exiting due to exception: ".concat(O))}quit(h)}),p}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(s||l){if(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");g=h=>{var p=new XMLHttpRequest;return p.open("GET",h,!1),p.send(null),p.responseText},l&&(C=h=>{var p=new XMLHttpRequest;return p.open("GET",h,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),b=(h,p,O)=>{var $=new XMLHttpRequest;$.open("GET",h,!0),$.responseType="arraybuffer",$.onload=()=>{if($.status==200||$.status==0&&$.response){p($.response);return}O()},$.onerror=O,$.send(null)}}else throw new Error("environment detection error");var N=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,In(),n.arguments&&n.arguments,qe("arguments","arguments_"),n.thisProgram&&n.thisProgram,qe("thisProgram","thisProgram"),n.quit&&(a=n.quit),qe("quit","quit_"),m(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),m(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),m(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),m(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),m(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),m(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),m(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),m(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),m(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),qe("asm","wasmExports"),qe("read","read_"),qe("readAsync","readAsync"),qe("readBinary","readBinary"),qe("setWindowTitle","setWindowTitle"),m(!u,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var E;n.wasmBinary&&(E=n.wasmBinary),qe("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&pe("no native wasm support detected");var S,M=!1,x;function m(h,p){h||pe("Assertion failed"+(p?": "+p:""))}var y,w,A,F;function I(){var h=S.buffer;n.HEAP8=y=new Int8Array(h),n.HEAP16=new Int16Array(h),n.HEAPU8=w=new Uint8Array(h),n.HEAPU16=new Uint16Array(h),n.HEAP32=A=new Int32Array(h),n.HEAPU32=F=new Uint32Array(h),n.HEAPF32=new Float32Array(h),n.HEAPF64=new Float64Array(h)}m(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),m(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),m(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),m(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Y(){var h=Xt();m((h&3)==0),h==0&&(h+=4),F[h>>2]=34821223,F[h+4>>2]=2310721022,F[0]=1668509029}function G(){if(!M){var h=Xt();h==0&&(h+=4);var p=F[h>>2],O=F[h+4>>2];(p!=34821223||O!=2310721022)&&pe("Stack overflow! Stack cookie has been overwritten at ".concat(ct(h),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(ct(O)," ").concat(ct(p))),F[0]!=1668509029&&pe("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var h=new Int16Array(1),p=new Int8Array(h.buffer);if(h[0]=25459,p[0]!==115||p[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var U=[],B=[],H=[],K=!1;function de(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)be(n.preRun.shift());Lt(U)}function J(){m(!K),K=!0,G(),Lt(B)}function ie(){if(G(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)re(n.postRun.shift());Lt(H)}function be(h){U.unshift(h)}function Ae(h){B.unshift(h)}function re(h){H.unshift(h)}m(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Re=0,_e=null,ke=null,Be={};function nn(h){Re++,n.monitorRunDependencies&&n.monitorRunDependencies(Re),m(!Be[h]),Be[h]=1,_e===null&&typeof setInterval<"u"&&(_e=setInterval(()=>{if(M){clearInterval(_e),_e=null;return}var p=!1;for(var O in Be)p||(p=!0,D("still waiting on run dependencies:")),D("dependency: ".concat(O));p&&D("(end of list)")},1e4))}function Ne(h){if(Re--,n.monitorRunDependencies&&n.monitorRunDependencies(Re),m(Be[h]),delete Be[h],Re==0&&(_e!==null&&(clearInterval(_e),_e=null),ke)){var p=ke;ke=null,p()}}function pe(h){n.onAbort&&n.onAbort(h),h="Aborted("+h+")",D(h),M=!0,x=1,h.indexOf("RuntimeError: unreachable")>=0&&(h+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var p=new WebAssembly.RuntimeError(h);throw o(p),p}var ae={error(){pe("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){ae.error()},createDataFile(){ae.error()},createPreloadedFile(){ae.error()},createLazyFile(){ae.error()},open(){ae.error()},mkdev(){ae.error()},registerDevice(){ae.error()},analyzePath(){ae.error()},ErrnoError(){ae.error()}};n.FS_createDataFile=ae.createDataFile,n.FS_createPreloadedFile=ae.createPreloadedFile;var Tt="data:application/octet-stream;base64,",En=h=>h.startsWith(Tt),Pt=h=>h.startsWith("file://");function Me(h){return function(){m(K,"native function `".concat(h,"` called before runtime initialization"));var p=je[h];return m(p,"exported native function `".concat(h,"` not found")),p.apply(null,arguments)}}var We;n.locateFile?(We="decode.wasm",En(We)||(We=f(We))):We=new URL("/assets/decode-BC3G6QKc.wasm",import.meta.url).href;function Tn(h){if(h==We&&E)return new Uint8Array(E);if(C)return C(h);throw"both async and sync fetching of the wasm failed"}function ro(h){if(!E&&(s||l)){if(typeof fetch=="function"&&!Pt(h))return fetch(h,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at '"+h+"'";return p.arrayBuffer()}).catch(()=>Tn(h));if(b)return new Promise((p,O)=>{b(h,$=>p(new Uint8Array($)),O)})}return Promise.resolve().then(()=>Tn(h))}function kt(h,p,O){return ro(h).then($=>WebAssembly.instantiate($,p)).then($=>$).then(O,$=>{D("failed to asynchronously prepare wasm: ".concat($)),Pt(We)&&D("warning: Loading from a file URI (".concat(We,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),pe($)})}function Dt(h,p,O,$){return!h&&typeof WebAssembly.instantiateStreaming=="function"&&!En(p)&&!Pt(p)&&!c&&typeof fetch=="function"?fetch(p,{credentials:"same-origin"}).then(Q=>{var le=WebAssembly.instantiateStreaming(Q,O);return le.then($,function(te){return D("wasm streaming compile failed: ".concat(te)),D("falling back to ArrayBuffer instantiation"),kt(p,O,$)})}):kt(p,O,$)}function $n(){var h={env:Rn,wasi_snapshot_preview1:Rn};function p(Q,le){return je=Q.exports,je=V.instrumentWasmExports(je),S=je.memory,m(S,"memory not found in wasm exports"),I(),Ae(je.__wasm_call_ctors),Ne("wasm-instantiate"),je}nn("wasm-instantiate");var O=n;function $(Q){m(n===O,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),O=null,p(Q.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(h,p)}catch(Q){D("Module.instantiateWasm callback failed with error: ".concat(Q)),o(Q)}return Dt(E,We,h,$).catch(o),{}}function qe(h,p,O=!0){Object.getOwnPropertyDescriptor(n,h)||Object.defineProperty(n,h,{configurable:!0,get(){let $=O?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";pe("`Module.".concat(h,"` has been replaced by `").concat(p,"`")+$)}})}function $r(h){Object.getOwnPropertyDescriptor(n,h)&&pe("`Module.".concat(h,"` was supplied but `").concat(h,"` not included in INCOMING_MODULE_JS_API"))}function Nt(h){return h==="FS_createPath"||h==="FS_createDataFile"||h==="FS_createPreloadedFile"||h==="FS_unlink"||h==="addRunDependency"||h==="FS_createLazyFile"||h==="FS_createDevice"||h==="removeRunDependency"}function Hn(h,p){typeof globalThis<"u"&&Object.defineProperty(globalThis,h,{configurable:!0,get(){Pe("`"+h+"` is not longer defined by emscripten. "+p)}})}Hn("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Hn("asm","Please use wasmExports instead");function Vn(h){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,h)&&Object.defineProperty(globalThis,h,{configurable:!0,get(){var p="`"+h+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",O=h;O.startsWith("_")||(O="$"+h),p+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+O+"')",Nt(h)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Pe(p)}}),Yn(h)}function Yn(h){Object.getOwnPropertyDescriptor(n,h)||Object.defineProperty(n,h,{configurable:!0,get(){var p="'"+h+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";Nt(h)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),pe(p)}})}function Ft(h){this.name="ExitStatus",this.message="Program terminated with exit(".concat(h,")"),this.status=h}var Lt=h=>{for(;h.length>0;)h.shift()(n)},Ot=n.noExitRuntime||!0,ct=h=>(m(typeof h=="number"),h>>>=0,"0x"+h.toString(16).padStart(8,"0")),Pe=h=>{Pe.shown||(Pe.shown={}),Pe.shown[h]||(Pe.shown[h]=1,c&&(h="warning: "+h),D(h))},_t=(h,p,O)=>w.copyWithin(h,p,p+O),kn=()=>2147483648,St=h=>{var p=S.buffer,O=(h-p.byteLength+65535)/65536;try{return S.grow(O),I(),1}catch($){D("growMemory: Attempted to grow heap from ".concat(p.byteLength," bytes to ").concat(h," bytes, but got error: ").concat($))}},mn=h=>{var p=w.length;h>>>=0,m(h>p);var O=kn();if(h>O)return D("Cannot enlarge memory, requested ".concat(h," bytes, but the limit is ").concat(O," bytes!")),!1;for(var $=(we,Ue)=>we+(Ue-we%Ue)%Ue,Q=1;Q<=4;Q*=2){var le=p*(1+.2/Q);le=Math.min(le,h+100663296);var te=Math.min(O,$(Math.max(h,le),65536)),se=St(te);if(se)return!0}return D("Failed to grow the heap from ".concat(p," bytes to ").concat(te," bytes, not enough memory!")),!1},rt=0,rn=()=>Ot||rt>0,ut=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fn=(h,p,O)=>{for(var $=p+O,Q=p;h[Q]&&!(Q>=$);)++Q;if(Q-p>16&&h.buffer&&ut)return ut.decode(h.subarray(p,Q));for(var le="";p<Q;){var te=h[p++];if(!(te&128)){le+=String.fromCharCode(te);continue}var se=h[p++]&63;if((te&224)==192){le+=String.fromCharCode((te&31)<<6|se);continue}var we=h[p++]&63;if((te&240)==224?te=(te&15)<<12|se<<6|we:((te&248)!=240&&Pe("Invalid UTF-8 leading byte "+ct(te)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),te=(te&7)<<18|se<<12|we<<6|h[p++]&63),te<65536)le+=String.fromCharCode(te);else{var Ue=te-65536;le+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return le},gn=(h,p)=>(m(typeof h=="number"),h?Fn(w,h,p):""),oo=h=>{x=h,rn()||(n.onExit&&n.onExit(h),M=!0),a(h,new Ft(h))},Gn=(h,p)=>{if(x=h,Tr(),rn()&&!p){var O="program exited (with status: ".concat(h,"), but keepRuntimeAlive() is set (counter=").concat(rt,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(O),D(O)}oo(h)},On=Gn,Hr=h=>{pe("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},on=(h,p)=>(m(h==h>>>0||h==(h|0)),m(p===(p|0)),p+2097152>>>0<4194305-!!h?(h>>>0)+p*4294967296:NaN);function an(h,p,O,$,Q){return on(p,O),70}var Vt=[null,[],[]],dt=(h,p)=>{var O=Vt[h];m(O),p===0||p===10?((h===1?N:D)(Fn(O,0)),O.length=0):O.push(p)},Yt=()=>{_r(0),Vt[1].length&&dt(1,10),Vt[2].length&&dt(2,10)},yn=(h,p,O,$)=>{for(var Q=0,le=0;le<O;le++){var te=F[p>>2],se=F[p+4>>2];p+=8;for(var we=0;we<se;we++)dt(h,w[te+we]);Q+=se}return F[$>>2]=Q,0},Xe=h=>{try{return h()}catch(p){pe(p)}},yr=h=>{if(h instanceof Ft||h=="unwind")return x;G(),h instanceof WebAssembly.RuntimeError&&Ze()<=0&&D("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),a(1,h)},sn=()=>{if(!rn())try{On(x)}catch(h){yr(h)}},io=h=>{if(M){D("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{h(),sn()}catch(p){yr(p)}},vr=()=>{rt+=1},Vr=()=>{m(rt>0),rt-=1},V={instrumentWasmImports(h){var p=/^(_exec_decode|invoke_.*|__asyncjs__.*)$/;for(var O in h)(function($){var Q=h[$];if(Q.sig,typeof Q=="function"){var le=Q.isAsync||p.test($);h[$]=function(){var te=V.state;try{return Q.apply(null,arguments)}finally{var se=te===V.State.Normal&&V.state===V.State.Disabled,we=$.startsWith("invoke_")&&!0;if(V.state!==te&&!le&&!se&&!we)throw new Error("import ".concat($," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(O)},instrumentWasmExports(h){var p={};for(var O in h)(function($){var Q=h[$];typeof Q=="function"?p[$]=function(){V.exportCallStack.push($);try{return Q.apply(null,arguments)}finally{if(!M){var le=V.exportCallStack.pop();m(le===$),V.maybeStopUnwind()}}}:p[$]=Q})(O);return p},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(h){var p=V.callStackNameToId[h];return p===void 0&&(p=V.callStackId++,V.callStackNameToId[h]=p,V.callStackIdToName[p]=h),p},maybeStopUnwind(){V.currData&&V.state===V.State.Unwinding&&V.exportCallStack.length===0&&(V.state=V.State.Normal,Xe(co),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return m(V.currData,"Tried to wait for an async operation when none is in progress."),m(!V.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((h,p)=>{V.asyncPromiseHandlers={resolve:h,reject:p}})},allocateData(){var h=so(12+V.StackSize);return V.setDataHeader(h,h+12,V.StackSize),V.setDataRewindFunc(h),h},setDataHeader(h,p,O){F[h>>2]=p,F[h+4>>2]=p+O},setDataRewindFunc(h){var p=V.exportCallStack[0],O=V.getCallStackId(p);A[h+8>>2]=O},getDataRewindFunc(h){var p=A[h+8>>2],O=V.callStackIdToName[p],$=je[O];return $},doRewind(h){var p=V.getDataRewindFunc(h);return p()},handleSleep(h){if(m(V.state!==V.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!M){if(V.state===V.State.Normal){var p=!1,O=!1;h(($=0)=>{if(m(!$||typeof $=="number"||typeof $=="boolean"),!M&&(V.handleSleepReturnValue=$,p=!0,!!O)){m(!V.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),V.state=V.State.Rewinding,Xe(()=>Pn(V.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var Q,le=!1;try{Q=V.doRewind(V.currData)}catch(we){Q=we,le=!0}var te=!1;if(!V.currData){var se=V.asyncPromiseHandlers;se&&(V.asyncPromiseHandlers=null,(le?se.reject:se.resolve)(Q),te=!0)}if(le&&!te)throw Q}}),O=!0,p||(V.state=V.State.Unwinding,V.currData=V.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),Xe(()=>Mr(V.currData)))}else V.state===V.State.Rewinding?(V.state=V.State.Normal,Xe(Zt),Jn(V.currData),V.currData=null,V.sleepCallbacks.forEach($=>io($))):pe("invalid state: ".concat(V.state));return V.handleSleepReturnValue}},handleAsync(h){return V.handleSleep(p=>{h().then(p)})}},Xn=h=>{var p=n["_"+h];return m(p,"Cannot call unknown function "+h+", make sure it is exported"),p},Gt=(h,p)=>{m(h.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),y.set(h,p)},br=h=>{for(var p=0,O=0;O<h.length;++O){var $=h.charCodeAt(O);$<=127?p++:$<=2047?p+=2:$>=55296&&$<=57343?(p+=4,++O):p+=3}return p},ln=(h,p,O,$)=>{if(m(typeof h=="string"),!($>0))return 0;for(var Q=O,le=O+$-1,te=0;te<h.length;++te){var se=h.charCodeAt(te);if(se>=55296&&se<=57343){var we=h.charCodeAt(++te);se=65536+((se&1023)<<10)|we&1023}if(se<=127){if(O>=le)break;p[O++]=se}else if(se<=2047){if(O+1>=le)break;p[O++]=192|se>>6,p[O++]=128|se&63}else if(se<=65535){if(O+2>=le)break;p[O++]=224|se>>12,p[O++]=128|se>>6&63,p[O++]=128|se&63}else{if(O+3>=le)break;se>1114111&&Pe("Invalid Unicode code point "+ct(se)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),p[O++]=240|se>>18,p[O++]=128|se>>12&63,p[O++]=128|se>>6&63,p[O++]=128|se&63}}return p[O]=0,O-Q},wr=(h,p,O)=>(m(typeof O=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),ln(h,w,p,O)),Zn=h=>{var p=br(h)+1,O=Cr(p);return wr(h,O,p),O},xr=(h,p,O,$,Q)=>{var le={string:ce=>{var he=0;return ce!=null&&ce!==0&&(he=Zn(ce)),he},array:ce=>{var he=Cr(ce.length);return Gt(ce,he),he}};function te(ce){return p==="string"?gn(ce):p==="boolean"?!!ce:ce}var se=Xn(h),we=[],Ue=0;if(m(p!=="array",'Return type should not be "array".'),$)for(var ht=0;ht<$.length;ht++){var Dn=le[O[ht]];Dn?(Ue===0&&(Ue=qt()),we[ht]=Dn($[ht])):we[ht]=$[ht]}var W=V.currData,oe=se.apply(null,we);function me(ce){return Vr(),Ue!==0&&lo(Ue),te(ce)}var xe=Q&&Q.async;return vr(),V.currData!=W?(m(!(W&&V.currData),"We cannot start an async operation when one is already flight"),m(!(W&&!V.currData),"We cannot stop an async operation in flight"),m(xe,"The call to "+h+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),V.whenDone().then(me)):(oe=me(oe),xe?Promise.resolve(oe):oe)},ao=(h,p,O,$)=>function(){return xr(h,p,O,arguments,$)};function In(){$r("fetchSettings")}var Rn={emscripten_memcpy_js:_t,emscripten_resize_heap:mn,exit:On,fd_close:Hr,fd_seek:an,fd_write:yn};V.instrumentWasmImports(Rn);var je=$n();n._exec_decode=Me("exec_decode"),n._init_decode=Me("init_decode");var so=n._malloc=Me("malloc"),Jn=n._free=Me("free"),_r=n._fflush=Me("fflush"),Sr=()=>(Sr=je.emscripten_stack_init)(),Xt=()=>(Xt=je.emscripten_stack_get_end)(),qt=Me("stackSave"),lo=Me("stackRestore"),Cr=Me("stackAlloc"),Ze=()=>(Ze=je.emscripten_stack_get_current)();n.dynCall_iii=Me("dynCall_iii"),n.dynCall_iidiiii=Me("dynCall_iidiiii"),n.dynCall_vii=Me("dynCall_vii"),n.dynCall_iiii=Me("dynCall_iiii"),n.dynCall_ii=Me("dynCall_ii"),n.dynCall_jiji=Me("dynCall_jiji");var Mr=Me("asyncify_start_unwind"),co=Me("asyncify_stop_unwind"),Pn=Me("asyncify_start_rewind"),Zt=Me("asyncify_stop_rewind");n.cwrap=ao;var Ar=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];Ar.forEach(Vn);var uo=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];uo.forEach(Yn);var jt;ke=function h(){jt||Er(),jt||(ke=h)};function Ct(){Sr(),Y()}function Er(){if(Re>0||(Ct(),de(),Re>0))return;function h(){jt||(jt=!0,n.calledRun=!0,!M&&(J(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),m(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ie()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),h()},1)):h(),G()}function Tr(){var h=N,p=D,O=!1;N=D=$=>{O=!0};try{Yt()}catch($){}N=h,D=p,O&&(Pe("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Pe("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Er(),t.ready}})();const ti=await Gg(),Xg=ti.cwrap("init_decode","number",[],[]),Zg=ti.cwrap("exec_decode","number",["number","number"],{async:!0}),vh=2048,bh=ti._malloc(vh),Jg=Xg(),Kg=async e=>{const t=ti._malloc(e.length*e.BYTES_PER_ELEMENT);ti.HEAPF32.set(e,t/e.BYTES_PER_ELEMENT),await Zg(Jg,t,bh);const n=new Uint8Array(ti.HEAPU8.buffer,bh,vh);return new TextDecoder("utf8").decode(n).replaceAll("\0","").trim().split("\n").filter(r=>r.length>0).map(r=>{const o=r.split(",");return{db:Number(o[0]),dt:Number(o[1]),df:Number(o[2]),text:o[3]}})};var Qg=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((h,p)=>{r=h,o=p}),["_exec_encode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(h=>{Object.getOwnPropertyDescriptor(n.ready,h)||Object.defineProperty(n.ready,h,{get:()=>pe("You are getting "+h+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>pe("You are setting "+h+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),a=(h,p)=>{throw p},s=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",u=!s&&!c&&!l;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var d="";function f(h){return n.locateFile?n.locateFile(h,d):d+h}var g,b,C;if(c){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var T=process.versions.node,L=T.split(".").slice(0,3);if(L=L[0]*1e4+L[1]*100+L[2].split("-")[0]*1,L<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+T+")");const{createRequire:h}=await Xa(async()=>{const{createRequire:p}=await Promise.resolve().then(()=>_u);return{createRequire:p}},void 0);var R=h(import.meta.url),k=R("fs"),j=R("path");l?d=j.dirname(d)+"/":d=R("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),g=(p,O)=>(p=Pt(p)?new URL(p):j.normalize(p),k.readFileSync(p,O?void 0:"utf8")),C=p=>{var O=g(p,!0);return O.buffer||(O=new Uint8Array(O)),m(O.buffer),O},b=(p,O,$,Q=!0)=>{p=Pt(p)?new URL(p):j.normalize(p),k.readFile(p,Q?void 0:"utf8",(le,te)=>{le?$(le):O(Q?te.buffer:te)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",p=>{if(p!=="unwind"&&!(p instanceof Ft)&&!(p.context instanceof Ft))throw p}),a=(p,O)=>{throw process.exitCode=p,O},n.inspect=()=>"[Emscripten Module object]"}else if(u){if(typeof process=="object"&&typeof R=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(g=read),C=h=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(h));let p=read(h,"binary");return m(typeof p=="object"),p},b=(h,p,O)=>{setTimeout(()=>p(C(h)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=h=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=h=>typeof h=="function"?h():pe()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(a=(h,p)=>{throw setTimeout(()=>{if(!(p instanceof Ft)){let O=p;p&&typeof p=="object"&&p.stack&&(O=[p,p.stack]),D("exiting due to exception: ".concat(O))}quit(h)}),p}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(s||l){if(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");g=h=>{var p=new XMLHttpRequest;return p.open("GET",h,!1),p.send(null),p.responseText},l&&(C=h=>{var p=new XMLHttpRequest;return p.open("GET",h,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),b=(h,p,O)=>{var $=new XMLHttpRequest;$.open("GET",h,!0),$.responseType="arraybuffer",$.onload=()=>{if($.status==200||$.status==0&&$.response){p($.response);return}O()},$.onerror=O,$.send(null)}}else throw new Error("environment detection error");var N=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,In(),n.arguments&&n.arguments,qe("arguments","arguments_"),n.thisProgram&&n.thisProgram,qe("thisProgram","thisProgram"),n.quit&&(a=n.quit),qe("quit","quit_"),m(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),m(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),m(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),m(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),m(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),m(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),m(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),m(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),m(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),qe("asm","wasmExports"),qe("read","read_"),qe("readAsync","readAsync"),qe("readBinary","readBinary"),qe("setWindowTitle","setWindowTitle"),m(!u,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var E;n.wasmBinary&&(E=n.wasmBinary),qe("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&pe("no native wasm support detected");var S,M=!1,x;function m(h,p){h||pe("Assertion failed"+(p?": "+p:""))}var y,w,A,F;function I(){var h=S.buffer;n.HEAP8=y=new Int8Array(h),n.HEAP16=new Int16Array(h),n.HEAPU8=w=new Uint8Array(h),n.HEAPU16=new Uint16Array(h),n.HEAP32=A=new Int32Array(h),n.HEAPU32=F=new Uint32Array(h),n.HEAPF32=new Float32Array(h),n.HEAPF64=new Float64Array(h)}m(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),m(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),m(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),m(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Y(){var h=Xt();m((h&3)==0),h==0&&(h+=4),F[h>>2]=34821223,F[h+4>>2]=2310721022,F[0]=1668509029}function G(){if(!M){var h=Xt();h==0&&(h+=4);var p=F[h>>2],O=F[h+4>>2];(p!=34821223||O!=2310721022)&&pe("Stack overflow! Stack cookie has been overwritten at ".concat(ct(h),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(ct(O)," ").concat(ct(p))),F[0]!=1668509029&&pe("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var h=new Int16Array(1),p=new Int8Array(h.buffer);if(h[0]=25459,p[0]!==115||p[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var U=[],B=[],H=[],K=!1;function de(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)be(n.preRun.shift());Lt(U)}function J(){m(!K),K=!0,G(),Lt(B)}function ie(){if(G(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)re(n.postRun.shift());Lt(H)}function be(h){U.unshift(h)}function Ae(h){B.unshift(h)}function re(h){H.unshift(h)}m(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),m(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Re=0,_e=null,ke=null,Be={};function nn(h){Re++,n.monitorRunDependencies&&n.monitorRunDependencies(Re),m(!Be[h]),Be[h]=1,_e===null&&typeof setInterval<"u"&&(_e=setInterval(()=>{if(M){clearInterval(_e),_e=null;return}var p=!1;for(var O in Be)p||(p=!0,D("still waiting on run dependencies:")),D("dependency: ".concat(O));p&&D("(end of list)")},1e4))}function Ne(h){if(Re--,n.monitorRunDependencies&&n.monitorRunDependencies(Re),m(Be[h]),delete Be[h],Re==0&&(_e!==null&&(clearInterval(_e),_e=null),ke)){var p=ke;ke=null,p()}}function pe(h){n.onAbort&&n.onAbort(h),h="Aborted("+h+")",D(h),M=!0,x=1,h.indexOf("RuntimeError: unreachable")>=0&&(h+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var p=new WebAssembly.RuntimeError(h);throw o(p),p}var ae={error(){pe("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){ae.error()},createDataFile(){ae.error()},createPreloadedFile(){ae.error()},createLazyFile(){ae.error()},open(){ae.error()},mkdev(){ae.error()},registerDevice(){ae.error()},analyzePath(){ae.error()},ErrnoError(){ae.error()}};n.FS_createDataFile=ae.createDataFile,n.FS_createPreloadedFile=ae.createPreloadedFile;var Tt="data:application/octet-stream;base64,",En=h=>h.startsWith(Tt),Pt=h=>h.startsWith("file://");function Me(h){return function(){m(K,"native function `".concat(h,"` called before runtime initialization"));var p=je[h];return m(p,"exported native function `".concat(h,"` not found")),p.apply(null,arguments)}}var We;n.locateFile?(We="encode.wasm",En(We)||(We=f(We))):We=new URL("/assets/encode-Boqet107.wasm",import.meta.url).href;function Tn(h){if(h==We&&E)return new Uint8Array(E);if(C)return C(h);throw"both async and sync fetching of the wasm failed"}function ro(h){if(!E&&(s||l)){if(typeof fetch=="function"&&!Pt(h))return fetch(h,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at '"+h+"'";return p.arrayBuffer()}).catch(()=>Tn(h));if(b)return new Promise((p,O)=>{b(h,$=>p(new Uint8Array($)),O)})}return Promise.resolve().then(()=>Tn(h))}function kt(h,p,O){return ro(h).then($=>WebAssembly.instantiate($,p)).then($=>$).then(O,$=>{D("failed to asynchronously prepare wasm: ".concat($)),Pt(We)&&D("warning: Loading from a file URI (".concat(We,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),pe($)})}function Dt(h,p,O,$){return!h&&typeof WebAssembly.instantiateStreaming=="function"&&!En(p)&&!Pt(p)&&!c&&typeof fetch=="function"?fetch(p,{credentials:"same-origin"}).then(Q=>{var le=WebAssembly.instantiateStreaming(Q,O);return le.then($,function(te){return D("wasm streaming compile failed: ".concat(te)),D("falling back to ArrayBuffer instantiation"),kt(p,O,$)})}):kt(p,O,$)}function $n(){var h={env:Rn,wasi_snapshot_preview1:Rn};function p(Q,le){return je=Q.exports,je=V.instrumentWasmExports(je),S=je.memory,m(S,"memory not found in wasm exports"),I(),Ae(je.__wasm_call_ctors),Ne("wasm-instantiate"),je}nn("wasm-instantiate");var O=n;function $(Q){m(n===O,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),O=null,p(Q.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(h,p)}catch(Q){D("Module.instantiateWasm callback failed with error: ".concat(Q)),o(Q)}return Dt(E,We,h,$).catch(o),{}}function qe(h,p,O=!0){Object.getOwnPropertyDescriptor(n,h)||Object.defineProperty(n,h,{configurable:!0,get(){let $=O?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";pe("`Module.".concat(h,"` has been replaced by `").concat(p,"`")+$)}})}function $r(h){Object.getOwnPropertyDescriptor(n,h)&&pe("`Module.".concat(h,"` was supplied but `").concat(h,"` not included in INCOMING_MODULE_JS_API"))}function Nt(h){return h==="FS_createPath"||h==="FS_createDataFile"||h==="FS_createPreloadedFile"||h==="FS_unlink"||h==="addRunDependency"||h==="FS_createLazyFile"||h==="FS_createDevice"||h==="removeRunDependency"}function Hn(h,p){typeof globalThis<"u"&&Object.defineProperty(globalThis,h,{configurable:!0,get(){Pe("`"+h+"` is not longer defined by emscripten. "+p)}})}Hn("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Hn("asm","Please use wasmExports instead");function Vn(h){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,h)&&Object.defineProperty(globalThis,h,{configurable:!0,get(){var p="`"+h+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",O=h;O.startsWith("_")||(O="$"+h),p+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+O+"')",Nt(h)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Pe(p)}}),Yn(h)}function Yn(h){Object.getOwnPropertyDescriptor(n,h)||Object.defineProperty(n,h,{configurable:!0,get(){var p="'"+h+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";Nt(h)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),pe(p)}})}function Ft(h){this.name="ExitStatus",this.message="Program terminated with exit(".concat(h,")"),this.status=h}var Lt=h=>{for(;h.length>0;)h.shift()(n)},Ot=n.noExitRuntime||!0,ct=h=>(m(typeof h=="number"),h>>>=0,"0x"+h.toString(16).padStart(8,"0")),Pe=h=>{Pe.shown||(Pe.shown={}),Pe.shown[h]||(Pe.shown[h]=1,c&&(h="warning: "+h),D(h))},_t=(h,p,O)=>w.copyWithin(h,p,p+O),kn=()=>2147483648,St=h=>{var p=S.buffer,O=(h-p.byteLength+65535)/65536;try{return S.grow(O),I(),1}catch($){D("growMemory: Attempted to grow heap from ".concat(p.byteLength," bytes to ").concat(h," bytes, but got error: ").concat($))}},mn=h=>{var p=w.length;h>>>=0,m(h>p);var O=kn();if(h>O)return D("Cannot enlarge memory, requested ".concat(h," bytes, but the limit is ").concat(O," bytes!")),!1;for(var $=(we,Ue)=>we+(Ue-we%Ue)%Ue,Q=1;Q<=4;Q*=2){var le=p*(1+.2/Q);le=Math.min(le,h+100663296);var te=Math.min(O,$(Math.max(h,le),65536)),se=St(te);if(se)return!0}return D("Failed to grow the heap from ".concat(p," bytes to ").concat(te," bytes, not enough memory!")),!1},rt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,rn=(h,p,O)=>{for(var $=p+O,Q=p;h[Q]&&!(Q>=$);)++Q;if(Q-p>16&&h.buffer&&rt)return rt.decode(h.subarray(p,Q));for(var le="";p<Q;){var te=h[p++];if(!(te&128)){le+=String.fromCharCode(te);continue}var se=h[p++]&63;if((te&224)==192){le+=String.fromCharCode((te&31)<<6|se);continue}var we=h[p++]&63;if((te&240)==224?te=(te&15)<<12|se<<6|we:((te&248)!=240&&Pe("Invalid UTF-8 leading byte "+ct(te)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),te=(te&7)<<18|se<<12|we<<6|h[p++]&63),te<65536)le+=String.fromCharCode(te);else{var Ue=te-65536;le+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return le},ut=(h,p)=>(m(typeof h=="number"),h?rn(w,h,p):""),Fn=h=>{pe("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},gn=(h,p)=>(m(h==h>>>0||h==(h|0)),m(p===(p|0)),p+2097152>>>0<4194305-!!h?(h>>>0)+p*4294967296:NaN);function oo(h,p,O,$,Q){return gn(p,O),70}var Gn=[null,[],[]],On=(h,p)=>{var O=Gn[h];m(O),p===0||p===10?((h===1?N:D)(rn(O,0)),O.length=0):O.push(p)},Hr=()=>{so(0),Gn[1].length&&On(1,10),Gn[2].length&&On(2,10)},on=(h,p,O,$)=>{for(var Q=0,le=0;le<O;le++){var te=F[p>>2],se=F[p+4>>2];p+=8;for(var we=0;we<se;we++)On(h,w[te+we]);Q+=se}return F[$>>2]=Q,0},an=h=>{try{return h()}catch(p){pe(p)}},Vt=h=>{if(h instanceof Ft||h=="unwind")return x;G(),h instanceof WebAssembly.RuntimeError&&Ze()<=0&&D("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 2097152)"),a(1,h)},dt=0,Yt=()=>Ot||dt>0,yn=h=>{x=h,Yt()||(n.onExit&&n.onExit(h),M=!0),a(h,new Ft(h))},Xe=(h,p)=>{if(x=h,Tr(),Yt()&&!p){var O="program exited (with status: ".concat(h,"), but keepRuntimeAlive() is set (counter=").concat(dt,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(O),D(O)}yn(h)},yr=Xe,sn=()=>{if(!Yt())try{yr(x)}catch(h){Vt(h)}},io=h=>{if(M){D("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{h(),sn()}catch(p){Vt(p)}},vr=()=>{dt+=1},Vr=()=>{m(dt>0),dt-=1},V={instrumentWasmImports(h){var p=/^(_exec_encode|invoke_.*|__asyncjs__.*)$/;for(var O in h)(function($){var Q=h[$];if(Q.sig,typeof Q=="function"){var le=Q.isAsync||p.test($);h[$]=function(){var te=V.state;try{return Q.apply(null,arguments)}finally{var se=te===V.State.Normal&&V.state===V.State.Disabled,we=$.startsWith("invoke_")&&!0;if(V.state!==te&&!le&&!se&&!we)throw new Error("import ".concat($," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(O)},instrumentWasmExports(h){var p={};for(var O in h)(function($){var Q=h[$];typeof Q=="function"?p[$]=function(){V.exportCallStack.push($);try{return Q.apply(null,arguments)}finally{if(!M){var le=V.exportCallStack.pop();m(le===$),V.maybeStopUnwind()}}}:p[$]=Q})(O);return p},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(h){var p=V.callStackNameToId[h];return p===void 0&&(p=V.callStackId++,V.callStackNameToId[h]=p,V.callStackIdToName[p]=h),p},maybeStopUnwind(){V.currData&&V.state===V.State.Unwinding&&V.exportCallStack.length===0&&(V.state=V.State.Normal,an(co),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return m(V.currData,"Tried to wait for an async operation when none is in progress."),m(!V.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((h,p)=>{V.asyncPromiseHandlers={resolve:h,reject:p}})},allocateData(){var h=Jn(12+V.StackSize);return V.setDataHeader(h,h+12,V.StackSize),V.setDataRewindFunc(h),h},setDataHeader(h,p,O){F[h>>2]=p,F[h+4>>2]=p+O},setDataRewindFunc(h){var p=V.exportCallStack[0],O=V.getCallStackId(p);A[h+8>>2]=O},getDataRewindFunc(h){var p=A[h+8>>2],O=V.callStackIdToName[p],$=je[O];return $},doRewind(h){var p=V.getDataRewindFunc(h);return p()},handleSleep(h){if(m(V.state!==V.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!M){if(V.state===V.State.Normal){var p=!1,O=!1;h(($=0)=>{if(m(!$||typeof $=="number"||typeof $=="boolean"),!M&&(V.handleSleepReturnValue=$,p=!0,!!O)){m(!V.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),V.state=V.State.Rewinding,an(()=>Pn(V.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var Q,le=!1;try{Q=V.doRewind(V.currData)}catch(we){Q=we,le=!0}var te=!1;if(!V.currData){var se=V.asyncPromiseHandlers;se&&(V.asyncPromiseHandlers=null,(le?se.reject:se.resolve)(Q),te=!0)}if(le&&!te)throw Q}}),O=!0,p||(V.state=V.State.Unwinding,V.currData=V.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),an(()=>Mr(V.currData)))}else V.state===V.State.Rewinding?(V.state=V.State.Normal,an(Zt),_r(V.currData),V.currData=null,V.sleepCallbacks.forEach($=>io($))):pe("invalid state: ".concat(V.state));return V.handleSleepReturnValue}},handleAsync(h){return V.handleSleep(p=>{h().then(p)})}},Xn=h=>{var p=n["_"+h];return m(p,"Cannot call unknown function "+h+", make sure it is exported"),p},Gt=(h,p)=>{m(h.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),y.set(h,p)},br=h=>{for(var p=0,O=0;O<h.length;++O){var $=h.charCodeAt(O);$<=127?p++:$<=2047?p+=2:$>=55296&&$<=57343?(p+=4,++O):p+=3}return p},ln=(h,p,O,$)=>{if(m(typeof h=="string"),!($>0))return 0;for(var Q=O,le=O+$-1,te=0;te<h.length;++te){var se=h.charCodeAt(te);if(se>=55296&&se<=57343){var we=h.charCodeAt(++te);se=65536+((se&1023)<<10)|we&1023}if(se<=127){if(O>=le)break;p[O++]=se}else if(se<=2047){if(O+1>=le)break;p[O++]=192|se>>6,p[O++]=128|se&63}else if(se<=65535){if(O+2>=le)break;p[O++]=224|se>>12,p[O++]=128|se>>6&63,p[O++]=128|se&63}else{if(O+3>=le)break;se>1114111&&Pe("Invalid Unicode code point "+ct(se)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),p[O++]=240|se>>18,p[O++]=128|se>>12&63,p[O++]=128|se>>6&63,p[O++]=128|se&63}}return p[O]=0,O-Q},wr=(h,p,O)=>(m(typeof O=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),ln(h,w,p,O)),Zn=h=>{var p=br(h)+1,O=Cr(p);return wr(h,O,p),O},xr=(h,p,O,$,Q)=>{var le={string:ce=>{var he=0;return ce!=null&&ce!==0&&(he=Zn(ce)),he},array:ce=>{var he=Cr(ce.length);return Gt(ce,he),he}};function te(ce){return p==="string"?ut(ce):p==="boolean"?!!ce:ce}var se=Xn(h),we=[],Ue=0;if(m(p!=="array",'Return type should not be "array".'),$)for(var ht=0;ht<$.length;ht++){var Dn=le[O[ht]];Dn?(Ue===0&&(Ue=qt()),we[ht]=Dn($[ht])):we[ht]=$[ht]}var W=V.currData,oe=se.apply(null,we);function me(ce){return Vr(),Ue!==0&&lo(Ue),te(ce)}var xe=Q&&Q.async;return vr(),V.currData!=W?(m(!(W&&V.currData),"We cannot start an async operation when one is already flight"),m(!(W&&!V.currData),"We cannot stop an async operation in flight"),m(xe,"The call to "+h+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),V.whenDone().then(me)):(oe=me(oe),xe?Promise.resolve(oe):oe)},ao=(h,p,O,$)=>function(){return xr(h,p,O,arguments,$)};function In(){$r("fetchSettings")}var Rn={emscripten_memcpy_js:_t,emscripten_resize_heap:mn,fd_close:Fn,fd_seek:oo,fd_write:on};V.instrumentWasmImports(Rn);var je=$n();n._exec_encode=Me("exec_encode");var so=n._fflush=Me("fflush"),Jn=n._malloc=Me("malloc"),_r=n._free=Me("free"),Sr=()=>(Sr=je.emscripten_stack_init)(),Xt=()=>(Xt=je.emscripten_stack_get_end)(),qt=Me("stackSave"),lo=Me("stackRestore"),Cr=Me("stackAlloc"),Ze=()=>(Ze=je.emscripten_stack_get_current)();n.dynCall_iidiiii=Me("dynCall_iidiiii"),n.dynCall_vii=Me("dynCall_vii"),n.dynCall_ii=Me("dynCall_ii"),n.dynCall_iiii=Me("dynCall_iiii"),n.dynCall_jiji=Me("dynCall_jiji");var Mr=Me("asyncify_start_unwind"),co=Me("asyncify_stop_unwind"),Pn=Me("asyncify_start_rewind"),Zt=Me("asyncify_stop_rewind");n.cwrap=ao;var Ar=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];Ar.forEach(Vn);var uo=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];uo.forEach(Yn);var jt;ke=function h(){jt||Er(),jt||(ke=h)};function Ct(){Sr(),Y()}function Er(){if(Re>0||(Ct(),de(),Re>0))return;function h(){jt||(jt=!0,n.calledRun=!0,!M&&(J(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),m(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ie()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),h()},1)):h(),G()}function Tr(){var h=N,p=D,O=!1;N=D=$=>{O=!0};try{Hr()}catch($){}N=h,D=p,O&&(Pe("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Pe("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Er(),t.ready}})();(await Qg()).cwrap("exec_encode","number",["string","number","number"],{async:!0});const wh=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),xh=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),Jl=(e,t)=>({startTime:t,type:"setValue",value:e}),_h=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),Sh=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),ni=e=>e.type==="exponentialRampToValue",us=e=>e.type==="linearRampToValue",Xr=e=>ni(e)||us(e),Kl=e=>e.type==="setValue",Rr=e=>e.type==="setValueCurve",ds=(e,t,n,r)=>{const o=e[t];return o===void 0?r:Xr(o)||Kl(o)?o.value:Rr(o)?o.values[o.values.length-1]:Sh(n,ds(e,t-1,o.startTime,r),o)},Ch=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:Xr(n)?[n.endTime,n.value]:Kl(n)?[n.startTime,n.value]:Rr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,ds(e,t-1,n.startTime,o)],Ql=e=>e.type==="cancelAndHold",ec=e=>e.type==="cancelScheduledValues",Zr=e=>Ql(e)||ec(e)?e.cancelTime:ni(e)||us(e)?e.endTime:e.startTime,Mh=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,Ah=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),e2=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},t2=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return e2(r,o)},hs=e=>e.type==="setTarget";class n2{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=Zr(t);if(Ql(t)||ec(t)){const r=this._automationEvents.findIndex(i=>ec(t)&&Rr(i)?i.startTime+i.duration>=n:Zr(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Ql(t)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Xr(o)){if(i!==void 0&&hs(i))throw new Error("The internal list is malformed.");const a=i===void 0?o.insertTime:Rr(i)?i.startTime+i.duration:Zr(i),s=i===void 0?this._defaultValue:Rr(i)?i.values[i.values.length-1]:i.value,l=ni(o)?Mh(n,a,s,o):Ah(n,a,s,o),c=ni(o)?wh(l,n,this._currenTime):xh(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&hs(i)&&this._automationEvents.push(Jl(this.getValue(n),n)),i!==void 0&&Rr(i)&&i.startTime+i.duration>n){const a=n-i.startTime,s=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(a*s)),c=a/(l-1)*s,u=i.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const f=c*d%1;u[d]=i.values[d-1]*(1-f)+i.values[d]*f}this._automationEvents[this._automationEvents.length-1]=_h(u,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Zr(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Rr(o)&&Zr(o)+o.duration>n)return!1;const i=ni(t)?wh(t.value,t.endTime,this._currenTime):us(t)?xh(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(i);else{if(Rr(t)&&n+t.duration>Zr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>Zr(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];hs(o)&&r.unshift(Jl(ds(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Zr(a)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&hs(i)&&(r===void 0||!Xr(r)||r.insertTime>t))return Sh(t,ds(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Kl(i)&&(r===void 0||!Xr(r)))return i.value;if(i!==void 0&&Rr(i)&&(r===void 0||!Xr(r)||i.startTime+i.duration>t))return t<i.startTime+i.duration?t2(t,i):i.values[i.values.length-1];if(i!==void 0&&Xr(i)&&(r===void 0||!Xr(r)))return i.value;if(r!==void 0&&ni(r)){const[a,s]=Ch(this._automationEvents,o,i,r,this._defaultValue);return Mh(t,a,s,r)}if(r!==void 0&&us(r)){const[a,s]=Ch(this._automationEvents,o,i,r,this._defaultValue);return Ah(t,a,s,r)}return this._defaultValue}}const r2=e=>({cancelTime:e,type:"cancelAndHold"}),o2=e=>({cancelTime:e,type:"cancelScheduledValues"}),i2=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),a2=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),s2=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),l2=()=>new DOMException("","AbortError"),c2=e=>(t,n,[r,o,i],a)=>{e(t[o],[n,r,i],s=>s[0]===n&&s[1]===r,a)},u2=e=>(t,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},d2=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ri=new WeakSet,Eh=new WeakMap,Th=new WeakMap,kh=new WeakMap,Fh=new WeakMap,Oh=new WeakMap,Ih=new WeakMap,tc=new WeakMap,Rh=new WeakMap,Ph={construct(){return Ph}},h2=e=>{try{const t=new Proxy(e,Ph);new t}catch(t){return!1}return!0},Dh=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Nh=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(Dh);for(;o!==null;){const i=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Dh)}return[n.join(";"),r]},Lh=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},qh=e=>{if(!h2(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},f2=(e,t,n,r,o,i,a,s,l,c,u,d,f)=>{let g=0;return(b,C,T={credentials:"omit"})=>{const L=u.get(b);if(L!==void 0&&L.has(C))return Promise.resolve();const R=c.get(b);if(R!==void 0){const N=R.get(C);if(N!==void 0)return N}const k=i(b),j=k.audioWorklet===void 0?o(C).then(([N,D])=>{const[E,S]=Nh(N,D),M="".concat(E,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(S,"\n})})(window,'_AWGS')");return n(M)}).then(()=>{const N=f._AWGS.pop();if(N===void 0)throw new SyntaxError;r(k.currentTime,k.sampleRate,()=>N(class{},void 0,(D,E)=>{if(D.trim()==="")throw t();const S=Rh.get(k);if(S!==void 0){if(S.has(D))throw t();qh(E),Lh(E.parameterDescriptors),S.set(D,E)}else qh(E),Lh(E.parameterDescriptors),Rh.set(k,new Map([[D,E]]))},k.sampleRate,void 0,void 0))}):Promise.all([o(C),Promise.resolve(e(d,d))]).then(([[N,D],E])=>{const S=g+1;g=S;const[M,x]=Nh(N,D),m="".concat(M,";((AudioWorkletProcessor,registerProcessor)=>{").concat(x,"\n})(").concat(E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",",(n,p)=>registerProcessor(n,class extends p{").concat(E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));","process(i,o,p){").concat(E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));","return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(S,"',class extends AudioWorkletProcessor{process(){return !1}})"),y=new Blob([m],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(y);return k.audioWorklet.addModule(w,T).then(()=>{if(s(k))return k;const A=a(k);return A.audioWorklet.addModule(w,T).then(()=>A)}).then(A=>{if(l===null)throw new SyntaxError;try{new l(A,"__sac".concat(S))}catch(F){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(w))});return R===void 0?c.set(b,new Map([[C,j]])):R.set(C,j),j.then(()=>{const N=u.get(b);N===void 0?u.set(b,new Set([C])):N.add(C)}).finally(()=>{const N=c.get(b);N!==void 0&&N.delete(C)}),j}},Jr=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},fs=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},jh=(e,t,n,r)=>{const o=Jr(e,t),i=fs(o,a=>a[0]===n&&a[1]===r);return o.size===0&&e.delete(t),i},Vi=e=>Jr(Ih,e),oi=e=>{if(ri.has(e))throw new Error("The AudioNode is already stored.");ri.add(e),Vi(e).forEach(t=>t(!0))},Uh=e=>"port"in e,Yi=e=>{if(!ri.has(e))throw new Error("The AudioNode is not stored.");ri.delete(e),Vi(e).forEach(t=>t(!1))},nc=(e,t)=>{!Uh(e)&&t.every(n=>n.size===0)&&Yi(e)},p2=(e,t,n,r,o,i,a,s,l,c,u,d,f)=>{const g=new WeakMap;return(b,C,T,L,R)=>{const{activeInputs:k,passiveInputs:j}=i(C),{outputs:N}=i(b),D=s(b),E=S=>{const M=l(C),x=l(b);if(S){const m=jh(j,b,T,L);e(k,b,m,!1),!R&&!d(b)&&n(x,M,T,L),f(C)&&oi(C)}else{const m=r(k,b,T,L);t(j,L,m,!1),!R&&!d(b)&&o(x,M,T,L);const y=a(C);if(y===0)u(C)&&nc(C,k);else{const w=g.get(C);w!==void 0&&clearTimeout(w),g.set(C,setTimeout(()=>{u(C)&&nc(C,k)},y*1e3))}}};return c(N,[C,T,L],S=>S[0]===C&&S[1]===T&&S[2]===L,!0)?(D.add(E),u(b)?e(k,b,[T,L,E],!0):t(j,L,[b,T,E],!0),!0):!1}},m2=e=>(t,n,[r,o,i],a)=>{const s=t.get(r);s===void 0?t.set(r,new Set([[o,n,i]])):e(s,[o,n,i],l=>l[0]===o&&l[1]===n,a)},g2=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},y2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},v2=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=o(a),c={...y2,...s},u=r(l,c),d=i(l)?t():null;super(a,!1,u,d),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const s=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=s,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const s=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=s,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},zt=(e,t)=>e.context===t,b2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!zt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=e(a,l)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},rc=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch(t){return!1}return!0},bo=()=>new DOMException("","IndexSizeError"),Bh=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?bo():r}})(e.getChannelData)},w2={numberOfChannels:1},x2=(e,t,n,r,o,i,a,s)=>{let l=null;return class Om{constructor(u){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:f,sampleRate:g}={...w2,...u};l===null&&(l=new o(1,1,44100));const b=r!==null&&t(i,i)?new r({length:d,numberOfChannels:f,sampleRate:g}):l.createBuffer(f,d,g);if(b.numberOfChannels===0)throw n();return typeof b.copyFromChannel!="function"?(a(b),Bh(b)):t(rc,()=>rc(b))||s(b),e.add(b),b}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Om.prototype||e.has(u)}}},dn=-3402823466385289e23,en=-dn,Pr=e=>ri.has(e),_2={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},S2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const u=i(l),d={..._2,...c},f=o(u,d),g=a(u),b=g?t():null;super(l,!1,f,b),this._audioBufferSourceNodeRenderer=b,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,g,f.playbackRate,en,dn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?s(this,l):null;this._nativeAudioBufferSourceNode.onended=c;const u=this._nativeAudioBufferSourceNode.onended;this._onended=u!==null&&u===c?l:u}get playbackRate(){return this._playbackRate}start(l=0,c=0,u){if(this._nativeAudioBufferSourceNode.start(l,c,u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=u===void 0?[l,c]:[l,c,u]),this.context.state!=="closed"){oi(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Pr(this)&&Yi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},C2=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const l=async(c,u)=>{let d=n(c);const f=zt(d,u);if(!f){const g={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=t(u,g),a!==null&&d.start(...a),s!==null&&d.stop(s)}return i.set(u,d),f?await e(u,c.playbackRate,d.playbackRate):await r(u,c.playbackRate,d.playbackRate),await o(c,u,d),d};return{set start(c){a=c},set stop(c){s=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},M2=e=>"playbackRate"in e,A2=e=>"frequency"in e&&"gain"in e,E2=e=>"offset"in e,T2=e=>!("frequency"in e)&&"gain"in e,k2=e=>"detune"in e&&"frequency"in e&&!("gain"in e),F2=e=>"pan"in e,hn=e=>Jr(Eh,e),Gi=e=>Jr(kh,e),oc=(e,t)=>{const{activeInputs:n}=hn(e);n.forEach(o=>o.forEach(([i])=>{t.includes(e)||oc(i,[...t,e])}));const r=M2(e)?[e.playbackRate]:Uh(e)?Array.from(e.parameters.values()):A2(e)?[e.Q,e.detune,e.frequency,e.gain]:E2(e)?[e.offset]:T2(e)?[e.gain]:k2(e)?[e.detune,e.frequency]:F2(e)?[e.pan]:[];for(const o of r){const i=Gi(o);i!==void 0&&i.activeInputs.forEach(([a])=>oc(a,t))}Pr(e)&&Yi(e)},O2=e=>{oc(e.destination,[])},I2=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),R2=(e,t,n,r,o,i,a,s,l)=>class extends e{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let u;try{u=new l(c)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(u===null)throw r();if(!I2(c.latencyHint))throw new TypeError("The provided value '".concat(c.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(c.sampleRate!==void 0&&u.sampleRate!==c.sampleRate)throw n();super(u,2);const{latencyHint:d}=c,{sampleRate:f}=u;if(this._baseLatency=typeof u.baseLatency=="number"?u.baseLatency:d==="balanced"?512/f:d==="interactive"||d===void 0?256/f:d==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(d*f/128)))*128/f,this._nativeAudioContext=u,l.name==="webkitAudioContext"?(this._nativeGainNode=u.createGain(),this._nativeOscillatorNode=u.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(u.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,u.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),u.removeEventListener("statechange",g)};u.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),O2(this)}))}createMediaElementSource(c){return new o(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new a(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new s(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,u)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,u)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?t():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?t():c})}},P2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const u=i(l),d=a(u),f=o(u,c,d),g=d?t(s):null;super(l,!1,f,g),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},D2=e=>{const t=new WeakMap,n=async(r,o)=>{const i=o.destination;return t.set(o,i),await e(r,o,i),i};return{render(r,o){const i=t.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},N2=(e,t,n,r,o,i,a,s)=>(l,c)=>{const u=c.listener,d=()=>{const N=new Float32Array(1),D=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=a(c);let S=!1,M=[0,0,-1,0,1,0],x=[0,0,0];const m=()=>{if(S)return;S=!0;const F=r(c,256,9,0);F.onaudioprocess=({inputBuffer:I})=>{const Y=[i(I,N,0),i(I,N,1),i(I,N,2),i(I,N,3),i(I,N,4),i(I,N,5)];Y.some((U,B)=>U!==M[B])&&(u.setOrientation(...Y),M=Y);const G=[i(I,N,6),i(I,N,7),i(I,N,8)];G.some((U,B)=>U!==x[B])&&(u.setPosition(...G),x=G)},D.connect(F)},y=F=>I=>{I!==M[F]&&(M[F]=I,u.setOrientation(...M))},w=F=>I=>{I!==x[F]&&(x[F]=I,u.setPosition(...x))},A=(F,I,Y)=>{const G=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I});G.connect(D,0,F),G.start(),Object.defineProperty(G.offset,"defaultValue",{get(){return I}});const U=e({context:l},E,G.offset,en,dn);return s(U,"value",B=>()=>B.call(U),B=>H=>{try{B.call(U,H)}catch(K){if(K.code!==9)throw K}m(),E&&Y(H)}),U.cancelAndHoldAtTime=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.cancelAndHoldAtTime),U.cancelScheduledValues=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.cancelScheduledValues),U.exponentialRampToValueAtTime=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.exponentialRampToValueAtTime),U.linearRampToValueAtTime=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.linearRampToValueAtTime),U.setTargetAtTime=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.setTargetAtTime),U.setValueAtTime=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.setValueAtTime),U.setValueCurveAtTime=(B=>E?()=>{throw o()}:(...H)=>{const K=B.apply(U,H);return m(),K})(U.setValueCurveAtTime),U};return{forwardX:A(0,0,y(0)),forwardY:A(1,0,y(1)),forwardZ:A(2,-1,y(2)),positionX:A(6,0,w(0)),positionY:A(7,0,w(1)),positionZ:A(8,0,w(2)),upX:A(3,0,y(3)),upY:A(4,1,y(4)),upZ:A(5,0,y(5))}},{forwardX:f,forwardY:g,forwardZ:b,positionX:C,positionY:T,positionZ:L,upX:R,upY:k,upZ:j}=u.forwardX===void 0?d():u;return{get forwardX(){return f},get forwardY(){return g},get forwardZ(){return b},get positionX(){return C},get positionY(){return T},get positionZ(){return L},get upX(){return R},get upY(){return k},get upZ(){return j}}},ps=e=>"context"in e,Xi=e=>ps(e[0]),wo=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},Wh=(e,t,[n,r],o)=>{wo(e,[t,n,r],i=>i[0]===t&&i[1]===n,o)},zh=(e,[t,n,r],o)=>{const i=e.get(t);i===void 0?e.set(t,new Set([[n,r]])):wo(i,[n,r],a=>a[0]===n,o)},ii=e=>"inputs"in e,ms=(e,t,n,r)=>{if(ii(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},$h=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},L2=(e,t,n)=>fs(e,r=>r[0]===t&&r[1]===n),Hh=(e,t)=>{if(!Vi(e).delete(t))throw new Error("Missing the expected event listener.")},Vh=(e,t,n)=>{const r=Jr(e,t),o=fs(r,i=>i[0]===n);return r.size===0&&e.delete(t),o},gs=(e,t,n,r)=>{ii(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Qe=e=>Jr(Th,e),Zi=e=>Jr(Fh,e),xo=e=>tc.has(e),ys=e=>!ri.has(e),Yh=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),i=e.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const s=e.createBufferSource();s.buffer=i,s.loop=!0,s.connect(r).connect(e.destination),s.connect(o),s.disconnect(o),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),s.stop(),r.onaudioprocess=null,s.disconnect(r),r.disconnect(e.destination)},s.start()}}),ic=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>t(o,r))},Gh=e=>"context"in e,q2=e=>{const t=new Map;e.connect=(n=>(r,o=0,i=0)=>{const a=Gh(r)?n(r,o,i):n(r,o),s=t.get(r);return s===void 0?t.set(r,[{input:i,output:o}]):s.every(l=>l.input!==i||l.output!==o)&&s.push({input:i,output:o}),a})(e.connect.bind(e)),e.disconnect=(n=>(r,o,i)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[a,s]of t){const l=s.filter(c=>c.output!==r);l.length===0?t.delete(a):t.set(a,l)}else if(t.has(r))if(o===void 0)t.delete(r);else{const a=t.get(r);if(a!==void 0){const s=a.filter(l=>l.output!==o&&(l.input!==i||i===void 0));s.length===0?t.delete(r):t.set(r,s)}}for(const[a,s]of t)s.forEach(l=>{Gh(a)?e.connect(a,l.output,l.input):e.connect(a,l.output)})})(e.disconnect)},j2=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=Gi(t),{outputs:a}=hn(e),s=Vi(e),l=c=>{const u=Qe(e),d=Zi(t);if(c){const f=Vh(i,e,n);Wh(o,e,f,!1),!r&&!xo(e)&&u.connect(d,n)}else{const f=L2(o,e,n);zh(i,f,!1),!r&&!xo(e)&&u.disconnect(d,n)}};return wo(a,[t,n],c=>c[0]===t&&c[1]===n,!0)?(s.add(l),Pr(e)?Wh(o,e,[n,l],!0):zh(i,[e,n,l],!0),!0):!1},U2=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=hn(t),a=$h(o[r],e,n);return a===null?[jh(i,e,n,r)[2],!1]:[a[2],!0]},B2=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=Gi(t),i=$h(r,e,n);return i===null?[Vh(o,e,n)[1],!1]:[i[2],!0]},ac=(e,t,n,r,o)=>{const[i,a]=U2(e,n,r,o);if(i!==null&&(Hh(e,i),a&&!t&&!xo(e)&&gs(Qe(e),Qe(n),r,o)),Pr(n)){const{activeInputs:s}=hn(n);nc(n,s)}},sc=(e,t,n,r)=>{const[o,i]=B2(e,n,r);o!==null&&(Hh(e,o),i&&!t&&!xo(e)&&Qe(e).disconnect(Zi(n),r))},W2=(e,t)=>{const n=hn(e),r=[];for(const o of n.outputs)Xi(o)?ac(e,t,...o):sc(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},z2=(e,t,n)=>{const r=hn(e),o=[];for(const i of r.outputs)i[1]===n&&(Xi(i)?ac(e,t,...i):sc(e,t,...i),o.push(i[0]),r.outputs.delete(i));return o},$2=(e,t,n,r,o)=>{const i=hn(e);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(Xi(a)?ac(e,t,...a):sc(e,t,...a),i.outputs.delete(a),a[0]))},H2=(e,t,n,r,o,i,a,s,l,c,u,d,f,g,b,C)=>class extends c{constructor(T,L,R,k){super(R),this._context=T,this._nativeAudioNode=R;const j=u(T);d(j)&&n(Yh,()=>Yh(j,C))!==!0&&q2(R),Th.set(this,R),Ih.set(this,new Set),T.state!=="closed"&&L&&oi(this),e(this,k,R)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,L=0,R=0){if(L<0||L>=this._nativeAudioNode.numberOfOutputs)throw o();const k=u(this._context),j=b(k);if(f(T)||g(T))throw i();if(ps(T)){const D=Qe(T);try{const E=ms(this._nativeAudioNode,D,L,R),S=ys(this);(j||S)&&this._nativeAudioNode.disconnect(...E),this.context.state!=="closed"&&!S&&ys(T)&&oi(T)}catch(E){throw E.code===12?i():E}if(t(this,T,L,R,j)){const E=l([this],T);ic(E,r(j))}return T}const N=Zi(T);if(N.name==="playbackRate"&&N.maxValue===1024)throw a();try{this._nativeAudioNode.connect(N,L),(j||ys(this))&&this._nativeAudioNode.disconnect(N,L)}catch(D){throw D.code===12?i():D}if(j2(this,T,L,j)){const D=l([this],T);ic(D,r(j))}}disconnect(T,L,R){let k;const j=u(this._context),N=b(j);if(T===void 0)k=W2(this,N);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw o();k=z2(this,N,T)}else{if(L!==void 0&&(L<0||L>=this.numberOfOutputs)||ps(T)&&R!==void 0&&(R<0||R>=T.numberOfInputs))throw o();if(k=$2(this,N,T,L,R),k.length===0)throw i()}for(const D of k){const E=l([this],D);ic(E,s)}}},V2=(e,t,n,r,o,i,a,s,l,c,u,d,f)=>(g,b,C,T=null,L=null)=>{const R=C.value,k=new n2(R),j=b?r(k):null,N={get defaultValue(){return R},get maxValue(){return T===null?C.maxValue:T},get minValue(){return L===null?C.minValue:L},get value(){return C.value},set value(D){C.value=D,N.setValueAtTime(D,g.context.currentTime)},cancelAndHoldAtTime(D){if(typeof C.cancelAndHoldAtTime=="function")j===null&&k.flush(g.context.currentTime),k.add(o(D)),C.cancelAndHoldAtTime(D);else{const E=Array.from(k).pop();j===null&&k.flush(g.context.currentTime),k.add(o(D));const S=Array.from(k).pop();C.cancelScheduledValues(D),E!==S&&S!==void 0&&(S.type==="exponentialRampToValue"?C.exponentialRampToValueAtTime(S.value,S.endTime):S.type==="linearRampToValue"?C.linearRampToValueAtTime(S.value,S.endTime):S.type==="setValue"?C.setValueAtTime(S.value,S.startTime):S.type==="setValueCurve"&&C.setValueCurveAtTime(S.values,S.startTime,S.duration))}return N},cancelScheduledValues(D){return j===null&&k.flush(g.context.currentTime),k.add(i(D)),C.cancelScheduledValues(D),N},exponentialRampToValueAtTime(D,E){if(D===0)throw new RangeError;if(!Number.isFinite(E)||E<0)throw new RangeError;const S=g.context.currentTime;return j===null&&k.flush(S),Array.from(k).length===0&&(k.add(c(R,S)),C.setValueAtTime(R,S)),k.add(a(D,E)),C.exponentialRampToValueAtTime(D,E),N},linearRampToValueAtTime(D,E){const S=g.context.currentTime;return j===null&&k.flush(S),Array.from(k).length===0&&(k.add(c(R,S)),C.setValueAtTime(R,S)),k.add(s(D,E)),C.linearRampToValueAtTime(D,E),N},setTargetAtTime(D,E,S){return j===null&&k.flush(g.context.currentTime),k.add(l(D,E,S)),C.setTargetAtTime(D,E,S),N},setValueAtTime(D,E){return j===null&&k.flush(g.context.currentTime),k.add(c(D,E)),C.setValueAtTime(D,E),N},setValueCurveAtTime(D,E,S){const M=D instanceof Float32Array?D:new Float32Array(D);if(d!==null&&d.name==="webkitAudioContext"){const x=E+S,m=g.context.sampleRate,y=Math.ceil(E*m),w=Math.floor(x*m),A=w-y,F=new Float32Array(A);for(let Y=0;Y<A;Y+=1){const G=(M.length-1)/S*((y+Y)/m-E),U=Math.floor(G),B=Math.ceil(G);F[Y]=U===B?M[U]:(1-(G-U))*M[U]+(1-(B-G))*M[B]}j===null&&k.flush(g.context.currentTime),k.add(u(F,E,S)),C.setValueCurveAtTime(F,E,S);const I=w/m;I<x&&f(N,F[F.length-1],I),f(N,M[M.length-1],x)}else j===null&&k.flush(g.context.currentTime),k.add(u(M,E,S)),C.setValueCurveAtTime(M,E,S);return N}};return n.set(N,C),t.set(N,g),e(N,j),N},Y2=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;t.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;t.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}}),G2=(e,t,n,r,o,i,a,s,l,c,u,d,f,g,b,C,T,L,R,k)=>class extends b{constructor(j,N){super(j,N),this._nativeContext=j,this._audioWorklet=e===void 0?void 0:{addModule:(D,E)=>e(this,D,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(j,N,D){return new n({length:N,numberOfChannels:j,sampleRate:D})}createBufferSource(){return new r(this)}createChannelMerger(j=6){return new i(this,{numberOfInputs:j})}createChannelSplitter(j=6){return new a(this,{numberOfOutputs:j})}createConstantSource(){return new s(this)}createConvolver(){return new l(this)}createDelay(j=1){return new u(this,{maxDelayTime:j})}createDynamicsCompressor(){return new d(this)}createGain(){return new f(this)}createIIRFilter(j,N){return new g(this,{feedback:N,feedforward:j})}createOscillator(){return new C(this)}createPanner(){return new T(this)}createPeriodicWave(j,N,D={disableNormalization:!1}){return new L(this,{...D,imag:N,real:j})}createStereoPanner(){return new R(this)}createWaveShaper(){return new k(this)}decodeAudioData(j,N,D){return c(this._nativeContext,j).then(E=>(typeof N=="function"&&N(E),E),E=>{throw typeof D=="function"&&D(E),E})}},X2={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Z2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const u=i(l),d={...X2,...c},f=o(u,d),g=a(u),b=g?n():null;super(l,!1,f,b),this._Q=t(this,g,f.Q,en,dn),this._detune=t(this,g,f.detune,1200*Math.log2(en),-1200*Math.log2(en)),this._frequency=t(this,g,f.frequency,l.sampleRate/2,0),this._gain=t(this,g,f.gain,40*Math.log10(en),dn),this._nativeBiquadFilterNode=f,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,c,u){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,c,u)}catch(d){throw d.code===11?r():d}if(l.length!==c.length||c.length!==u.length)throw r()}},J2=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const u=zt(c,l);if(!u){const d={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(l,d)}return i.set(l,c),u?(await e(l,s.Q,c.Q),await e(l,s.detune,c.detune),await e(l,s.frequency,c.frequency),await e(l,s.gain,c.gain)):(await r(l,s.Q,c.Q),await r(l,s.detune,c.detune),await r(l,s.frequency,c.frequency),await r(l,s.gain,c.gain)),await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},K2=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(e.set(n,a),a.catch(()=>!1).then(s=>(e.delete(n),t.set(n,s),s))):(t.set(n,a),a)}catch(a){return t.set(n,!1),!1}},Q2={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ey=(e,t,n,r,o)=>class extends e{constructor(i,a){const s=r(i),l={...Q2,...a},c=n(s,l),u=o(s)?t():null;super(i,!1,c,u)}},ty=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!zt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(a,l)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},ny={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ry=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=r(a),c=i({...ny,...s}),u=n(l,c),d=o(l)?t():null;super(a,!1,u,d)}},oy=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!zt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(a,l)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},iy=e=>(t,n,r)=>e(n,t,r),ay=e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},sy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ly=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),u={...sy,...l},d=r(c,u),f=i(c),g=f?n():null;super(s,!1,d,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=d,this._offset=t(this,f,d.offset,en,dn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(s){const l=typeof s=="function"?a(this,s):null;this._nativeConstantSourceNode.onended=l;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===l?s:c}start(s=0){if(this._nativeConstantSourceNode.start(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=s),this.context.state!=="closed"){oi(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),Pr(this)&&Yi(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(s=0){this._nativeConstantSourceNode.stop(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=s)}},cy=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const l=async(c,u)=>{let d=n(c);const f=zt(d,u);if(!f){const g={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=t(u,g),a!==null&&d.start(a),s!==null&&d.stop(s)}return i.set(u,d),f?await e(u,c.offset,d.offset):await r(u,c.offset,d.offset),await o(c,u,d),d};return{set start(c){a=c},set stop(c){s=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},uy=e=>t=>(e[0]=t,e[0]),dy={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},hy=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=r(a),c={...dy,...s},u=n(l,c),d=o(l)?t():null;super(a,!1,u,d),this._isBufferNullified=!1,this._nativeConvolverNode=u,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const s=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=s.createBuffer(1,1,s.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},fy=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!zt(s,a)){const l={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(a,l)}return r.set(a,s),ii(s)?await n(i,a,s.inputs[0]):await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},py=()=>new DOMException("","DataCloneError"),Xh=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>o();try{t.postMessage(e,[e])}catch(i){}finally{o()}})},my=(e,t,n,r,o,i,a,s,l,c,u)=>(d,f)=>{const g=a(d)?d:i(d);if(o.has(f)){const b=n();return Promise.reject(b)}try{o.add(f)}catch(b){}return t(l,()=>l(g))?g.decodeAudioData(f).then(b=>(Xh(f).catch(()=>{}),t(s,()=>s(b))||u(b),e.add(b),b)):new Promise((b,C)=>{const T=async()=>{try{await Xh(f)}catch(R){}},L=R=>{C(R),T()};try{g.decodeAudioData(f,R=>{typeof R.copyFromChannel!="function"&&(c(R),Bh(R)),e.add(R),T().then(()=>b(R))},R=>{L(R===null?r():R)})}catch(R){L(R)}})},gy=(e,t,n,r,o,i,a,s)=>(l,c)=>{const u=t.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=i(l.context),f=s(d);if(u===c){if(t.delete(l),!f&&a(l)){const g=r(l),{outputs:b}=n(l);for(const C of b)if(Xi(C)){const T=r(C[0]);e(g,T,C[1],C[2])}else{const T=o(C[0]);g.connect(T,C[1])}}}else t.set(l,u-c)},yy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},vy=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),u={...yy,...l},d=r(c,u),f=i(c),g=f?n(u.maxDelayTime):null;super(s,!1,d,g),this._delayTime=t(this,f,d.delayTime),a(this,u.maxDelayTime)}get delayTime(){return this._delayTime}},by=(e,t,n,r,o)=>i=>{const a=new WeakMap,s=async(l,c)=>{let u=n(l);const d=zt(u,c);if(!d){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=t(c,f)}return a.set(c,u),d?await e(c,l.delayTime,u.delayTime):await r(c,l.delayTime,u.delayTime),await o(l,c,u),u};return{render(l,c){const u=a.get(c);return u!==void 0?Promise.resolve(u):s(l,c)}}},wy=e=>(t,n,r,o)=>e(t[o],i=>i[0]===n&&i[1]===r),xy=e=>"delayTime"in e,_y=(e,t,n)=>function r(o,i){const a=ps(i)?i:n(e,i);if(xy(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:s}=t(a);return Array.from(s).map(l=>r([...o,a],l[0])).reduce((l,c)=>l.concat(c),[])},Sy={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Cy=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const u=i(l),d={...Sy,...c},f=r(u,d),g=a(u),b=g?n():null;super(l,!1,f,b),this._attack=t(this,g,f.attack),this._knee=t(this,g,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=t(this,g,f.ratio),this._release=t(this,g,f.release),this._threshold=t(this,g,f.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=c,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},My=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const u=zt(c,l);if(!u){const d={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(l,d)}return i.set(l,c),u?(await e(l,s.attack,c.attack),await e(l,s.knee,c.knee),await e(l,s.ratio,c.ratio),await e(l,s.release,c.release),await e(l,s.threshold,c.threshold)):(await r(l,s.attack,c.attack),await r(l,s.knee,c.knee),await r(l,s.ratio,c.ratio),await r(l,s.release,c.release),await r(l,s.threshold,c.threshold)),await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},Ay=()=>new DOMException("","EncodingError"),Ey=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const i=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(a),l=e.onerror,c=()=>{e.onerror=l,URL.revokeObjectURL(s)};e.onerror=(u,d,f,g,b)=>{if(d===s||d===e.location.href&&f===1&&g===1)return c(),r(b),!1;if(l!==null)return l(u,d,f,g,b)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=s,i.type="module",o.appendChild(i)}}),Ty=e=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,n,r){if(n!==null){let o=this._listeners.get(n);o===void 0&&(o=e(this,n),typeof n=="function"&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(t,o,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,n,r){const o=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,r)}},ky=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},Fy=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch(n){}throw e()},Oy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Iy=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=o(a),c={...Oy,...s},u=r(l,c),d=i(l),f=d?n():null;super(a,!1,u,f),this._gain=t(this,d,u.gain,en,dn)}get gain(){return this._gain}},Ry=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const u=zt(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(l,d)}return i.set(l,c),u?await e(l,s.gain,c.gain):await r(l,s.gain,c.gain),await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},Py=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Dy=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},Ny=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},$t=()=>new DOMException("","InvalidStateError"),Ly=e=>t=>{const n=e.get(t);if(n===void 0)throw $t();return n},qy=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},vs=()=>new DOMException("","InvalidAccessError"),jy=e=>{e.getFrequencyResponse=(t=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw vs();return t.call(e,n,r,o)})(e.getFrequencyResponse)},Uy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},By=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=r(a),c=o(l),u={...Uy,...s},d=t(l,c?null:a.baseLatency,u),f=c?n(u.feedback,u.feedforward):null;super(a,!1,d,f),jy(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,s,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,s,l)}},Zh=(e,t,n,r,o,i,a,s,l,c,u)=>{const d=c.length;let f=s;for(let g=0;g<d;g+=1){let b=n[0]*c[g];for(let C=1;C<o;C+=1){const T=f-C&l-1;b+=n[C]*i[T],b-=e[C]*a[T]}for(let C=o;C<r;C+=1)b+=n[C]*i[f-C&l-1];for(let C=o;C<t;C+=1)b-=e[C]*a[f-C&l-1];i[f]=c[g],a[f]=b,f=f+1&l-1,u[g]=b}return f},Wy=(e,t,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),a=o.length,s=i.length,l=Math.min(a,s);if(o[0]!==1){for(let b=0;b<a;b+=1)i[b]/=o[0];for(let b=1;b<s;b+=1)o[b]/=o[0]}const c=32,u=new Float32Array(c),d=new Float32Array(c),f=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),g=e.numberOfChannels;for(let b=0;b<g;b+=1){const C=e.getChannelData(b),T=f.getChannelData(b);u.fill(0),d.fill(0),Zh(o,a,i,s,l,u,d,0,c,C,T)}return f},zy=(e,t,n,r,o)=>(i,a)=>{const s=new WeakMap;let l=null;const c=async(u,d)=>{let f=null,g=t(u);const b=zt(g,d);if(d.createIIRFilter===void 0?f=e(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):b||(g=d.createIIRFilter(a,i)),s.set(d,f===null?g:f),f!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new n(u.context.destination.channelCount,u.context.length,d.sampleRate);l=(async()=>{await r(u,T,T.destination);const L=await o(T);return Wy(L,d,i,a)})()}const C=await l;return f.buffer=C,f.start(0),f}return await r(u,d,g),g};return{render(u,d){const f=s.get(d);return f!==void 0?Promise.resolve(f):c(u,d)}}},$y=(e,t,n,r,o,i)=>a=>(s,l)=>{const c=e.get(s);if(c===void 0){if(!a&&i(s)){const u=r(s),{outputs:d}=n(s);for(const f of d)if(Xi(f)){const g=r(f[0]);t(u,g,f[1],f[2])}else{const g=o(f[0]);u.disconnect(g,f[1])}}e.set(s,l)}else e.set(s,c+l)},Hy=e=>t=>e!==null&&t instanceof e,Vy=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,Yy=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,Gy=(e,t)=>n=>e(n)||t(n),Xy=e=>t=>e!==null&&t instanceof e,Zy=e=>e!==null&&e.isSecureContext,Jy=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o),s=t(a,i);if(r(a))throw TypeError();super(o,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Ky={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Qy=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o);if(r(a))throw new TypeError;const s={...Ky,...i},l=t(a,s);super(o,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},ev=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o),s=t(a,i);if(r(a))throw new TypeError;super(o,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},tv=(e,t,n)=>class extends e{constructor(r,o){const i=n(r),a=t(i,o);super(r,!0,a,null)}},nv=(e,t,n,r,o,i)=>class extends n{constructor(a,s){super(a),this._nativeContext=a,Oh.set(this,a),r(a)&&o.set(a,new Set),this._destination=new e(this,s),this._listener=t(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const s=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=s;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===s?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},lc=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch(n){}return!1},rv=(e,t)=>(n,r,o)=>{const i=new Set;return n.connect=(a=>(s,l=0,c=0)=>{const u=i.size===0;if(t(s))return a.call(n,s,l,c),e(i,[s,l,c],d=>d[0]===s&&d[1]===l&&d[2]===c,!0),u&&r(),s;a.call(n,s,l),e(i,[s,l],d=>d[0]===s&&d[1]===l,!0),u&&r()})(n.connect),n.disconnect=(a=>(s,l,c)=>{const u=i.size>0;if(s===void 0)a.apply(n),i.clear();else if(typeof s=="number"){a.call(n,s);for(const f of i)f[1]===s&&i.delete(f)}else{t(s)?a.call(n,s,l,c):a.call(n,s,l);for(const f of i)f[0]===s&&(l===void 0||f[1]===l)&&(c===void 0||f[2]===c)&&i.delete(f)}const d=i.size===0;u&&d&&o()})(n.disconnect),n},Je=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},yt=(e,t)=>{Je(e,t,"channelCount"),Je(e,t,"channelCountMode"),Je(e,t,"channelInterpretation")},Jh=e=>typeof e.getFloatTimeDomainData=="function",ov=e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let o=0;o<r;o+=1)t[o]=(n[o]-128)*.0078125;return t}},iv=(e,t)=>(n,r)=>{const o=n.createAnalyser();if(yt(o,r),!(r.maxDecibels>r.minDecibels))throw t();return Je(o,r,"fftSize"),Je(o,r,"maxDecibels"),Je(o,r,"minDecibels"),Je(o,r,"smoothingTimeConstant"),e(Jh,()=>Jh(o))||ov(o),o},av=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,tt=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},sv=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw $t();t.call(e,r,o,i),n=!0}})(e.start)},cc=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},uc=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},lv=(e,t,n,r,o,i,a,s,l,c,u)=>(d,f)=>{const g=d.createBufferSource();return yt(g,f),tt(g,f,"playbackRate"),Je(g,f,"buffer"),Je(g,f,"loop"),Je(g,f,"loopEnd"),Je(g,f,"loopStart"),t(n,()=>n(d))||sv(g),t(r,()=>r(d))||l(g),t(o,()=>o(d))||c(g,d),t(i,()=>i(d))||cc(g),t(a,()=>a(d))||u(g,d),t(s,()=>s(d))||uc(g),e(d,g),g},cv=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,uv=(e,t)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch(s){}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=e(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return t(a,"channelCount",s=>()=>s.call(a),s=>l=>{s.call(a,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),t(a,"channelCountMode",s=>()=>s.call(a),s=>l=>{s.call(a,l),i.channelCountMode=l}),t(a,"channelInterpretation",s=>()=>s.call(a),s=>l=>{s.call(a,l),i.channelInterpretation=l}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},dv=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,hv=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Kh=(e,t)=>{const n=e.createBiquadFilter();return yt(n,t),tt(n,t,"Q"),tt(n,t,"detune"),tt(n,t,"frequency"),tt(n,t,"gain"),Je(n,t,"type"),n},fv=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),yt(o,r),o},pv=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw $t()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw $t()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw $t()}})},dc=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return yt(n,t),pv(n),n},mv=(e,t,n,r,o)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const s=i.createConstantSource();return yt(s,a),tt(s,a,"offset"),t(r,()=>r(i))||cc(s),t(o,()=>o(i))||uc(s),e(i,s),s},ai=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),gv=(e,t,n,r)=>(o,{offset:i,...a})=>{const s=o.createBuffer(1,2,44100),l=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(o,{...a,gain:i}),u=s.getChannelData(0);u[0]=1,u[1]=1,l.buffer=s,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(b){c.channelCount=b},get channelCountMode(){return c.channelCountMode},set channelCountMode(b){c.channelCountMode=b},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(b){c.channelInterpretation=b},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(b){l.onended=b},addEventListener(...b){return l.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return l.dispatchEvent(b[0])},removeEventListener(...b){return l.removeEventListener(b[0],b[1],b[2])},start(b=0){l.start.call(l,b)},stop(b=0){l.stop.call(l,b)}},f=()=>l.connect(c),g=()=>l.disconnect(c);return e(o,l),r(ai(d,c),f,g)},yv=(e,t)=>(n,r)=>{const o=n.createConvolver();if(yt(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Je(o,r,"buffer"),r.channelCount>2||(t(o,"channelCount",i=>()=>i.call(o),i=>a=>{if(a>2)throw e();return i.call(o,a)}),r.channelCountMode==="max"))throw e();return t(o,"channelCountMode",i=>()=>i.call(o),i=>a=>{if(a==="max")throw e();return i.call(o,a)}),o},Qh=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return yt(n,t),tt(n,t,"delayTime"),n},vv=e=>(t,n)=>{const r=t.createDynamicsCompressor();if(yt(r,n),n.channelCount>2||n.channelCountMode==="max")throw e();return tt(r,n,"attack"),tt(r,n,"knee"),tt(r,n,"ratio"),tt(r,n,"release"),tt(r,n,"threshold"),r},Un=(e,t)=>{const n=e.createGain();return yt(n,t),tt(n,t,"gain"),n},bv=e=>(t,n,r)=>{if(t.createIIRFilter===void 0)return e(t,n,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return yt(o,r),o};function wv(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function xv(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function ef(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)n=xv(n,t),n[0]+=e[r];return n}const _v=(e,t,n,r)=>(o,i,{channelCount:a,channelCountMode:s,channelInterpretation:l,feedback:c,feedforward:u})=>{const d=hv(i,o.sampleRate),f=c instanceof Float64Array?c:new Float64Array(c),g=u instanceof Float64Array?u:new Float64Array(u),b=f.length,C=g.length,T=Math.min(b,C);if(b===0||b>20)throw r();if(f[0]===0)throw t();if(C===0||C>20)throw r();if(g[0]===0)throw t();if(f[0]!==1){for(let E=0;E<C;E+=1)g[E]/=f[0];for(let E=1;E<b;E+=1)f[E]/=f[0]}const L=n(o,d,a,a);L.channelCount=a,L.channelCountMode=s,L.channelInterpretation=l;const R=32,k=[],j=[],N=[];for(let E=0;E<a;E+=1){k.push(0);const S=new Float32Array(R),M=new Float32Array(R);S.fill(0),M.fill(0),j.push(S),N.push(M)}L.onaudioprocess=E=>{const S=E.inputBuffer,M=E.outputBuffer,x=S.numberOfChannels;for(let m=0;m<x;m+=1){const y=S.getChannelData(m),w=M.getChannelData(m);k[m]=Zh(f,b,g,C,T,j[m],N[m],k[m],R,y,w)}};const D=o.sampleRate/2;return ai({get bufferSize(){return d},get channelCount(){return L.channelCount},set channelCount(E){L.channelCount=E},get channelCountMode(){return L.channelCountMode},set channelCountMode(E){L.channelCountMode=E},get channelInterpretation(){return L.channelInterpretation},set channelInterpretation(E){L.channelInterpretation=E},get context(){return L.context},get inputs(){return[L]},get numberOfInputs(){return L.numberOfInputs},get numberOfOutputs(){return L.numberOfOutputs},addEventListener(...E){return L.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return L.dispatchEvent(E[0])},getFrequencyResponse(E,S,M){if(E.length!==S.length||S.length!==M.length)throw e();const x=E.length;for(let m=0;m<x;m+=1){const y=-Math.PI*(E[m]/D),w=[Math.cos(y),Math.sin(y)],A=ef(g,w),F=ef(f,w),I=wv(A,F);S[m]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),M[m]=Math.atan2(I[1],I[0])}},removeEventListener(...E){return L.removeEventListener(E[0],E[1],E[2])}},L)},Sv=(e,t)=>e.createMediaElementSource(t.mediaElement),Cv=(e,t)=>{const n=e.createMediaStreamDestination();return yt(n,t),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Mv=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},Av=(e,t)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw e();if(t(n))throw new TypeError;return i},Ev=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,Tv=(e,t,n,r,o,i)=>(a,s)=>{const l=a.createOscillator();return yt(l,s),tt(l,s,"detune"),tt(l,s,"frequency"),s.periodicWave!==void 0?l.setPeriodicWave(s.periodicWave):Je(l,s,"type"),t(n,()=>n(a))||cc(l),t(r,()=>r(a))||i(l,a),t(o,()=>o(a))||uc(l),e(a,l),l},kv=e=>(t,n)=>{const r=t.createPanner();return r.orientationX===void 0?e(t,n):(yt(r,n),tt(r,n,"orientationX"),tt(r,n,"orientationY"),tt(r,n,"orientationZ"),tt(r,n,"positionX"),tt(r,n,"positionY"),tt(r,n,"positionZ"),Je(r,n,"coneInnerAngle"),Je(r,n,"coneOuterAngle"),Je(r,n,"coneOuterGain"),Je(r,n,"distanceModel"),Je(r,n,"maxDistance"),Je(r,n,"panningModel"),Je(r,n,"refDistance"),Je(r,n,"rolloffFactor"),r)},Fv=(e,t,n,r,o,i,a,s,l,c)=>(u,{coneInnerAngle:d,coneOuterAngle:f,coneOuterGain:g,distanceModel:b,maxDistance:C,orientationX:T,orientationY:L,orientationZ:R,panningModel:k,positionX:j,positionY:N,positionZ:D,refDistance:E,rolloffFactor:S,...M})=>{const x=u.createPanner();if(M.channelCount>2||M.channelCountMode==="max")throw a();yt(x,M);const m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},y=n(u,{...m,channelInterpretation:"speakers",numberOfInputs:6}),w=r(u,{...M,gain:1}),A=r(u,{...m,gain:1}),F=r(u,{...m,gain:0}),I=r(u,{...m,gain:0}),Y=r(u,{...m,gain:0}),G=r(u,{...m,gain:0}),U=r(u,{...m,gain:0}),B=o(u,256,6,1),H=i(u,{...m,curve:new Float32Array([1,1]),oversample:"none"});let K=[T,L,R],de=[j,N,D];const J=new Float32Array(1);B.onaudioprocess=({inputBuffer:re})=>{const Re=[l(re,J,0),l(re,J,1),l(re,J,2)];Re.some((ke,Be)=>ke!==K[Be])&&(x.setOrientation(...Re),K=Re);const _e=[l(re,J,3),l(re,J,4),l(re,J,5)];_e.some((ke,Be)=>ke!==de[Be])&&(x.setPosition(..._e),de=_e)},Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(re){if(re>2)throw a();w.channelCount=re,x.channelCount=re},get channelCountMode(){return x.channelCountMode},set channelCountMode(re){if(re==="max")throw a();w.channelCountMode=re,x.channelCountMode=re},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(re){w.channelInterpretation=re,x.channelInterpretation=re},get coneInnerAngle(){return x.coneInnerAngle},set coneInnerAngle(re){x.coneInnerAngle=re},get coneOuterAngle(){return x.coneOuterAngle},set coneOuterAngle(re){x.coneOuterAngle=re},get coneOuterGain(){return x.coneOuterGain},set coneOuterGain(re){if(re<0||re>1)throw t();x.coneOuterGain=re},get context(){return x.context},get distanceModel(){return x.distanceModel},set distanceModel(re){x.distanceModel=re},get inputs(){return[w]},get maxDistance(){return x.maxDistance},set maxDistance(re){if(re<0)throw new RangeError;x.maxDistance=re},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return F.gain},get orientationZ(){return I.gain},get panningModel(){return x.panningModel},set panningModel(re){x.panningModel=re},get positionX(){return Y.gain},get positionY(){return G.gain},get positionZ(){return U.gain},get refDistance(){return x.refDistance},set refDistance(re){if(re<0)throw new RangeError;x.refDistance=re},get rolloffFactor(){return x.rolloffFactor},set rolloffFactor(re){if(re<0)throw new RangeError;x.rolloffFactor=re},addEventListener(...re){return w.addEventListener(re[0],re[1],re[2])},dispatchEvent(...re){return w.dispatchEvent(re[0])},removeEventListener(...re){return w.removeEventListener(re[0],re[1],re[2])}};d!==ie.coneInnerAngle&&(ie.coneInnerAngle=d),f!==ie.coneOuterAngle&&(ie.coneOuterAngle=f),g!==ie.coneOuterGain&&(ie.coneOuterGain=g),b!==ie.distanceModel&&(ie.distanceModel=b),C!==ie.maxDistance&&(ie.maxDistance=C),T!==ie.orientationX.value&&(ie.orientationX.value=T),L!==ie.orientationY.value&&(ie.orientationY.value=L),R!==ie.orientationZ.value&&(ie.orientationZ.value=R),k!==ie.panningModel&&(ie.panningModel=k),j!==ie.positionX.value&&(ie.positionX.value=j),N!==ie.positionY.value&&(ie.positionY.value=N),D!==ie.positionZ.value&&(ie.positionZ.value=D),E!==ie.refDistance&&(ie.refDistance=E),S!==ie.rolloffFactor&&(ie.rolloffFactor=S),(K[0]!==1||K[1]!==0||K[2]!==0)&&x.setOrientation(...K),(de[0]!==0||de[1]!==0||de[2]!==0)&&x.setPosition(...de);const be=()=>{w.connect(x),e(w,H,0,0),H.connect(A).connect(y,0,0),H.connect(F).connect(y,0,1),H.connect(I).connect(y,0,2),H.connect(Y).connect(y,0,3),H.connect(G).connect(y,0,4),H.connect(U).connect(y,0,5),y.connect(B).connect(u.destination)},Ae=()=>{w.disconnect(x),s(w,H,0,0),H.disconnect(A),A.disconnect(y),H.disconnect(F),F.disconnect(y),H.disconnect(I),I.disconnect(y),H.disconnect(Y),Y.disconnect(y),H.disconnect(G),G.disconnect(y),H.disconnect(U),U.disconnect(y),y.disconnect(B),B.disconnect(u.destination)};return c(ai(ie,x),be,Ae)},Ov=e=>(t,{disableNormalization:n,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),a=o instanceof Float32Array?o:new Float32Array(o),s=t.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(r).length<2)throw e();return s},bs=(e,t,n,r)=>e.createScriptProcessor(t,n,r),Iv=(e,t)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw t();if(n.createStereoPanner===void 0)return e(n,r);const i=n.createStereoPanner();return yt(i,r),tt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:a=>{if(a!==o)throw t()}}),i},Rv=(e,t,n,r,o,i)=>{const a=new Float32Array([1,1]),s=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...l,oversample:"none"},u=(g,b,C,T)=>{const L=new Float32Array(16385),R=new Float32Array(16385);for(let S=0;S<16385;S+=1){const M=S/16384*s;L[S]=Math.cos(M),R[S]=Math.sin(M)}const k=n(g,{...l,gain:0}),j=r(g,{...c,curve:L}),N=r(g,{...c,curve:a}),D=n(g,{...l,gain:0}),E=r(g,{...c,curve:R});return{connectGraph(){b.connect(k),b.connect(N.inputs===void 0?N:N.inputs[0]),b.connect(D),N.connect(C),C.connect(j.inputs===void 0?j:j.inputs[0]),C.connect(E.inputs===void 0?E:E.inputs[0]),j.connect(k.gain),E.connect(D.gain),k.connect(T,0,0),D.connect(T,0,1)},disconnectGraph(){b.disconnect(k),b.disconnect(N.inputs===void 0?N:N.inputs[0]),b.disconnect(D),N.disconnect(C),C.disconnect(j.inputs===void 0?j:j.inputs[0]),C.disconnect(E.inputs===void 0?E:E.inputs[0]),j.disconnect(k.gain),E.disconnect(D.gain),k.disconnect(T,0,0),D.disconnect(T,0,1)}}},d=(g,b,C,T)=>{const L=new Float32Array(16385),R=new Float32Array(16385),k=new Float32Array(16385),j=new Float32Array(16385),N=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>N){const Y=(I-N)/(16384-N)*s;L[I]=Math.cos(Y),R[I]=Math.sin(Y),k[I]=0,j[I]=1}else{const Y=I/(16384-N)*s;L[I]=1,R[I]=0,k[I]=Math.cos(Y),j[I]=Math.sin(Y)}const D=t(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=n(g,{...l,gain:0}),S=r(g,{...c,curve:L}),M=n(g,{...l,gain:0}),x=r(g,{...c,curve:R}),m=r(g,{...c,curve:a}),y=n(g,{...l,gain:0}),w=r(g,{...c,curve:k}),A=n(g,{...l,gain:0}),F=r(g,{...c,curve:j});return{connectGraph(){b.connect(D),b.connect(m.inputs===void 0?m:m.inputs[0]),D.connect(E,0),D.connect(M,0),D.connect(y,1),D.connect(A,1),m.connect(C),C.connect(S.inputs===void 0?S:S.inputs[0]),C.connect(x.inputs===void 0?x:x.inputs[0]),C.connect(w.inputs===void 0?w:w.inputs[0]),C.connect(F.inputs===void 0?F:F.inputs[0]),S.connect(E.gain),x.connect(M.gain),w.connect(y.gain),F.connect(A.gain),E.connect(T,0,0),y.connect(T,0,0),M.connect(T,0,1),A.connect(T,0,1)},disconnectGraph(){b.disconnect(D),b.disconnect(m.inputs===void 0?m:m.inputs[0]),D.disconnect(E,0),D.disconnect(M,0),D.disconnect(y,1),D.disconnect(A,1),m.disconnect(C),C.disconnect(S.inputs===void 0?S:S.inputs[0]),C.disconnect(x.inputs===void 0?x:x.inputs[0]),C.disconnect(w.inputs===void 0?w:w.inputs[0]),C.disconnect(F.inputs===void 0?F:F.inputs[0]),S.disconnect(E.gain),x.disconnect(M.gain),w.disconnect(y.gain),F.disconnect(A.gain),E.disconnect(T,0,0),y.disconnect(T,0,0),M.disconnect(T,0,1),A.disconnect(T,0,1)}}},f=(g,b,C,T,L)=>{if(b===1)return u(g,C,T,L);if(b===2)return d(g,C,T,L);throw o()};return(g,{channelCount:b,channelCountMode:C,pan:T,...L})=>{if(C==="max")throw o();const R=e(g,{...L,channelCount:1,channelCountMode:C,numberOfInputs:2}),k=n(g,{...L,channelCount:b,channelCountMode:C,gain:1}),j=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:N,disconnectGraph:D}=f(g,b,k,j,R);Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"maxValue",{get:()=>1}),Object.defineProperty(j.gain,"minValue",{get:()=>-1});const E={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(m){k.channelCount!==m&&(S&&D(),{connectGraph:N,disconnectGraph:D}=f(g,m,k,j,R),S&&N()),k.channelCount=m},get channelCountMode(){return k.channelCountMode},set channelCountMode(m){if(m==="clamped-max"||m==="max")throw o();k.channelCountMode=m},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(m){k.channelInterpretation=m},get context(){return k.context},get inputs(){return[k]},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get pan(){return j.gain},addEventListener(...m){return k.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return k.dispatchEvent(m[0])},removeEventListener(...m){return k.removeEventListener(m[0],m[1],m[2])}};let S=!1;const M=()=>{N(),S=!0},x=()=>{D(),S=!1};return i(ai(E,R),M,x)}},Pv=(e,t,n,r,o,i,a)=>(s,l)=>{const c=s.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&s.createGain().gain.automationRate===void 0)return n(s,l);yt(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw t();Je(c,{curve:u},"curve"),Je(c,l,"oversample");let d=null,f=!1;return a(c,"curve",g=>()=>g.call(c),g=>b=>(g.call(c,b),f&&(r(b)&&d===null?d=e(s,c):!r(b)&&d!==null&&(d(),d=null)),b)),o(c,()=>{f=!0,r(c.curve)&&(d=e(s,c))},()=>{f=!1,d!==null&&(d(),d=null)})},Dv=(e,t,n,r,o)=>(i,{curve:a,oversample:s,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();yt(c,l),yt(u,l);const d=n(i,{...l,gain:1}),f=n(i,{...l,gain:-1}),g=n(i,{...l,gain:1}),b=n(i,{...l,gain:-1});let C=null,T=!1,L=null;const R={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(N){d.channelCount=N,f.channelCount=N,c.channelCount=N,g.channelCount=N,u.channelCount=N,b.channelCount=N},get channelCountMode(){return c.channelCountMode},set channelCountMode(N){d.channelCountMode=N,f.channelCountMode=N,c.channelCountMode=N,g.channelCountMode=N,u.channelCountMode=N,b.channelCountMode=N},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(N){d.channelInterpretation=N,f.channelInterpretation=N,c.channelInterpretation=N,g.channelInterpretation=N,u.channelInterpretation=N,b.channelInterpretation=N},get context(){return c.context},get curve(){return L},set curve(N){if(N!==null&&N.length<2)throw t();if(N===null)c.curve=N,u.curve=N;else{const D=N.length,E=new Float32Array(D+2-D%2),S=new Float32Array(D+2-D%2);E[0]=N[0],S[0]=-N[D-1];const M=Math.ceil((D+1)/2),x=(D+1)/2-1;for(let m=1;m<M;m+=1){const y=m/M*x,w=Math.floor(y),A=Math.ceil(y);E[m]=w===A?N[w]:(1-(y-w))*N[w]+(1-(A-y))*N[A],S[m]=w===A?-N[D-1-w]:-((1-(y-w))*N[D-1-w])-(1-(A-y))*N[D-1-A]}E[M]=D%2===1?N[M-1]:(N[M-2]+N[M-1])/2,c.curve=E,u.curve=S}L=N,T&&(r(L)&&C===null?C=e(i,d):C!==null&&(C(),C=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(N){c.oversample=N,u.oversample=N},addEventListener(...N){return d.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return d.dispatchEvent(N[0])},removeEventListener(...N){return d.removeEventListener(N[0],N[1],N[2])}};a!==null&&(R.curve=a instanceof Float32Array?a:new Float32Array(a)),s!==R.oversample&&(R.oversample=s);const k=()=>{d.connect(c).connect(g),d.connect(f).connect(u).connect(b).connect(g),T=!0,r(L)&&(C=e(i,d))},j=()=>{d.disconnect(c),c.disconnect(g),d.disconnect(f),f.disconnect(u),u.disconnect(b),b.disconnect(g),T=!1,C!==null&&(C(),C=null)};return o(ai(R,g),k,j)},Sn=()=>new DOMException("","NotSupportedError"),Nv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Lv=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),u={...Nv,...l},d=n(c,u),f=i(c),g=f?r():null,b=s.sampleRate/2;super(s,!1,d,g),this._detune=t(this,f,d.detune,153600,-153600),this._frequency=t(this,f,d.frequency,b,-b),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&u.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(s){const l=typeof s=="function"?a(this,s):null;this._nativeOscillatorNode.onended=l;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===l?s:c}get type(){return this._nativeOscillatorNode.type}set type(s){this._nativeOscillatorNode.type=s,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(s){this._nativeOscillatorNode.setPeriodicWave(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=s)}start(s=0){if(this._nativeOscillatorNode.start(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=s),this.context.state!=="closed"){oi(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),Pr(this)&&Yi(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(s=0){this._nativeOscillatorNode.stop(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=s)}},qv=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null,l=null;const c=async(u,d)=>{let f=n(u);const g=zt(f,d);if(!g){const b={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:a===null?void 0:a,type:f.type};f=t(d,b),s!==null&&f.start(s),l!==null&&f.stop(l)}return i.set(d,f),g?(await e(d,u.detune,f.detune),await e(d,u.frequency,f.frequency)):(await r(d,u.detune,f.detune),await r(d,u.frequency,f.frequency)),await o(u,d,f),f};return{set periodicWave(u){a=u},set start(u){s=u},set stop(u){l=u},render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):c(u,d)}}},jv={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Uv=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),u={...jv,...l},d=n(c,u),f=i(c),g=f?r():null;super(s,!1,d,g),this._nativePannerNode=d,this._orientationX=t(this,f,d.orientationX,en,dn),this._orientationY=t(this,f,d.orientationY,en,dn),this._orientationZ=t(this,f,d.orientationZ,en,dn),this._positionX=t(this,f,d.positionX,en,dn),this._positionY=t(this,f,d.positionY,en,dn),this._positionZ=t(this,f,d.positionZ,en,dn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(s){this._nativePannerNode.coneInnerAngle=s}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(s){this._nativePannerNode.coneOuterAngle=s}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(s){this._nativePannerNode.coneOuterGain=s}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(s){this._nativePannerNode.distanceModel=s}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(s){this._nativePannerNode.maxDistance=s}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(s){this._nativePannerNode.panningModel=s}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(s){this._nativePannerNode.refDistance=s}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(s){this._nativePannerNode.rolloffFactor=s}},Bv=(e,t,n,r,o,i,a,s,l,c)=>()=>{const u=new WeakMap;let d=null;const f=async(g,b)=>{let C=null,T=i(g);const L={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},R={...L,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},k=zt(T,b);if("bufferSize"in T)C=r(b,{...L,gain:1});else if(!k){const j={...R,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=o(b,j)}if(u.set(b,C===null?T:C),C!==null){if(d===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const m=new a(6,g.context.length,b.sampleRate),y=t(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});y.connect(m.destination),d=(async()=>{const w=await Promise.all([g.orientationX,g.orientationY,g.orientationZ,g.positionX,g.positionY,g.positionZ].map(async(A,F)=>{const I=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F===0?1:0});return await s(m,A,I.offset),I}));for(let A=0;A<6;A+=1)w[A].connect(y,0,A),w[A].start(0);return c(m)})()}const j=await d,N=r(b,{...L,gain:1});await l(g,b,N);const D=[];for(let m=0;m<j.numberOfChannels;m+=1)D.push(j.getChannelData(m));let E=[D[0][0],D[1][0],D[2][0]],S=[D[3][0],D[4][0],D[5][0]],M=r(b,{...L,gain:1}),x=o(b,{...R,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:S[0],positionY:S[1],positionZ:S[2]});N.connect(M).connect(x.inputs[0]),x.connect(C);for(let m=128;m<j.length;m+=128){const y=[D[0][m],D[1][m],D[2][m]],w=[D[3][m],D[4][m],D[5][m]];if(y.some((A,F)=>A!==E[F])||w.some((A,F)=>A!==S[F])){E=y,S=w;const A=m/b.sampleRate;M.gain.setValueAtTime(0,A),M=r(b,{...L,gain:0}),x=o(b,{...R,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:S[0],positionY:S[1],positionZ:S[2]}),M.gain.setValueAtTime(1,A),N.connect(M).connect(x.inputs[0]),x.connect(C)}}return C}return k?(await e(b,g.orientationX,T.orientationX),await e(b,g.orientationY,T.orientationY),await e(b,g.orientationZ,T.orientationZ),await e(b,g.positionX,T.positionX),await e(b,g.positionY,T.positionY),await e(b,g.positionZ,T.positionZ)):(await s(b,g.orientationX,T.orientationX),await s(b,g.orientationY,T.orientationY),await s(b,g.orientationZ,T.orientationZ),await s(b,g.positionX,T.positionX),await s(b,g.positionY,T.positionY),await s(b,g.positionZ,T.positionZ)),ii(T)?await l(g,b,T.inputs[0]):await l(g,b,T),T};return{render(g,b){const C=u.get(b);return C!==void 0?Promise.resolve(C):f(g,b)}}},Wv={disableNormalization:!1},zv=(e,t,n,r)=>class Im{constructor(i,a){const s=t(i),l=r({...Wv,...a}),c=e(s,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Im.prototype||n.has(i)}},$v=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),Hv=(e,t,n)=>async(r,o,i)=>{const a=e(r);await Promise.all(a.activeInputs.map((s,l)=>Array.from(s).map(async([c,u])=>{const d=await t(c).render(c,o),f=r.context.destination;!n(c)&&(r!==f||!n(r))&&d.connect(i,u,l)})).reduce((s,l)=>[...s,...l],[]))},Vv=(e,t,n)=>async(r,o,i)=>{const a=t(r);await Promise.all(Array.from(a.activeInputs).map(async([s,l])=>{const c=await e(s).render(s,o);n(s)||c.connect(i,l)}))},Yv=(e,t,n,r)=>o=>e(lc,()=>lc(o))?Promise.resolve(e(r,r)).then(i=>{if(!i){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const a=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=s=>{a.disconnect(),i(s.renderedBuffer)},a.connect(o.destination),o.startRendering()}),Gv=e=>(t,n)=>e.set(t,n),Xv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Zv=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=o(a),c={...Xv,...s},u=n(l,c),d=i(l),f=d?r():null;super(a,!1,u,f),this._pan=t(this,d,u.pan)}get pan(){return this._pan}},Jv=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const u=zt(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(l,d)}return i.set(l,c),u?await e(l,s.pan,c.pan):await r(l,s.pan,c.pan),ii(c)?await o(s,l,c.inputs[0]):await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},Kv=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch(t){return!1}return!0},Qv=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(o);const s=new e(r,"a",{numberOfOutputs:0}),l=r.createOscillator();s.port.onmessage=()=>i=!0,s.onprocessorerror=()=>a=!0,l.connect(s),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch(s){}finally{URL.revokeObjectURL(o)}return i&&!a},eb=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},tb=()=>new DOMException("","UnknownError"),nb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},rb=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),u={...nb,...l},d=n(c,u),f=i(c)?r():null;super(s,!0,d,f),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(s){if(s===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(s.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=s}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(s){this._nativeWaveShaperNode.oversample=s}},ob=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!zt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(a,l)}return r.set(a,s),ii(s)?await n(i,a,s.inputs[0]):await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},ib=()=>typeof window>"u"?null:window,ab=(e,t)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(s),u=r.length;for(let d=a<0?-a:0;d+a<l&&d<u;d+=1)r[d]=c[d+a]},n.copyToChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(s),u=r.length;for(let d=a<0?-a:0;d+a<l&&d<u;d+=1)c[d+a]=r[d]}},sb=e=>t=>{t.copyFromChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyToChannel)},lb=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const i=o.call(t);return i===r?null:i},o=>i=>o.call(t,i===null?r:i))},cb=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const i=r.numberOfInputs;for(let a=0;a<i;a+=1)o.connect(r,0,a)},()=>o.disconnect(r))},tf=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),nf=e=>{if(e===null)return!1;const t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0},Ji=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:i,set:a}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(i),set:r(a)})},ub=e=>({...e,channelCount:e.numberOfOutputs}),db=e=>{const{imag:t,real:n}=e;return t===void 0?n===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,()=>0),real:n}:n===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:n}},rf=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;rf(e,t,n+1e-7)}},hb=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch(n){return!0}return!1},fb=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch(r){return!1}return!0},pb=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch(n){return!1}return!0},hc=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},of=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},fc=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},mb=e=>{e.start=(t=>(n=0,r=0,o)=>{const i=e.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,o)})(e.start)},af=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),ai(e,n),e.stop=(o=>{let i=!1;return(a=0)=>{if(i)try{o.call(e,a)}catch(s){n.gain.setValueAtTime(0,a)}else o.call(e,a),i=!0}})(e.stop)},Ki=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},gb=c2(wo),yb=m2(wo),vb=wy(fs),sf=new WeakMap,bb=Dy(sf),Dr=K2(new Map,new WeakMap),lr=ib(),lf=iv(Dr,bo),cf=Py(hn),It=Hv(hn,cf,xo),wb=b2(lf,Qe,It),Ge=Ly(Oh),_o=Ev(lr),$e=Xy(_o),uf=new WeakMap,df=Ty(Ki),Qi=cv(lr),hf=Hy(Qi),ff=Vy(lr),xb=Yy(lr),pc=dv(lr),st=H2(u2(Eh),p2(gb,yb,ms,vb,gs,hn,bb,Vi,Qe,wo,Pr,xo,ys),Dr,$y(tc,gs,hn,Qe,Zi,Pr),bo,vs,Sn,gy(ms,tc,hn,Qe,Zi,Ge,Pr,$e),_y(uf,hn,Jr),df,Ge,hf,ff,xb,$e,pc),_b=v2(st,wb,bo,lf,Ge,$e),pf=new WeakSet,mf=av(lr),gf=uy(new Uint32Array(1)),yf=ab(gf,bo),vf=sb(gf),mc=x2(pf,Dr,Sn,mf,_o,Kv(mf),yf,vf),ws=g2(Un),bf=Vv(cf,Gi,xo),Nr=iy(bf),ea=lv(ws,Dr,hb,fb,pb,hc,of,fc,mb,lb(Ji),af),Lr=$v(Ny(Gi),bf),Sb=C2(Nr,ea,Qe,Lr,It),cr=V2(d2(kh),uf,Fh,Y2,r2,o2,i2,a2,s2,Jl,_h,Qi,rf),wf=S2(st,Sb,cr,$t,ea,Ge,$e,Ki),Cb=P2(st,D2,bo,$t,uv(Un,Ji),Ge,$e,It),Mb=J2(Nr,Kh,Qe,Lr,It),So=Gv(sf),ta=Z2(st,cr,Mb,vs,Kh,Ge,$e,So),si=rv(wo,ff),Ab=cb($t,si),li=fv(Qi,Ab),Eb=ty(li,Qe,It),Tb=ey(st,Eb,li,Ge,$e),kb=oy(dc,Qe,It),Fb=ry(st,kb,dc,Ge,$e,ub),Ob=gv(ws,ea,Un,si),xs=mv(ws,Dr,Ob,hc,fc),Ib=cy(Nr,xs,Qe,Lr,It),Rb=ly(st,cr,Ib,xs,Ge,$e,Ki),xf=yv(Sn,Ji),Pb=fy(xf,Qe,It),_f=hy(st,Pb,xf,Ge,$e,So),Db=by(Nr,Qh,Qe,Lr,It),Nb=vy(st,cr,Db,Qh,Ge,$e,So),Sf=vv(Sn),Lb=My(Nr,Sf,Qe,Lr,It),Cf=Cy(st,cr,Lb,Sf,Sn,Ge,$e,So),qb=Ry(Nr,Un,Qe,Lr,It),Mf=Iy(st,cr,qb,Un,Ge,$e),jb=_v(vs,$t,bs,Sn),Af=Yv(Dr,Un,bs,eb(Un,_o)),Ub=zy(ea,Qe,_o,It,Af),Bb=bv(jb),Ef=By(st,Bb,Ub,Ge,$e,So),Wb=N2(cr,li,xs,bs,Sn,tf,$e,Ji),zb=new WeakMap,$b=nv(Cb,Wb,df,$e,zb,Ki),Tf=Tv(ws,Dr,hc,of,fc,af),Hb=qv(Nr,Tf,Qe,Lr,It),Vb=Lv(st,cr,Tf,Hb,Ge,$e,Ki),kf=ay(ea),Yb=Dv(kf,$t,Un,nf,si),_s=Pv(kf,$t,Yb,nf,si,Qi,Ji),Gb=Fv(ms,$t,li,Un,bs,_s,Sn,gs,tf,si),Ff=kv(Gb),Xb=Bv(Nr,li,xs,Un,Ff,Qe,_o,Lr,It,Af),Zb=Uv(st,cr,Ff,Xb,Ge,$e,So),Jb=Ov(bo),Kb=zv(Jb,Ge,new WeakSet,db),Qb=Rv(li,dc,Un,_s,Sn,si),Of=Iv(Qb,Sn),e5=Jv(Nr,Of,Qe,Lr,It),t5=Zv(st,cr,Of,e5,Ge,$e),n5=ob(_s,Qe,It),r5=rb(st,$t,_s,n5,Ge,$e,So),o5=Zy(lr),i5=ky(lr),a5=new WeakMap,s5=qy(a5,_o),l5=o5?f2(Dr,Sn,Ey(lr),i5,Fy(l2),Ge,s5,$e,pc,new WeakMap,new WeakMap,Qv(pc,_o),lr):void 0,c5=Gy(hf,$e),u5=my(pf,Dr,py,Ay,new WeakSet,Ge,c5,rc,lc,yf,vf),d5=G2(l5,_b,mc,wf,ta,Tb,Fb,Rb,_f,u5,Nb,Cf,Mf,Ef,$b,Vb,Zb,Kb,t5,r5),h5=Jy(st,Sv,Ge,$e),f5=Qy(st,Cv,Ge,$e),p5=ev(st,Mv,Ge,$e),m5=Av($t,$e),g5=tv(st,m5,Ge),y5=R2(d5,$t,Sn,tb,h5,f5,p5,g5,Qi);class v5{constructor(t){if(this.endpoint=t,this.playAmount=0,this.playMovingAverage=[],this.playSampleLength=1,this.audioQueue=[],this.demodulation="USB",this.accumulator=[],this.decodeFT8=!1,this.farthestDistance=0,this.nb=!1,this.mute=!1,this.squelchMute=!1,this.squelch=!1,this.squelchThreshold=0,this.power=1,this.ctcss=!1,this.audioCtx&&this.audioCtx.state=="running")startaudio=document.getElementById("startaudio"),startaudio&&startaudio.remove();else{const n=()=>{this.audioCtx&&this.audioCtx.state!=="running"&&this.audioCtx.resume();const r=document.getElementById("startaudio");r&&r.remove(),document.documentElement.removeEventListener("mousedown",n)};document.documentElement.addEventListener("mousedown",n)}this.mode=0,this.d=10,this.v=10,this.n2=10,this.n1=10,this.var=10,this.highThres=1,this.initTimer()}async init(){return this.promise?this.promise:(this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.audioSocket=new WebSocket(this.endpoint),this.audioSocket.binaryType="arraybuffer",this.firstAudioMessage=!0,this.audioSocket.onmessage=this.socketMessageInitial.bind(this),this.promise)}stop(){this.audioSocket.close(),this.decoder.free()}initAudio(t){const n=this.audioOutputSps;try{this.audioCtx=new y5({sampleRate:n})}catch(r){this.resolvePromise();return}this.audioStartTime=this.audioCtx.currentTime,this.playTime=this.audioCtx.currentTime+.1,this.playStartTime=this.audioCtx.currentTime,this.decoder=Wg(t.audio_compression,this.audioMaxSps,this.trueAudioSps,this.audioOutputSps),this.bassBoost=new ta(this.audioCtx),this.bassBoost.type="lowshelf",this.bassBoost.frequency.value=150,this.bassBoost.Q.value=.7,this.bassBoost.gain.value=6,this.bandpass=new ta(this.audioCtx),this.bandpass.type="peaking",this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=3,this.highPass=new ta(this.audioCtx),this.highPass.type="highpass",this.highPass.frequency.value=60,this.highPass.Q.value=.7,this.presenceBoost=new ta(this.audioCtx),this.presenceBoost.type="peaking",this.presenceBoost.frequency.value=3500,this.presenceBoost.Q.value=1.5,this.presenceBoost.gain.value=4,this.convolverNode=new _f(this.audioCtx),this.setLowpass(15e3),this.compressor=new Cf(this.audioCtx),this.compressor.threshold.value=-24,this.compressor.knee.value=30,this.compressor.ratio.value=12,this.compressor.attack.value=.003,this.compressor.release.value=.25,this.gainNode=new Mf(this.audioCtx),this.setGain(5),this.convolverNode.connect(this.highPass),this.highPass.connect(this.bandpass),this.bandpass.connect(this.bassBoost),this.bassBoost.connect(this.presenceBoost),this.presenceBoost.connect(this.compressor),this.compressor.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination),this.audioInputNode=this.convolverNode,this.updateFilters(),this.resolvePromise(t)}updateFilters(){switch(this.demodulation){case"USB":case"LSB":this.bassBoost.gain.value=12,this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=3,this.highPass.frequency.value=60,this.presenceBoost.gain.value=4,this.setLowpass(3e3);break;case"CW-U":case"CW-L":this.bassBoost.gain.value=0,this.bandpass.frequency.value=700,this.bandpass.Q.value=4,this.bandpass.gain.value=6,this.highPass.frequency.value=400,this.presenceBoost.gain.value=2,this.setLowpass(1e3);break;case"AM":this.bassBoost.gain.value=20,this.bandpass.frequency.value=1500,this.bandpass.Q.value=1,this.bandpass.gain.value=2,this.highPass.frequency.value=50,this.presenceBoost.gain.value=3,this.setLowpass(4500);break;case"FM":this.bassBoost.gain.value=30,this.bandpass.frequency.value=1500,this.bandpass.Q.value=.8,this.bandpass.gain.value=2,this.highPass.frequency.value=this.ctcss?300:30,this.presenceBoost.gain.value=3,this.setLowpass(15e3);break}}setFIRFilter(t){const n=new mc({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});n.copyToChannel(t,0,0),this.convolverNode.buffer=n}setLowpass(t){const n=this.audioOutputSps;if(t>=n/2){this.setFIRFilter(Float32Array.of(1));return}const r=Vd(t/n,1e3/n,.001);this.setFIRFilter(r)}setFT8Decoding(t){this.decodeFT8=t}setFmDeemph(t){if(t===0){this.audioInputNode=this.convolverNode;return}const n=1/t,r=this.audioOutputSps,o=-(2*r*Math.tan(n/(2*r)))/(2*r),i=-1,a=(1+o)/(1-o),s=-o/(1-o),l=[s*1,s*-i],c=[1,-a];this.fmDeemphNode=new Ef(this.audioCtx,{feedforward:l,feedback:c}),this.fmDeemphNode.connect(this.convolverNode),this.audioInputNode=this.fmDeemphNode}socketMessageInitial(t){const n=JSON.parse(t.data);this.settings=n,this.fftSize=n.fft_size,this.audioMaxSize=n.fft_result_size,this.baseFreq=n.basefreq,this.totalBandwidth=n.total_bandwidth,this.sps=n.sps,this.audioOverlap=n.fft_overlap/2,this.audioMaxSps=n.audio_max_sps,this.grid_locator=n.grid_locator,this.smeter_offset=n.smeter_offset,this.audioL=n.defaults.l,this.audioM=n.defaults.m,this.audioR=n.defaults.r;const r=Math.ceil(this.audioMaxSps*this.audioMaxSize/this.sps/4)*4;this.trueAudioSps=r/this.audioMaxSize*this.sps,this.audioOutputSps=Math.min(this.audioMaxSps,96e3),this.audioSocket.onmessage=this.socketMessage.bind(this),this.initAudio(n),console.log("Audio Samplerate: ",this.trueAudioSps)}socketMessage(t){if(t.data instanceof ArrayBuffer){const n=ah(new Uint8Array(t.data)),r=n.pwr;this.power=.5*this.power+.5*r||1;const o=20*Math.log10(Math.sqrt(this.power)/2);this.dBPower=o,this.squelch&&o<this.squelchThreshold?this.squelchMute=!0:this.squelchMute=!1,this.decode(n.data)}}decode(t){if(!this.audioCtx)return;let n=this.decoder.decode(t);if(n.length!==0){if(this.intervals=this.intervals||yh(1e4,0),this.lens=this.lens||yh(1e4,0),this.lastReceived=this.lastReceived||0,this.lastReceived===0)this.lastReceived=performance.now();else{const r=performance.now(),o=r-this.lastReceived;this.intervals.push(o),this.lastReceived=r,this.lens.push(n.length);let i=!0;this.mode===0?Math.abs(o-this.n1)>Math.abs(this.v)*2+800&&(this.var=0,this.mode=1):(this.var=this.var/2+Math.abs((2*o-this.n1-this.n2)/8),this.var<=63&&(this.mode=0,i=!1)),i&&(this.mode===0?this.d=.125*o+.875*this.d:this.d=this.d+o-this.n1,this.v=.125*Math.abs(o-this.d)+.875*this.v),this.n2=this.n1,this.n1=o}this.pcmArray=n,this.signalDecoder&&this.signalDecoder.decode(n),this.playAudio(n)}}updateAudioParams(){this.audioSocket.send(JSON.stringify({cmd:"window",l:this.audioL,m:this.audioM,r:this.audioR}))}setAudioDemodulation(t){this.demodulation=t,this.updateFilters(),this.audioSocket.send(JSON.stringify({cmd:"demodulation",demodulation:t}))}setAudioRange(t,n,r){this.audioL=Math.floor(t),this.audioM=n,this.audioR=Math.ceil(r),this.actualL=t,this.actualR=r,this.updateAudioParams()}getAudioRange(){return[this.actualL,this.audioM,this.actualR]}setAudioOptions(t){this.audioOptions=t,this.audioSocket.send(JSON.stringify({cmd:"options",options:t}))}setGain(t){t/=35,this.gain=t,this.gainNode.gain.value=t}setMute(t){t!==this.mute&&(this.mute=t,this.audioSocket.send(JSON.stringify({cmd:"mute",mute:t})))}setCTCSSFilter(t){this.ctcss=t,this.updateFilters()}setSquelch(t){this.squelch=t}setSquelchThreshold(t){this.squelchThreshold=t}getPowerDb(){return this.dBPower}setUserID(t){this.audioSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSignalDecoder(t){this.signalDecoder=t}getSignalDecoder(){return this.signalDecoder}gridSquareToLatLong(t){const n=t.toUpperCase();let r=(n.charCodeAt(0)-65)*20-180,o=(n.charCodeAt(1)-65)*10-90;return n.length>=4&&(r+=(n.charCodeAt(2)-48)*2,o+=n.charCodeAt(3)-48),n.length==6?(r+=(n.charCodeAt(4)-65)*.08333333333333333,o+=(n.charCodeAt(5)-65)*.041666666666666664,r+=.041666666666666664,o+=.010416666666666666):n.length==4&&(r+=1,o+=.5),[o,r]}initTimer(){setInterval(()=>{this.updateCollectionStatus()},1e3)}extractGridLocators(t){const n=/[A-R]{2}[0-9]{2}([A-X]{2})?/gi,r=t.match(n);return r?Array.from(new Set(r)):[]}calculateDistance(t,n,r,o){function i(f){return f*Math.PI/180}var a=6371,s=i(r-t),l=i(o-n),c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i(t))*Math.cos(i(r))*Math.sin(l/2)*Math.sin(l/2),u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),d=a*u;return d}updateCollectionStatus(){const t=15-new Date().getSeconds()%15;t===15&&!this.isCollecting?this.startCollection():t===1&&this.isCollecting&&this.stopCollection()}startCollection(){this.isCollecting=!0,this.accumulator=[]}async stopCollection(){if(this.isCollecting=!1,this.decodeFT8){const t=new Float32Array(this.accumulator.flat());let n=await Kg(t);const r=document.getElementById("ft8MessagesList");let o=this.gridSquareToLatLong(this.grid_locator);for(let i of n){let a=this.extractGridLocators(i.text);if(a.length>0){let s=this.gridSquareToLatLong(a[0]),l=this.calculateDistance(o[0],o[1],s[0],s[1]);l>this.farthestDistance&&(this.farthestDistance=l,document.getElementById("farthest-distance").textContent="Farthest Distance: ".concat(this.farthestDistance.toFixed(2)," km"));const c=document.createElement("div");c.classList.add("glass-message","p-2","rounded-lg","text-sm","flex","justify-between","items-center");const u=document.createElement("div");u.classList.add("flex-grow"),u.textContent=i.text,c.appendChild(u);const d=document.createElement("div");d.classList.add("flex","flex-col","items-end","ml-2","text-xs");const f=document.createElement("div");a.forEach((b,C)=>{const T=document.createElement("a");T.href="https://www.levinecentral.com/ham/grid_square.php?&Grid=".concat(b,"&Zoom=13&sm=y"),T.classList.add("text-yellow-300","hover:underline"),T.textContent=b,T.target="_blank",C>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(T)}),d.appendChild(f);const g=document.createElement("div");g.textContent="".concat(l.toFixed(2)," km"),d.appendChild(g),c.appendChild(d),r.appendChild(c)}}setTimeout(()=>{r.scrollTop=r.scrollHeight},500)}}playAudio(t){if(this.mute||this.squelchMute&&this.squelch||this.audioCtx.state!=="running")return;this.isCollecting&&this.decodeFT8&&this.accumulator.push(...t);const n=this.playPCM(t,this.playTime,this.audioOutputSps,1),r=this.audioCtx.currentTime,o=.1;this.playTime-r<=o?this.playTime=r+o+n:this.playTime-r>.5?this.playTime=r+o:this.playTime+=n}playPCM(t,n,r,o){if(!this.audioInputNode)return console.warn("Audio not initialized"),0;const i=new wf(this.audioCtx),a=new mc({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});a.copyToChannel(t,0,0),i.buffer=a,i.connect(this.audioInputNode);const s=Math.max(n,this.audioCtx.currentTime);return i.start(s),i.onended=()=>{i.disconnect()},a.duration}}var b5={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function w5(e,t,n){return e*(1-n)+t*n}var x5=w5,If=b5,Ss=x5,_5=S5;function S5(e){var t,n,r,o,i,a,s,l,f,c,u;if(e||(e={}),l=(e.nshades||72)-1,s=e.format||"hex",a=e.colormap,a||(a="jet"),typeof a=="string"){if(a=a.toLowerCase(),!If[a])throw Error(a+" not a supported colorscale");i=If[a]}else if(Array.isArray(a))i=a.slice();else throw Error("unsupported colormap option",a);if(i.length>l+1)throw new Error(a+" map requires nshades to be at least size "+i.length);Array.isArray(e.alpha)?e.alpha.length!==2?c=[1,1]:c=e.alpha.slice():typeof e.alpha=="number"?c=[e.alpha,e.alpha]:c=[1,1],t=i.map(function(C){return Math.round(C.index*l)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var d=i.map(function(C,T){var L=i[T].index,R=i[T].rgb.slice();return R.length===4&&R[3]>=0&&R[3]<=1||(R[3]=c[0]+(c[1]-c[0])*L),R}),f=[];for(u=0;u<t.length-1;++u){o=t[u+1]-t[u],n=d[u],r=d[u+1];for(var g=0;g<o;g++){var b=g/o;f.push([Math.round(Ss(n[0],r[0],b)),Math.round(Ss(n[1],r[1],b)),Math.round(Ss(n[2],r[2],b)),Ss(n[3],r[3],b)])}}return f.push(i[i.length-1].rgb.concat(c[1])),s==="hex"?f=f.map(M5):s==="rgbaString"?f=f.map(A5):s==="float"&&(f=f.map(C5)),f}function C5(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function M5(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function A5(e){return"rgba("+e.join(",")+")"}const E5=mo(_5),T5=[[.18995,.07176,.23217],[.19483,.08339,.26149],[.19956,.09498,.29024],[.20415,.10652,.31844],[.2086,.11802,.34607],[.21291,.12947,.37314],[.21708,.14087,.39964],[.22111,.15223,.42558],[.225,.16354,.45096],[.22875,.17481,.47578],[.23236,.18603,.50004],[.23582,.1972,.52373],[.23915,.20833,.54686],[.24234,.21941,.56942],[.24539,.23044,.59142],[.2483,.24143,.61286],[.25107,.25237,.63374],[.25369,.26327,.65406],[.25618,.27412,.67381],[.25853,.28492,.693],[.26074,.29568,.71162],[.2628,.30639,.72968],[.26473,.31706,.74718],[.26652,.32768,.76412],[.26816,.33825,.7805],[.26967,.34878,.79631],[.27103,.35926,.81156],[.27226,.3697,.82624],[.27334,.38008,.84037],[.27429,.39043,.85393],[.27509,.40072,.86692],[.27576,.41097,.87936],[.27628,.42118,.89123],[.27667,.43134,.90254],[.27691,.44145,.91328],[.27701,.45152,.92347],[.27698,.46153,.93309],[.2768,.47151,.94214],[.27648,.48144,.95064],[.27603,.49132,.95857],[.27543,.50115,.96594],[.27469,.51094,.97275],[.27381,.52069,.97899],[.27273,.5304,.98461],[.27106,.54015,.9893],[.26878,.54995,.99303],[.26592,.55979,.99583],[.26252,.56967,.99773],[.25862,.57958,.99876],[.25425,.5895,.99896],[.24946,.59943,.99835],[.24427,.60937,.99697],[.23874,.61931,.99485],[.23288,.62923,.99202],[.22676,.63913,.98851],[.22039,.64901,.98436],[.21382,.65886,.97959],[.20708,.66866,.97423],[.20021,.67842,.96833],[.19326,.68812,.9619],[.18625,.69775,.95498],[.17923,.70732,.94761],[.17223,.7168,.93981],[.16529,.7262,.93161],[.15844,.73551,.92305],[.15173,.74472,.91416],[.14519,.75381,.90496],[.13886,.76279,.8955],[.13278,.77165,.8858],[.12698,.78037,.8759],[.12151,.78896,.86581],[.11639,.7974,.85559],[.11167,.80569,.84525],[.10738,.81381,.83484],[.10357,.82177,.82437],[.10026,.82955,.81389],[.0975,.83714,.80342],[.09532,.84455,.79299],[.09377,.85175,.78264],[.09287,.85875,.7724],[.09267,.86554,.7623],[.0932,.87211,.75237],[.09451,.87844,.74265],[.09662,.88454,.73316],[.09958,.8904,.72393],[.10342,.896,.715],[.10815,.90142,.70599],[.11374,.90673,.69651],[.12014,.91193,.6866],[.12733,.91701,.67627],[.13526,.92197,.66556],[.14391,.9268,.65448],[.15323,.93151,.64308],[.16319,.93609,.63137],[.17377,.94053,.61938],[.18491,.94484,.60713],[.19659,.94901,.59466],[.20877,.95304,.58199],[.22142,.95692,.56914],[.23449,.96065,.55614],[.24797,.96423,.54303],[.2618,.96765,.52981],[.27597,.97092,.51653],[.29042,.97403,.50321],[.30513,.97697,.48987],[.32006,.97974,.47654],[.33517,.98234,.46325],[.35043,.98477,.45002],[.36581,.98702,.43688],[.38127,.98909,.42386],[.39678,.99098,.41098],[.41229,.99268,.39826],[.42778,.99419,.38575],[.44321,.99551,.37345],[.45854,.99663,.3614],[.47375,.99755,.34963],[.48879,.99828,.33816],[.50362,.99879,.32701],[.51822,.9991,.31622],[.53255,.99919,.30581],[.54658,.99907,.29581],[.56026,.99873,.28623],[.57357,.99817,.27712],[.58646,.99739,.26849],[.59891,.99638,.26038],[.61088,.99514,.2528],[.62233,.99366,.24579],[.63323,.99195,.23937],[.64362,.98999,.23356],[.65394,.98775,.22835],[.66428,.98524,.2237],[.67462,.98246,.2196],[.68494,.97941,.21602],[.69525,.9761,.21294],[.70553,.97255,.21032],[.71577,.96875,.20815],[.72596,.9647,.2064],[.7361,.96043,.20504],[.74617,.95593,.20406],[.75617,.95121,.20343],[.76608,.94627,.20311],[.77591,.94113,.2031],[.78563,.93579,.20336],[.79524,.93025,.20386],[.80473,.92452,.20459],[.8141,.91861,.20552],[.82333,.91253,.20663],[.83241,.90627,.20788],[.84133,.89986,.20926],[.8501,.89328,.21074],[.85868,.88655,.2123],[.86709,.87968,.21391],[.8753,.87267,.21555],[.88331,.86553,.21719],[.89112,.85826,.2188],[.8987,.85087,.22038],[.90605,.84337,.22188],[.91317,.83576,.22328],[.92004,.82806,.22456],[.92666,.82025,.2257],[.93301,.81236,.22667],[.93909,.80439,.22744],[.94489,.79634,.228],[.95039,.78823,.22831],[.9556,.78005,.22836],[.96049,.77181,.22811],[.96507,.76352,.22754],[.96931,.75519,.22663],[.97323,.74682,.22536],[.97679,.73842,.22369],[.98,.73,.22161],[.98289,.7214,.21918],[.98549,.7125,.2165],[.98781,.7033,.21358],[.98986,.69382,.21043],[.99163,.68408,.20706],[.99314,.67408,.20348],[.99438,.66386,.19971],[.99535,.65341,.19577],[.99607,.64277,.19165],[.99654,.63193,.18738],[.99675,.62093,.18297],[.99672,.60977,.17842],[.99644,.59846,.17376],[.99593,.58703,.16899],[.99517,.57549,.16412],[.99419,.56386,.15918],[.99297,.55214,.15417],[.99153,.54036,.1491],[.98987,.52854,.14398],[.98799,.51667,.13883],[.9859,.50479,.13367],[.9836,.49291,.12849],[.98108,.48104,.12332],[.97837,.4692,.11817],[.97545,.4574,.11305],[.97234,.44565,.10797],[.96904,.43399,.10294],[.96555,.42241,.09798],[.96187,.41093,.0931],[.95801,.39958,.08831],[.95398,.38836,.08362],[.94977,.37729,.07905],[.94538,.36638,.07461],[.94084,.35566,.07031],[.93612,.34513,.06616],[.93125,.33482,.06218],[.92623,.32473,.05837],[.92105,.31489,.05475],[.91572,.3053,.05134],[.91024,.29599,.04814],[.90463,.28696,.04516],[.89888,.27824,.04243],[.89298,.26981,.03993],[.88691,.26152,.03753],[.88066,.25334,.03521],[.87422,.24526,.03297],[.8676,.2373,.03082],[.86079,.22945,.02875],[.8538,.2217,.02677],[.84662,.21407,.02487],[.83926,.20654,.02305],[.83172,.19912,.02131],[.82399,.19182,.01966],[.81608,.18462,.01809],[.80799,.17753,.0166],[.79971,.17055,.0152],[.79125,.16368,.01387],[.7826,.15693,.01264],[.77377,.15028,.01148],[.76476,.14374,.01041],[.75556,.13731,.00942],[.74617,.13098,.00851],[.73661,.12477,.00769],[.72686,.11867,.00695],[.71692,.11268,.00629],[.7068,.1068,.00571],[.6965,.10102,.00522],[.68602,.09536,.00481],[.67535,.0898,.00449],[.66449,.08436,.00424],[.65345,.07902,.00408],[.64223,.0738,.00401],[.63082,.06868,.00401],[.61923,.06367,.0041],[.60746,.05878,.00427],[.5955,.05399,.00453],[.58336,.04931,.00486],[.57103,.04474,.00529],[.55852,.04028,.00579],[.54583,.03593,.00638],[.53295,.03169,.00705],[.51989,.02756,.0078],[.50664,.02354,.00863],[.49321,.01963,.00955],[.4796,.01583,.01055]],k5=[[0,0,0],[0,0,.007843],[0,0,.015686],[0,0,.023529],[0,0,.031373],[0,0,.039216],[0,0,.047059],[0,0,.054902],[0,0,.062745],[0,0,.070588],[0,0,.078431],[0,0,.086275],[0,0,.094118],[0,0,.101961],[0,0,.109804],[0,0,.117647],[0,0,.12549],[0,0,.133333],[0,0,.141176],[0,0,.14902],[0,0,.156863],[0,0,.164706],[0,0,.172549],[0,0,.180392],[0,0,.188235],[0,0,.196078],[0,0,.203922],[0,0,.211765],[0,0,.219608],[0,0,.227451],[0,0,.235294],[0,0,.243137],[0,0,.25098],[0,0,.258824],[0,0,.266667],[0,0,.27451],[0,0,.282353],[0,0,.290196],[0,0,.298039],[0,0,.305882],[0,0,.313725],[0,0,.321569],[0,0,.329412],[0,0,.337255],[0,0,.345098],[0,0,.352941],[0,0,.360784],[0,0,.368627],[0,0,.376471],[0,0,.384314],[0,0,.392157],[0,0,.4],[0,0,.407843],[0,0,.415686],[0,0,.423529],[0,0,.431373],[0,0,.439216],[0,0,.447059],[0,0,.454902],[0,0,.462745],[0,0,.470588],[0,0,.478431],[0,0,.486275],[0,0,.494118],[0,0,.501961],[.011765,0,.509804],[.023529,0,.517647],[.035294,0,.52549],[.047059,0,.533333],[.058824,0,.541176],[.070588,0,.54902],[.082353,0,.556863],[.094118,0,.564706],[.105882,0,.572549],[.117647,0,.580392],[.129412,0,.588235],[.141176,0,.596078],[.152941,0,.603922],[.164706,0,.611765],[.176471,0,.619608],[.188235,0,.627451],[.2,0,.635294],[.211765,0,.643137],[.223529,0,.65098],[.235294,0,.658824],[.247059,0,.666667],[.258824,0,.67451],[.270588,0,.682353],[.282353,0,.690196],[.294118,0,.698039],[.305882,0,.705882],[.317647,0,.713725],[.329412,0,.721569],[.341176,0,.729412],[.352941,0,.737255],[.364706,0,.745098],[.376471,0,.752941],[.388235,0,.760784],[.4,0,.768627],[.411765,0,.776471],[.423529,0,.784314],[.435294,0,.792157],[.447059,0,.8],[.458824,0,.807843],[.470588,0,.815686],[.482353,0,.823529],[.494118,0,.831373],[.505882,0,.839216],[.517647,0,.847059],[.529412,0,.854902],[.541176,0,.862745],[.552941,0,.870588],[.564706,0,.878431],[.576471,0,.886275],[.588235,0,.894118],[.6,0,.901961],[.611765,0,.909804],[.623529,0,.917647],[.635294,0,.92549],[.647059,0,.933333],[.658824,0,.941176],[.670588,0,.94902],[.682353,0,.956863],[.694118,0,.964706],[.705882,0,.972549],[.717647,0,.980392],[.729412,0,.988235],[.741176,0,.996078],[.752941,0,1],[.756863,.12549,.992157],[.760784,.176471,.984314],[.764706,.215686,.976471],[.768627,.25098,.968627],[.772549,.278431,.960784],[.776471,.305882,.952941],[.780392,.329412,.945098],[.784314,.352941,.937255],[.788235,.376471,.929412],[.792157,.396078,.921569],[.796078,.415686,.913725],[.8,.431373,.905882],[.803922,.45098,.898039],[.807843,.466667,.890196],[.811765,.482353,.882353],[.815686,.501961,.87451],[.819608,.513725,.866667],[.823529,.529412,.858824],[.827451,.545098,.85098],[.831373,.560784,.843137],[.835294,.572549,.835294],[.839216,.588235,.827451],[.843137,.6,.819608],[.847059,.611765,.811765],[.85098,.627451,.803922],[.854902,.639216,.796078],[.858824,.65098,.788235],[.862745,.662745,.780392],[.866667,.67451,.772549],[.870588,.686275,.764706],[.87451,.698039,.756863],[.878431,.709804,.74902],[.882353,.717647,.741176],[.886275,.729412,.733333],[.890196,.741176,.72549],[.894118,.752941,.717647],[.898039,.760784,.709804],[.901961,.772549,.701961],[.905882,.780392,.694118],[.909804,.792157,.686275],[.913725,.8,.678431],[.917647,.811765,.670588],[.921569,.819608,.662745],[.92549,.831373,.654902],[.929412,.839216,.647059],[.933333,.85098,.639216],[.937255,.858824,.631373],[.941176,.866667,.623529],[.945098,.878431,.615686],[.94902,.886275,.607843],[.952941,.894118,.6],[.956863,.901961,.592157],[.960784,.909804,.584314],[.964706,.921569,.576471],[.968627,.929412,.568627],[.972549,.937255,.560784],[.976471,.945098,.552941],[.980392,.952941,.545098],[.984314,.960784,.537255],[.988235,.968627,.529412],[.992157,.976471,.521569],[.996078,.984314,.513725],[1,.992157,.505882],[1,1,.501961],[1,1,.509804],[1,1,.517647],[1,1,.52549],[1,1,.533333],[1,1,.541176],[1,1,.54902],[1,1,.556863],[1,1,.564706],[1,1,.572549],[1,1,.580392],[1,1,.588235],[1,1,.596078],[1,1,.603922],[1,1,.611765],[1,1,.619608],[1,1,.627451],[1,1,.635294],[1,1,.643137],[1,1,.65098],[1,1,.658824],[1,1,.666667],[1,1,.67451],[1,1,.682353],[1,1,.690196],[1,1,.698039],[1,1,.705882],[1,1,.713725],[1,1,.721569],[1,1,.729412],[1,1,.737255],[1,1,.745098],[1,1,.752941],[1,1,.760784],[1,1,.768627],[1,1,.776471],[1,1,.784314],[1,1,.792157],[1,1,.8],[1,1,.807843],[1,1,.815686],[1,1,.823529],[1,1,.831373],[1,1,.839216],[1,1,.847059],[1,1,.854902],[1,1,.862745],[1,1,.870588],[1,1,.878431],[1,1,.886275],[1,1,.894118],[1,1,.901961],[1,1,.909804],[1,1,.917647],[1,1,.92549],[1,1,.933333],[1,1,.941176],[1,1,.94902],[1,1,.956863],[1,1,.964706],[1,1,.972549],[1,1,.980392],[1,1,.988235],[1,1,.996078]],F5=[[0,.00392,.12157],[0,.00392,.12411],[0,.00392,.12664],[0,.00392,.12918],[0,.00392,.13172],[0,.00392,.13426],[0,.00392,.13679],[0,.00392,.13933],[0,.00392,.14187],[0,.00392,.14441],[0,.00392,.14694],[0,.00392,.14948],[0,.00392,.15202],[0,.00392,.15456],[0,.00392,.15709],[0,.00392,.15963],[0,.00392,.16217],[0,.00392,.16471],[0,.00392,.16724],[0,.00392,.16978],[0,.00392,.17232],[0,.00392,.17486],[0,.00392,.17739],[0,.00392,.17993],[14e-5,.00406,.18108],[31e-5,.00423,.18193],[48e-5,.0044,.18278],[65e-5,.00457,.18362],[82e-5,.00474,.18447],[98e-5,.00491,.18531],[.00115,.00507,.18616],[.00132,.00524,.187],[.00149,.00541,.18785],[.00166,.00558,.1887],[.00183,.00575,.18954],[.002,.00592,.19039],[.00217,.00609,.19123],[.00234,.00626,.19208],[.00251,.00643,.19293],[.00268,.0066,.19377],[.00285,.00677,.19462],[.00301,.00694,.19546],[.00318,.0071,.19631],[.00335,.00727,.19715],[.00352,.00744,.198],[.00369,.00761,.19885],[.00386,.00778,.19969],[.00392,.00784,.20161],[.00392,.00784,.20415],[.00392,.00784,.20669],[.00392,.00784,.20923],[.00392,.00784,.21176],[.00392,.00784,.2143],[.00392,.00784,.21684],[.00392,.00784,.21938],[.00392,.00784,.22191],[.00392,.00784,.22445],[.00392,.00784,.22699],[.00392,.00784,.22953],[.00392,.00784,.23206],[.00392,.00784,.2346],[.00392,.00784,.23714],[.00392,.00784,.23968],[.00392,.00784,.24221],[.00392,.00784,.24475],[.00392,.00784,.24729],[.00392,.00784,.24983],[.00392,.00784,.25236],[.00392,.00784,.2549],[.00392,.00784,.25744],[.00384,.00784,.25982],[.00368,.00784,.26202],[.00351,.00784,.26422],[.00334,.00784,.26642],[.00317,.00784,.26862],[.003,.00784,.27082],[.00283,.00784,.27302],[.00266,.00784,.27522],[.00249,.00784,.27742],[.00232,.00784,.27962],[.00215,.00784,.28181],[.00198,.00784,.28401],[.00181,.00784,.28621],[.00165,.00784,.28841],[.00148,.00784,.29061],[.00131,.00784,.29281],[.00114,.00784,.29501],[97e-5,.00784,.29721],[8e-4,.00784,.29941],[63e-5,.00784,.30161],[46e-5,.00784,.30381],[29e-5,.00784,.30601],[12e-5,.00784,.3082],[14e-5,.00798,.31003],[65e-5,.00849,.31088],[.00115,.009,.31173],[.00166,.0095,.31257],[.00217,.01001,.31342],[.00268,.01052,.31426],[.00318,.01103,.31511],[.00369,.01153,.31596],[.0042,.01204,.3168],[.00471,.01255,.31765],[.00521,.01306,.31849],[.00572,.01356,.31934],[.00623,.01407,.32018],[.00674,.01458,.32103],[.00724,.01509,.32188],[.00775,.01559,.32272],[.00826,.0161,.32357],[.00877,.01661,.32441],[.00927,.01712,.32526],[.00978,.01762,.32611],[.01029,.01813,.32695],[.0108,.01864,.3278],[.0113,.01915,.32864],[.01173,.01958,.32964],[.0114,.01924,.33218],[.01106,.0189,.33472],[.01072,.01856,.33725],[.01038,.01822,.33979],[.01004,.01789,.34233],[.0097,.01755,.34487],[.00937,.01721,.3474],[.00903,.01687,.34994],[.00869,.01653,.35248],[.00835,.01619,.35502],[.00801,.01586,.35755],[.00767,.01552,.36009],[.00734,.01518,.36263],[.007,.01484,.36517],[.00666,.0145,.3677],[.00632,.01416,.37024],[.00598,.01383,.37278],[.00564,.01349,.37532],[.00531,.01315,.37785],[.00497,.01281,.38039],[.00463,.01247,.38293],[.00429,.01213,.38547],[.00395,.0118,.388],[.00423,.03499,.41223],[.00457,.06053,.43862],[.00491,.08607,.46501],[.00524,.11162,.4914],[.00558,.13716,.51779],[.00592,.16271,.54418],[.00626,.18825,.57057],[.0066,.21379,.59696],[.00694,.23934,.62334],[.00727,.26488,.64973],[.00761,.29043,.67612],[.00795,.31597,.70251],[.00829,.34151,.7289],[.00863,.36706,.75529],[.00897,.3926,.78168],[.0093,.41815,.80807],[.00964,.44369,.83446],[.00998,.46923,.86085],[.01032,.49478,.88724],[.01066,.52032,.91363],[.011,.54587,.94002],[.01133,.57141,.96641],[.01167,.59696,.9928],[.01915,.60417,.99717],[.0293,.60451,.99328],[.03945,.60484,.98939],[.0496,.60518,.9855],[.05975,.60552,.98161],[.0699,.60586,.97772],[.08005,.6062,.97383],[.0902,.60654,.96993],[.10035,.60687,.96604],[.1105,.60721,.96215],[.12065,.60755,.95826],[.1308,.60789,.95437],[.14095,.60823,.95048],[.1511,.60857,.94659],[.16125,.6089,.9427],[.1714,.60924,.93881],[.18155,.60958,.93492],[.1917,.60992,.93103],[.20185,.61026,.92714],[.212,.6106,.92324],[.22215,.61093,.91935],[.2323,.61127,.91546],[.24245,.61161,.91157],[.26321,.62016,.8943],[.29281,.63556,.86588],[.32241,.65095,.83746],[.35202,.66634,.80904],[.38162,.68174,.78062],[.41123,.69713,.7522],[.44083,.71253,.72378],[.47043,.72792,.69536],[.50004,.74331,.66694],[.52964,.75871,.63852],[.55925,.7741,.6101],[.58885,.7895,.58168],[.61845,.80489,.55326],[.64806,.82028,.52484],[.67766,.83568,.49642],[.70727,.85107,.468],[.73687,.86647,.43958],[.76647,.88186,.41116],[.79608,.89725,.38275],[.82568,.91265,.35433],[.85529,.92804,.32591],[.88489,.94344,.29749],[.91449,.95883,.26907],[.9337,.96894,.25276],[.93472,.96978,.25767],[.93573,.97063,.26258],[.93675,.97147,.26748],[.93776,.97232,.27239],[.93878,.97316,.27729],[.93979,.97401,.2822],[.94081,.97486,.2871],[.94182,.9757,.29201],[.94284,.97655,.29692],[.94385,.97739,.30182],[.94487,.97824,.30673],[.94588,.97908,.31163],[.9469,.97993,.31654],[.94791,.98078,.32145],[.94893,.98162,.32635],[.94994,.98247,.33126],[.95096,.98331,.33616],[.95197,.98416,.34107],[.95299,.98501,.34597],[.954,.98585,.35088],[.95502,.9867,.35579],[.95603,.98754,.36069],[.95699,.98833,.3656],[.95766,.98884,.3705],[.95834,.98934,.37541],[.95902,.98985,.38032],[.95969,.99036,.38522],[.96037,.99087,.39013],[.96105,.99137,.39503],[.96172,.99188,.39994],[.9624,.99239,.40484],[.96308,.9929,.40975],[.96375,.9934,.41466],[.96443,.99391,.41956],[.96511,.99442,.42447],[.96578,.99493,.42937],[.96646,.99543,.43428],[.96714,.99594,.43918],[.96781,.99645,.44409],[.96849,.99696,.449],[.96917,.99746,.4539],[.96984,.99797,.45881],[.97052,.99848,.46371],[.9712,.99899,.46862],[.97187,.99949,.47353],[.97255,1,.47843]],qr=[];for(let e=0;e<256;e++)e<20?qr.push([0,0,0]):e>=20&&e<70?qr.push([0,0,140*(e-20)/50]):e>=70&&e<100?qr.push([60*(e-70)/30,125*(e-70)/30,115*(e-70)/30+140]):e>=100&&e<150?qr.push([195*(e-100)/50+60,130*(e-100)/50+125,255-255*(e-100)/50]):e>=150&&e<250?qr.push([255,255-255*(e-150)/100,0]):e>=250&&qr.push([255,255*(e-250)/5,255*(e-250)/5]),qr[e]=qr[e].map(t=>t/255);const ci=[];for(let e=0;e<256;e++){if(e<105){const t=13*e/105,n=0,r=134*e/105;ci.push([t,n,r])}else if(e<192){const t=98+157*(e-96)/63,n=0+254*(e-96)/63,r=176+19*(e-96)/63;ci.push([t,n,r])}else ci.push([255,254,195]);ci[e]=ci[e].map(t=>t/255)}const Rf={turbo:T5,gqrx:qr,twente:ci,twentev2:k5,PhantomPlus:F5},O5=["turbo","gqrx","twente","twentev2","PhantomPlus"];function Pf(e){return e.map(t=>{const n=new Uint8ClampedArray(4);return t.length<4&&(t=[...t,255]),n.set(t.map(r=>Math.round(r*255))),n})}function Df(e){let t;return e in Rf?t=Rf[e]:t=E5({colormap:e,nshades:256,format:"float",alpha:1}),t}var na=function(e){return e&&e.Math===Math&&e},Et=na(typeof globalThis=="object"&&globalThis)||na(typeof window=="object"&&window)||na(typeof self=="object"&&self)||na(typeof Xo=="object"&&Xo)||na(typeof Xo=="object"&&Xo)||function(){return this}()||Function("return this")(),gc={},jr=function(e){try{return!!e()}catch(t){return!0}},I5=jr,Co=!I5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),R5=jr,Cs=!R5(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),P5=Cs,Ms=Function.prototype.call,yc=P5?Ms.bind(Ms):function(){return Ms.apply(Ms,arguments)},Nf={},Lf={}.propertyIsEnumerable,qf=Object.getOwnPropertyDescriptor,D5=qf&&!Lf.call({1:2},1);Nf.f=D5?function(e){var t=qf(this,e);return!!t&&t.enumerable}:Lf;var jf=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Uf=Cs,Bf=Function.prototype,vc=Bf.call,N5=Uf&&Bf.bind.bind(vc,vc),Bn=Uf?N5:function(e){return function(){return vc.apply(e,arguments)}},Wf=Bn,L5=Wf({}.toString),q5=Wf("".slice),bc=function(e){return q5(L5(e),8,-1)},j5=Bn,U5=jr,B5=bc,wc=Object,W5=j5("".split),z5=U5(function(){return!wc("z").propertyIsEnumerable(0)})?function(e){return B5(e)==="String"?W5(e,""):wc(e)}:wc,zf=function(e){return e==null},$5=zf,H5=TypeError,$f=function(e){if($5(e))throw new H5("Can't call method on "+e);return e},V5=z5,Y5=$f,xc=function(e){return V5(Y5(e))},_c=typeof document=="object"&&document.all,Cn=typeof _c>"u"&&_c!==void 0?function(e){return typeof e=="function"||e===_c}:function(e){return typeof e=="function"},G5=Cn,ra=function(e){return typeof e=="object"?e!==null:G5(e)},Sc=Et,X5=Cn,Z5=function(e){return X5(e)?e:void 0},Cc=function(e,t){return arguments.length<2?Z5(Sc[e]):Sc[e]&&Sc[e][t]},J5=Bn,K5=J5({}.isPrototypeOf),Q5=Et,Hf=Q5.navigator,Vf=Hf&&Hf.userAgent,As=Vf?String(Vf):"",Yf=Et,Mc=As,Gf=Yf.process,Xf=Yf.Deno,Zf=Gf&&Gf.versions||Xf&&Xf.version,Jf=Zf&&Zf.v8,Wn,Es;Jf&&(Wn=Jf.split("."),Es=Wn[0]>0&&Wn[0]<4?1:+(Wn[0]+Wn[1])),!Es&&Mc&&(Wn=Mc.match(/Edge\/(\d+)/),(!Wn||Wn[1]>=74)&&(Wn=Mc.match(/Chrome\/(\d+)/),Wn&&(Es=+Wn[1])));var ew=Es,Kf=ew,tw=jr,nw=Et,rw=nw.String,Qf=!!Object.getOwnPropertySymbols&&!tw(function(){var e=Symbol("symbol detection");return!rw(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Kf&&Kf<41}),ow=Qf,e0=ow&&!Symbol.sham&&typeof Symbol.iterator=="symbol",iw=Cc,aw=Cn,sw=K5,lw=e0,cw=Object,t0=lw?function(e){return typeof e=="symbol"}:function(e){var t=iw("Symbol");return aw(t)&&sw(t.prototype,cw(e))},uw=String,dw=function(e){try{return uw(e)}catch(t){return"Object"}},hw=Cn,fw=dw,pw=TypeError,n0=function(e){if(hw(e))return e;throw new pw(fw(e)+" is not a function")},mw=n0,gw=zf,yw=function(e,t){var n=e[t];return gw(n)?void 0:mw(n)},Ac=yc,Ec=Cn,Tc=ra,vw=TypeError,bw=function(e,t){var n,r;if(t==="string"&&Ec(n=e.toString)&&!Tc(r=Ac(n,e))||Ec(n=e.valueOf)&&!Tc(r=Ac(n,e))||t!=="string"&&Ec(n=e.toString)&&!Tc(r=Ac(n,e)))return r;throw new vw("Can't convert object to primitive value")},r0={exports:{}},o0=Et,ww=Object.defineProperty,kc=function(e,t){try{ww(o0,e,{value:t,configurable:!0,writable:!0})}catch(n){o0[e]=t}return t},xw=Et,_w=kc,i0="__core-js_shared__",a0=r0.exports=xw[i0]||_w(i0,{});(a0.versions||(a0.versions=[])).push({version:"3.38.0",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Fc=r0.exports,s0=Fc,l0=function(e,t){return s0[e]||(s0[e]=t||{})},Sw=$f,Cw=Object,Mw=function(e){return Cw(Sw(e))},Aw=Bn,Ew=Mw,Tw=Aw({}.hasOwnProperty),Kr=Object.hasOwn||function(e,t){return Tw(Ew(e),t)},kw=Bn,Fw=0,Ow=Math.random(),Iw=kw(1 .toString),c0=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Iw(++Fw+Ow,36)},Rw=Et,Pw=l0,u0=Kr,Dw=c0,Nw=Qf,Lw=e0,ui=Rw.Symbol,Oc=Pw("wks"),qw=Lw?ui.for||ui:ui&&ui.withoutSetter||Dw,jw=function(e){return u0(Oc,e)||(Oc[e]=Nw&&u0(ui,e)?ui[e]:qw("Symbol."+e)),Oc[e]},Uw=yc,d0=ra,h0=t0,Bw=yw,Ww=bw,zw=jw,$w=TypeError,Hw=zw("toPrimitive"),Vw=function(e,t){if(!d0(e)||h0(e))return e;var n=Bw(e,Hw),r;if(n){if(t===void 0&&(t="default"),r=Uw(n,e,t),!d0(r)||h0(r))return r;throw new $w("Can't convert object to primitive value")}return t===void 0&&(t="number"),Ww(e,t)},Yw=Vw,Gw=t0,f0=function(e){var t=Yw(e,"string");return Gw(t)?t:t+""},Xw=Et,p0=ra,Ic=Xw.document,Zw=p0(Ic)&&p0(Ic.createElement),m0=function(e){return Zw?Ic.createElement(e):{}},Jw=Co,Kw=jr,Qw=m0,g0=!Jw&&!Kw(function(){return Object.defineProperty(Qw("div"),"a",{get:function(){return 7}}).a!==7}),e3=Co,t3=yc,n3=Nf,r3=jf,o3=xc,i3=f0,a3=Kr,s3=g0,y0=Object.getOwnPropertyDescriptor;gc.f=e3?y0:function(e,t){if(e=o3(e),t=i3(t),s3)try{return y0(e,t)}catch(n){}if(a3(e,t))return r3(!t3(n3.f,e,t),e[t])};var Ts={},l3=Co,c3=jr,u3=l3&&c3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),d3=ra,h3=String,f3=TypeError,v0=function(e){if(d3(e))return e;throw new f3(h3(e)+" is not an object")},p3=Co,g3=g0,y3=u3,ks=v0,b0=f0,v3=TypeError,Rc=Object.defineProperty,b3=Object.getOwnPropertyDescriptor,Pc="enumerable",Dc="configurable",Nc="writable";Ts.f=p3?y3?function(e,t,n){if(ks(e),t=b0(t),ks(n),typeof e=="function"&&t==="prototype"&&"value"in n&&Nc in n&&!n[Nc]){var r=b3(e,t);r&&r[Nc]&&(e[t]=n.value,n={configurable:Dc in n?n[Dc]:r[Dc],enumerable:Pc in n?n[Pc]:r[Pc],writable:!1})}return Rc(e,t,n)}:Rc:function(e,t,n){if(ks(e),t=b0(t),ks(n),g3)try{return Rc(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new v3("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var w3=Co,x3=Ts,_3=jf,w0=w3?function(e,t,n){return x3.f(e,t,_3(1,n))}:function(e,t,n){return e[t]=n,e},x0={exports:{}},Lc=Co,S3=Kr,_0=Function.prototype,C3=Lc&&Object.getOwnPropertyDescriptor,qc=S3(_0,"name"),M3=qc&&(function(){}).name==="something",A3=qc&&(!Lc||Lc&&C3(_0,"name").configurable),E3={EXISTS:qc,PROPER:M3,CONFIGURABLE:A3},T3=Bn,k3=Cn,jc=Fc,F3=T3(Function.toString);k3(jc.inspectSource)||(jc.inspectSource=function(e){return F3(e)});var O3=jc.inspectSource,I3=Et,R3=Cn,S0=I3.WeakMap,P3=R3(S0)&&/native code/.test(String(S0)),D3=l0,N3=c0,C0=D3("keys"),L3=function(e){return C0[e]||(C0[e]=N3(e))},M0={},q3=P3,A0=Et,j3=ra,U3=w0,Uc=Kr,Bc=Fc,B3=L3,W3=M0,E0="Object already initialized",Wc=A0.TypeError,z3=A0.WeakMap,Fs,oa,Os,$3=function(e){return Os(e)?oa(e):Fs(e,{})},H3=function(e){return function(t){var n;if(!j3(t)||(n=oa(t)).type!==e)throw new Wc("Incompatible receiver, "+e+" required");return n}};if(q3||Bc.state){var ur=Bc.state||(Bc.state=new z3);ur.get=ur.get,ur.has=ur.has,ur.set=ur.set,Fs=function(e,t){if(ur.has(e))throw new Wc(E0);return t.facade=e,ur.set(e,t),t},oa=function(e){return ur.get(e)||{}},Os=function(e){return ur.has(e)}}else{var di=B3("state");W3[di]=!0,Fs=function(e,t){if(Uc(e,di))throw new Wc(E0);return t.facade=e,U3(e,di,t),t},oa=function(e){return Uc(e,di)?e[di]:{}},Os=function(e){return Uc(e,di)}}var V3={set:Fs,get:oa,has:Os,enforce:$3,getterFor:H3},zc=Bn,Y3=jr,G3=Cn,Is=Kr,$c=Co,X3=E3.CONFIGURABLE,Z3=O3,T0=V3,J3=T0.enforce,K3=T0.get,k0=String,Rs=Object.defineProperty,Q3=zc("".slice),e4=zc("".replace),t4=zc([].join),n4=$c&&!Y3(function(){return Rs(function(){},"length",{value:8}).length!==8}),r4=String(String).split("String"),o4=x0.exports=function(e,t,n){Q3(k0(t),0,7)==="Symbol("&&(t="["+e4(k0(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Is(e,"name")||X3&&e.name!==t)&&($c?Rs(e,"name",{value:t,configurable:!0}):e.name=t),n4&&n&&Is(n,"arity")&&e.length!==n.arity&&Rs(e,"length",{value:n.arity});try{n&&Is(n,"constructor")&&n.constructor?$c&&Rs(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=J3(e);return Is(r,"source")||(r.source=t4(r4,typeof t=="string"?t:"")),e};Function.prototype.toString=o4(function(){return G3(this)&&K3(this).source||Z3(this)},"toString");var i4=x0.exports,a4=Cn,s4=Ts,l4=i4,c4=kc,u4=function(e,t,n,r){r||(r={});var o=r.enumerable,i=r.name!==void 0?r.name:t;if(a4(n)&&l4(n,i,r),r.global)o?e[t]=n:c4(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(a){}o?e[t]=n:s4.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},F0={},d4=Math.ceil,h4=Math.floor,f4=Math.trunc||function(e){var t=+e;return(t>0?h4:d4)(t)},p4=f4,O0=function(e){var t=+e;return t!==t||t===0?0:p4(t)},g4=O0,y4=Math.max,v4=Math.min,b4=function(e,t){var n=g4(e);return n<0?y4(n+t,0):v4(n,t)},w4=O0,x4=Math.min,_4=function(e){var t=w4(e);return t>0?x4(t,9007199254740991):0},S4=_4,C4=function(e){return S4(e.length)},M4=xc,A4=b4,E4=C4,I0=function(e){return function(t,n,r){var o=M4(t),i=E4(o);if(i===0)return!e&&-1;var a=A4(r,i),s;if(e&&n!==n){for(;i>a;)if(s=o[a++],s!==s)return!0}else for(;i>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},T4={includes:I0(!0),indexOf:I0(!1)},k4=Bn,Hc=Kr,F4=xc,O4=T4.indexOf,I4=M0,R0=k4([].push),R4=function(e,t){var n=F4(e),r=0,o=[],i;for(i in n)!Hc(I4,i)&&Hc(n,i)&&R0(o,i);for(;t.length>r;)Hc(n,i=t[r++])&&(~O4(o,i)||R0(o,i));return o},P4=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],D4=R4,N4=P4,L4=N4.concat("length","prototype");F0.f=Object.getOwnPropertyNames||function(e){return D4(e,L4)};var P0={};P0.f=Object.getOwnPropertySymbols;var q4=Cc,j4=Bn,U4=F0,B4=P0,W4=v0,z4=j4([].concat),$4=q4("Reflect","ownKeys")||function(e){var t=U4.f(W4(e)),n=B4.f;return n?z4(t,n(e)):t},D0=Kr,H4=$4,V4=gc,Y4=Ts,G4=function(e,t,n){for(var r=H4(t),o=Y4.f,i=V4.f,a=0;a<r.length;a++){var s=r[a];!D0(e,s)&&!(n&&D0(n,s))&&o(e,s,i(t,s))}},X4=jr,Z4=Cn,J4=/#|\.prototype\./,ia=function(e,t){var n=Q4[K4(e)];return n===t6?!0:n===e6?!1:Z4(t)?X4(t):!!t},K4=ia.normalize=function(e){return String(e).replace(J4,".").toLowerCase()},Q4=ia.data={},e6=ia.NATIVE="N",t6=ia.POLYFILL="P",n6=ia,Ps=Et,r6=gc.f,o6=w0,i6=u4,a6=kc,s6=G4,l6=n6,N0=function(e,t){var n=e.target,r=e.global,o=e.stat,i,a,s,l,c,u;if(r?a=Ps:o?a=Ps[n]||a6(n,{}):a=Ps[n]&&Ps[n].prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=r6(a,s),l=u&&u.value):l=a[s],i=l6(r?s:n+(o?".":"#")+s,e.forced),!i&&l!==void 0){if(typeof c==typeof l)continue;s6(c,l)}(e.sham||l&&l.sham)&&o6(c,"sham",!0),i6(a,s,c,e)}},c6=Cs,L0=Function.prototype,q0=L0.apply,j0=L0.call,U0=typeof Reflect=="object"&&Reflect.apply||(c6?j0.bind(q0):function(){return j0.apply(q0,arguments)}),u6=bc,d6=Bn,h6=function(e){if(u6(e)==="Function")return d6(e)},B0=h6,f6=n0,p6=Cs,m6=B0(B0.bind),g6=function(e,t){return f6(e),t===void 0?e:p6?m6(e,t):function(){return e.apply(t,arguments)}},y6=Cc,v6=y6("document","documentElement"),b6=Bn,W0=b6([].slice),w6=TypeError,z0=function(e,t){if(e<t)throw new w6("Not enough arguments");return e},x6=As,_6=/(?:ipad|iphone|ipod).*applewebkit/i.test(x6),aa=Et,S6=As,C6=bc,Ds=function(e){return S6.slice(0,e.length)===e},$0=function(){return Ds("Bun/")?"BUN":Ds("Cloudflare-Workers")?"CLOUDFLARE":Ds("Deno/")?"DENO":Ds("Node.js/")?"NODE":aa.Bun&&typeof Bun.version=="string"?"BUN":aa.Deno&&typeof Deno.version=="object"?"DENO":C6(aa.process)==="process"?"NODE":aa.window&&aa.document?"BROWSER":"REST"}(),M6=$0,A6=M6==="NODE",fn=Et,E6=U0,T6=g6,H0=Cn,k6=Kr,V0=jr,Y0=v6,F6=W0,G0=m0,O6=z0,I6=_6,R6=A6,Vc=fn.setImmediate,Yc=fn.clearImmediate,P6=fn.process,Gc=fn.Dispatch,D6=fn.Function,X0=fn.MessageChannel,N6=fn.String,Xc=0,sa={},Z0="onreadystatechange",la,Mo,Zc,Jc;V0(function(){la=fn.location});var Kc=function(e){if(k6(sa,e)){var t=sa[e];delete sa[e],t()}},Qc=function(e){return function(){Kc(e)}},J0=function(e){Kc(e.data)},K0=function(e){fn.postMessage(N6(e),la.protocol+"//"+la.host)};(!Vc||!Yc)&&(Vc=function(e){O6(arguments.length,1);var t=H0(e)?e:D6(e),n=F6(arguments,1);return sa[++Xc]=function(){E6(t,void 0,n)},Mo(Xc),Xc},Yc=function(e){delete sa[e]},R6?Mo=function(e){P6.nextTick(Qc(e))}:Gc&&Gc.now?Mo=function(e){Gc.now(Qc(e))}:X0&&!I6?(Zc=new X0,Jc=Zc.port2,Zc.port1.onmessage=J0,Mo=T6(Jc.postMessage,Jc)):fn.addEventListener&&H0(fn.postMessage)&&!fn.importScripts&&la&&la.protocol!=="file:"&&!V0(K0)?(Mo=K0,fn.addEventListener("message",J0,!1)):Z0 in G0("script")?Mo=function(e){Y0.appendChild(G0("script"))[Z0]=function(){Y0.removeChild(this),Kc(e)}}:Mo=function(e){setTimeout(Qc(e),0)});var Q0={set:Vc,clear:Yc},L6=N0,q6=Et,ep=Q0.clear;L6({global:!0,bind:!0,enumerable:!0,forced:q6.clearImmediate!==ep},{clearImmediate:ep});var tp=Et,j6=U0,U6=Cn,B6=$0,W6=As,z6=W0,$6=z0,H6=tp.Function,V6=/MSIE .\./.test(W6)||B6==="BUN"&&function(){var e=tp.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),Y6=function(e,t){var n=t?2:1;return V6?function(r,o){var i=$6(arguments.length,1)>n,a=U6(r)?r:H6(r),s=i?z6(arguments,n):[],l=i?function(){j6(a,this,s)}:a;return t?e(l,o):e(l)}:e},G6=N0,np=Et,rp=Q0.set,X6=Y6,op=np.setImmediate?X6(rp,!1):rp;G6({global:!0,bind:!0,enumerable:!0,forced:np.setImmediate!==op},{setImmediate:op});var Z6=Et,ip=Z6,J6=ip;J6.setImmediate;var K6=ip;K6.clearImmediate;class Q6{constructor(){this.events={}}subscribe(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}publish(t,n){this.events[t]&&this.events[t].forEach(r=>r(n))}}const ca=new Q6;class e8{constructor(t,n){this.isVHF=this.baseFreq>=3e7,this.markers=[],this.currentBand=null,this.endpoint=t,this.zoomFactor=1,this.autoAdjust=!1,this.adjustmentBuffer=[],this.bufferSize=50,this.dampeningFactor=.1,this.spectrum=!1,this.waterfall=!1,this.frequencyMarkerComponent=null,this.pendingMarkers=[],this.waterfallQueue=new mh(10),this.drawnWaterfallQueue=new mh(4096),this.lagTime=0,this.spectrumAlpha=.5,this.spectrumFiltered=[[-1,-1],[0]],this.waterfallColourShift=130,this.minWaterfall=-30,this.maxWaterfall=110,this.colormap=[],this.setColormap("gqrx"),this.clients={},this.clientColormap=Pf(Df("rainbow")),this.updateTimeout=setTimeout(()=>{},0),this.lineResets=0,this.wfheight=200*window.devicePixelRatio;const r={AM:"AM",FM:"FM",LSB:"LSB",USB:"USB",CW:"CW-U",DIGITAL:"DIGITAL"};this.bands=[{name:"2200M HAM",startFreq:135700,endFreq:137800,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:135700,endFreq:137800}]},{name:"630M HAM",startFreq:472e3,endFreq:479e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:472e3,endFreq:475e3},{mode:r.LSB,startFreq:475e3,endFreq:479e3}]},{name:"600M HAM",startFreq:501e3,endFreq:504e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:501e3,endFreq:504e3}]},{name:"160M HAM",startFreq:181e4,endFreq:2e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:181e4,endFreq:184e4},{mode:r.LSB,startFreq:184e4,endFreq:2e6}]},{name:"80M HAM",startFreq:35e5,endFreq:39e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:35e5,endFreq:36e5},{mode:r.LSB,startFreq:36e5,endFreq:39e5}]},{name:"60M HAM",startFreq:5351500,endFreq:5366500,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.USB,startFreq:5351500,endFreq:5366500}]},{name:"49M AM",startFreq:59e5,endFreq:62e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:59e5,endFreq:62e5}]},{name:"40M HAM",startFreq:7e6,endFreq:72e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:7e6,endFreq:705e4},{mode:r.LSB,startFreq:705e4,endFreq:72e5}]},{name:"41M AM",startFreq:72e5,endFreq:745e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:72e5,endFreq:745e4}]},{name:"31M AM",startFreq:94e5,endFreq:99e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:94e5,endFreq:99e5}]},{name:"30M HAM",startFreq:101e5,endFreq:1015e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:101e5,endFreq:1015e4}]},{name:"25M AM",startFreq:116e5,endFreq:121e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:116e5,endFreq:121e5}]},{name:"22M AM",startFreq:1357e4,endFreq:1387e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:1357e4,endFreq:1387e4}]},{name:"20M HAM",startFreq:14e6,endFreq:1435e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:14e6,endFreq:1407e4},{mode:r.USB,startFreq:1407e4,endFreq:1435e4}]},{name:"19M AM",startFreq:151e5,endFreq:158e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:151e5,endFreq:158e5}]},{name:"16M AM",startFreq:1748e4,endFreq:179e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:1748e4,endFreq:179e5}]},{name:"17M HAM",startFreq:18068e3,endFreq:18168e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:18068e3,endFreq:181e5},{mode:r.USB,startFreq:181e5,endFreq:18168e3}]},{name:"15M AM",startFreq:189e5,endFreq:1902e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:189e5,endFreq:1902e4}]},{name:"15M HAM",startFreq:21e6,endFreq:2145e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:21e6,endFreq:2107e4},{mode:r.USB,startFreq:2107e4,endFreq:2145e4}]},{name:"13M AM",startFreq:2145e4,endFreq:2185e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:2145e4,endFreq:2185e4}]},{name:"12M HAM",startFreq:2489e4,endFreq:2499e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:2489e4,endFreq:2492e4},{mode:r.USB,startFreq:2492e4,endFreq:2499e4}]},{name:"11M AM",startFreq:2567e4,endFreq:261e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:2567e4,endFreq:261e5}]},{name:"CB",startFreq:26965e3,endFreq:27405e3,color:"rgba(3, 227, 252, 0.6)",modes:[{mode:r.AM,startFreq:26965e3,endFreq:27405e3}]},{name:"10M HAM",startFreq:28e6,endFreq:297e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:28e6,endFreq:2807e4},{mode:r.USB,startFreq:2807e4,endFreq:297e5}]},{name:"6M HAM",startFreq:5e7,endFreq:54e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:5e7,endFreq:501e5},{mode:r.USB,startFreq:501e5,endFreq:54e6}]},{name:"4M HAM",startFreq:6995e4,endFreq:6995e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.FM,startFreq:6995e4,endFreq:6995e4}]},{name:"4M HAM",startFreq:70112500,endFreq:70412500,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.FM,startFreq:70112500,endFreq:70412500}]},{name:"2M HAM",startFreq:144e6,endFreq:148e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:144e6,endFreq:1441e5},{mode:r.USB,startFreq:1441e5,endFreq:1443e5},{mode:r.FM,startFreq:1443e5,endFreq:148e6}]},{name:"70CM HAM",startFreq:43e7,endFreq:44e7,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:43e7,endFreq:4301e5},{mode:r.USB,startFreq:4301e5,endFreq:4321e5},{mode:r.FM,startFreq:4321e5,endFreq:44e7}]}]}addMarker(t,n,r){this.markers.push({frequency:t,name:n,mode:r}),this.markers.sort((o,i)=>o.frequency-i.frequency)}initCanvas(t){this.canvasElem=t.canvasElem,this.ctx=this.canvasElem.getContext("2d"),this.ctx.imagesmoothingEnabled=!1,this.canvasWidth=this.canvasElem.width,this.canvasHeight=this.canvasElem.height,this.backgroundColor=window.getComputedStyle(document.body,null).getPropertyValue("background-color"),this.curLine=this.canvasHeight/2,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height),this.graduationCanvasElem=t.graduationCanvasElem,this.graduationCtx=this.graduationCanvasElem.getContext("2d"),this.bandPlanCanvasElem=t.bandPlanCanvasElem,this.bandPlanCtx=this.bandPlanCanvasElem.getContext("2d"),this.spectrumCanvasElem=t.spectrumCanvasElem,this.spectrumCtx=this.spectrumCanvasElem.getContext("2d"),this.spectrumCanvasElem.addEventListener("mousemove",this.spectrumMouseMove.bind(this)),this.spectrumCanvasElem.addEventListener("mouseleave",this.spectrumMouseLeave.bind(this)),this.tempCanvasElem=t.tempCanvasElem,this.tempCtx=this.tempCanvasElem.getContext("2d"),this.tempCanvasElem.height=this.wfheight,this.waterfall=!0,this.mobile=!1;let n;this.resizeCallback=()=>{this.setCanvasWidth();let r=document.createElement("canvas");r.width=this.canvasElem.width,r.height=this.canvasElem.height;let o=r.getContext("2d");o.imagesmoothingEnabled=!1,o.drawImage(this.canvasElem,0,0),this.curLine=Math.ceil(this.curLine*this.canvasElem.height/r.height),this.ctx.imagesmoothingEnabled=!1,this.ctx.drawImage(r,0,0,r.width,r.height,0,0,this.canvasElem.width,this.canvasElem.height),this.updateGraduation(),this.updateBandPlan(),n=void 0},window.addEventListener("resize",()=>{n&&clearTimeout(n)})}async init(){return this.promise?this.promise:(this.waterfallSocket=new WebSocket(this.endpoint),this.waterfallSocket.binaryType="arraybuffer",this.firstWaterfallMessage=!0,this.waterfallSocket.onmessage=this.socketMessageInitial.bind(this),this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.promise)}stop(){this.waterfallSocket.close()}setCanvasWidth(){const t=window.devicePixelRatio,n=window.innerWidth;let r=n>1372?1372:n;r*=t,r!=1372&&(this.mobile=!0),this.canvasElem.width=r,this.canvasScale=r/1372,this.spectrumCanvasElem.width=r,this.spectrumCanvasElem.height=r/1372*128,this.graduationCanvasElem.width=r,this.graduationCanvasElem.height=r/1372*20,this.bandPlanCanvasElem.width=r,this.bandPlanCanvasElem.height=r/1372*40,this.canvasElem.height=this.wfheight,this.canvasWidth=r,this.canvasHeight=this.canvasElem.height,this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=this.canvasWidth,this.bufferCanvas.height=this.canvasHeight,this.bufferContext=this.bufferCanvas.getContext("2d",{alpha:!1})}setFrequencyMarkerComponent(t){this.frequencyMarkerComponent=t,this.addMarkersToComponent()}addMarkersToComponent(){this.frequencyMarkerComponent&&this.pendingMarkers.length>0&&(this.frequencyMarkerComponent.insertAll(this.pendingMarkers),this.frequencyMarkerComponent.finalizeList(),this.pendingMarkers=[])}socketMessageInitial(t){if(!(t.data instanceof ArrayBuffer)){const n=JSON.parse(t.data);if(!n.fft_size)return;if(n.markers)try{const i=JSON.parse(n.markers);i.markers&&Array.isArray(i.markers)&&(this.pendingMarkers=i.markers.map(a=>({f:a.frequency,d:a.name,m:a.mode})),this.addMarkersToComponent())}catch(i){console.error("Error parsing markers:",i)}this.waterfallMaxSize=n.fft_result_size,this.fftSize=n.fft_size,this.baseFreq=n.basefreq,this.sps=n.sps,this.totalBandwidth=n.total_bandwidth,this.overlap=n.overlap,this.setCanvasWidth(),this.tempCanvasElem.width=n.waterfall_size,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height);const r=Math.max(1,Math.floor(this.sps/this.fftSize/5)*2),o=this.sps/this.fftSize/(r/2);console.log("Waterfall FPS: "+o),requestAnimationFrame(this.drawSpectrogram.bind(this)),this.waterfallL=0,this.waterfallR=this.waterfallMaxSize,this.waterfallSocket.onmessage=this.socketMessage.bind(this),this.firstWaterfallMessage=!1,this.waterfallDecoder=$g(n.waterfall_compression),this.updateGraduation(),this.updateBandPlan(),this.resolvePromise(n)}}socketMessage(t){t.data instanceof ArrayBuffer&&this.enqueueSpectrogram(t.data)}getMouseX(t,n){const r=t.getBoundingClientRect(),o=t.width/r.width;return(n.clientX-r.left)*o}enqueueSpectrogram(t){if(this.waterfallDecoder.decode(t).forEach(n=>{this.waterfallQueue.unshift(n)}),!this.waterfall&&!this.spectrum){this.waterfallQueue.clear();return}for(;this.waterfallQueue.length>2;)this.waterfallQueue.pop()}accumulateAdjustmentData(t){this.adjustmentBuffer.push(...t),this.adjustmentBuffer.length>=this.bufferSize&&(this.adjustWaterfallLimits(this.adjustmentBuffer),this.adjustmentBuffer=[])}adjustWaterfallLimits(t){const n=Math.min(...t)-20,r=Math.max(...t)-20;this.minWaterfall+=(n-this.minWaterfall)*this.dampeningFactor,this.maxWaterfall+=(r-this.maxWaterfall)*this.dampeningFactor}transformValue(t){let n=(Math.max(this.minWaterfall,Math.min(this.maxWaterfall,t))-this.minWaterfall)/(this.maxWaterfall-this.minWaterfall),r=Math.floor(n*255);return Math.max(0,Math.min(255,r))}idxToFreq(t){return t/this.waterfallMaxSize*this.totalBandwidth+this.baseFreq}idxToCanvasX(t){return(t-this.waterfallL)/(this.waterfallR-this.waterfallL)*this.canvasWidth}canvasXtoFreq(t){const n=t/this.canvasWidth*(this.waterfallR-this.waterfallL)+this.waterfallL;return this.idxToFreq(n)}freqToIdx(t){return(t-this.baseFreq)/this.totalBandwidth*this.waterfallMaxSize}calculateOffsets(t,n,r){const o=this.canvasWidth/(this.waterfallR-this.waterfallL),i=(n-this.waterfallL)*o,a=(r-this.waterfallL)*o,s=new Uint8Array(t.length);for(let l=0;l<s.length;l++)s[l]=this.transformValue(t[l]);return[s,i,a]}drawSpectrogram(){const t=()=>{if(this.waterfallQueue.length===0){requestAnimationFrame(t);return}const{data:n,l:r,r:o}=this.waterfallQueue.pop(),[i,a,s]=this.calculateOffsets(n,r,o);this.autoAdjust&&this.accumulateAdjustmentData(i),this.waterfall&&!this.spectrum&&this.drawWaterfall(i,a,s,r,o),this.spectrum&&this.drawSpectrum(i,a,s,r,o),requestAnimationFrame(t)};requestAnimationFrame(t)}async redrawWaterfall(){const t=this.drawnWaterfallQueue.toArray(),n=this.lineResets,r=this.curLine,o=i=>{const a=r+1+i+(this.lineResets-n)*this.canvasHeight/2,[s,l,c]=t[i],[u,d,f]=this.calculateOffsets(s,l,c);this.drawWaterfallLine(u,d,f,a),i+1<t.length&&(this.updateImmediate=setImmediate(()=>o(i+1)))};clearImmediate(this.updateImmediate),t.length&&o(0)}drawWaterfall(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r),this.bufferContext.drawImage(this.ctx.canvas,0,1,this.canvasWidth,this.canvasHeight-1,0,0,this.canvasWidth,this.canvasHeight-1),this.drawWaterfallLine(t,n,r,0,this.bufferContext),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.drawImage(this.bufferCanvas,0,0)}drawWaterfallLine(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r),o=Math.floor(o);const a=r-n,s=i.createImageData(a,1);for(let l=0;l<a;l++){const c=Math.floor(l*(t.length-1)/(a-1)),u=Math.floor(t[c]),d=l*4;s.data.set(this.colormap[u],d)}i.putImageData(s,n,i.canvas.height-1-o)}drawSpectrum(t,n,r,o,i){(o!==this.spectrumFiltered[0][0]||i!==this.spectrumFiltered[0][1])&&(this.spectrumFiltered[1]=t,this.spectrumFiltered[0]=[o,i]);for(let f=0;f<t.length;f++)this.spectrumFiltered[1][f]=this.spectrumAlpha*t[f]+(1-this.spectrumAlpha)*this.spectrumFiltered[1][f];t=this.spectrumFiltered[1];const a=(r-n)/t.length;this.canvasScale;const s=this.spectrumCanvasElem.height,l=t.map(f=>s-f/255*s);this.spectrumCtx.clearRect(0,0,this.spectrumCanvasElem.width,s);const c=this.spectrumCtx.createLinearGradient(0,0,0,s);c.addColorStop(0,"rgba(3, 157, 252, 0.8)"),c.addColorStop(1,"rgba(3, 157, 252, 0.2)"),this.spectrumCtx.lineWidth=2,this.spectrumCtx.strokeStyle="rgba(3, 157, 252, 0.8)",this.spectrumCtx.fillStyle=c,this.spectrumCtx.shadowColor="rgba(3, 157, 252, 0.5)",this.spectrumCtx.shadowBlur=10,this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(n,s);let u=n,d=l[0];this.spectrumCtx.lineTo(u,d);for(let f=1;f<l.length;f++){const g=n+f*a,b=l[f],C=(u+g)/2;this.spectrumCtx.quadraticCurveTo(u,d,C,(d+b)/2),u=g,d=b}this.spectrumCtx.lineTo(r,d),this.spectrumCtx.lineTo(r,s),this.spectrumCtx.closePath(),this.spectrumCtx.fill(),this.spectrumCtx.stroke(),this.spectrumCtx.shadowBlur=0,this.spectrumFreq&&(this.spectrumCtx.font="14px Arial",this.spectrumCtx.fillStyle="rgba(255, 255, 255, 0.9)",this.spectrumCtx.shadowColor="rgba(255, 255, 255, 0.5)",this.spectrumCtx.shadowBlur=5,this.spectrumCtx.fillText("".concat((this.spectrumFreq/1e6).toFixed(6)," MHz"),10,20),this.spectrumCtx.strokeStyle="rgba(255, 255, 255, 0.5)",this.spectrumCtx.lineWidth=1,this.spectrumCtx.setLineDash([5,3]),this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(this.spectrumX,0),this.spectrumCtx.lineTo(this.spectrumX,s),this.spectrumCtx.stroke(),this.spectrumCtx.setLineDash([]))}checkBandAndSetMode(t){let n=null,r=null;for(const o of this.bands)if(t>=o.startFreq&&t<=o.endFreq){n=o;for(const i of o.modes)if(t>=i.startFreq&&t<=i.endFreq){r=i.mode;break}break}return n!==this.currentBand||n&&r!==this.currentMode?(this.currentBand=n,this.currentMode=r,n?(ca.publish("setMode",r),r):(ca.publish("outOfBand"),null)):null}updateGraduation(){const t=this.idxToFreq(this.waterfallL),n=this.idxToFreq(this.waterfallR),r=this.canvasScale;let o=1;for(;(n-t)/o>8;)o*=10;o/=10,this.graduationCtx.fillStyle="white",this.graduationCtx.strokeStyle="white",this.graduationCtx.clearRect(0,0,this.graduationCanvasElem.width,this.graduationCanvasElem.height);let i=t;t%o!==0&&(i=t+(o-t%o));for(let a=i;a<=n;a+=o)a!=0&&a.toString().match(/0*$/g)[0].length;for(this.mobile?this.graduationCtx.font="".concat(12*r,"px Inter"):this.graduationCtx.font="".concat(10*r,"px Inter");i<=n;i+=o){const a=(i-t)/(n-t)*this.canvasWidth;let s=5,l=!1;if(i%(o*10)===0?(s=10,l=!0):i%(o*5)===0&&(s=7,l=!0),l){this.graduationCtx.textAlign="center";const c=Math.round(i/1e3);this.graduationCtx.fillText(c.toString(),a,20*r)}this.graduationCtx.lineWidth=1*r,this.graduationCtx.beginPath(),this.graduationCtx.moveTo(a,(5+(5-s))*r),this.graduationCtx.lineTo(a,10*r),this.graduationCtx.stroke()}this.drawClients()}updateBandPlan(){this.idxToFreq(this.waterfallL),this.idxToFreq(this.waterfallR);const t=this.canvasScale;this.bandPlanCtx.clearRect(0,0,this.bandPlanCanvasElem.width,this.bandPlanCanvasElem.height);const n=10*t,r=25*t;this.bands.forEach(o=>{const i=this.freqToIdx(o.startFreq),a=this.freqToIdx(o.endFreq),s=this.idxToCanvasX(i),l=this.idxToCanvasX(a),c=l-s,u=this.bandPlanCanvasElem.height-n-r;this.bandPlanCtx.strokeStyle=o.color,this.bandPlanCtx.lineWidth=2*t,this.bandPlanCtx.lineCap="round",this.bandPlanCtx.beginPath(),this.bandPlanCtx.moveTo(s,u),this.bandPlanCtx.lineTo(l,u),this.bandPlanCtx.shadowColor=o.color,this.bandPlanCtx.shadowBlur=3*t,this.bandPlanCtx.stroke(),this.bandPlanCtx.shadowColor="transparent",this.bandPlanCtx.shadowBlur=0;let d=this.mobile?12*t:10*t;if(this.bandPlanCtx.font="".concat(d,"px Inter"),this.bandPlanCtx.fillStyle="white",this.bandPlanCtx.textAlign="center",this.bandPlanCtx.textBaseline="top",this.bandPlanCtx.measureText(o.name).width<=c-4*t){const f=u+n+2*t;this.bandPlanCtx.shadowColor="rgba(0, 0, 0, 0.5)",this.bandPlanCtx.shadowBlur=2*t,this.bandPlanCtx.shadowOffsetY=1*t,this.bandPlanCtx.fillText(o.name,(s+l)/2,f),this.bandPlanCtx.shadowColor="transparent",this.bandPlanCtx.shadowBlur=0,this.bandPlanCtx.shadowOffsetY=0}})}freqToCanvasX(t){const n=this.freqToIdx(t);return this.idxToCanvasX(n)}abbreviateBandName(t,n,r){if(this.bandPlanCtx.font="".concat(r,"px Inter"),this.bandPlanCtx.measureText(t).width<=n-4*this.canvasScale)return t;const o=t.split(" ");return o.length===1?t.substring(0,Math.floor(n/(r*.6))):o.map(i=>i[0]).join("")}setClients(t){this.clients=t}drawClients(){Object.entries(this.clients).filter(([t,n])=>n[1]<this.waterfallR&&n[1]>=this.waterfallL).forEach(([t,n])=>{const r=this.idxToCanvasX(n[1]),[o,i,a,s]=this.clientColormap[parseInt(t.substring(0,2),16)];this.graduationCtx.fillStyle="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(s,")"),this.graduationCtx.strokeStyle="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(s,")"),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r+2,5),this.graduationCtx.stroke(),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r-2,5),this.graduationCtx.stroke()})}applyBlur(t,n,r,o){const i=t.data,a=new Uint8ClampedArray(i);for(let s=0;s<r;s++)for(let l=0;l<n;l++){let c=0,u=0,d=0,f=0,g=0;for(let C=-o;C<=o;C++)for(let T=-o;T<=o;T++){const L=l+T,R=s+C;if(L>=0&&L<n&&R>=0&&R<r){const k=(R*n+L)*4;c+=a[k],u+=a[k+1],d+=a[k+2],f+=a[k+3],g++}}const b=(s*n+l)*4;i[b]=c/g,i[b+1]=u/g,i[b+2]=d/g,i[b+3]=f/g}return t}setWaterfallRange(t,n){if(t>=n)return;const r=n-t;t<0&&n>this.waterfallMaxSize?(t=0,n=this.waterfallMaxSize):t<0?(t=0,n=r):n>this.waterfallMaxSize&&(n=this.waterfallMaxSize,t=n-r);const o=this.waterfallL,i=this.waterfallR;this.waterfallL=t,this.waterfallR=n,this.waterfallSocket.send(JSON.stringify({cmd:"window",l:this.waterfallL,r:this.waterfallR}));const a=this.idxToCanvasX(o),s=this.idxToCanvasX(i),l=s-a;this.ctx.drawImage(this.canvasElem,0,0,this.canvasWidth,this.canvasHeight,a,0,l,this.canvasHeight),i-o<=n-t+1&&(this.ctx.fillRect(0,0,a,this.canvasHeight),this.ctx.fillRect(s,0,this.canvasWidth-s,this.canvasHeight)),this.updateGraduation(),this.updateBandPlan(),this.drawSpectrogram()}getWaterfallRange(){return[this.waterfallL,this.waterfallR]}setWaterfallLagTime(t){this.lagTime=Math.max(0,t)}setOffset(t){this.waterfallColourShift=t}setMinOffset(t){this.minWaterfall=t}setMaxOffset(t){this.maxWaterfall=t}setAlpha(t){this.spectrumAlpha=t}setColormapArray(t){this.colormap=Pf(t)}setColormap(t){this.setColormapArray(Df(t))}setUserID(t){this.waterfallSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSpectrum(t){this.spectrum=t,t==!0?(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfallBig(t){t==!0?(this.wfheight=300*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfall(t){this.waterfall=t}resetRedrawTimeout(t){}canvasWheel(t){if(window.getComputedStyle(t.target).cursor=="resize")return;const n=(t.coords||{x:this.getMouseX(this.spectrumCanvasElem,t)}).x;t.preventDefault();const r=t.deltaY||t.scale,o=this.waterfallL,i=this.waterfallR,a=t.scaleAmount||.85;if(i-o<=128&&r<0)return!1;r>0?this.zoomFactor!=1&&(this.zoomFactor=this.zoomFactor-1):r<0&&(this.zoomFactor=this.zoomFactor+1);const s=(i-o)*n/this.canvasWidth+o;let l=s-o,c=i-s;r<0?(l*=a,c*=a):r>0&&(l*=1/a,c*=1/a);const u=Math.round(s-l),d=Math.round(s+c);return this.setWaterfallRange(u,d),!1}mouseMove(t){const n=t.movementX,r=Math.round(n/this.canvasElem.getBoundingClientRect().width*(this.waterfallR-this.waterfallL)),o=this.waterfallL-r,i=this.waterfallR-r;this.setWaterfallRange(o,i)}spectrumMouseMove(t){const n=this.getMouseX(this.spectrumCanvasElem,t),r=this.canvasXtoFreq(n);this.spectrumFreq=r,this.spectrumX=n}spectrumMouseLeave(t){this.spectrumFreq=void 0,this.spectrumX=void 0}}class t8{constructor(t){this.endpoint=t,this.signalClients={},this.lastModified=performance.now()}init(){return this.promise?this.promise:(this.eventSocket=new WebSocket(this.endpoint),this.eventSocket.binaryType="arraybuffer",this.eventSocket.onmessage=this.socketMessage.bind(this),this.promise=new Promise((t,n)=>{this.eventSocket.onopen=t,this.resolvePromise=t,this.rejectPromise=n}),this.promise)}socketMessage(t){const n=JSON.parse(t.data);if(this.data=n,"signal_list"in n&&(this.signalClients=n.signal_list),"signal_changes"in n){const r=n.signal_changes;for(const[o,i]of Object.entries(r))i[0]===-1&&i[1]===-1?delete this.signalClients[o]:this.signalClients[o]=i}if("waterfall_clients"in n){const r=n.signal_clients,o=parseInt(n.waterfall_kbits+n.audio_kbits);document.getElementById("total_user_count").innerHTML='\n        <div class="flex items-center">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-fuchsia-400" viewBox="0 0 20 20" fill="currentColor">\n            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />\n          </svg>\n          <span class="text-fuchsia-400 font-medium">'.concat(r," ").concat(r>1?"Users":"User",'</span>\n        </div>\n        <div class="flex items-center">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-400" viewBox="0 0 20 20" fill="currentColor">\n            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />\n          </svg>\n          <span class="text-blue-400 font-medium">').concat(o," kbit/s</span>\n        </div>\n      ")}this.lastModified=performance.now()}setUserID(t){this.eventSocket.send(JSON.stringify({cmd:"userid",userid:t}))}getSignalClients(){let t={};return Object.assign(t,this.signalClients),t}getLastModified(){return this.lastModified}}const n8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let r8=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=n8[n[e]&63];return t},pn;const ap=window.location,eu="".concat(ap.protocol.replace("http","ws"),"//").concat(ap.host),Te=new e8(eu+"/waterfall"),Ce=new v5(eu+"/audio"),ua=new t8(eu+"/events");async function o8(){await Hg(),await Promise.all([Te.init(),Ce.init(),ua.init()]),pn=Ce.settings;const e=r8();[Te,Ce,ua].forEach(t=>{t.setUserID(e)})}function sp(e){const[t,n]=Te.getWaterfallRange();return(e-Ur(t))/((n-t)/pn.fft_result_size*pn.total_bandwidth)}function i8(e){const[t,n]=Te.getWaterfallRange();return e*((n-t)/pn.fft_result_size)*pn.total_bandwidth+Ur(t)}function Ns(e){return(e-pn.basefreq)/pn.total_bandwidth*pn.fft_result_size}function Ur(e){return e/pn.fft_result_size*pn.total_bandwidth+pn.basefreq}function a8(e){const[t,n]=Te.getWaterfallRange();return e/pn.total_bandwidth*pn.fft_result_size/(n-t)}function da(){return Ce.trueAudioSps}function s8(){return Te.getWaterfallRange().map(Ur)}function zn(){return zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zn.apply(this,arguments)}function Mn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ls(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var tu;typeof Object.assign!="function"?tu=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:tu=Object.assign;var Ao=tu,lp=["","webkit","Moz","MS","ms","o"],l8=typeof document>"u"?{style:{}}:document.createElement("div"),c8="function",hi=Math.round,Eo=Math.abs,nu=Date.now;function qs(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<lp.length;){if(n=lp[i],r=n?n+o:t,r in e)return r;i++}}var Br;typeof window>"u"?Br={}:Br=window;var cp=qs(l8.style,"touchAction"),up=cp!==void 0;function u8(){if(!up)return!1;var e={},t=Br.CSS&&Br.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=t?Br.CSS.supports("touch-action",n):!0}),e}var dp="compute",hp="auto",ru="manipulation",To="none",ha="pan-x",fa="pan-y",js=u8(),d8=/mobile|tablet|ip(ad|hone|od)|android/i,fp="ontouchstart"in Br,h8=qs(Br,"PointerEvent")!==void 0,f8=fp&&d8.test(navigator.userAgent),pa="touch",p8="pen",ou="mouse",m8="kinect",g8=25,Ht=1,ko=2,lt=4,tn=8,Us=1,ma=2,ga=4,ya=8,fi=16,dr=ma|ga,Fo=ya|fi,pp=dr|Fo,mp=["x","y"],Bs=["clientX","clientY"];function Wr(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==void 0)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Ws(e,t){return typeof e===c8?e.apply(t&&t[0]||void 0,t):e}function Oo(e,t){return e.indexOf(t)>-1}function y8(e){if(Oo(e,To))return To;var t=Oo(e,ha),n=Oo(e,fa);return t&&n?To:t||n?t?ha:fa:Oo(e,ru)?ru:hp}var gp=function(){function e(n,r){this.manager=n,this.set(r)}var t=e.prototype;return t.set=function(n){n===dp&&(n=this.compute()),up&&this.manager.element.style&&js[n]&&(this.manager.element.style[cp]=n),this.actions=n.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var n=[];return Wr(this.manager.recognizers,function(r){Ws(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),y8(n.join(" "))},t.preventDefaults=function(n){var r=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var i=this.actions,a=Oo(i,To)&&!js[To],s=Oo(i,fa)&&!js[fa],l=Oo(i,ha)&&!js[ha];if(a){var c=n.pointers.length===1,u=n.distance<2,d=n.deltaTime<250;if(c&&u&&d)return}if(!(l&&s)&&(a||s&&o&dr||l&&o&Fo))return this.preventSrc(r)},t.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function iu(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function yp(e){var t=e.length;if(t===1)return{x:hi(e[0].clientX),y:hi(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:hi(n/t),y:hi(r/t)}}function vp(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:hi(e.pointers[n].clientX),clientY:hi(e.pointers[n].clientY)},n++;return{timeStamp:nu(),pointers:t,center:yp(t),deltaX:e.deltaX,deltaY:e.deltaY}}function zs(e,t,n){n||(n=mp);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function au(e,t,n){n||(n=mp);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.atan2(o,r)*180/Math.PI}function bp(e,t){return e===t?Us:Eo(e)>=Eo(t)?e<0?ma:ga:t<0?ya:fi}function v8(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};(t.eventType===Ht||i.eventType===lt)&&(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function wp(e,t,n){return{x:t/e||0,y:n/e||0}}function b8(e,t){return zs(t[0],t[1],Bs)/zs(e[0],e[1],Bs)}function w8(e,t){return au(t[1],t[0],Bs)+au(e[1],e[0],Bs)}function x8(e,t){var n=e.lastInterval||t,r=t.timeStamp-n.timeStamp,o,i,a,s;if(t.eventType!==tn&&(r>g8||n.velocity===void 0)){var l=t.deltaX-n.deltaX,c=t.deltaY-n.deltaY,u=wp(r,l,c);i=u.x,a=u.y,o=Eo(u.x)>Eo(u.y)?u.x:u.y,s=bp(l,c),e.lastInterval=t}else o=n.velocity,i=n.velocityX,a=n.velocityY,s=n.direction;t.velocity=o,t.velocityX=i,t.velocityY=a,t.direction=s}function _8(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=vp(t)),o>1&&!n.firstMultiple?n.firstMultiple=vp(t):o===1&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,l=t.center=yp(r);t.timeStamp=nu(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=au(s,l),t.distance=zs(s,l),v8(n,t),t.offsetDirection=bp(t.deltaX,t.deltaY);var c=wp(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=Eo(c.x)>Eo(c.y)?c.x:c.y,t.scale=a?b8(a.pointers,r):1,t.rotation=a?w8(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,x8(n,t);var u=e.element,d=t.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,iu(f,u)&&(u=f),t.target=u}function S8(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&Ht&&r-o===0,a=t&(lt|tn)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,_8(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function va(e){return e.trim().split(/\s+/g)}function ba(e,t,n){Wr(va(t),function(r){e.addEventListener(r,n,!1)})}function wa(e,t,n){Wr(va(t),function(r){e.removeEventListener(r,n,!1)})}function xp(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var pi=function(){function e(n,r){var o=this;this.manager=n,this.callback=r,this.element=n.element,this.target=n.options.inputTarget,this.domHandler=function(i){Ws(n.options.enable,[n])&&o.handler(i)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&ba(this.element,this.evEl,this.domHandler),this.evTarget&&ba(this.target,this.evTarget,this.domHandler),this.evWin&&ba(xp(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&wa(this.element,this.evEl,this.domHandler),this.evTarget&&wa(this.target,this.evTarget,this.domHandler),this.evWin&&wa(xp(this.element),this.evWin,this.domHandler)},e}();function Io(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var C8={pointerdown:Ht,pointermove:ko,pointerup:lt,pointercancel:tn,pointerout:tn},M8={2:pa,3:p8,4:ou,5:m8},_p="pointerdown",Sp="pointermove pointerup pointercancel";Br.MSPointerEvent&&!Br.PointerEvent&&(_p="MSPointerDown",Sp="MSPointerMove MSPointerUp MSPointerCancel");var Cp=function(e){Mn(t,e);function t(){var r,o=t.prototype;return o.evEl=_p,o.evWin=Sp,r=e.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var n=t.prototype;return n.handler=function(r){var o=this.store,i=!1,a=r.type.toLowerCase().replace("ms",""),s=C8[a],l=M8[r.pointerType]||r.pointerType,c=l===pa,u=Io(o,r.pointerId,"pointerId");s&Ht&&(r.button===0||c)?u<0&&(o.push(r),u=o.length-1):s&(lt|tn)&&(i=!0),!(u<0)&&(o[u]=r,this.callback(this.manager,s,{pointers:o,changedPointers:[r],pointerType:l,srcEvent:r}),i&&o.splice(u,1))},t}(pi);function xa(e){return Array.prototype.slice.call(e,0)}function su(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];Io(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(t?r=r.sort(function(s,l){return s[t]>l[t]}):r=r.sort()),r}var A8={touchstart:Ht,touchmove:ko,touchend:lt,touchcancel:tn},E8="touchstart touchmove touchend touchcancel",lu=function(e){Mn(t,e);function t(){var r;return t.prototype.evTarget=E8,r=e.apply(this,arguments)||this,r.targetIds={},r}var n=t.prototype;return n.handler=function(r){var o=A8[r.type],i=T8.call(this,r,o);i&&this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:pa,srcEvent:r})},t}(pi);function T8(e,t){var n=xa(e.touches),r=this.targetIds;if(t&(Ht|ko)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var o,i,a=xa(e.changedTouches),s=[],l=this.target;if(i=n.filter(function(c){return iu(c.target,l)}),t===Ht)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(lt|tn)&&delete r[a[o].identifier],o++;if(s.length)return[su(i.concat(s),"identifier",!0),s]}var k8={mousedown:Ht,mousemove:ko,mouseup:lt},F8="mousedown",O8="mousemove mouseup",cu=function(e){Mn(t,e);function t(){var r,o=t.prototype;return o.evEl=F8,o.evWin=O8,r=e.apply(this,arguments)||this,r.pressed=!1,r}var n=t.prototype;return n.handler=function(r){var o=k8[r.type];o&Ht&&r.button===0&&(this.pressed=!0),o&ko&&r.which!==1&&(o=lt),this.pressed&&(o&lt&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[r],changedPointers:[r],pointerType:ou,srcEvent:r}))},t}(pi),I8=2500,Mp=25;function Ap(e){var t=e.changedPointers,n=t[0];if(n.identifier===this.primaryTouch){var r={x:n.clientX,y:n.clientY},o=this.lastTouches;this.lastTouches.push(r);var i=function(){var a=o.indexOf(r);a>-1&&o.splice(a,1)};setTimeout(i,I8)}}function R8(e,t){e&Ht?(this.primaryTouch=t.changedPointers[0].identifier,Ap.call(this,t)):e&(lt|tn)&&Ap.call(this,t)}function P8(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=Mp&&a<=Mp)return!0}return!1}var Ep=function(){var e=function(t){Mn(n,t);function n(o,i){var a;return a=t.call(this,o,i)||this,a.handler=function(s,l,c){var u=c.pointerType===pa,d=c.pointerType===ou;if(!(d&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(u)R8.call(Ls(Ls(a)),l,c);else if(d&&P8.call(Ls(Ls(a)),c))return;a.callback(s,l,c)}},a.touch=new lu(a.manager,a.handler),a.mouse=new cu(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var r=n.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},n}(pi);return e}();function D8(e){var t,n=e.options.inputClass;return n?t=n:h8?t=Cp:f8?t=lu:fp?t=Ep:t=cu,new t(e,S8)}function mi(e,t,n){return Array.isArray(e)?(Wr(e,n[t],n),!0):!1}var $s=1,An=2,gi=4,Qr=8,zr=Qr,_a=16,hr=32,N8=1;function L8(){return N8++}function Hs(e,t){var n=t.manager;return n?n.get(e):e}function Tp(e){return e&_a?"cancel":e&Qr?"end":e&gi?"move":e&An?"start":""}var Sa=function(){function e(n){n===void 0&&(n={}),this.options=zn({enable:!0},n),this.id=L8(),this.manager=null,this.state=$s,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(n){return Ao(this.options,n),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(n){if(mi(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Hs(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},t.dropRecognizeWith=function(n){return mi(n,"dropRecognizeWith",this)?this:(n=Hs(n,this),delete this.simultaneous[n.id],this)},t.requireFailure=function(n){if(mi(n,"requireFailure",this))return this;var r=this.requireFail;return n=Hs(n,this),Io(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},t.dropRequireFailure=function(n){if(mi(n,"dropRequireFailure",this))return this;n=Hs(n,this);var r=Io(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},t.emit=function(n){var r=this,o=this.state;function i(a){r.manager.emit(a,n)}o<Qr&&i(r.options.event+Tp(o)),i(r.options.event),n.additionalEvent&&i(n.additionalEvent),o>=Qr&&i(r.options.event+Tp(o))},t.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=hr},t.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(hr|$s)))return!1;n++}return!0},t.recognize=function(n){var r=Ao({},n);if(!Ws(this.options.enable,[this,r])){this.reset(),this.state=hr;return}this.state&(zr|_a|hr)&&(this.state=$s),this.state=this.process(r),this.state&(An|gi|Qr|_a)&&this.tryEmit(r)},t.process=function(n){},t.getTouchAction=function(){},t.reset=function(){},e}(),uu=function(e){Mn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,zn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,o.pTime=!1,o.pCenter=!1,o._timer=null,o._input=null,o.count=0,o}var n=t.prototype;return n.getTouchAction=function(){return[ru]},n.process=function(r){var o=this,i=this.options,a=r.pointers.length===i.pointers,s=r.distance<i.threshold,l=r.deltaTime<i.time;if(this.reset(),r.eventType&Ht&&this.count===0)return this.failTimeout();if(s&&l&&a){if(r.eventType!==lt)return this.failTimeout();var c=this.pTime?r.timeStamp-this.pTime<i.interval:!0,u=!this.pCenter||zs(this.pCenter,r.center)<i.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!u||!c?this.count=1:this.count+=1,this._input=r;var d=this.count%i.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=zr,o.tryEmit()},i.interval),An):zr}return hr},n.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=hr},this.options.interval),hr},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===zr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Sa),yi=function(e){Mn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,zn({pointers:1},r))||this}var n=t.prototype;return n.attrTest=function(r){var o=this.options.pointers;return o===0||r.pointers.length===o},n.process=function(r){var o=this.state,i=r.eventType,a=o&(An|gi),s=this.attrTest(r);return a&&(i&tn||!s)?o|_a:a||s?i&lt?o|Qr:o&An?o|gi:An:hr},t}(Sa);function kp(e){return e===fi?"down":e===ya?"up":e===ma?"left":e===ga?"right":""}var du=function(e){Mn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,zn({event:"pan",threshold:10,pointers:1,direction:pp},r))||this,o.pX=null,o.pY=null,o}var n=t.prototype;return n.getTouchAction=function(){var r=this.options.direction,o=[];return r&dr&&o.push(fa),r&Fo&&o.push(ha),o},n.directionTest=function(r){var o=this.options,i=!0,a=r.distance,s=r.direction,l=r.deltaX,c=r.deltaY;return s&o.direction||(o.direction&dr?(s=l===0?Us:l<0?ma:ga,i=l!==this.pX,a=Math.abs(r.deltaX)):(s=c===0?Us:c<0?ya:fi,i=c!==this.pY,a=Math.abs(r.deltaY))),r.direction=s,i&&a>o.threshold&&s&o.direction},n.attrTest=function(r){return yi.prototype.attrTest.call(this,r)&&(this.state&An||!(this.state&An)&&this.directionTest(r))},n.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var o=kp(r.direction);o&&(r.additionalEvent=this.options.event+o),e.prototype.emit.call(this,r)},t}(yi),Fp=function(e){Mn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,zn({event:"swipe",threshold:10,velocity:.3,direction:dr|Fo,pointers:1},r))||this}var n=t.prototype;return n.getTouchAction=function(){return du.prototype.getTouchAction.call(this)},n.attrTest=function(r){var o=this.options.direction,i;return o&(dr|Fo)?i=r.overallVelocity:o&dr?i=r.overallVelocityX:o&Fo&&(i=r.overallVelocityY),e.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&Eo(i)>this.options.velocity&&r.eventType&lt},n.emit=function(r){var o=kp(r.offsetDirection);o&&this.manager.emit(this.options.event+o,r),this.manager.emit(this.options.event,r)},t}(yi),Op=function(e){Mn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,zn({event:"pinch",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[To]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&An)},n.emit=function(r){if(r.scale!==1){var o=r.scale<1?"in":"out";r.additionalEvent=this.options.event+o}e.prototype.emit.call(this,r)},t}(yi),Ip=function(e){Mn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,zn({event:"rotate",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[To]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&An)},t}(yi),Rp=function(e){Mn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,zn({event:"press",pointers:1,time:251,threshold:9},r))||this,o._timer=null,o._input=null,o}var n=t.prototype;return n.getTouchAction=function(){return[hp]},n.process=function(r){var o=this,i=this.options,a=r.pointers.length===i.pointers,s=r.distance<i.threshold,l=r.deltaTime>i.time;if(this._input=r,!s||!a||r.eventType&(lt|tn)&&!l)this.reset();else if(r.eventType&Ht)this.reset(),this._timer=setTimeout(function(){o.state=zr,o.tryEmit()},i.time);else if(r.eventType&lt)return zr;return hr},n.reset=function(){clearTimeout(this._timer)},n.emit=function(r){this.state===zr&&(r&&r.eventType&lt?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=nu(),this.manager.emit(this.options.event,this._input)))},t}(Sa),Pp={domEvents:!1,touchAction:dp,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Dp=[[Ip,{enable:!1}],[Op,{enable:!1},["rotate"]],[Fp,{direction:dr}],[du,{direction:dr},["swipe"]],[uu],[uu,{event:"doubletap",taps:2},["tap"]],[Rp]],q8=1,Np=2;function Lp(e,t){var n=e.element;if(n.style){var r;Wr(e.options.cssProps,function(o,i){r=qs(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function j8(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var qp=function(){function e(n,r){var o=this;this.options=Ao({},Pp,r||{}),this.options.inputTarget=this.options.inputTarget||n,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=n,this.input=D8(this),this.touchAction=new gp(this,this.options.touchAction),Lp(this,!0),Wr(this.options.recognizers,function(i){var a=o.add(new i[0](i[1]));i[2]&&a.recognizeWith(i[2]),i[3]&&a.requireFailure(i[3])},this)}var t=e.prototype;return t.set=function(n){return Ao(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},t.stop=function(n){this.session.stopped=n?Np:q8},t.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var o,i=this.recognizers,a=r.curRecognizer;(!a||a&&a.state&zr)&&(r.curRecognizer=null,a=null);for(var s=0;s<i.length;)o=i[s],r.stopped!==Np&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(n):o.reset(),!a&&o.state&(An|gi|Qr)&&(r.curRecognizer=o,a=o),s++}},t.get=function(n){if(n instanceof Sa)return n;for(var r=this.recognizers,o=0;o<r.length;o++)if(r[o].options.event===n)return r[o];return null},t.add=function(n){if(mi(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},t.remove=function(n){if(mi(n,"remove",this))return this;var r=this.get(n);if(n){var o=this.recognizers,i=Io(o,r);i!==-1&&(o.splice(i,1),this.touchAction.update())}return this},t.on=function(n,r){if(n===void 0||r===void 0)return this;var o=this.handlers;return Wr(va(n),function(i){o[i]=o[i]||[],o[i].push(r)}),this},t.off=function(n,r){if(n===void 0)return this;var o=this.handlers;return Wr(va(n),function(i){r?o[i]&&o[i].splice(Io(o[i],r),1):delete o[i]}),this},t.emit=function(n,r){this.options.domEvents&&j8(n,r);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var i=0;i<o.length;)o[i](r),i++}},t.destroy=function(){this.element&&Lp(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),U8={touchstart:Ht,touchmove:ko,touchend:lt,touchcancel:tn},B8="touchstart",W8="touchstart touchmove touchend touchcancel",z8=function(e){Mn(t,e);function t(){var r,o=t.prototype;return o.evTarget=B8,o.evWin=W8,r=e.apply(this,arguments)||this,r.started=!1,r}var n=t.prototype;return n.handler=function(r){var o=U8[r.type];if(o===Ht&&(this.started=!0),!!this.started){var i=$8.call(this,r,o);o&(lt|tn)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:pa,srcEvent:r})}},t}(pi);function $8(e,t){var n=xa(e.touches),r=xa(e.changedTouches);return t&(lt|tn)&&(n=su(n.concat(r),"identifier",!0)),[n,r]}function jp(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var o=new Error("get-stack-trace"),i=o&&o.stack?o.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,r,i),e.apply(this,arguments)}}var Up=jp(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===void 0)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),H8=jp(function(e,t){return Up(e,t,!0)},"merge","Use `assign`.");function V8(e,t,n){var r=t.prototype,o;o=e.prototype=Object.create(r),o.constructor=e,o._super=r,n&&Ao(o,n)}function Bp(e,t){return function(){return e.apply(t,arguments)}}var Vs=function(){var e=function(t,n){return n===void 0&&(n={}),new qp(t,zn({recognizers:Dp.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=pp,e.DIRECTION_DOWN=fi,e.DIRECTION_LEFT=ma,e.DIRECTION_RIGHT=ga,e.DIRECTION_UP=ya,e.DIRECTION_HORIZONTAL=dr,e.DIRECTION_VERTICAL=Fo,e.DIRECTION_NONE=Us,e.DIRECTION_DOWN=fi,e.INPUT_START=Ht,e.INPUT_MOVE=ko,e.INPUT_END=lt,e.INPUT_CANCEL=tn,e.STATE_POSSIBLE=$s,e.STATE_BEGAN=An,e.STATE_CHANGED=gi,e.STATE_ENDED=Qr,e.STATE_RECOGNIZED=zr,e.STATE_CANCELLED=_a,e.STATE_FAILED=hr,e.Manager=qp,e.Input=pi,e.TouchAction=gp,e.TouchInput=lu,e.MouseInput=cu,e.PointerEventInput=Cp,e.TouchMouseInput=Ep,e.SingleTouchInput=z8,e.Recognizer=Sa,e.AttrRecognizer=yi,e.Tap=uu,e.Pan=du,e.Swipe=Fp,e.Pinch=Op,e.Rotate=Ip,e.Press=Rp,e.on=ba,e.off=wa,e.each=Wr,e.merge=H8,e.extend=Up,e.bindFn=Bp,e.assign=Ao,e.inherit=V8,e.bindFn=Bp,e.prefixed=qs,e.toArray=xa,e.inArray=Io,e.uniqueArray=su,e.splitStr=va,e.boolOrFn=Ws,e.hasParent=iu,e.addEventListeners=ba,e.removeEventListeners=wa,e.defaults=Ao({},Pp,{preset:Dp}),e}();function Y8(e){const t=new Vs.Manager(e),n=new Vs.Pinch;return t.add(n),t.on("pinchmove",function(r){e.dispatchEvent(new CustomEvent("pinchmove",{detail:r}))}),t.on("pinchstart",function(r){e.dispatchEvent(new CustomEvent("pinchstart",{detail:r}))}),{destroy(){}}}function hu(e){const t=new Vs.Manager(e),n=new Vs.Pan;return t.add(n),t.on("panstart",function(r){e.dispatchEvent(new CustomEvent("panstart",{detail:r}))}),t.on("panmove",function(r){e.dispatchEvent(new CustomEvent("panmove",{detail:r}))}),t.on("panend",function(r){e.dispatchEvent(new CustomEvent("panend",{detail:r}))}),{destroy(){}}}const{window:Ys}=xd;function G8(e){let t,n,r,o,i,a,s,l,c,u,d,f,g,b,C;return{c(){t=q("div"),n=q("div"),r=q("div"),o=Ve("svg"),i=Ve("line"),a=Ve("line"),s=Z(),l=q("div"),c=Z(),u=Ve("svg"),d=Ve("line"),f=Ve("line"),v(i,"x1","100%"),v(i,"y1","20%"),v(i,"x2","20%"),v(i,"y2","100%"),v(i,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),v(a,"x1","0%"),v(a,"y1","100%"),v(a,"x2","20%"),v(a,"y2","100%"),v(a,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),v(o,"class","h-5 w-2 inline absolute group cursor-w-resize z-0"),bt(o,"right","100%"),v(o,"role","slider"),v(o,"aria-valuenow",e[5]),v(o,"tabindex","-1"),v(l,"class","w-full h-full border-t border-yellow-500 align-middle absolute z-10"),bt(l,"top","20%"),v(l,"role","slider"),v(l,"tabindex","-1"),v(d,"x1","0%"),v(d,"y1","20%"),v(d,"x2","80%"),v(d,"y2","100%"),v(d,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),v(f,"x1","80%"),v(f,"y1","100%"),v(f,"x2","100%"),v(f,"y2","100%"),v(f,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),v(u,"class","h-5 w-2 inline absolute group cursor-e-resize z-0"),bt(u,"left","100%"),v(u,"role","slider"),v(u,"aria-valuenow",e[6]),v(u,"tabindex","-1"),v(r,"class","h-full absolute cursor-grab z-10"),v(r,"style",e[9]),v(n,"class","h-full w-px bg-yellow-500"),v(n,"style",e[8]),v(t,"class","w-full h-5 bg-black"),Ln(()=>e[26].call(t))},m(T,L){ve(T,t,L),_(t,n),_(n,r),_(r,o),_(o,i),_(o,a),_(r,s),_(r,l),_(r,c),_(r,u),_(u,d),_(u,f),e[25](t),g=Bm(t,e[26].bind(t)),b||(C=[ee(Ys,"mouseup",e[12]),ee(Ys,"mousemove",e[11]),ee(Ys,"touchmove",e[2]),ee(Ys,"touchend",e[3]),ee(o,"mousedown",e[21]),Pi(hu.call(null,o)),ee(o,"panstart",e[22]),ee(o,"panmove",e[11]),ee(o,"panend",e[12]),ee(u,"mousedown",e[23]),Pi(hu.call(null,u)),ee(u,"panstart",e[24]),ee(u,"panmove",e[11]),ee(u,"panend",e[12]),ee(t,"wheel",e[10]),ee(t,"mousedown",e[27]),ee(t,"click",e[13]),ee(t,"touchstart",e[1])],b=!0)},p(T,L){L[0]&32&&v(o,"aria-valuenow",T[5]),L[0]&64&&v(u,"aria-valuenow",T[6]),L[0]&512&&v(r,"style",T[9]),L[0]&256&&v(n,"style",T[8])},i:He,o:He,d(T){T&&ge(t),e[25](null),g(),b=!1,Ut(C)}}}const Gs=0,Xs=1,Ca=2,Ma=3,fu=4;function Wp(e){if(e.clientX)return e.clientX;if(e.detail.center.x)return e.detail.center.x}function X8(e,t,n){const r=Cl();let o=!1,i=!1,a=Gs,s,l,c,u,d=-1e3,f,g,b,C,T;function L(){return(g-f)*1e6/c}function R(J){J.preventDefault();const ie=J.deltaY<0?1:-1,be=.1,Ae=Math.min(Math.abs(J.deltaY)/100,10),re=be*Ae,Re=L(),_e=re*Re,ke=d+ie*(_e/c);n(19,d=Math.min(Math.max(-f,ke),1-g)),A()}function k(J,ie){i=!0,(ie==Ca||ie==Ma)&&!o&&(o=!0,console.log("Normal Drag for "+a));const be=Wp(J);a=ie,l=0;const Ae=u.getBoundingClientRect(),re=Ae.x+Ae.width/2;a===Xs?s=be-re-d*c:a===Ca?s=be-re-(d+f)*c:a===Ma&&(s=be-re-(d+g)*c),I()}function j(J){const ie=Wp(J);if(a===fu)l+=J.detail.srcEvent.movementX;else if(a!==Gs){const be=window.getComputedStyle(J.target).cursor,Ae=u.getBoundingClientRect(),re=Ae.x+Ae.width/2,Re=ie-re-s;if(a===Xs&&!o&&!be.includes("ew-resize")){const _e=u.getBoundingClientRect().x,ke=J.clientX-_e;n(19,d=ke/c-(g+f)/2)}a===Ca?n(5,f=(Re-d*c)/c):a===Ma&&n(6,g=(Re-d*c)/c),A()}}function N(J){a===fu&&l<5&&m(J),a=Gs,n(19,d),o=!1,i=!1}function D(J){}function E(J){if(a===Gs&&window.getComputedStyle(J.target).cursor!="resize"){if(a===fu&&l<5&&!o)m(J);else if(!o&&i){const ie=u.getBoundingClientRect().x,be=J.clientX-ie;n(19,d=be/c-(f+g)/2),A()}}}function S(J){if(J.touches.length===1){const ie=J.touches[0];k(ie,Xs)}}function M(J){if(J.touches.length===1){const ie=J.touches[0];j(ie)}}function x(J){N(J)}function m(J){const ie=u.getBoundingClientRect().x,be=J.clientX-ie;n(19,d=be/c-(g+f)/2),A()}function y(J){const ie=u.getBoundingClientRect().x;return(J.clientX-ie)/c}let w=0;function A(){const J=[d+f,d,d+g],ie=Date.now();ie-w>50&&(r("change",J),w=ie)}function F(J){const[ie,be,Ae]=J;n(19,d=be),n(5,f=ie-be),n(6,g=Ae-be)}function I(){n(20,b=a8(da()))}Sl(()=>{});const Y=J=>k(J,Ca),G=J=>k(J,Ca),U=J=>k(J,Ma),B=J=>k(J,Ma);function H(J){Kt[J?"unshift":"push"](()=>{u=J,n(7,u)})}function K(){c=this.clientWidth,n(4,c)}const de=J=>k(J,Xs);return e.$$.update=()=>{e.$$.dirty[0]&1048592,e.$$.dirty[0]&524304&&n(8,C="transform: translate3d(".concat(d*c-.5,"px, 0, 0)")),e.$$.dirty[0]&112&&n(9,T="transform: translate3d(".concat(f*c+.5,"px, 0, 0); width: ").concat((g-f)*c,"px"))},[k,S,M,x,c,f,g,u,C,T,R,j,N,E,D,m,y,F,I,d,b,Y,G,U,B,H,K,de]}class Z8 extends Ga{constructor(t){super(),Ya(this,t,X8,G8,Uo,{handleMoveStart:0,setMode:14,handleTouchStart:1,handleTouchMove:2,handleTouchEnd:3,handlePassbandClick:15,getOffsetFromEvent:16,changePassband:17,updatePassbandLimits:18},null,[-1,-1])}get handleMoveStart(){return this.$$.ctx[0]}get setMode(){return this.$$.ctx[14]}get handleTouchStart(){return this.$$.ctx[1]}get handleTouchMove(){return this.$$.ctx[2]}get handleTouchEnd(){return this.$$.ctx[3]}get handlePassbandClick(){return this.$$.ctx[15]}get getOffsetFromEvent(){return this.$$.ctx[16]}get changePassband(){return this.$$.ctx[17]}get updatePassbandLimits(){return this.$$.ctx[18]}}var J8=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};const zp=mo(J8);function K8(e){let t,n,r,o,i,a,s;return{c(){t=q("div"),n=q("div"),r=q("input"),o=Z(),i=q("span"),i.textContent="".concat($p),v(r,"type","number"),v(r,"class","text-3xl font-mono text-white outline-none bg-transparent text-center appearance-none p-0 m-0 inline-block svelte-1n8n5wk"),v(i,"class","text-white font-mono p-1 m-1 text-3xl"),v(n,"class","m-0 p-0"),n.hidden=!0,v(t,"class","w-full md-2 items-center bg-black pt-1")},m(l,c){ve(l,t,c),_(t,n),_(n,r),pt(r,e[0]),_(n,o),_(n,i),e[10](n),a||(s=[ee(r,"input",e[9]),ee(r,"change",e[2])],a=!0)},p(l,[c]){c&1&&zo(r.value)!==l[0]&&pt(r,l[0])},i:He,o:He,d(l){l&&ge(t),e[10](null),a=!1,Ut(s)}}}const $p="MHz";function Q8(e,t,n){const r=Cl();let o=0,i=0,a,s,l,c=0;const u={Hz:0,kHz:3,MHz:6,GHz:9},d={3:"k",6:"M",9:"G"};let f=[];function g(S){n(8,o=S),r("change",S+i)}function b(S){if(!zp(s)){C();return}let M=parseFloat(s);M*=Math.pow(10,a),T(M)&&g(M),C()}function C(S){n(0,s=(o/Math.pow(10,a)).toFixed(a));let M=!0;for(let x=0;x<f.length;x++){let m=Math.floor(o/f[x].multiplier)%10;m!==0&&(M=!1),M&&m==0?f[x].value=" ":f[x].value=Math.round(m)}f=f}function T(S){const M=Ce.baseFreq,x=M+Ce.totalBandwidth;return S>=M&&S<x}function L(S){T(S)&&n(8,o=S)}function R(){return o}function k(S){i=S}function j(){return i}function N(S,M){c=M;let x=Math.ceil(Math.log10(c+1));for(let m=0;m<x;m++){let y=x-m-1;f.push({element:null,multiplier:Math.pow(10,x-m-1),separator:y%3===0?d[y]:null,value:0})}f=f}C();function D(){s=zo(this.value),n(0,s)}function E(S){Kt[S?"unshift":"push"](()=>{l=S,n(1,l)})}return e.$$.update=()=>{e.$$.dirty&256&&C()},a=u[$p],[s,l,b,L,R,k,j,N,o,D,E]}class e9 extends Ga{constructor(t){super(),Ya(this,t,Q8,K8,Uo,{setFrequency:3,getFrequency:4,setBFO:5,getBFO:6,updateFrequencyLimits:7})}get setFrequency(){return this.$$.ctx[3]}get getFrequency(){return this.$$.ctx[4]}get setBFO(){return this.$$.ctx[5]}get getBFO(){return this.$$.ctx[6]}get updateFrequencyLimits(){return this.$$.ctx[7]}}function t9(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l>=0?(i=a,o=a-1):r=a+1}return i}function n9(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l>0?(i=a,o=a-1):r=a+1}return i}function r9(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l<0?(i=a,r=a+1):o=a-1}return i}function o9(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l<=0?(i=a,r=a+1):o=a-1}return i}function i9(e,t,n,r,o){for(;r<=o;){var i=r+o>>>1,a=e[i],s=n!==void 0?n(a,t):a-t;if(s===0)return i;s<=0?r=i+1:o=i-1}return-1}function Aa(e,t,n,r,o,i){return typeof n=="function"?i(e,t,n,r===void 0?0:r|0,o===void 0?e.length-1:o|0):i(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}var a9={ge:function(e,t,n,r,o){return Aa(e,t,n,r,o,t9)},gt:function(e,t,n,r,o){return Aa(e,t,n,r,o,n9)},lt:function(e,t,n,r,o){return Aa(e,t,n,r,o,r9)},le:function(e,t,n,r,o){return Aa(e,t,n,r,o,o9)},eq:function(e,t,n,r,o){return Aa(e,t,n,r,o,i9)}};const Hp=mo(a9);function Vp(e,t,n){const r=e.slice();return r[15]=t[n],r}function Yp(e,t){let n,r,o,i,a=t[15].description+"",s,l,c,u;function d(){return t[8](t[15])}return{key:e,first:null,c(){n=q("div"),r=q("div"),r.innerHTML="",o=Z(),i=q("div"),s=Fe(a),l=Z(),v(r,"class","top-0 w-px h-8 z-0 peer bg-yellow-600 absolute"),v(i,"class","outline-1 outline-black outline-offset-0 outline p-px bg-yellow-400 absolute bottom-0 z-10 group-hover:z-20 hover:z-20 peer-hover:z-20 text-left whitespace-pre whitespace-nowrap text-black text-xs align-middle border border-yellow-600 transform origin-bottom-left overflow-hidden h-auto max-h-full hover:max-h-screen peer-hover:max-h-screen transition-all ease-linear duration-1000"),v(n,"class","h-4 absolute p-0 group"),bt(n,"left",t[15].left*100+"%"),this.first=n},m(f,g){ve(f,n,g),_(n,r),_(n,o),_(n,i),_(i,s),_(n,l),c||(u=ee(n,"click",d),c=!0)},p(f,g){t=f,g&2&&a!==(a=t[15].description+"")&&it(s,a),g&2&&bt(n,"left",t[15].left*100+"%")},d(f){f&&ge(n),c=!1,u()}}}function s9(e){let t,n=[],r=new Map,o,i,a=At(e[1]);const s=l=>l[15].frequency;for(let l=0;l<a.length;l+=1){let c=Vp(e,a,l),u=s(c);r.set(u,n[l]=Yp(u,c))}return{c(){t=q("div");for(let l=0;l<n.length;l+=1)n[l].c();v(t,"class","w-full h-4 bg-black relative"),v(t,"role","button")},m(l,c){ve(l,t,c);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);e[9](t),o||(i=[ee(t,"click",vl(e[6])),ee(t,"wheel",vl(e[7]))],o=!0)},p(l,[c]){c&6&&(a=At(l[1]),n=kl(n,c,s,1,l,a,r,t,Tl,Yp,null,Vp))},i:He,o:He,d(l){l&&ge(t);for(let c=0;c<n.length;c+=1)n[c].d();e[9](null),o=!1,Ut(i)}}}function pu(e,t){return e[0]-t[0]}function l9(e,t,n){const r=Cl();let o;var i=[];function a(R){for(const k of R)i.push([k.f||k.frequency,k.d||k.description,k.m||k.modulation]);i=[...i]}function s(){i.sort(pu),i.length===0&&n(0,o.style.display="none",o)}function l(R,k){return[Hp.ge(i,[R],pu),Hp.ge(i,[k],pu)]}function c(R,k){return i.slice(R,k).map(j=>({frequency:j[0],description:j[1],modulation:j[2],left:0}))}let u=[],d=-1,f=-1;function g(){const[R,k]=s8(),[j,N]=l(R,k);k-R<=2e5?(j!==d||N!==f)&&(d=j,f=N,n(1,u=c(d,f))):(n(1,u=[]),f=-1,d=-1),n(1,u=u.map(D=>({...D,left:sp(D.frequency)}))),n(1,u=[...u])}Sl(()=>{});function b(R){Ad.call(this,e,R)}function C(R){Ad.call(this,e,R)}const T=R=>r("markerclick",R);function L(R){Kt[R?"unshift":"push"](()=>{o=R,n(0,o)})}return[o,u,r,a,s,g,b,C,T,L]}class c9 extends Ga{constructor(t){super(),Ya(this,t,l9,s9,Uo,{insertAll:3,finalizeList:4,updateFrequencyMarkerPositions:5})}get insertAll(){return this.$$.ctx[3]}get finalizeList(){return this.$$.ctx[4]}get updateFrequencyMarkerPositions(){return this.$$.ctx[5]}}var u9=Error,d9=EvalError,h9=RangeError,f9=ReferenceError,Gp=SyntaxError,Ea=TypeError,p9=URIError,m9=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0},Xp=typeof Symbol<"u"&&Symbol,g9=m9,y9=function(){return typeof Xp!="function"||typeof Symbol!="function"||typeof Xp("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:g9()},mu={__proto__:null,foo:{}},v9=Object,b9=function(){return{__proto__:mu}.foo===mu.foo&&!(mu instanceof v9)},w9="Function.prototype.bind called on incompatible ",x9=Object.prototype.toString,_9=Math.max,S9="[object Function]",Zp=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},C9=function(e,t){for(var n=[],r=t,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},M9=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},A9=function(e){var t=this;if(typeof t!="function"||x9.apply(t)!==S9)throw new TypeError(w9+t);for(var n=C9(arguments,1),r,o=function(){if(this instanceof r){var c=t.apply(this,Zp(n,arguments));return Object(c)===c?c:this}return t.apply(e,Zp(n,arguments))},i=_9(0,t.length-n.length),a=[],s=0;s<i;s++)a[s]="$"+s;if(r=Function("binder","return function ("+M9(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},E9=A9,gu=Function.prototype.bind||E9,T9=Function.prototype.call,k9=Object.prototype.hasOwnProperty,F9=gu,O9=F9.call(T9,k9),Ie,I9=u9,R9=d9,P9=h9,D9=f9,vi=Gp,bi=Ea,N9=p9,Jp=Function,yu=function(e){try{return Jp('"use strict"; return ('+e+").constructor;")()}catch(t){}},Ro=Object.getOwnPropertyDescriptor;if(Ro)try{Ro({},"")}catch(e){Ro=null}var vu=function(){throw new bi},L9=Ro?function(){try{return arguments.callee,vu}catch(e){try{return Ro(arguments,"callee").get}catch(t){return vu}}}():vu,wi=y9(),q9=b9(),xt=Object.getPrototypeOf||(q9?function(e){return e.__proto__}:null),xi={},j9=typeof Uint8Array>"u"||!xt?Ie:xt(Uint8Array),Po={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ie:ArrayBuffer,"%ArrayIteratorPrototype%":wi&&xt?xt([][Symbol.iterator]()):Ie,"%AsyncFromSyncIteratorPrototype%":Ie,"%AsyncFunction%":xi,"%AsyncGenerator%":xi,"%AsyncGeneratorFunction%":xi,"%AsyncIteratorPrototype%":xi,"%Atomics%":typeof Atomics>"u"?Ie:Atomics,"%BigInt%":typeof BigInt>"u"?Ie:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":I9,"%eval%":eval,"%EvalError%":R9,"%Float32Array%":typeof Float32Array>"u"?Ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ie:FinalizationRegistry,"%Function%":Jp,"%GeneratorFunction%":xi,"%Int8Array%":typeof Int8Array>"u"?Ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wi&&xt?xt(xt([][Symbol.iterator]())):Ie,"%JSON%":typeof JSON=="object"?JSON:Ie,"%Map%":typeof Map>"u"?Ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wi||!xt?Ie:xt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ie:Promise,"%Proxy%":typeof Proxy>"u"?Ie:Proxy,"%RangeError%":P9,"%ReferenceError%":D9,"%Reflect%":typeof Reflect>"u"?Ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wi||!xt?Ie:xt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wi&&xt?xt(""[Symbol.iterator]()):Ie,"%Symbol%":wi?Symbol:Ie,"%SyntaxError%":vi,"%ThrowTypeError%":L9,"%TypedArray%":j9,"%TypeError%":bi,"%Uint8Array%":typeof Uint8Array>"u"?Ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ie:Uint32Array,"%URIError%":N9,"%WeakMap%":typeof WeakMap>"u"?Ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ie:WeakSet};if(xt)try{null.error}catch(e){var U9=xt(xt(e));Po["%Error.prototype%"]=U9}var B9=function e(t){var n;if(t==="%AsyncFunction%")n=yu("async function () {}");else if(t==="%GeneratorFunction%")n=yu("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=yu("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&xt&&(n=xt(o.prototype))}return Po[t]=n,n},Kp={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ta=gu,Zs=O9,W9=Ta.call(Function.call,Array.prototype.concat),z9=Ta.call(Function.apply,Array.prototype.splice),Qp=Ta.call(Function.call,String.prototype.replace),Js=Ta.call(Function.call,String.prototype.slice),$9=Ta.call(Function.call,RegExp.prototype.exec),H9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V9=/\\(\\)?/g,Y9=function(e){var t=Js(e,0,1),n=Js(e,-1);if(t==="%"&&n!=="%")throw new vi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new vi("invalid intrinsic syntax, expected opening `%`");var r=[];return Qp(e,H9,function(o,i,a,s){r[r.length]=a?Qp(s,V9,"$1"):i||o}),r},G9=function(e,t){var n=e,r;if(Zs(Kp,n)&&(r=Kp[n],n="%"+r[0]+"%"),Zs(Po,n)){var o=Po[n];if(o===xi&&(o=B9(n)),typeof o>"u"&&!t)throw new bi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new vi("intrinsic "+e+" does not exist!")},_i=function(e,t){if(typeof e!="string"||e.length===0)throw new bi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new bi('"allowMissing" argument must be a boolean');if($9(/^%?[^%]*%?$/,e)===null)throw new vi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Y9(e),r=n.length>0?n[0]:"",o=G9("%"+r+"%",t),i=o.name,a=o.value,s=!1,l=o.alias;l&&(r=l[0],z9(n,W9([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],f=Js(d,0,1),g=Js(d,-1);if((f==='"'||f==="'"||f==="`"||g==='"'||g==="'"||g==="`")&&f!==g)throw new vi("property names with quotes must have matching quotes");if((d==="constructor"||!u)&&(s=!0),r+="."+d,i="%"+r+"%",Zs(Po,i))a=Po[i];else if(a!=null){if(!(d in a)){if(!t)throw new bi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ro&&c+1>=n.length){var b=Ro(a,d);u=!!b,u&&"get"in b&&!("originalValue"in b.get)?a=b.get:a=a[d]}else u=Zs(a,d),a=a[d];u&&!s&&(Po[i]=a)}}return a},e1={exports:{}},bu,t1;function wu(){if(t1)return bu;t1=1;var e=_i,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}return bu=t,bu}var X9=_i,Ks=X9("%Object.getOwnPropertyDescriptor%",!0);if(Ks)try{Ks([],"length")}catch(e){Ks=null}var n1=Ks,r1=wu(),Z9=Gp,Si=Ea,o1=n1,J9=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Si("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Si("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Si("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Si("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Si("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Si("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,s=!!o1&&o1(e,t);if(r1)r1(e,t,{configurable:i===null&&s?s.configurable:!i,enumerable:r===null&&s?s.enumerable:!r,value:n,writable:o===null&&s?s.writable:!o});else if(a||!r&&!o&&!i)e[t]=n;else throw new Z9("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},xu=wu(),i1=function(){return!!xu};i1.hasArrayLengthDefineBug=function(){if(!xu)return null;try{return xu([],"length",{value:1}).length!==1}catch(e){return!0}};var K9=i1,Q9=_i,a1=J9,ex=K9(),s1=n1,l1=Ea,tx=Q9("%Math.floor%"),nx=function(e,t){if(typeof e!="function")throw new l1("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||tx(t)!==t)throw new l1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,o=!0;if("length"in e&&s1){var i=s1(e,"length");i&&!i.configurable&&(r=!1),i&&!i.writable&&(o=!1)}return(r||o||!n)&&(ex?a1(e,"length",t,!0,!0):a1(e,"length",t)),e};(function(e){var t=gu,n=_i,r=nx,o=Ea,i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,i),l=wu(),c=n("%Math.max%");e.exports=function(d){if(typeof d!="function")throw new o("a function is required");var f=s(t,a,arguments);return r(f,1+c(0,d.length-(arguments.length-1)),!0)};var u=function(){return s(t,i,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u})(e1);var rx=e1.exports,c1=_i,u1=rx,ox=u1(c1("String.prototype.indexOf")),ix=function(e,t){var n=c1(e,!!t);return typeof n=="function"&&ox(e,".prototype.")>-1?u1(n):n};const ax={},_u=Object.freeze(Object.defineProperty({__proto__:null,default:ax},Symbol.toStringTag,{value:"Module"})),sx=Km(_u);var Su=typeof Map=="function"&&Map.prototype,Cu=Object.getOwnPropertyDescriptor&&Su?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Qs=Su&&Cu&&typeof Cu.get=="function"?Cu.get:null,d1=Su&&Map.prototype.forEach,Mu=typeof Set=="function"&&Set.prototype,Au=Object.getOwnPropertyDescriptor&&Mu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,el=Mu&&Au&&typeof Au.get=="function"?Au.get:null,h1=Mu&&Set.prototype.forEach,lx=typeof WeakMap=="function"&&WeakMap.prototype,ka=lx?WeakMap.prototype.has:null,cx=typeof WeakSet=="function"&&WeakSet.prototype,Fa=cx?WeakSet.prototype.has:null,ux=typeof WeakRef=="function"&&WeakRef.prototype,f1=ux?WeakRef.prototype.deref:null,dx=Boolean.prototype.valueOf,hx=Object.prototype.toString,fx=Function.prototype.toString,px=String.prototype.match,Eu=String.prototype.slice,eo=String.prototype.replace,mx=String.prototype.toUpperCase,p1=String.prototype.toLowerCase,m1=RegExp.prototype.test,g1=Array.prototype.concat,fr=Array.prototype.join,gx=Array.prototype.slice,y1=Math.floor,Tu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ku=Object.getOwnPropertySymbols,Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Rt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ci||!0)?Symbol.toStringTag:null,v1=Object.prototype.propertyIsEnumerable,b1=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function w1(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||m1.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-y1(-e):y1(e);if(r!==e){var o=String(r),i=Eu.call(t,o.length+1);return eo.call(o,n,"$&_")+"."+eo.call(eo.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return eo.call(t,n,"$&_")}var Ou=sx,x1=Ou.custom,_1=M1(x1)?x1:null,yx=function e(t,n,r,o){var i=n||{};if(to(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(to(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=to(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(to(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(to(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return E1(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return s?w1(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return s?w1(t,c):c}var u=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof t=="object")return Iu(t)?"[Array]":"[Object]";var d=Dx(i,r);if(typeof o>"u")o=[];else if(A1(o,t)>=0)return"[Circular]";function f(w,A,F){if(A&&(o=gx.call(o),o.push(A)),F){var I={depth:i.depth};return to(i,"quoteStyle")&&(I.quoteStyle=i.quoteStyle),e(w,I,r+1,o)}return e(w,i,r+1,o)}if(typeof t=="function"&&!C1(t)){var g=Ax(t),b=tl(t,f);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(b.length>0?" { "+fr.call(b,", ")+" }":"")}if(M1(t)){var C=Ci?eo.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Fu.call(t);return typeof t=="object"&&!Ci?Oa(C):C}if(Ix(t)){for(var T="<"+p1.call(String(t.nodeName)),L=t.attributes||[],R=0;R<L.length;R++)T+=" "+L[R].name+"="+S1(vx(L[R].value),"double",i);return T+=">",t.childNodes&&t.childNodes.length&&(T+="..."),T+="</"+p1.call(String(t.nodeName))+">",T}if(Iu(t)){if(t.length===0)return"[]";var k=tl(t,f);return d&&!Px(k)?"["+Pu(k,d)+"]":"[ "+fr.call(k,", ")+" ]"}if(wx(t)){var j=tl(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!v1.call(t,"cause")?"{ ["+String(t)+"] "+fr.call(g1.call("[cause]: "+f(t.cause),j),", ")+" }":j.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+fr.call(j,", ")+" }"}if(typeof t=="object"&&a){if(_1&&typeof t[_1]=="function"&&Ou)return Ou(t,{depth:u-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Ex(t)){var N=[];return d1&&d1.call(t,function(w,A){N.push(f(A,t,!0)+" => "+f(w,t))}),T1("Map",Qs.call(t),N,d)}if(Fx(t)){var D=[];return h1&&h1.call(t,function(w){D.push(f(w,t))}),T1("Set",el.call(t),D,d)}if(Tx(t))return Ru("WeakMap");if(Ox(t))return Ru("WeakSet");if(kx(t))return Ru("WeakRef");if(_x(t))return Oa(f(Number(t)));if(Cx(t))return Oa(f(Tu.call(t)));if(Sx(t))return Oa(dx.call(t));if(xx(t))return Oa(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Xo<"u"&&t===Xo)return"{ [object globalThis] }";if(!bx(t)&&!C1(t)){var E=tl(t,f),S=b1?b1(t)===Object.prototype:t instanceof Object||t.constructor===Object,M=t instanceof Object?"":"null prototype",x=!S&&Rt&&Object(t)===t&&Rt in t?Eu.call(no(t),8,-1):M?"Object":"",m=S||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",y=m+(x||M?"["+fr.call(g1.call([],x||[],M||[]),": ")+"] ":"");return E.length===0?y+"{}":d?y+"{"+Pu(E,d)+"}":y+"{ "+fr.call(E,", ")+" }"}return String(t)};function S1(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function vx(e){return eo.call(String(e),/"/g,"&quot;")}function Iu(e){return no(e)==="[object Array]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function bx(e){return no(e)==="[object Date]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function C1(e){return no(e)==="[object RegExp]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function wx(e){return no(e)==="[object Error]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function xx(e){return no(e)==="[object String]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function _x(e){return no(e)==="[object Number]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function Sx(e){return no(e)==="[object Boolean]"&&(!Rt||!(typeof e=="object"&&Rt in e))}function M1(e){if(Ci)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Fu)return!1;try{return Fu.call(e),!0}catch(t){}return!1}function Cx(e){if(!e||typeof e!="object"||!Tu)return!1;try{return Tu.call(e),!0}catch(t){}return!1}var Mx=Object.prototype.hasOwnProperty||function(e){return e in this};function to(e,t){return Mx.call(e,t)}function no(e){return hx.call(e)}function Ax(e){if(e.name)return e.name;var t=px.call(fx.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function A1(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Ex(e){if(!Qs||!e||typeof e!="object")return!1;try{Qs.call(e);try{el.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function Tx(e){if(!ka||!e||typeof e!="object")return!1;try{ka.call(e,ka);try{Fa.call(e,Fa)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function kx(e){if(!f1||!e||typeof e!="object")return!1;try{return f1.call(e),!0}catch(t){}return!1}function Fx(e){if(!el||!e||typeof e!="object")return!1;try{el.call(e);try{Qs.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function Ox(e){if(!Fa||!e||typeof e!="object")return!1;try{Fa.call(e,Fa);try{ka.call(e,ka)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function Ix(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function E1(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return E1(Eu.call(e,0,t.maxStringLength),t)+r}var o=eo.call(eo.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Rx);return S1(o,"single",t)}function Rx(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+mx.call(t.toString(16))}function Oa(e){return"Object("+e+")"}function Ru(e){return e+" { ? }"}function T1(e,t,n,r){var o=r?Pu(n,r):fr.call(n,", ");return e+" ("+t+") {"+o+"}"}function Px(e){for(var t=0;t<e.length;t++)if(A1(e[t],"\n")>=0)return!1;return!0}function Dx(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=fr.call(Array(e.indent+1)," ");else return null;return{base:n,prev:fr.call(Array(t+1),n)}}function Pu(e,t){if(e.length===0)return"";var n="\n"+t.prev+t.base;return n+fr.call(e,","+n)+"\n"+t.prev}function tl(e,t){var n=Iu(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=to(e,o)?t(e[o],e):""}var i=typeof ku=="function"?ku(e):[],a;if(Ci){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var l in e)to(e,l)&&(n&&String(Number(l))===l&&l<e.length||Ci&&a["$"+l]instanceof Symbol||(m1.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof ku=="function")for(var c=0;c<i.length;c++)v1.call(e,i[c])&&r.push("["+t(i[c])+"]: "+t(e[i[c]],e));return r}var k1=_i,Mi=ix,Nx=yx,Lx=Ea,nl=k1("%WeakMap%",!0),rl=k1("%Map%",!0),qx=Mi("WeakMap.prototype.get",!0),jx=Mi("WeakMap.prototype.set",!0),Ux=Mi("WeakMap.prototype.has",!0),Bx=Mi("Map.prototype.get",!0),Wx=Mi("Map.prototype.set",!0),zx=Mi("Map.prototype.has",!0),Du=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},$x=function(e,t){var n=Du(e,t);return n&&n.value},Hx=function(e,t,n){var r=Du(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},Vx=function(e,t){return!!Du(e,t)},Yx=function(){var e,t,n,r={assert:function(o){if(!r.has(o))throw new Lx("Side channel does not contain "+Nx(o))},get:function(o){if(nl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return qx(e,o)}else if(rl){if(t)return Bx(t,o)}else if(n)return $x(n,o)},has:function(o){if(nl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Ux(e,o)}else if(rl){if(t)return zx(t,o)}else if(n)return Vx(n,o);return!1},set:function(o,i){nl&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new nl),jx(e,o,i)):rl?(t||(t=new rl),Wx(t,o,i)):(n||(n={key:{},next:null}),Hx(n,o,i))}};return r},Gx=String.prototype.replace,Xx=/%20/g,Nu={RFC1738:"RFC1738",RFC3986:"RFC3986"},Lu={default:Nu.RFC3986,formatters:{RFC1738:function(e){return Gx.call(e,Xx,"+")},RFC3986:function(e){return String(e)}},RFC1738:Nu.RFC1738,RFC3986:Nu.RFC3986},Zx=Lu,qu=Object.prototype.hasOwnProperty,Do=Array.isArray,pr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Jx=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Do(n)){for(var r=[],o=0;o<n.length;++o)typeof n[o]<"u"&&r.push(n[o]);t.obj[t.prop]=r}}},F1=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},Kx=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Do(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!qu.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return Do(t)&&!Do(n)&&(o=F1(t,r)),Do(t)&&Do(n)?(n.forEach(function(i,a){if(qu.call(t,a)){var s=t[a];s&&typeof s=="object"&&i&&typeof i=="object"?t[a]=e(s,i,r):t.push(i)}else t[a]=i}),t):Object.keys(n).reduce(function(i,a){var s=n[a];return qu.call(i,a)?i[a]=e(i[a],s,r):i[a]=s,i},o)},Qx=function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},e_=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},ju=1024,t_=function(e,t,n,r,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",s=0;s<i.length;s+=ju){for(var l=i.length>=ju?i.slice(s,s+ju):i,c=[],u=0;u<l.length;++u){var d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Zx.RFC1738&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=pr[d];continue}if(d<2048){c[c.length]=pr[192|d>>6]+pr[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=pr[224|d>>12]+pr[128|d>>6&63]+pr[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=pr[240|d>>18]+pr[128|d>>12&63]+pr[128|d>>6&63]+pr[128|d&63]}a+=c.join("")}return a},n_=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var l=a[s],c=i[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(t.push({obj:i,prop:l}),n.push(c))}return Jx(t),e},r_=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},o_=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},i_=function(e,t){return[].concat(e,t)},a_=function(e,t){if(Do(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},O1={arrayToObject:F1,assign:Qx,combine:i_,compact:n_,decode:e_,encode:t_,isBuffer:o_,isRegExp:r_,maybeMap:a_,merge:Kx},I1=Yx,ol=O1,Ia=Lu,s_=Object.prototype.hasOwnProperty,R1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},mr=Array.isArray,l_=Array.prototype.push,P1=function(e,t){l_.apply(e,mr(t)?t:[t])},c_=Date.prototype.toISOString,D1=Ia.default,vt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ol.encode,encodeValuesOnly:!1,format:D1,formatter:Ia.formatters[D1],indices:!1,serializeDate:function(e){return c_.call(e)},skipNulls:!1,strictNullHandling:!1},u_=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Uu={},d_=function e(t,n,r,o,i,a,s,l,c,u,d,f,g,b,C,T,L,R){for(var k=t,j=R,N=0,D=!1;(j=j.get(Uu))!==void 0&&!D;){var E=j.get(t);if(N+=1,typeof E<"u"){if(E===N)throw new RangeError("Cyclic object value");D=!0}typeof j.get(Uu)>"u"&&(N=0)}if(typeof u=="function"?k=u(n,k):k instanceof Date?k=g(k):r==="comma"&&mr(k)&&(k=ol.maybeMap(k,function(B){return B instanceof Date?g(B):B})),k===null){if(a)return c&&!T?c(n,vt.encoder,L,"key",b):n;k=""}if(u_(k)||ol.isBuffer(k)){if(c){var S=T?n:c(n,vt.encoder,L,"key",b);return[C(S)+"="+C(c(k,vt.encoder,L,"value",b))]}return[C(n)+"="+C(String(k))]}var M=[];if(typeof k>"u")return M;var x;if(r==="comma"&&mr(k))T&&c&&(k=ol.maybeMap(k,c)),x=[{value:k.length>0?k.join(",")||null:void 0}];else if(mr(u))x=u;else{var m=Object.keys(k);x=d?m.sort(d):m}var y=l?n.replace(/\./g,"%2E"):n,w=o&&mr(k)&&k.length===1?y+"[]":y;if(i&&mr(k)&&k.length===0)return w+"[]";for(var A=0;A<x.length;++A){var F=x[A],I=typeof F=="object"&&typeof F.value<"u"?F.value:k[F];if(!(s&&I===null)){var Y=f&&l?F.replace(/\./g,"%2E"):F,G=mr(k)?typeof r=="function"?r(w,Y):w:w+(f?"."+Y:"["+Y+"]");R.set(t,N);var U=I1();U.set(Uu,R),P1(M,e(I,G,r,o,i,a,s,l,r==="comma"&&T&&mr(k)?null:c,u,d,f,g,b,C,T,L,U))}}return M},h_=function(e){if(!e)return vt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ia.default;if(typeof e.format<"u"){if(!s_.call(Ia.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Ia.formatters[n],o=vt.filter;(typeof e.filter=="function"||mr(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in R1?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=vt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:vt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:vt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:vt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:vt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:vt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:vt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vt.strictNullHandling}},f_=function(e,t){var n=e,r=h_(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):mr(r.filter)&&(i=r.filter,o=i);var a=[];if(typeof n!="object"||n===null)return"";var s=R1[r.arrayFormat],l=s==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var c=I1(),u=0;u<o.length;++u){var d=o[u];r.skipNulls&&n[d]===null||P1(a,d_(n[d],d,s,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var f=a.join(r.delimiter),g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),f.length>0?g+f:""},Ai=O1,Bu=Object.prototype.hasOwnProperty,p_=Array.isArray,nt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ai.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},m_=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},N1=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},g_="utf8=%26%2310003%3B",y_="utf8=%E2%9C%93",v_=function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=-1,s,l=t.charset;if(t.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===y_?l="utf-8":i[s]===g_&&(l="iso-8859-1"),a=s,s=i.length);for(s=0;s<i.length;++s)if(s!==a){var c=i[s],u=c.indexOf("]="),d=u===-1?c.indexOf("="):u+1,f,g;d===-1?(f=t.decoder(c,nt.decoder,l,"key"),g=t.strictNullHandling?null:""):(f=t.decoder(c.slice(0,d),nt.decoder,l,"key"),g=Ai.maybeMap(N1(c.slice(d+1),t),function(C){return t.decoder(C,nt.decoder,l,"value")})),g&&t.interpretNumericEntities&&l==="iso-8859-1"&&(g=m_(g)),c.indexOf("[]=")>-1&&(g=p_(g)?[g]:g);var b=Bu.call(n,f);b&&t.duplicates==="combine"?n[f]=Ai.combine(n[f],g):(!b||t.duplicates==="last")&&(n[f]=g)}return n},b_=function(e,t,n,r){for(var o=r?t:N1(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&(o===""||n.strictNullHandling&&o===null)?[]:[].concat(o);else{a=n.plainObjects?Object.create(null):{};var l=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:o}:!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=o):c!=="__proto__"&&(a[c]=o)}o=a}return o},w_=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),l=s?o.slice(0,s.index):o,c=[];if(l){if(!n.plainObjects&&Bu.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var u=0;n.depth>0&&(s=a.exec(o))!==null&&u<n.depth;){if(u+=1,!n.plainObjects&&Bu.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}if(s){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+o.slice(s.index)+"]")}return b_(c,t,n,r)}},x_=function(e){if(!e)return nt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?nt.charset:e.charset,n=typeof e.duplicates>"u"?nt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:nt.allowDots:!!e.allowDots;return{allowDots:r,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:nt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:nt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:nt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:nt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:nt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:nt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:nt.decoder,delimiter:typeof e.delimiter=="string"||Ai.isRegExp(e.delimiter)?e.delimiter:nt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:nt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:nt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:nt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:nt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:nt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nt.strictNullHandling}},__=function(e,t){var n=x_(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?v_(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var s=i[a],l=w_(s,r[s],n,typeof e=="string");o=Ai.merge(o,l,n)}return n.allowSparse===!0?o:Ai.compact(o)},S_=f_,C_=__,M_=Lu,A_={formats:M_,parse:C_,stringify:S_};const L1=mo(A_);function E_(e){return L1.stringify(e)}function T_(e){const t=L1.parse(e);return F_(t)}function k_(e){Object.entries(e).forEach(([t,n])=>{localStorage.setItem(t,n)})}function F_(e){const t={};return"frequency"in e&&zp(e.frequency)&&(t.frequency=parseFloat(e.frequency)),"modulation"in e&&(t.modulation=e.modulation.toUpperCase()),t}const{document:q1,window:j1}=xd;function U1(e,t,n){const r=e.slice();r[151]=t[n].id,r[152]=t[n].text;const o=e7(r[152]);return r[153]=o,r}function B1(e,t,n){const r=e.slice();return r[156]=t[n],r[158]=n,r}function O_(e,t,n){const r=e.slice();return r[159]=t[n],r}function W1(e,t,n){const r=e.slice();return r[162]=t[n],r}function z1(e,t,n){const r=e.slice();return r[165]=t[n].option,r[166]=t[n].icon,r[167]=t[n].enabled,r}function $1(e,t,n){const r=e.slice();return r[170]=t[n].action,r[171]=t[n].title,r[166]=t[n].icon,r[152]=t[n].text,r}function H1(e,t,n){const r=e.slice();return r[174]=t[n],r}function V1(e,t,n){const r=e.slice();return r[177]=t[n],r}function Y1(e){let t,n=e[33],r,o,i,a,s=e[33]+1+"",l,c,u=e[75].length+"",d,f,g,b=e[75][e[33]].content+"",C,T,L,R,k,j,N=e[33]<e[75].length-1?"Next":"Finish",D,E,S,M,x,m,y=X1(e);return{c(){t=q("div"),y.c(),r=Z(),o=q("div"),i=q("h3"),a=Fe("Step "),l=Fe(s),c=Fe(" of "),d=Fe(u),f=Z(),g=q("p"),C=Fe(b),T=Z(),L=q("div"),R=q("button"),R.textContent="Skip Tutorial",k=Z(),j=q("button"),D=Fe(N),v(i,"class","text-lg sm:text-xl font-semibold mb-2"),v(g,"class","mb-4 text-sm sm:text-lg"),v(R,"class","w-full sm:w-auto px-4 sm:px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"),v(j,"class","w-full sm:w-auto px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"),v(L,"class","flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0 sm:space-x-4"),v(o,"class","fixed bottom-4 left-4 right-4 sm:left-1/2 sm:right-auto sm:transform sm:-translate-x-1/2 bg-gray-800 text-white p-4 sm:p-6 rounded-lg shadow-lg max-w-md text-center backdrop-filter backdrop-blur-lg bg-opacity-90 border border-gray-700"),v(t,"class","fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center")},m(w,A){ve(w,t,A),y.m(t,null),_(t,r),_(t,o),_(o,i),_(i,a),_(i,l),_(i,c),_(i,d),_(o,f),_(o,g),_(g,C),_(o,T),_(o,L),_(L,R),_(L,k),_(L,j),_(j,D),M=!0,x||(m=[ee(R,"click",Sd(e[77])),ee(j,"click",Sd(e[76])),ee(t,"click",vl(e[76]))],x=!0)},p(w,A){A[1]&4&&Uo(n,n=w[33])?(y.d(1),y=X1(w),y.c(),y.m(t,r)):y.p(w,A),(!M||A[1]&4)&&s!==(s=w[33]+1+"")&&it(l,s),(!M||A[1]&4)&&b!==(b=w[75][w[33]].content+"")&&it(C,b),(!M||A[1]&4)&&N!==(N=w[33]<w[75].length-1?"Next":"Finish")&&it(D,N)},i(w){M||(w&&Ln(()=>{M&&(E||(E=Go(o,Ol,{y:50,duration:300},!0)),E.run(1))}),w&&Ln(()=>{M&&(S||(S=Go(t,Nd,{duration:300},!0)),S.run(1))}),M=!0)},o(w){w&&(E||(E=Go(o,Ol,{y:50,duration:300},!1)),E.run(0)),w&&(S||(S=Go(t,Nd,{duration:300},!1)),S.run(0)),M=!1},d(w){w&&ge(t),y.d(w),w&&E&&E.end(),w&&S&&S.end(),x=!1,Ut(m)}}}function G1(e){let t,n,r;return{c(){t=q("div"),v(t,"class","absolute bg-blue-500 bg-opacity-20 border-2 border-blue-500 transition-all duration-300 ease-in-out pointer-events-none"),bt(t,"top",e[36].top+"px"),bt(t,"left",e[36].left+"px"),bt(t,"width",e[36].width+"px"),bt(t,"height",e[36].height+"px")},m(o,i){ve(o,t,i),r=!0},p(o,i){(!r||i[1]&32)&&bt(t,"top",o[36].top+"px"),(!r||i[1]&32)&&bt(t,"left",o[36].left+"px"),(!r||i[1]&32)&&bt(t,"width",o[36].width+"px"),(!r||i[1]&32)&&bt(t,"height",o[36].height+"px")},i(o){r||(o&&Ln(()=>{r&&(n||(n=Go(t,Ld,{duration:300,start:.95},!0)),n.run(1))}),r=!0)},o(o){o&&(n||(n=Go(t,Ld,{duration:300,start:.95},!1)),n.run(0)),r=!1},d(o){o&&ge(t),o&&n&&n.end()}}}function X1(e){let t,n=e[35]&&G1(e);return{c(){n&&n.c(),t=yl()},m(r,o){n&&n.m(r,o),ve(r,t,o)},p(r,o){r[35]?n?(n.p(r,o),o[1]&16&&qn(n,1)):(n=G1(r),n.c(),qn(n,1),n.m(t.parentNode,t)):n&&(Id(),Yo(n,1,1,()=>{n=null}),Rd())},d(r){r&&ge(t),n&&n.d(r)}}}function I_(e){let t;return{c(){t=Ve("path"),v(t,"d","M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM18.584 5.106a.75.75 0 011.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 11-1.06-1.06 8.25 8.25 0 000-11.668.75.75 0 010-1.06z")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function R_(e){let t;return{c(){t=Ve("path"),v(t,"d","M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM17.78 9.22a.75.75 0 10-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 001.06 1.06L19.5 13.06l1.72 1.72a.75.75 0 101.06-1.06L20.56 12l1.72-1.72a.75.75 0 00-1.06-1.06L19.5 10.94l-1.72-1.72z")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function Z1(e){let t;return{c(){t=q("div"),t.innerHTML='<div class="flex justify-between items-center mb-3 text-sm"><h4 class="text-white font-semibold">FT8 Messages</h4> <span class="text-gray-300 pl-4 lg:pl-0" id="farthest-distance">Farthest: 0 km</span></div> <div class="text-gray-300 overflow-auto max-h-40 custom-scrollbar pr-2"><div id="ft8MessagesList"></div></div>',v(t,"class","bg-gray-700 rounded-lg p-4 mt-6")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function J1(e){let t,n,r=e[177].label+"",o,i,a;return{c(){t=q("div"),n=q("span"),o=Fe(r),a=Z(),v(n,"class",i="text-xs font-mono ".concat(e[177].enabled?"text-".concat(e[177].color,"-500"):"text-".concat(e[177].color,"-500 opacity-20")," relative z-10")),v(t,"class","px-1 py-0.5 flex items-center justify-center w-12 h-5 relative overflow-hidden")},m(s,l){ve(s,t,l),_(t,n),_(n,o),_(t,a)},p(s,l){l[0]&58982400&&r!==(r=s[177].label+"")&&it(o,r),l[0]&58982400&&i!==(i="text-xs font-mono ".concat(s[177].enabled?"text-".concat(s[177].color,"-500"):"text-".concat(s[177].color,"-500 opacity-20")," relative z-10"))&&v(n,"class",i)},d(s){s&&ge(t)}}}function K1(e){let t,n,r,o,i,a;function s(){return e[100](e[174])}return{c(){t=q("button"),n=Fe(e[174]),r=Z(),v(t,"class",o="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[17]===e[174]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))},m(l,c){ve(l,t,c),_(t,n),_(t,r),i||(a=ee(t,"click",s),i=!0)},p(l,c){e=l,c[0]&131072&&o!==(o="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[17]===e[174]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))&&v(t,"class",o)},d(l){l&&ge(t),i=!1,a()}}}function P_(e){let t;return{c(){t=Ve("path"),v(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function D_(e){let t;return{c(){t=Ve("path"),v(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function N_(e){let t,n,r;return{c(){t=Ve("circle"),n=Ve("line"),r=Ve("line"),v(t,"cx","11"),v(t,"cy","11"),v(t,"r","8"),v(n,"x1","21"),v(n,"y1","21"),v(n,"x2","16.65"),v(n,"y2","16.65"),v(r,"x1","8"),v(r,"y1","11"),v(r,"x2","14"),v(r,"y2","11")},m(o,i){ve(o,t,i),ve(o,n,i),ve(o,r,i)},d(o){o&&(ge(t),ge(n),ge(r))}}}function L_(e){let t,n,r,o;return{c(){t=Ve("circle"),n=Ve("line"),r=Ve("line"),o=Ve("line"),v(t,"cx","11"),v(t,"cy","11"),v(t,"r","8"),v(n,"x1","21"),v(n,"y1","21"),v(n,"x2","16.65"),v(n,"y2","16.65"),v(r,"x1","11"),v(r,"y1","8"),v(r,"x2","11"),v(r,"y2","14"),v(o,"x1","8"),v(o,"y1","11"),v(o,"x2","14"),v(o,"y2","11")},m(i,a){ve(i,t,a),ve(i,n,a),ve(i,r,a),ve(i,o,a)},d(i){i&&(ge(t),ge(n),ge(r),ge(o))}}}function Q1(e){let t,n,r,o,i,a,s;function l(f,g){if(f[166]==="zoom-in")return L_;if(f[166]==="zoom-out")return N_;if(f[166]==="maximize")return D_;if(f[166]==="minimize")return P_}let c=l(e),u=c&&c(e);function d(...f){return e[101](e[170],...f)}return{c(){t=q("button"),n=Ve("svg"),u&&u.c(),r=Z(),o=q("span"),o.textContent="".concat(e[152]),i=Z(),v(n,"xmlns","http://www.w3.org/2000/svg"),v(n,"class","h-4 w-4 mr-2"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"stroke","currentColor"),v(n,"stroke-width","2"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(t,"class","retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out bg-gray-700 hover:bg-gray-600"),v(t,"title",e[171])},m(f,g){ve(f,t,g),_(t,n),u&&u.m(n,null),_(t,r),_(t,o),_(t,i),a||(s=ee(t,"click",d),a=!0)},p(f,g){e=f},d(f){f&&ge(t),u&&u.d(),a=!1,s()}}}function q_(e){let t;return{c(){t=Ve("polygon"),v(t,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function j_(e){let t;return{c(){t=Ve("path"),v(t,"d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function U_(e){let t;return{c(){t=Ve("polygon"),v(t,"points","13 2 3 14 12 14 11 22 21 10 12 10 13 2")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function B_(e){let t;return{c(){t=Ve("path"),v(t,"d","M0 15h3v-3h3v3h3v-3h3v3h3v-3h3v3h3v-3h3")},m(n,r){ve(n,t,r)},d(n){n&&ge(t)}}}function em(e){let t,n,r,o,i=e[165]+"",a,s,l,c,u;function d(C,T){if(C[166]==="wave-square")return B_;if(C[166]==="zap")return U_;if(C[166]==="shield")return j_;if(C[166]==="filter")return q_}let f=d(e),g=f&&f(e);function b(){return e[102](e[165])}return{c(){t=q("button"),n=Ve("svg"),g&&g.c(),r=Z(),o=q("span"),a=Fe(i),s=Z(),v(n,"xmlns","http://www.w3.org/2000/svg"),v(n,"class","h-4 w-4 mr-2"),v(n,"viewBox","0 0 24 24"),v(n,"fill","none"),v(n,"stroke","currentColor"),v(n,"stroke-width","2"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(t,"class",l="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[167]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))},m(C,T){ve(C,t,T),_(t,n),g&&g.m(n,null),_(t,r),_(t,o),_(o,a),_(t,s),c||(u=ee(t,"click",b),c=!0)},p(C,T){e=C,f!==(f=d(e))&&(g&&g.d(1),g=f&&f(e),g&&(g.c(),g.m(n,null))),T[0]&125829120&&i!==(i=e[165]+"")&&it(a,i),T[0]&125829120&&l!==(l="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[167]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))&&v(t,"class",l)},d(C){C&&ge(t),g&&g.d(),c=!1,u()}}}function tm(e,t){let n,r=t[162]+"",o,i,a,s,l,c;function u(...d){return t[103](t[162],...d)}return{key:e,first:null,c(){n=q("button"),o=Fe(r),i=Z(),v(n,"class",a="retro-button text-white font-bold h-10 text-base rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(t[13]===t[162]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600")),v(n,"title",s=t[162]+" kHz"),this.first=n},m(d,f){ve(d,n,f),_(n,o),_(n,i),l||(c=ee(n,"click",u),l=!0)},p(d,f){t=d,f[0]&4194304&&r!==(r=t[162]+"")&&it(o,r),f[0]&4202496&&a!==(a="retro-button text-white font-bold h-10 text-base rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(t[13]===t[162]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))&&v(n,"class",a),f[0]&4194304&&s!==(s=t[162]+" kHz")&&v(n,"title",s)},d(d){d&&ge(n),l=!1,c()}}}function W_(e){let t;return{c(){t=q("option"),t.textContent="".concat(e[159]),t.__value=e[159],pt(t,t.__value)},m(n,r){ve(n,t,r)},p:He,d(n){n&&ge(t)}}}function nm(e){let t,n,r,o,i,a,s,l,c,u,d,f,g,b,C,T,L,R,k,j,N,D,E,S,M,x,m,y,w=At(e[38]),A=[];for(let F=0;F<w.length;F+=1)A[F]=rm(B1(e,w,F));return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("h2"),o.textContent="Bookmarks",i=Z(),a=q("button"),a.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',s=Z(),l=q("div"),c=q("label"),c.textContent="Add New Bookmark",u=Z(),d=q("div"),f=q("input"),g=Z(),b=q("button"),b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg>\n                          Add',C=Z(),T=q("div"),L=q("label"),L.textContent="Current Link",R=Z(),k=q("div"),j=q("input"),N=Z(),D=q("button"),D.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                          Copy',E=Z(),S=q("div"),M=q("label"),M.textContent="Saved Bookmarks",x=Z();for(let F=0;F<A.length;F+=1)A[F].c();v(o,"class","text-xl font-bold text-white"),v(a,"class","text-gray-400 hover:text-white"),v(r,"class","flex justify-between items-center mb-4"),v(c,"class","block text-sm font-medium text-gray-300 mb-2"),v(f,"class","glass-input text-white text-sm rounded-lg focus:outline-none px-3 py-2 flex-grow"),v(f,"placeholder","Bookmark name"),v(b,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center"),v(d,"class","flex items-center gap-2"),v(l,"class","mb-6"),v(L,"class","block text-sm font-medium text-gray-300 mb-2"),v(j,"type","text"),v(j,"class","glass-input text-white text-sm rounded-lg focus:outline-none px-3 py-2 flex-grow"),j.value=e[9],j.readOnly=!0,v(D,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center"),v(k,"class","flex items-center gap-2"),v(T,"class","mb-6"),v(M,"class","block text-sm font-medium text-gray-300 mb-2"),v(S,"class","overflow-y-auto flex-grow h-80"),v(n,"class","bg-gray-800 p-6 rounded-lg max-w-lg w-full max-h-[80vh] flex flex-col"),v(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(F,I){ve(F,t,I),_(t,n),_(n,r),_(r,o),_(r,i),_(r,a),_(n,s),_(n,l),_(l,c),_(l,u),_(l,d),_(d,f),pt(f,e[28]),_(d,g),_(d,b),_(n,C),_(n,T),_(T,L),_(T,R),_(T,k),_(k,j),_(k,N),_(k,D),_(n,E),_(n,S),_(S,M),_(S,x);for(let Y=0;Y<A.length;Y+=1)A[Y]&&A[Y].m(S,null);m||(y=[ee(a,"click",e[74]),ee(f,"input",e[109]),ee(b,"click",e[71]),ee(D,"click",e[66])],m=!0)},p(F,I){if(I[0]&268435456&&f.value!==F[28]&&pt(f,F[28]),I[0]&512&&j.value!==F[9]&&(j.value=F[9]),I[1]&128|I[2]&3072){w=At(F[38]);let Y;for(Y=0;Y<w.length;Y+=1){const G=B1(F,w,Y);A[Y]?A[Y].p(G,I):(A[Y]=rm(G),A[Y].c(),A[Y].m(S,null))}for(;Y<A.length;Y+=1)A[Y].d(1);A.length=w.length}},d(F){F&&ge(t),Wo(A,F),m=!1,Ut(y)}}}function rm(e){let t,n,r,o=e[156].name+"",i,a,s,l=(e[156].frequency/1e3).toFixed(3)+"",c,u,d,f,g,b,C,T,L,R,k,j;function N(){return e[110](e[156])}function D(){return e[111](e[156])}function E(){return e[112](e[158])}return{c(){t=q("div"),n=q("div"),r=q("span"),i=Fe(o),a=Z(),s=q("span"),c=Fe(l),u=Fe(" kHz"),d=Z(),f=q("div"),g=q("button"),g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>\n                              Go',b=Z(),C=q("button"),C.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                              Copy',T=Z(),L=q("button"),L.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>\n                              Delete',R=Z(),v(r,"class","text-white text-sm"),v(s,"class","text-gray-400 text-xs"),v(n,"class","flex flex-col"),v(g,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),v(C,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),v(L,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),v(f,"class","flex gap-2"),v(t,"class","glass-panel rounded-lg p-3 flex items-center justify-between mb-2")},m(S,M){ve(S,t,M),_(t,n),_(n,r),_(r,i),_(n,a),_(n,s),_(s,c),_(s,u),_(t,d),_(t,f),_(f,g),_(f,b),_(f,C),_(f,T),_(f,L),_(t,R),k||(j=[ee(g,"click",N),ee(C,"click",D),ee(L,"click",E)],k=!0)},p(S,M){e=S,M[1]&128&&o!==(o=e[156].name+"")&&it(i,o),M[1]&128&&l!==(l=(e[156].frequency/1e3).toFixed(3)+"")&&it(c,l)},d(S){S&&ge(t),k=!1,Ut(j)}}}function z_(e){let t,n=(e[30]||"Anonymous")+"",r,o,i,a,s;return{c(){t=q("span"),r=Fe(n),o=Z(),i=q("button"),i.textContent="Edit",v(t,"class","glass-username text-white text-xs sm:text-sm px-3 py-1 rounded-lg mr-2 mb-2 sm:mb-0"),v(i,"class","glass-button text-white py-1 px-3 mb-2 lg:mb-0 rounded-lg text-xs sm:text-sm")},m(l,c){ve(l,t,c),_(t,r),ve(l,o,c),ve(l,i,c),a||(s=ee(i,"click",e[70]),a=!0)},p(l,c){c[0]&1073741824&&n!==(n=(l[30]||"Anonymous")+"")&&it(r,n)},d(l){l&&(ge(t),ge(o),ge(i)),a=!1,s()}}}function $_(e){let t,n,r,o,i;return{c(){t=q("input"),n=Z(),r=q("button"),r.textContent="Save",v(t,"class","glass-input text-white py-1 px-2 rounded-lg outline-none text-xs sm:text-sm flex-grow mr-2 mb-2 sm:mb-0"),v(t,"placeholder","Enter your name/callsign"),v(r,"class","glass-button text-white py-1 px-3 mb-2 lg:mb-0 rounded-lg text-xs sm:text-sm")},m(a,s){ve(a,t,s),pt(t,e[30]),ve(a,n,s),ve(a,r,s),o||(i=[ee(t,"input",e[113]),ee(t,"keydown",e[114]),ee(r,"click",e[69])],o=!0)},p(a,s){s[0]&1073741824&&t.value!==a[30]&&pt(t,a[30])},d(a){a&&(ge(t),ge(n),ge(r)),o=!1,Ut(i)}}}function H_(e){let t,n=Ei(e[153].parts)+"",r;return{c(){t=new bl(!1),r=yl(),t.a=r},m(o,i){t.m(n,o,i),ve(o,r,i)},p(o,i){i[0]&1&&n!==(n=Ei(o[153].parts)+"")&&t.p(n)},d(o){o&&(ge(r),t.d())}}}function V_(e){let t,n=Ei(e[153].beforeFreq)+"",r,o,i=(e[153].frequency/1e3).toFixed(3)+"",a,s,l=e[153].demodulation+"",c,u,d,f,g=Ei(e[153].afterFreq)+"",b,C,T;function L(){return e[115](e[153])}return{c(){t=new bl(!1),r=Z(),o=q("a"),a=Fe(i),s=Fe(" kHz ("),c=Fe(l),u=Fe(")"),d=Z(),f=new bl(!1),b=yl(),t.a=r,v(o,"href","#"),v(o,"class","text-blue-300 hover:underline"),f.a=b},m(R,k){t.m(n,R,k),ve(R,r,k),ve(R,o,k),_(o,a),_(o,s),_(o,c),_(o,u),ve(R,d,k),f.m(g,R,k),ve(R,b,k),C||(T=ee(o,"click",Lm(L)),C=!0)},p(R,k){e=R,k[0]&1&&n!==(n=Ei(e[153].beforeFreq)+"")&&t.p(n),k[0]&1&&i!==(i=(e[153].frequency/1e3).toFixed(3)+"")&&it(a,i),k[0]&1&&l!==(l=e[153].demodulation+"")&&it(c,l),k[0]&1&&g!==(g=Ei(e[153].afterFreq)+"")&&f.p(g)},d(R){R&&(t.d(),ge(r),ge(o),ge(d),ge(b),f.d()),C=!1,T()}}}function om(e,t){let n,r,o,i,a=t[153].username+"",s,l,c,u=t[153].timestamp+"",d,f,g,b,C;function T(k,j){return k[153].isFormatted?V_:H_}let L=T(t),R=L(t);return{key:e,first:null,c(){n=q("div"),r=q("div"),o=q("p"),i=q("span"),s=Fe(a),l=Z(),c=q("span"),d=Fe(u),f=Z(),g=q("p"),R.c(),b=Z(),v(i,"class","font-semibold text-blue-300"),v(c,"class","text-xs text-gray-400 ml-2"),v(o,"class","text-white text-xs sm:text-sm break-words"),v(g,"class","text-white text-xs sm:text-sm break-words mt-1"),v(r,"class","inline-block bg-gray-800 rounded-lg p-2 max-w-full"),v(n,"class","mb-2 sm:mb-3 text-left"),this.first=n},m(k,j){ve(k,n,j),_(n,r),_(r,o),_(o,i),_(i,s),_(o,l),_(o,c),_(c,d),_(r,f),_(r,g),R.m(g,null),_(n,b)},p(k,j){t=k,j[0]&1&&a!==(a=t[153].username+"")&&it(s,a),j[0]&1&&u!==(u=t[153].timestamp+"")&&it(d,u),L===(L=T(t))&&R?R.p(t,j):(R.d(1),R=L(t),R&&(R.c(),R.m(g,null)))},i(k){k&&(C||Ln(()=>{C=Gm(n,Ol,{y:20,duration:300,easing:Jm}),C.start()}))},o:He,d(k){k&&ge(n),R.d()}}}function Y_(e){let t,n,r,o,i,a,s,l,c,u,d,f,g,b,C,T,L,R,k,j,N,D,E,S,M,x,m,y,w,A,F,I,Y,G,U,B,H,K,de,J,ie,be,Ae,re,Re,_e,ke,Be,nn,Ne,pe,ae,Tt,En,Pt,Me,We,Tn,ro,kt,Dt,$n,qe,$r,Nt,Hn,Vn,Yn,Ft,Lt,Ot,ct,Pe,_t,kn,St,mn,rt,rn,ut,Fn,gn,oo,Gn,On,Hr,on,an,Vt,dt,Yt,yn,Xe,yr,sn,io,vr,Vr,V,Xn,Gt,br,ln,wr,Zn,xr,ao,In,Rn,je,so,Jn,_r,Sr,Xt,qt=[],lo=new Map,Cr,Ze,Mr,co,Pn,Zt,Ar,uo,jt,Ct,Er,Tr,h,p,O,$,Q,le,te,se,we,Ue,ht,Dn,W,oe,me,xe,ce,he,Le,ze,ot,vn,ft,Kn,Ra,zu,im,No,il,am,Ti,al,sm,$u,lm,Lo,sl,cm,ki,ll,um,Hu,dm,Fi,hm,Pa,fm,pm,Da,Qn,cl,mm,qo,ul,gm,ym,Oi,er=[],vm=new Map,bm,Ii,Yr,wm,Ri,Na,xm,La,_m,dl,hl,Vu,qa,ja,Jt,Yu,Sm,r7={};C=new e9({props:r7}),e[86](C),C.$on("change",e[52]);let o7={};j=new c9({props:o7}),e[88](j),j.$on("click",function(){Bt(e[8].handlePassbandClick)&&e[8].handlePassbandClick.apply(this,arguments)}),j.$on("wheel",e[39]),j.$on("markerclick",e[65]);let i7={};S=new Z8({props:i7}),e[91](S),S.$on("change",e[51]),S.$on("wheel",e[39]);let Mt=e[34]&&Y1(e);function Cm(ne,fe){return ne[18]?R_:I_}let fl=Cm(e),ho=fl(e),bn=e[11]&&Z1(),Gu=At([{label:"MUTED",enabled:e[18],color:"red"},{label:"NR",enabled:e[23],color:"green"},{label:"NB",enabled:e[24],color:"green"},{label:"AN",enabled:e[25],color:"green"}]),tr=[];for(let ne=0;ne<4;ne+=1)tr[ne]=J1(V1(e,Gu,ne));let Xu=At(["USB","LSB","CW-U","CW-L","AM","FM"]),nr=[];for(let ne=0;ne<6;ne+=1)nr[ne]=K1(H1(e,Xu,ne));let Zu=At([{action:"+",title:"Zoom in",icon:"zoom-in",text:"In"},{action:"-",title:"Zoom out",icon:"zoom-out",text:"Out"},{action:"max",title:"Zoom to max",icon:"maximize",text:"Max"},{action:"min",title:"Zoom to min",icon:"minimize",text:"Min"}]),rr=[];for(let ne=0;ne<4;ne+=1)rr[ne]=Q1($1(e,Zu,ne));let Ju=At([{option:"NR",icon:"wave-square",enabled:e[23]},{option:"NB",icon:"zap",enabled:e[24]},{option:"AN",icon:"shield",enabled:e[25]},{option:"CTCSS",icon:"filter",enabled:e[26]}]),or=[];for(let ne=0;ne<4;ne+=1)or[ne]=em(z1(e,Ju,ne));let pl=At(e[22]);const Mm=ne=>ne[162];for(let ne=0;ne<pl.length;ne+=1){let fe=W1(e,pl,ne),Se=Mm(fe);lo.set(Se,qt[ne]=tm(Se,fe))}let Am=At(O5),jo=[];for(let ne=0;ne<Am.length;ne+=1)jo[ne]=W_(O_(e,Am,ne));let cn=e[32]&&nm(e);function Em(ne,fe){return ne[31]?$_:z_}let ml=Em(e),kr=ml(e),Ua=At(e[0]);const Tm=ne=>ne[151];for(let ne=0;ne<Ua.length;ne+=1){let fe=U1(e,Ua,ne),Se=Tm(fe);vm.set(Se,er[ne]=om(Se,fe))}return{c(){t=q("main"),n=q("div"),r=q("div"),o=q("div"),i=q("div"),a=q("div"),s=Z(),l=q("div"),c=q("div"),u=q("div"),d=q("canvas"),f=Z(),g=q("canvas"),b=Z(),Fl(C.$$.fragment),T=Z(),L=q("canvas"),k=Z(),Fl(j.$$.fragment),N=Z(),D=q("canvas"),E=Z(),Fl(S.$$.fragment),M=Z(),x=q("canvas"),x.innerHTML="",m=Z(),y=q("div"),y.innerHTML='<div class="text-center p-4 pointer-events-none"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-2 text-white opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg> <p class="text-white text-lg font-medium">Tap to enable audio</p></div>',w=Z(),Mt&&Mt.c(),A=Z(),F=q("div"),I=q("div"),Y=q("h2"),Y.textContent="Audio",G=Z(),U=q("div"),B=q("button"),H=Ve("svg"),ho.c(),K=Z(),de=q("div"),J=q("input"),ie=Z(),be=q("span"),Ae=Fe(e[19]),re=Fe("%"),Re=Z(),_e=q("div"),ke=q("button"),Be=q("span"),Be.textContent="SQ",nn=Z(),Ne=q("div"),pe=q("input"),ae=Z(),Tt=q("span"),En=Fe(e[21]),Pt=Fe("db"),Me=Z(),We=q("div"),Tn=q("label"),Tn.textContent="Decoder Options",ro=Z(),kt=q("div"),Dt=q("button"),$n=Fe("None"),$r=Z(),Nt=q("button"),Hn=Fe("FT8"),Yn=Z(),bn&&bn.c(),Ft=Z(),Lt=q("div"),Ot=q("div"),ct=q("div"),Pe=q("div"),_t=q("input"),kn=Z(),St=q("div"),mn=q("span"),rt=Fe(e[17]),rn=Z(),ut=q("span"),ut.textContent="|",Fn=Z(),gn=q("span"),oo=Fe("BW "),Gn=Fe(e[13]),On=Fe(" kHz"),Hr=Z(),on=q("div"),an=q("div");for(let ne=0;ne<4;ne+=1)tr[ne].c();Vt=Z(),dt=q("canvas"),Yt=Z(),yn=q("div"),Xe=q("div"),yr=q("div"),sn=q("div");for(let ne=0;ne<6;ne+=1)nr[ne].c();io=Z(),vr=q("hr"),Vr=Z(),V=q("div"),Xn=q("div"),Gt=q("h3"),Gt.textContent="Zoom",br=Z(),ln=q("div");for(let ne=0;ne<4;ne+=1)rr[ne].c();wr=Z(),Zn=q("div"),xr=q("h3"),xr.textContent="Misc",ao=Z(),In=q("div");for(let ne=0;ne<4;ne+=1)or[ne].c();Rn=Z(),je=q("hr"),so=Z(),Jn=q("div"),_r=q("h3"),_r.textContent="Bandwidth",Sr=Z(),Xt=q("div");for(let ne=0;ne<qt.length;ne+=1)qt[ne].c();Cr=Z(),Ze=q("div"),Mr=q("h3"),Mr.textContent="Waterfall Controls",co=Z(),Pn=q("div"),Zt=q("div"),Ar=q("span"),Ar.textContent="Min:",uo=Z(),jt=q("div"),Ct=q("input"),Er=Z(),Tr=q("span"),h=Fe(e[15]),p=Z(),O=q("div"),$=q("span"),$.textContent="Max:",Q=Z(),le=q("div"),te=q("input"),se=Z(),we=q("span"),Ue=Fe(e[16]),ht=Z(),Dn=q("div"),W=q("div"),oe=q("select");for(let ne=0;ne<jo.length;ne+=1)jo[ne].c();me=Z(),xe=q("div"),xe.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path></svg>',ce=Z(),he=q("div"),Le=q("div"),ze=q("div"),ot=q("span"),ot.textContent="Auto Adjust",vn=Z(),ft=q("label"),Kn=q("input"),Ra=Z(),zu=q("span"),im=Z(),No=q("div"),il=q("span"),il.textContent="Spectrum",am=Z(),Ti=q("label"),al=q("input"),sm=Z(),$u=q("span"),lm=Z(),Lo=q("div"),sl=q("span"),sl.textContent="Increase Size",cm=Z(),ki=q("label"),ll=q("input"),um=Z(),Hu=q("span"),dm=Z(),Fi=q("button"),Fi.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path></svg>\n                Bookmarks',hm=Z(),Pa=q("div"),Pa.innerHTML='<div id="total_user_count" class="bg-gray-800 rounded-md p-2 text-center flex justify-between items-center"></div>',fm=Z(),cn&&cn.c(),pm=Z(),Da=q("div"),Qn=q("div"),cl=q("h2"),cl.textContent="Chat",mm=Z(),qo=q("div"),ul=q("span"),ul.textContent="Chatting as:",gm=Z(),kr.c(),ym=Z(),Oi=q("div");for(let ne=0;ne<er.length;ne+=1)er[ne].c();bm=Z(),Ii=q("div"),Yr=q("input"),wm=Z(),Ri=q("div"),Na=q("button"),Na.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>\n                    Send',xm=Z(),La=q("button"),La.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                    Paste Freq',_m=Z(),dl=q("footer"),hl=q("span"),hl.textContent="PhantomSDR+ | v".concat(G_),Vu=Z(),qa=q("link"),ja=q("link"),v(a,"class","xl:pt-20"),v(d,"class","w-full bg-black block"),v(d,"width","1024"),v(g,"class","hidden"),v(g,"width","1024"),v(g,"height","1024"),v(L,"class",R="w-full bg-black peer "+(e[12]?"max-h-40":"max-h-0")),v(L,"width","1024"),v(L,"height","128"),v(D,"class","w-full bg-black peer"),v(D,"width","1024"),v(D,"height","20"),v(x,"class","w-full bg-black peer"),v(x,"width","1024"),v(x,"height","20"),bt(u,"image-rendering","pixelated"),v(u,"class","w-full xl:rounded-lg peer overflow-hidden"),v(u,"id","waterfall"),v(c,"class","w-full"),v(c,"id","outer-waterfall-container"),v(l,"class","flex justify-center w-full"),v(y,"class","absolute inset-0 z-20 bg-black bg-opacity-40 backdrop-filter backdrop-blur-sm transition-opacity duration-300 ease-in-out cursor-pointer flex justify-center items-center"),v(y,"id","startaudio"),v(Y,"class","text-2xl font-semibold text-gray-100 mb-6"),v(H,"xmlns","http://www.w3.org/2000/svg"),v(H,"viewBox","0 0 24 24"),v(H,"fill","currentColor"),v(H,"class","w-5 h-5"),v(B,"class","glass-button text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4"),v(J,"type","range"),v(J,"class","glass-slider"),J.disabled=e[18],v(J,"min","0"),v(J,"max","100"),v(J,"step","1"),v(de,"class","slider-container"),v(be,"class","value-display text-gray-300 ml-4"),v(U,"class","control-group"),v(U,"id","volume-slider"),v(Be,"class","text-xs font-semibold"),v(ke,"class","glass-button text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4"),bt(ke,"background",e[20]?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)"),v(pe,"type","range"),v(pe,"class","glass-slider"),v(pe,"min","-150"),v(pe,"max","0"),v(pe,"step","1"),v(Ne,"class","slider-container"),v(Tt,"class","value-display text-gray-300 ml-4"),v(_e,"class","control-group mt-4"),v(_e,"id","squelch-slider"),v(Tn,"class","block text-sm font-medium text-gray-300 mb-3"),v(Dt,"class",qe="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[11]?"":"ring-2 ring-blue-500")),v(Nt,"id","ft8-decoder"),v(Nt,"class",Vn="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[11]?"ring-2 ring-blue-500":"")),v(kt,"class","flex justify-center gap-4"),v(We,"class","mt-6"),v(I,"class","p-5 flex flex-col items-center bg-gray-800 lg:border lg:border-gray-700 rounded-none rounded-t-lg lg:rounded-none lg:rounded-l-lg"),v(_t,"class","text-4xl h-16 w-48 text-center bg-black text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 rounded-lg mb-2"),v(_t,"type","text"),v(_t,"size","3"),v(_t,"name","frequency"),v(mn,"class","text-green-400 px-2"),v(ut,"class","text-gray-400 px-2"),v(gn,"class","text-cyan-300 px-2"),v(St,"class","flex items-center justify-center text-sm w-48"),v(Pe,"class","flex flex-col items-center"),v(an,"class","flex space-x-1 mb-1"),v(dt,"id","sMeter"),v(dt,"width","250"),v(dt,"height","40"),v(on,"class","flex flex-col items-center"),v(ct,"class","flex flex-col sm:flex-row items-center justify-between gap-4"),v(Ot,"class","bg-black rounded-lg p-8 min-w-80 lg:min-w-0 lg:p-4 mb-4 w-full"),v(Ot,"id","smeter-tut"),v(sn,"id","demodulationModes"),v(sn,"class","grid grid-cols-3 sm:grid-cols-6 gap-2"),v(vr,"class","border-gray-600 my-2"),v(Gt,"class","text-white text-lg font-semibold mb-2"),v(ln,"id","zoom-controls"),v(ln,"class","grid grid-cols-2 gap-2"),v(xr,"class","text-white text-lg font-semibold mb-2"),v(In,"id","moreoptions"),v(In,"class","grid grid-cols-2 gap-2"),v(V,"class","grid sm:grid-cols-2 gap-4"),v(je,"class","border-gray-600 my-2"),v(_r,"class","text-white text-lg font-semibold mb-2"),v(Xt,"class","grid grid-cols-2 sm:grid-cols-4 gap-2"),v(Xe,"class","space-y-3"),v(yn,"id","frequencyContainer"),v(yn,"class","w-full mt-4"),v(Lt,"class","flex flex-col items-center bg-gray-800 p-6 border-l-0 border-r-0 border border-gray-700"),v(Mr,"class","text-white text-lg font-semibold mb-4"),v(Ar,"class","text-gray-300 text-sm w-10"),v(Ct,"type","range"),v(Ct,"min","-100"),v(Ct,"max","255"),v(Ct,"step","1"),v(Ct,"class","glass-slider w-full"),v(jt,"class","slider-container w-48 mx-2"),v(Tr,"class","text-gray-300 text-sm w-10 text-right"),v(Zt,"id","brightness-controls"),v(Zt,"class","flex items-center justify-between mb-2"),v($,"class","text-gray-300 text-sm w-10"),v(te,"type","range"),v(te,"min","0"),v(te,"max","255"),v(te,"step","1"),v(te,"class","glass-slider w-full"),v(le,"class","slider-container w-48 mx-2"),v(we,"class","text-gray-300 text-sm w-10 text-right"),v(O,"class","flex items-center justify-between"),v(Pn,"class","w-full mb-6"),v(oe,"class","glass-select block w-full pl-3 pr-10 py-2 text-sm rounded-lg text-gray-200 appearance-none focus:outline-none"),e[14]===void 0&&Ln(()=>e[106].call(oe)),v(xe,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400"),v(W,"id","colormap-select"),v(W,"class","relative"),v(Dn,"class","w-full mb-6"),v(ot,"class","text-sm text-gray-300 mb-1"),v(Kn,"type","checkbox"),v(zu,"class","toggle-slider"),v(ft,"class","toggle-switch"),v(ze,"id","auto-adjust"),v(ze,"class","flex flex-col items-center"),v(il,"class","text-sm text-gray-300 mb-1"),v(al,"type","checkbox"),v($u,"class","toggle-slider"),v(Ti,"class","toggle-switch"),v(No,"id","spectrum-toggle"),v(No,"class","flex flex-col items-center"),v(sl,"class","text-sm text-gray-300 mb-1 text-center"),v(ll,"type","checkbox"),v(Hu,"class","toggle-slider"),v(ki,"class","toggle-switch"),v(Lo,"id","bigger-waterfall"),v(Lo,"class","flex flex-col items-center"),v(Le,"class","grid grid-cols-1 sm:grid-cols-3 gap-4"),v(he,"class","w-full mb-6"),v(Fi,"id","bookmark-button"),v(Fi,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center w-full justify-center"),v(Pa,"id","user_count_container"),v(Pa,"class","w-full mt-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-1"),v(Ze,"class","flex flex-col items-center bg-gray-800 p-6 lg:border lg:border-gray-700 rounded-none rounded-b-lg lg:rounded-none lg:rounded-r-lg"),v(F,"class","flex flex-col xl:flex-row rounded p-5 justify-center rounded"),v(F,"id","middle-column"),v(cl,"class","text-xl sm:text-2xl font-semibold text-gray-100 mb-2 sm:mb-4"),v(ul,"class","text-white text-xs sm:text-sm mr-2 mb-2 sm:mb-0"),v(qo,"class","mb-2 sm:mb-4 flex flex-wrap items-center"),v(Oi,"class","bg-gray-900 rounded-lg p-2 sm:p-3 mb-2 sm:mb-4 h-48 sm:h-64 overflow-y-auto custom-scrollbar"),v(Yr,"class","glass-input text-white py-2 px-3 rounded-lg outline-none text-xs sm:text-sm flex-grow"),v(Yr,"placeholder","Type a message..."),v(Na,"class","glass-button text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center text-xs sm:text-sm flex-grow sm:flex-grow-0"),v(La,"class","glass-button text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center text-xs sm:text-sm flex-grow sm:flex-grow-0"),v(Ri,"class","flex space-x-2"),v(Ii,"class","flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"),v(Qn,"class","p-3 sm:p-5 flex flex-col bg-gray-800 border border-gray-700 rounded-lg w-full mb-8"),v(Qn,"id","chat-box"),v(Da,"class","flex flex-col rounded p-2 justify-center "),v(Da,"id","chat-column"),v(i,"class","max-w-screen-lg mx-auto"),v(o,"class","min-h-screen bg-custom-dark text-gray-200"),bt(o,"padding-top","10px"),v(hl,"class","text-sm text-gray-400"),v(dl,"class","mt-4 mb-4 text-center text-gray-400 text-sm"),v(r,"class","w-full sm:h-screen overflow-y-scroll sm:w-1/2 xl:w-1/3 lg:w-1/4 sm:transition-all sm:ease-linear sm:duration-100"),bt(r,"width","100%"),v(n,"class","h-screen overflow-hidden flex flex-col min-h-screen"),v(t,"class","custom-scrollbar"),v(qa,"href","https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"),v(qa,"rel","stylesheet"),v(ja,"href","https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap"),v(ja,"rel","stylesheet")},m(ne,fe){ve(ne,t,fe),_(t,n),_(n,r),_(r,o),_(o,i),_(i,a),_(i,s),_(i,l),_(l,c),_(c,u),_(u,d),e[84](d),_(u,f),_(u,g),e[85](g),_(u,b),Ha(C,u,null),_(u,T),_(u,L),e[87](L),_(u,k),Ha(j,u,null),_(u,N),_(u,D),e[89](D),_(u,E),Ha(S,u,null),_(u,M),_(u,x),e[92](x),_(i,m),_(i,y),_(i,w),Mt&&Mt.m(i,null),_(i,A),_(i,F),_(F,I),_(I,Y),_(I,G),_(I,U),_(U,B),_(B,H),ho.m(H,null),_(U,K),_(U,de),_(de,J),pt(J,e[19]),_(U,ie),_(U,be),_(be,Ae),_(be,re),_(I,Re),_(I,_e),_(_e,ke),_(ke,Be),_(_e,nn),_(_e,Ne),_(Ne,pe),pt(pe,e[21]),_(_e,ae),_(_e,Tt),_(Tt,En),_(Tt,Pt),_(I,Me),_(I,We),_(We,Tn),_(We,ro),_(We,kt),_(kt,Dt),_(Dt,$n),_(kt,$r),_(kt,Nt),_(Nt,Hn),_(I,Yn),bn&&bn.m(I,null),_(F,Ft),_(F,Lt),_(Lt,Ot),_(Ot,ct),_(ct,Pe),_(Pe,_t),pt(_t,e[7]),_(Pe,kn),_(Pe,St),_(St,mn),_(mn,rt),_(St,rn),_(St,ut),_(St,Fn),_(St,gn),_(gn,oo),_(gn,Gn),_(gn,On),_(ct,Hr),_(ct,on),_(on,an);for(let Se=0;Se<4;Se+=1)tr[Se]&&tr[Se].m(an,null);_(on,Vt),_(on,dt),_(Lt,Yt),_(Lt,yn),_(yn,Xe),_(Xe,yr),_(yr,sn);for(let Se=0;Se<6;Se+=1)nr[Se]&&nr[Se].m(sn,null);_(Xe,io),_(Xe,vr),_(Xe,Vr),_(Xe,V),_(V,Xn),_(Xn,Gt),_(Xn,br),_(Xn,ln);for(let Se=0;Se<4;Se+=1)rr[Se]&&rr[Se].m(ln,null);_(V,wr),_(V,Zn),_(Zn,xr),_(Zn,ao),_(Zn,In);for(let Se=0;Se<4;Se+=1)or[Se]&&or[Se].m(In,null);_(Xe,Rn),_(Xe,je),_(Xe,so),_(Xe,Jn),_(Jn,_r),_(Jn,Sr),_(Jn,Xt);for(let Se=0;Se<qt.length;Se+=1)qt[Se]&&qt[Se].m(Xt,null);_(F,Cr),_(F,Ze),_(Ze,Mr),_(Ze,co),_(Ze,Pn),_(Pn,Zt),_(Zt,Ar),_(Zt,uo),_(Zt,jt),_(jt,Ct),pt(Ct,e[15]),_(Zt,Er),_(Zt,Tr),_(Tr,h),_(Pn,p),_(Pn,O),_(O,$),_(O,Q),_(O,le),_(le,te),pt(te,e[16]),_(O,se),_(O,we),_(we,Ue),_(Ze,ht),_(Ze,Dn),_(Dn,W),_(W,oe);for(let Se=0;Se<jo.length;Se+=1)jo[Se]&&jo[Se].m(oe,null);Cd(oe,e[14],!0),_(W,me),_(W,xe),_(Ze,ce),_(Ze,he),_(he,Le),_(Le,ze),_(ze,ot),_(ze,vn),_(ze,ft),_(ft,Kn),Kn.checked=e[10],_(ft,Ra),_(ft,zu),_(Le,im),_(Le,No),_(No,il),_(No,am),_(No,Ti),_(Ti,al),_(Ti,sm),_(Ti,$u),_(Le,lm),_(Le,Lo),_(Lo,sl),_(Lo,cm),_(Lo,ki),_(ki,ll),_(ki,um),_(ki,Hu),_(Ze,dm),_(Ze,Fi),_(Ze,hm),_(Ze,Pa),_(Ze,fm),cn&&cn.m(Ze,null),_(i,pm),_(i,Da),_(Da,Qn),_(Qn,cl),_(Qn,mm),_(Qn,qo),_(qo,ul),_(qo,gm),kr.m(qo,null),_(Qn,ym),_(Qn,Oi);for(let Se=0;Se<er.length;Se+=1)er[Se]&&er[Se].m(Oi,null);e[116](Oi),_(Qn,bm),_(Qn,Ii),_(Ii,Yr),pt(Yr,e[29]),_(Ii,wm),_(Ii,Ri),_(Ri,Na),_(Ri,xm),_(Ri,La),_(r,_m),_(r,dl),_(dl,hl),ve(ne,Vu,fe),_(q1.head,qa),_(q1.head,ja),Jt=!0,Yu||(Sm=[ee(j1,"mousemove",e[41]),ee(j1,"mouseup",e[42]),Pi(Y8.call(null,d)),ee(d,"pinchstart",e[81]),ee(d,"pinchmove",e[82]),Pi(hu.call(null,d)),ee(d,"panmove",e[83]),ee(d,"wheel",e[39]),ee(d,"mousedown",e[40]),ee(L,"wheel",e[39]),ee(L,"click",function(){Bt(e[8].handlePassbandClick)&&e[8].handlePassbandClick.apply(this,arguments)}),ee(D,"wheel",e[39]),ee(D,"click",function(){Bt(e[8].handlePassbandClick)&&e[8].handlePassbandClick.apply(this,arguments)}),ee(D,"mousedown",e[90]),ee(D,"touchstart",function(){Bt(e[8].handleTouchStart)&&e[8].handleTouchStart.apply(this,arguments)}),ee(D,"touchmove",function(){Bt(e[8].handleTouchMove)&&e[8].handleTouchMove.apply(this,arguments)}),ee(D,"touchend",function(){Bt(e[8].handleTouchEnd)&&e[8].handleTouchEnd.apply(this,arguments)}),ee(x,"wheel",e[39]),ee(x,"click",function(){Bt(e[8].handlePassbandClick)&&e[8].handlePassbandClick.apply(this,arguments)}),ee(x,"mousedown",e[93]),ee(x,"touchstart",function(){Bt(e[8].handleTouchStart)&&e[8].handleTouchStart.apply(this,arguments)}),ee(x,"touchmove",function(){Bt(e[8].handleTouchMove)&&e[8].handleTouchMove.apply(this,arguments)}),ee(x,"touchend",function(){Bt(e[8].handleTouchEnd)&&e[8].handleTouchEnd.apply(this,arguments)}),ee(B,"click",e[56]),ee(J,"change",e[94]),ee(J,"input",e[94]),ee(J,"input",e[57]),ee(ke,"click",e[58]),ee(pe,"change",e[95]),ee(pe,"input",e[95]),ee(pe,"input",e[59]),ee(Dt,"click",e[96]),ee(Nt,"click",e[97]),ee(_t,"input",e[98]),ee(_t,"keydown",e[99]),Pi(e[54].call(null,_t)),ee(Ct,"change",e[104]),ee(Ct,"input",e[104]),ee(Ct,"input",e[46]),ee(te,"change",e[105]),ee(te,"input",e[105]),ee(te,"input",e[47]),ee(oe,"change",e[106]),ee(oe,"change",e[45]),ee(Kn,"change",e[107]),ee(Kn,"change",e[108]),ee(al,"change",e[43]),ee(ll,"change",e[44]),ee(Fi,"click",e[74]),ee(Yr,"input",e[117]),ee(Yr,"keydown",e[60]),ee(Na,"click",e[78]),ee(La,"click",e[79])],Yu=!0)},p(ne,fe){e=ne;const Se={};C.$set(Se),(!Jt||fe[0]&4096&&R!==(R="w-full bg-black peer "+(e[12]?"max-h-40":"max-h-0")))&&v(L,"class",R);const a7={};j.$set(a7);const s7={};if(S.$set(s7),e[34]?Mt?(Mt.p(e,fe),fe[1]&8&&qn(Mt,1)):(Mt=Y1(e),Mt.c(),qn(Mt,1),Mt.m(i,A)):Mt&&(Id(),Yo(Mt,1,1,()=>{Mt=null}),Rd()),fl!==(fl=Cm(e))&&(ho.d(1),ho=fl(e),ho&&(ho.c(),ho.m(H,null))),(!Jt||fe[0]&262144)&&(J.disabled=e[18]),fe[0]&524288&&pt(J,e[19]),(!Jt||fe[0]&524288)&&it(Ae,e[19]),(!Jt||fe[0]&1048576)&&bt(ke,"background",e[20]?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)"),fe[0]&2097152&&pt(pe,e[21]),(!Jt||fe[0]&2097152)&&it(En,e[21]),(!Jt||fe[0]&2048&&qe!==(qe="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[11]?"":"ring-2 ring-blue-500")))&&v(Dt,"class",qe),(!Jt||fe[0]&2048&&Vn!==(Vn="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[11]?"ring-2 ring-blue-500":"")))&&v(Nt,"class",Vn),e[11]?bn||(bn=Z1(),bn.c(),bn.m(I,null)):bn&&(bn.d(1),bn=null),fe[0]&128&&_t.value!==e[7]&&pt(_t,e[7]),(!Jt||fe[0]&131072)&&it(rt,e[17]),(!Jt||fe[0]&8192)&&it(Gn,e[13]),fe[0]&58982400){Gu=At([{label:"MUTED",enabled:e[18],color:"red"},{label:"NR",enabled:e[23],color:"green"},{label:"NB",enabled:e[24],color:"green"},{label:"AN",enabled:e[25],color:"green"}]);let ye;for(ye=0;ye<4;ye+=1){const ir=V1(e,Gu,ye);tr[ye]?tr[ye].p(ir,fe):(tr[ye]=J1(ir),tr[ye].c(),tr[ye].m(an,null))}for(;ye<4;ye+=1)tr[ye].d(1)}if(fe[0]&131072|fe[1]&262144){Xu=At(["USB","LSB","CW-U","CW-L","AM","FM"]);let ye;for(ye=0;ye<6;ye+=1){const ir=H1(e,Xu,ye);nr[ye]?nr[ye].p(ir,fe):(nr[ye]=K1(ir),nr[ye].c(),nr[ye].m(sn,null))}for(;ye<6;ye+=1)nr[ye].d(1)}if(fe[1]&4194304){Zu=At([{action:"+",title:"Zoom in",icon:"zoom-in",text:"In"},{action:"-",title:"Zoom out",icon:"zoom-out",text:"Out"},{action:"max",title:"Zoom to max",icon:"maximize",text:"Max"},{action:"min",title:"Zoom to min",icon:"minimize",text:"Min"}]);let ye;for(ye=0;ye<4;ye+=1){const ir=$1(e,Zu,ye);rr[ye]?rr[ye].p(ir,fe):(rr[ye]=Q1(ir),rr[ye].c(),rr[ye].m(ln,null))}for(;ye<4;ye+=1)rr[ye].d(1)}if(fe[0]&125829120|fe[1]&1073741824|fe[2]&7){Ju=At([{option:"NR",icon:"wave-square",enabled:e[23]},{option:"NB",icon:"zap",enabled:e[24]},{option:"AN",icon:"shield",enabled:e[25]},{option:"CTCSS",icon:"filter",enabled:e[26]}]);let ye;for(ye=0;ye<4;ye+=1){const ir=z1(e,Ju,ye);or[ye]?or[ye].p(ir,fe):(or[ye]=em(ir),or[ye].c(),or[ye].m(In,null))}for(;ye<4;ye+=1)or[ye].d(1)}fe[0]&4202496|fe[1]&16777216&&(pl=At(e[22]),qt=kl(qt,fe,Mm,1,e,pl,lo,Xt,Tl,tm,null,W1)),fe[0]&32768&&pt(Ct,e[15]),(!Jt||fe[0]&32768)&&it(h,e[15]),fe[0]&65536&&pt(te,e[16]),(!Jt||fe[0]&65536)&&it(Ue,e[16]),fe[0]&16384&&Cd(oe,e[14]),fe[0]&1024&&(Kn.checked=e[10]),e[32]?cn?cn.p(e,fe):(cn=nm(e),cn.c(),cn.m(Ze,null)):cn&&(cn.d(1),cn=null),ml===(ml=Em(e))&&kr?kr.p(e,fe):(kr.d(1),kr=ml(e),kr&&(kr.c(),kr.m(qo,null))),fe[0]&1|fe[2]&262144&&(Ua=At(e[0]),er=kl(er,fe,Tm,1,e,Ua,vm,Oi,Tl,om,null,U1)),fe[0]&536870912&&Yr.value!==e[29]&&pt(Yr,e[29])},i(ne){if(!Jt){qn(C.$$.fragment,ne),qn(j.$$.fragment,ne),qn(S.$$.fragment,ne),qn(Mt);for(let fe=0;fe<Ua.length;fe+=1)qn(er[fe]);Jt=!0}},o(ne){Yo(C.$$.fragment,ne),Yo(j.$$.fragment,ne),Yo(S.$$.fragment,ne),Yo(Mt),Jt=!1},d(ne){ne&&(ge(t),ge(Vu)),e[84](null),e[85](null),e[86](null),Va(C),e[87](null),e[88](null),Va(j),e[89](null),e[91](null),Va(S),e[92](null),Mt&&Mt.d(),ho.d(),bn&&bn.d(),Wo(tr,ne),Wo(nr,ne),Wo(rr,ne),Wo(or,ne);for(let fe=0;fe<qt.length;fe+=1)qt[fe].d();Wo(jo,ne),cn&&cn.d(),kr.d();for(let fe=0;fe<er.length;fe+=1)er[fe].d();e[116](null),ge(qa),ge(ja),Yu=!1,Ut(Sm)}}}const G_="1.5.2",X_=35;function Z_(){return Math.random().toString(36).substr(2,10)+Math.random().toString(36).substr(2,10)}function J_(e){const t=document.getElementById("sMeter"),n=t.getContext("2d");t.width=300,t.height=40;const r=t.width,o=t.height;n.clearRect(0,0,r,o);const i=6,a=3,s=8,l=15,c=25,u=5,d=5,f=r/2;n.strokeStyle="#a7e6fe",n.lineWidth=2,n.beginPath(),n.moveTo(0,l),n.lineTo(f,l),n.stroke(),n.strokeStyle="#ed1c24",n.beginPath(),n.moveTo(f,l),n.lineTo(268,l),n.stroke();for(let b=0;b<30;b++){const C=b*(i+a);b<e?n.fillStyle=b<17?"#a3eced":"#d9191c":n.fillStyle=b<17?"#003333":"#330000",n.fillRect(C,0,i,s)}n.font="11px monospace",n.textAlign="center";const g=["S1","3","5","7","9","+20","+40","+60dB"];for(let b=0;b<=16;b++){const C=b*16.6970588235;n.fillStyle=C<=f?"#a3eced":"#d9191c",b%2===1?(n.fillRect(C,l,1,d+2),(b-1)/2<g.length&&n.fillText(g[(b-1)/2],C,c+8)):n.fillRect(C,l,1,u)}}function K_(e){e=Math.min(Math.max(e,-100),0);const t=Math.round((e+100)*X_/100);J_(t)}function Q_(e){localStorage.setItem("bookmarks",JSON.stringify(e))}function gr(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function e7(e){const t=/^(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) (.+?): (.+)$/,n=e.match(t);if(n){const[r,o,i,a]=n,s=/\[FREQ:(\d+):([\w-]+)\]/,l=a.match(s);if(l){const[c,u,d]=l,[f,g]=a.split(c).map(b=>Wu(gr(b)));return{isFormatted:!0,timestamp:gr(o),username:gr(i),frequency:parseInt(u,10),demodulation:gr(d),beforeFreq:f,afterFreq:g}}return{isFormatted:!1,timestamp:gr(o),username:gr(i),parts:Wu(gr(a))}}return{isFormatted:!1,parts:Wu(gr(e))}}function Wu(e){const t=/(https?:\/\/[^\s]+)/g,n=[];let r=0,o;for(;(o=t.exec(e))!==null;)o.index>r&&n.push({type:"text",content:e.slice(r,o.index)}),n.push({type:"link",content:o[0],url:o[0]}),r=o.index+o[0].length;return r<e.length&&n.push({type:"text",content:e.slice(r)}),n}function Ei(e){return e.map(t=>t.type==="link"?'<a href="'.concat(gr(t.url),'" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline">').concat(gr(t.content),"</a>"):t.content).join("")}function t7(e,t,n){let r,o,i,a,s,l,c,u,d,f,g,b,C=!1;function T(W){W=W||Ce.getAudioRange();const oe=W.map(Ur);n(13,y=((oe[2]-oe[0])/1e3).toFixed(2));const me=oe.map(sp);f.changePassband(me)}function L(W){Te.canvasWheel(W),f.updatePassbandLimits(),T(),Ot.updateFrequencyMarkerPositions()}let R=!1,k=!1,j=0;function N(W){j=0,k=!0,W.clientX}function D(W){k&&(j+=Math.abs(W.movementX)+Math.abs(W.movementY),Te.mouseMove(W),T(),Ot.updateFrequencyMarkerPositions())}function E(W){k&&(j<2&&f.handlePassbandClick(W),k=!1)}let S=!0,M=!1;function x(){n(12,S=!S),Te.setSpectrum(S)}function m(){M=!M,Te.setWaterfallBig(M)}let y,w="gqrx",A=-30,F=110;function I(){const W=localStorage.getItem("selectedColormap");W&&n(14,w=W),Te.setColormap(w)}function Y(W){n(14,w=W.target.value),Te.setColormap(w),localStorage.setItem("selectedColormap",w)}function G(){Te.setMinOffset(A)}function U(){Te.setMaxOffset(F)}function B(W){n(10,C=W),Te.autoAdjust=C}let H=["USB","LSB","CW-U","CW-L","AM","FM"];const K={USB:{type:"USB",offsets:[-100,2800]},LSB:{type:"LSB",offsets:[2800,-100]},"CW-U":{type:"USB",offsets:[-500,1e3],bfo:-700},"CW-L":{type:"LSB",offsets:[1e3,-500],bfo:700},AM:{type:"AM",offsets:[5e3,5e3]},FM:{type:"FM",offsets:[5e3,5e3]},WBFM:{type:"FM",offsets:[95e3,95e3]}};let de="USB";function J(W){console.log("Setting mode to",W),n(17,de=W),ie(null,!0)}function ie(W,oe){f.setMode(de);const me=K[de];oe&&(de==="WBFM"?Ce.setFmDeemph(5e-5):Ce.setFmDeemph(0),Ce.setAudioDemodulation(me.type));let xe=u.getBFO(),ce=me.bfo||0,[he,Le,ze]=Ce.getAudioRange().map(Ur);Le=Le+ce-xe,he=Le-me.offsets[0],ze=Le+me.offsets[1],u.setBFO(ce),u.setFrequency(),n(7,d=(u.getFrequency()/1e3).toFixed(2));const ot=[he,Le,ze].map(Ns);Ce.setAudioRange(...ot),T(),Pe()}function be(W,oe){n(11,R=oe),Ce.setFT8Decoding(oe)}function Ae(W){let[oe,me,xe]=W.detail.map(i8),ce=u.getBFO();ce=0,oe+=ce,me+=ce,xe+=ce,n(13,y=((xe-oe)/1e3).toFixed(2)),u.setFrequency(me),n(7,d=(u.getFrequency()/1e3).toFixed(2));const he=[oe,me,xe].map(Ns);Ce.setAudioRange(...he),Pe(),T(),Te.checkBandAndSetMode(d*1e3)}function re(W){const oe=W.detail,me=Ce.getAudioRange(),[xe,ce,he]=me.map(Ur);let Le=[oe-(ce-xe),oe,oe+(he-ce)].map(Ns);const ze=Le[1];let[ot,vn]=Te.getWaterfallRange();if(ze<ot||ze>=vn){const ft=Math.floor((vn-ot)/2);let Kn;me[1]>=ot&&me[1]<vn?Kn=me[1]-ot:Kn=ft;const Ra=Math.min(Te.waterfallMaxSize-ft,Math.max(ft,ze-Kn+ft));ot=Math.floor(Ra-ft),vn=Math.floor(Ra+ft),Te.setWaterfallRange(ot,vn)}Ce.setAudioRange(...Le),T(),Pe(),Te.checkBandAndSetMode(oe)}function Re(W,oe){let[me,xe,ce]=Ce.getAudioRange();const[he,Le]=Te.getWaterfallRange(),ze=(xe-he)/(Le-he)*Te.canvasWidth;switch(oe){case"max":xe=Math.min(Te.waterfallMaxSize-512,Math.max(512,xe)),me=Math.floor(xe-512),ce=Math.ceil(xe+512);break;case"+":W.coords={x:ze},W.scale=-1,Te.canvasWheel(W),T();return;case"-":W.coords={x:ze},W.scale=1,Te.canvasWheel(W),T();return;case"min":me=0,ce=Te.waterfallMaxSize;break}Te.setWaterfallRange(me,ce),T()}let _e,ke=65,Be,nn=-50,Ne=0;const pe=Ud.RollingMax(10);function ae(W){function oe(me){me.preventDefault();const xe=me.deltaY>0?-1:1,ce=me.shiftKey;let he=Math.round(parseFloat(d)*1e3);function Le(ze,ot,vn){const ft=vn?100:50;return ze%ft===0?ze+ot*ft:ot>0?Math.ceil(ze/ft)*ft:Math.floor(ze/ft)*ft}he=Le(he,xe,ce),n(7,d=(he/1e3).toFixed(2)),n(7,d=Math.max(0,parseFloat(d))),u.setFrequency(he),re({detail:he})}return W.addEventListener("wheel",oe),{destroy(){W.removeEventListener("wheel",oe)}}}let Tt=["-1000","-100","+100","+1000"];function En(W,oe){oe=parseFloat(oe);const me=K[de].type;let[xe,ce,he]=Ce.getAudioRange().map(Ur);me==="USB"?he=Math.max(ce,Math.min(ce+da(),he+oe)):me==="LSB"?xe=Math.max(ce-da(),Math.min(ce,xe-oe)):(he=Math.max(0,Math.min(ce+da()/2,he+oe/2)),xe=Math.max(ce-da()/2,Math.min(ce,xe-oe/2)));let Le=[xe,ce,he].map(Ns);Ce.setAudioRange(...Le),T()}function Pt(){n(18,_e=!_e),Ce.setMute(_e)}function Me(){Ce.setGain(Math.pow(10,(ke-50)/50+2.6))}function We(){n(20,Be=!Be),Ce.setSquelch(Be)}function Tn(){Ce.setSquelchThreshold(nn)}function ro(W){W.key==="Enter"&&(W.preventDefault(),V())}let kt=!1,Dt=!1,$n=!1,qe=!1;function $r(){n(23,kt=!kt),Ce.decoder.set_nr(kt)}function Nt(){n(24,Dt=!Dt),Ce.nb=Dt,Ce.decoder.set_nb(Dt)}function Hn(){n(25,$n=!$n),Ce.decoder.set_an($n)}function Vn(){n(26,qe=!qe),Ce.setCTCSSFilter(qe)}let Yn,Ft=0;function Lt(){if(Ne=Ce.getPowerDb()/150*100+Ce.smeter_offset,pe(Ne)/150*100+Ce.smeter_offset,K_(Ne),ua.getLastModified()>Ft){const W=Ce.getAudioRange(),oe=ua.getSignalClients(),me=Object.keys(oe).reduce((xe,ce)=>{const he=oe[xe],Le=oe[ce],ze=Math.abs(he[1]-W[1]),ot=Math.abs(Le[1]-W[1]);return ze<ot?xe:ce});delete oe[me],Te.setClients(oe),requestAnimationFrame(()=>{Te.updateGraduation(),Te.drawClients()}),Ft=ua.getLastModified()}}let Ot;function ct(W){re({detail:W.detail.frequency}),n(17,de=W.detail.modulation),ie()}function Pe(){const W={frequency:u.getFrequency().toFixed(0),modulation:de};n(7,d=(u.getFrequency()/1e3).toFixed(2));const oe=E_(W);n(9,g="".concat(location.origin).concat(location.pathname,"?").concat(oe)),k_(W)}function _t(){jd(g)}let kn=Bd([]);md(e,kn,W=>n(38,o=W));let St="",mn=Bd([]);md(e,mn,W=>n(0,r=W));let rt="",rn,ut="user".concat(Math.floor(Math.random()*1e4)),Fn=!1;function gn(){localStorage.setItem("chatusername",ut),n(31,Fn=!1)}function oo(){n(31,Fn=!0)}function Gn(){const W={name:St,link:g,frequency:u.getFrequency(),demodulation:de};n(7,d=(u.getFrequency()/1e3).toFixed(2)),kn.update(oe=>{const me=[...oe,W];return localStorage.setItem("bookmarks",JSON.stringify(me)),me}),n(28,St="")}function On(W){u.setFrequency(W.frequency),re({detail:W.frequency}),n(17,de=W.demodulation),ie(null,!0),Pe()}function Hr(W){kn.update(oe=>{const me=oe.filter((xe,ce)=>ce!==W);return Q_(me),me})}let on=!1;function an(){n(32,on=!on)}let Vt=0,dt=!1,Yt=null,yn={top:0,left:0,width:0,height:0};const Xe=[{selector:"#demodulator-select",content:"Welcome to PhantomSDR - This is the Tutorial."},{selector:"#waterfall",content:"This is the Waterfall, the main part of a WebSDR where you see all signals visuallly."},{selector:"#volume-slider",content:"Use this Slider to change the Volume."},{selector:"#squelch-slider",content:"Use this Slider to change the Squelch."},{selector:"#ft8-decoder",content:"This Button lets you Decode FT8 Signals, if you are on the proper Frequency"},{selector:"#smeter-tut",content:"This Section shows you the S-Meter, lets you Input the Frequency and shows the Mode with Filter Bandwidth."},{selector:"#demodulationModes",content:"Use this Section to change the Demodulation Mode."},{selector:"#zoom-controls",content:"Use these buttons to zoom in and out of the waterfall display."},{selector:"#moreoptions",content:"These options allow you to enable things like CTCSS Supression, Noise Reduction and more."},{selector:"#brightness-controls",content:"Adjust the brightness levels of the waterfall display."},{selector:"#colormap-select",content:"Choose different color schemes for the waterfall."},{selector:"#auto-adjust",content:"Toggle automatic adjustment of the waterfall display."},{selector:"#spectrum-toggle",content:"Turn the spectrum display on or off."},{selector:"#bigger-waterfall",content:"Increase the size of the waterfall display."},{selector:"#bookmark-button",content:"Click this to open the Bookmarks Menu."},{selector:"#chat-box",content:"This is the Chatbox, where to communicae with other users and sending Frequencies"},{selector:"#chat-box",content:"Thank you for completing the Tutorial, now you can use the WebSDR as you wish. Enjoy!"}];async function yr(){localStorage.getItem("TutorialComplete")||(await Al(),Xe.every(W=>document.querySelector(W.selector))?(n(34,dt=!0),sn()):(console.warn("Some tutorial elements are missing. Skipping tutorial."),localStorage.setItem("TutorialComplete","true")))}function sn(){const{selector:W}=Xe[Vt];if(n(35,Yt=W?document.querySelector(W):null),Yt){var oe=Yt.getBoundingClientRect();n(36,yn={top:oe.top+window.scrollY,left:oe.left+window.scrollX,width:oe.width,height:oe.height});const me=oe.top,xe=oe.bottom,ce=window.innerHeight;(me<0||xe>ce)&&Yt.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),oe=Yt.getBoundingClientRect(),n(36,yn={top:oe.top+window.scrollY,left:oe.left+window.scrollX,width:oe.width,height:oe.height})}}async function io(){Vt<Xe.length-1?(n(33,Vt+=1),await Al(),sn(),Vt==7&&(activeTab="waterfall")):vr()}function vr(){n(34,dt=!1),localStorage.setItem("TutorialComplete","true")}yr();let Vr;Sl(async()=>{localStorage.getItem("TutorialComplete")||(await Al(),Xe.slice(1).every(he=>document.querySelector(he.selector))?(n(34,dt=!0),await sn()):(console.warn("Some tutorial elements are missing. Skipping tutorial."),localStorage.setItem("TutorialComplete","true"))),Te.initCanvas({canvasElem:i,spectrumCanvasElem:a,graduationCanvasElem:s,bandPlanCanvasElem:l,tempCanvasElem:c}),Vr=o8(),await Vr,Te.setFrequencyMarkerComponent(Ot),[...document.getElementsByTagName("button"),...document.getElementsByTagName("input")].forEach(he=>{he.disabled=!1}),Ce.trueAudioSps>17e4&&(H.push("WBFM"),H=H,Tt.unshift("-100000"),Tt.push("+100000"),n(22,Tt)),u.setFrequency(Ur(Ce.getAudioRange()[1])),u.updateFrequencyLimits(Ce.baseFreq,Ce.baseFreq+Ce.totalBandwidth),n(30,ut=localStorage.getItem("chatusername")||""),ut||(console.log("No Username. Setting a random username."),n(30,ut="user".concat(Math.floor(Math.random()*1e4)))),n(31,Fn=!ut),n(17,de=Ce.settings.defaults.modulation);const W=he=>{u.setFrequency(he.frequency),u.getFrequency()===he.frequency&&re({detail:he.frequency}),H.indexOf(he.modulation)!==-1&&(n(17,de=he.modulation),ie({},!0)),Ot.updateFrequencyMarkerPositions()},oe=T_(location.search.slice(1));W(oe),T(),f.updatePassbandLimits(),I(),ie({},!0),x(),Me(),Pe(),b=Z_(),Ce.getAudioRange().map(Ur);const me=localStorage.getItem("bookmarks");me&&kn.set(JSON.parse(me)),Yn=setInterval(()=>requestAnimationFrame(Lt),200),window.spectrumAudio=Ce,window.spectrumWaterfall=Te,rn=new WebSocket(window.location.origin.replace(/^http/,"ws")+"/chat"),document.getElementById("chat_content"),rn.onmessage=he=>{if(he.data.startsWith("Chat history:")){const Le=he.data.replace("Chat history:\n","").trim();if(Le){const ze=Le.split("\n").map((ot,vn)=>({id:Date.now()+vn,text:ot.trim(),isCurrentUser:ot.startsWith(b),timestamp:Date.now()-(Le.length-vn)*1e3}));mn.set(ze)}}else{const Le={id:Date.now(),text:he.data.trim(),isCurrentUser:he.data.startsWith(b),timestamp:Date.now()};mn.update(ze=>[...ze,Le])}br()};const xe=document.getElementById("middle-column");document.getElementById("chat-box");function ce(){xe.offsetWidth,document.documentElement.style.setProperty("--middle-column-width","1372px")}return ce(),window.addEventListener("resize",ce),ca.subscribe("frequencyClick",({frequency:he,mode:Le})=>{ln(he,Le)}),ca.subscribe("frequencyChange",he=>{u.setFrequency(he.detail),n(7,d=(he.detail/1e3).toFixed(2)),re(he)}),ca.subscribe("setMode",he=>{J(he)}),()=>{window.removeEventListener("resize",ce)}});function V(){if(rt.trim()&&ut.trim()){const W={cmd:"chat",message:rt.trim(),username:ut};rn.send(JSON.stringify(W)),n(29,rt=""),br()}}function Xn(){const W=u.getFrequency(),oe=de,me="[FREQ:".concat(Math.round(W),":").concat(oe,"]");n(29,rt=rt+" "+me)}let Gt;function br(){Gt&&Gt.scrollTo({top:Gt.scrollHeight,behavior:"smooth"})}function ln(W,oe){n(17,de=oe);const me=parseInt(W,10);if(isNaN(me)){console.error("Invalid frequency:",W);return}u.setFrequency(me),re({detail:me}),ie(null,!0),Pe()}Hm(()=>{clearInterval(Yn),Ce.stop(),Te.stop(),rn.close()});let wr=0;function Zn(W){wr=0}function xr(W){const oe=W.detail.scale-wr;wr=W.detail.scale;const me=1-Math.abs(W.detail.srcEvent.movementX)/i.getBoundingClientRect().width,xe=W.detail.srcEvent;xe.coords={x:W.detail.center.x},xe.deltaY=-Math.sign(oe),xe.scaleAmount=me,Te.canvasWheel(xe),T(),j+=2}function ao(W){W.detail.srcEvent.pointerType==="touch"&&(Te.mouseMove(W.detail.srcEvent),T())}function In(W){Kt[W?"unshift":"push"](()=>{i=W,n(1,i)})}function Rn(W){Kt[W?"unshift":"push"](()=>{c=W,n(5,c)})}function je(W){Kt[W?"unshift":"push"](()=>{u=W,n(6,u)})}function so(W){Kt[W?"unshift":"push"](()=>{a=W,n(2,a)})}function Jn(W){Kt[W?"unshift":"push"](()=>{Ot=W,n(27,Ot)})}function _r(W){Kt[W?"unshift":"push"](()=>{s=W,n(3,s)})}const Sr=W=>f.handleMoveStart(W,1);function Xt(W){Kt[W?"unshift":"push"](()=>{f=W,n(8,f)})}function qt(W){Kt[W?"unshift":"push"](()=>{l=W,n(4,l)})}const lo=W=>f.handleMoveStart(W,1);function Cr(){ke=zo(this.value),n(19,ke)}function Ze(){nn=zo(this.value),n(21,nn)}const Mr=W=>be(W,!1),co=W=>be(W,!0);function Pn(){d=this.value,n(7,d)}const Zt=W=>{W.key==="Enter"&&(u.setFrequency(d*1e3),re({detail:d*1e3}))},Ar=W=>J(W),uo=(W,oe)=>Re(oe,W),jt=W=>{W==="NR"?$r():W==="NB"?Nt():W==="AN"?Hn():Vn()},Ct=(W,oe)=>En(oe,W);function Er(){A=zo(this.value),n(15,A)}function Tr(){F=zo(this.value),n(16,F)}function h(){w=jm(this),n(14,w)}function p(){C=this.checked,n(10,C)}const O=()=>B(C);function $(){St=this.value,n(28,St)}const Q=W=>On(W),le=W=>jd(W.link),te=W=>Hr(W);function se(){ut=this.value,n(30,ut)}const we=W=>W.key==="Enter"&&gn(),Ue=W=>ln(W.frequency,W.demodulation);function ht(W){Kt[W?"unshift":"push"](()=>{Gt=W,n(37,Gt)})}function Dn(){rt=this.value,n(29,rt)}return e.$$.update=()=>{e.$$.dirty[0]&1&&r&&setTimeout(br,100)},[r,i,a,s,l,c,u,d,f,g,C,R,S,y,w,A,F,de,_e,ke,Be,nn,Tt,kt,Dt,$n,qe,Ot,St,rt,ut,Fn,on,Vt,dt,Yt,yn,Gt,o,L,N,D,E,x,m,Y,G,U,B,J,be,Ae,re,Re,ae,En,Pt,Me,We,Tn,ro,$r,Nt,Hn,Vn,ct,_t,kn,mn,gn,oo,Gn,On,Hr,an,Xe,io,vr,V,Xn,ln,Zn,xr,ao,In,Rn,je,so,Jn,_r,Sr,Xt,qt,lo,Cr,Ze,Mr,co,Pn,Zt,Ar,uo,jt,Ct,Er,Tr,h,p,O,$,Q,le,te,se,we,Ue,ht,Dn]}class n7 extends Ga{constructor(t){super(),Ya(this,t,t7,Y_,Uo,{},null,[-1,-1,-1,-1,-1,-1])}}new n7({target:document.getElementById("app")})})();export{km as $,Ku as _,u7 as __tla,Fm as __vite_legacy_guard,Qu as a,ed as b,td as c,nd as d,rd as e,od as f,id as g,ad as h,sd as i,ld as j,cd as k,ud as l,dd as m,hd as n};
