var D_=Object.defineProperty;var L_=(He,On,Jr)=>On in He?D_(He,On,{enumerable:!0,configurable:!0,writable:!0,value:Jr}):He[On]=Jr;var Zr=(He,On,Jr)=>(L_(He,typeof On!="symbol"?On+"":On,Jr),Jr);let wm,fu,xm,mu,gu,vu,yu,bu,wu,xu,ku,Cu,_u,Su,Mu,Au,Tu,q_=(async()=>{xm=function(){import.meta.url,import("_").then(async e=>(await e.__tla,e)).catch(()=>1),async function*(){}().next()},function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}}();function He(){}const On=e=>e;function Jr(e,t){for(const n in t)e[n]=t[n];return e}function Fu(e){return e()}function Ou(){return Object.create(null)}function lt(e){e.forEach(Fu)}function Ht(e){return typeof e=="function"}function Xt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function _m(e){return Object.keys(e).length===0}function Sm(e,...t){if(e==null){for(const r of t)r(void 0);return He}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function dr(e,t,n){e.$$.on_destroy.push(Sm(t,n))}function Mm(e,t,n,r){if(e){const o=Ru(e,t,n,r);return e[0](o)}}function Ru(e,t,n,r){return e[1]&&r?Jr(n.ctx.slice(),e[1](r(t))):n.ctx}function Am(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],s=Math.max(t.dirty.length,o.length);for(let a=0;a<s;a+=1)i[a]=t.dirty[a]|o[a];return i}return t.dirty|o}return t.dirty}function Tm(e,t,n,r,o,i){if(o){const s=Ru(t,n,r,i);e.p(s,o)}}function Em(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Iu(e){return e!=null?e:""}function gi(e){return e&&Ht(e.destroy)?e.destroy:He}function Pu(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Nu=typeof window<"u";let $a=Nu?()=>window.performance.now():()=>Date.now(),Ua=Nu?e=>requestAnimationFrame(e):He;const To=new Set;function Du(e){To.forEach(t=>{t.c(e)||(To.delete(t),t.f())}),To.size!==0&&Ua(Du)}function za(e){let t;return To.size===0&&Ua(Du),{promise:new Promise(n=>{To.add(t={c:e,f:n})}),abort(){To.delete(t)}}}const _s=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function d(e,t){e.appendChild(t)}function Lu(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Fm(e){const t=b("style");return t.textContent="/* empty */",Om(Lu(e),t),t.sheet}function Om(e,t){return d(e.head||e,t),t.sheet}function ie(e,t,n){e.insertBefore(t,n||null)}function oe(e){e.parentNode&&e.parentNode.removeChild(e)}function Yt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function Re(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ne(e){return document.createTextNode(e)}function B(){return ne(" ")}function Cn(){return ne("")}function Y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function hr(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Wa(e){return function(t){t.target===this&&e.call(this,t)}}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pr(e){return e===""?null:+e}function Rm(e){return Array.from(e.childNodes)}function we(e,t){t=""+t,e.data!==t&&(e.data=t)}function mt(e,t){e.value=t!=null?t:""}function Et(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Ss;function Im(){if(Ss===void 0){Ss=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(e){Ss=!0}}return Ss}function Pm(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const n=b("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Im();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Y(window,"message",i=>{i.source===n.contentWindow&&t()})):(n.src="about:blank",n.onload=()=>{o=Y(n.contentWindow,"resize",t),t()}),d(e,n),()=>{(r||o&&n.contentWindow)&&o(),oe(n)}}function Or(e,t,n){e.classList.toggle(t,!!n)}function qu(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class Ha{constructor(t=!1){Zr(this,"is_svg",!1);Zr(this,"e");Zr(this,"n");Zr(this,"t");Zr(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=Re(n.nodeName):this.e=b(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)ie(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(oe)}}const Ms=new Map;let As=0;function Nm(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Dm(e,t){const n={stylesheet:Fm(t),rules:{}};return Ms.set(e,n),n}function Ts(e,t,n,r,o,i,s,a=0){const l=16.666/r;let c="{\n";for(let _=0;_<=1;_+=l){const L=t+(n-t)*i(_);c+=_*100+"%{".concat(s(L,1-L),"}\n")}const h=c+"100% {".concat(s(n,1-n),"}\n}"),p="__svelte_".concat(Nm(h),"_").concat(a),f=Lu(e),{stylesheet:y,rules:m}=Ms.get(f)||Dm(f,e);m[p]||(m[p]=!0,y.insertRule("@keyframes ".concat(p," ").concat(h),y.cssRules.length));const w=e.style.animation||"";return e.style.animation="".concat(w?"".concat(w,", "):"").concat(p," ").concat(r,"ms linear ").concat(o,"ms 1 both"),As+=1,p}function Es(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),As-=o,As||Lm())}function Lm(){Ua(()=>{As||(Ms.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&oe(t)}),Ms.clear())})}let vi;function yi(e){vi=e}function Va(){if(!vi)throw new Error("Function called outside component initialization");return vi}function zn(e){Va().$$.on_mount.push(e)}function Eo(e){Va().$$.on_destroy.push(e)}function bi(){const e=Va();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=qu(t,n,{cancelable:r});return o.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function Fs(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Fo=[],vt=[];let Oo=[];const Ga=[],Bu=Promise.resolve();let Xa=!1;function ju(){Xa||(Xa=!0,Bu.then(Ir))}function Rr(){return ju(),Bu}function _t(e){Oo.push(e)}function Ro(e){Ga.push(e)}const Ya=new Set;let Io=0;function Ir(){if(Io!==0)return;const e=vi;do{try{for(;Io<Fo.length;){const t=Fo[Io];Io++,yi(t),qm(t.$$)}}catch(t){throw Fo.length=0,Io=0,t}for(yi(null),Fo.length=0,Io=0;vt.length;)vt.pop()();for(let t=0;t<Oo.length;t+=1){const n=Oo[t];Ya.has(n)||(Ya.add(n),n())}Oo.length=0}while(Fo.length);for(;Ga.length;)Ga.pop()();Xa=!1,Ya.clear(),yi(e)}function qm(e){if(e.fragment!==null){e.update(),lt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_t)}}function Bm(e){const t=[],n=[];Oo.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Oo=t}let wi;function Za(){return wi||(wi=Promise.resolve(),wi.then(()=>{wi=null})),wi}function Kr(e,t,n){e.dispatchEvent(qu("".concat(t?"intro":"outro").concat(n)))}const Os=new Set;let Qn;function Wn(){Qn={r:0,c:[],p:Qn}}function Hn(){Qn.r||lt(Qn.c),Qn=Qn.p}function $e(e,t){e&&e.i&&(Os.delete(e),e.i(t))}function st(e,t,n,r){if(e&&e.o){if(Os.has(e))return;Os.add(e),Qn.c.push(()=>{Os.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Ja={duration:0};function xi(e,t,n){const r={direction:"in"};let o=t(e,n,r),i=!1,s,a,l=0;function c(){s&&Es(e,s)}function h(){const{delay:f=0,duration:y=300,easing:m=On,tick:w=He,css:_}=o||Ja;_&&(s=Ts(e,0,1,y,f,m,_,l++)),w(0,1);const L=$a()+f,O=L+y;a&&a.abort(),i=!0,_t(()=>Kr(e,!0,"start")),a=za(T=>{if(i){if(T>=O)return w(1,0),Kr(e,!0,"end"),c(),i=!1;if(T>=L){const P=m((T-L)/y);w(P,1-P)}}return i})}let p=!1;return{start(){p||(p=!0,Es(e),Ht(o)?(o=o(r),Za().then(h)):h())},invalidate(){p=!1},end(){i&&(c(),i=!1)}}}function Ka(e,t,n){const r={direction:"out"};let o=t(e,n,r),i=!0,s;const a=Qn;a.r+=1;let l;function c(){const{delay:h=0,duration:p=300,easing:f=On,tick:y=He,css:m}=o||Ja;m&&(s=Ts(e,1,0,p,h,f,m));const w=$a()+h,_=w+p;_t(()=>Kr(e,!1,"start")),"inert"in e&&(l=e.inert,e.inert=!0),za(L=>{if(i){if(L>=_)return y(0,1),Kr(e,!1,"end"),--a.r||lt(a.c),!1;if(L>=w){const O=f((L-w)/p);y(1-O,O)}}return i})}return Ht(o)?Za().then(()=>{o=o(r),c()}):c(),{end(h){h&&"inert"in e&&(e.inert=l),h&&o.tick&&o.tick(1,0),i&&(s&&Es(e,s),i=!1)}}}function Ft(e,t,n,r){let o=t(e,n,{direction:"both"}),i=r?0:1,s=null,a=null,l=null,c;function h(){l&&Es(e,l)}function p(y,m){const w=y.b-i;return m*=Math.abs(w),{a:i,b:y.b,d:w,duration:m,start:y.start,end:y.start+m,group:y.group}}function f(y){const{delay:m=0,duration:w=300,easing:_=On,tick:L=He,css:O}=o||Ja,T={start:$a()+m,b:y};y||(T.group=Qn,Qn.r+=1),"inert"in e&&(y?c!==void 0&&(e.inert=c):(c=e.inert,e.inert=!0)),s||a?a=T:(O&&(h(),l=Ts(e,i,y,w,m,_,O)),y&&L(0,1),s=p(T,w),_t(()=>Kr(e,y,"start")),za(P=>{if(a&&P>a.start&&(s=p(a,w),a=null,Kr(e,s.b,"start"),O&&(h(),l=Ts(e,i,s.b,s.duration,0,_,o.css))),s){if(P>=s.end)L(i=s.b,1-i),Kr(e,s.b,"end"),a||(s.b?h():--s.group.r||lt(s.group.c)),s=null;else if(P>=s.start){const E=P-s.start;i=s.a+s.d*_(E/s.duration),L(i,1-i)}}return!!(s||a)}))}return{run(y){Ht(o)?Za().then(()=>{o=o({direction:y?"in":"out"}),f(y)}):f(y)},end(){h(),s=a=null}}}function Xe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Qa(e,t){e.d(1),t.delete(e.key)}function jm(e,t){st(e,1,1,()=>{t.delete(e.key)})}function Rs(e,t,n,r,o,i,s,a,l,c,h,p){let f=e.length,y=i.length,m=f;const w={};for(;m--;)w[e[m].key]=m;const _=[],L=new Map,O=new Map,T=[];for(m=y;m--;){const S=p(o,i,m),R=n(S);let C=s.get(R);C?r&&T.push(()=>C.p(S,t)):(C=c(R,S),C.c()),L.set(R,_[m]=C),R in w&&O.set(R,Math.abs(m-w[R]))}const P=new Set,E=new Set;function F(S){$e(S,1),S.m(a,h),s.set(S.key,S),h=S.first,y--}for(;f&&y;){const S=_[y-1],R=e[f-1],C=S.key,M=R.key;S===R?(h=S.first,f--,y--):L.has(M)?!s.has(C)||P.has(C)?F(S):E.has(M)?f--:O.get(C)>O.get(M)?(E.add(C),F(S)):(P.add(M),f--):(l(R,s),f--)}for(;f--;){const S=e[f];L.has(S.key)||l(S,s)}for(;y;)F(_[y-1]);return lt(T),_}function Po(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function dn(e){e&&e.c()}function tn(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),_t(()=>{const i=e.$$.on_mount.map(Fu).filter(Ht);e.$$.on_destroy?e.$$.on_destroy.push(...i):lt(i),e.$$.on_mount=[]}),o.forEach(_t)}function nn(e,t){const n=e.$$;n.fragment!==null&&(Bm(n.after_update),lt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $m(e,t){e.$$.dirty[0]===-1&&(Fo.push(e),ju(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function rn(e,t,n,r,o,i,s=null,a=[-1]){const l=vi;yi(e);const c=e.$$={fragment:null,ctx:[],props:i,update:He,not_equal:o,bound:Ou(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Ou(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let h=!1;if(c.ctx=n?n(e,t.props||{},(p,f,...y)=>{const m=y.length?y[0]:f;return c.ctx&&o(c.ctx[p],c.ctx[p]=m)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](m),h&&$m(e,p)),f}):[],c.update(),h=!0,lt(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const p=Rm(t.target);c.fragment&&c.fragment.l(p),p.forEach(oe)}else c.fragment&&c.fragment.c();t.intro&&$e(e.$$.fragment),tn(e,t.target,t.anchor),Ir()}yi(l)}class on{constructor(){Zr(this,"$$");Zr(this,"$$set")}$destroy(){nn(this,1),this.$destroy=He}$on(t,n){if(!Ht(n))return He;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!_m(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Um="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Um);const No=[];function Is(e,t=He){let n;const r=new Set;function o(a){if(Xt(e,a)&&(e=a,n)){const l=!No.length;for(const c of r)c[1](),No.push(c,e);if(l){for(let c=0;c<No.length;c+=2)No[c][0](No[c+1]);No.length=0}}}function i(a){o(a(e))}function s(a,l=He){const c=[a,l];return r.add(c),r.size===1&&(n=t(o,i)||He),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:s}}function $u(e){const t=e-1;return t*t*t+1}function Rn(e){return--e*e*e*e*e+1}function bn(e,{delay:t=0,duration:n=400,easing:r=On}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>"opacity: ".concat(i*o)}}function Qr(e,{delay:t=0,duration:n=400,easing:r=$u,x:o=0,y:i=0,opacity:s=0}={}){const a=getComputedStyle(e),l=+a.opacity,c=a.transform==="none"?"":a.transform,h=l*(1-s),[p,f]=Pu(o),[y,m]=Pu(i);return{delay:t,duration:n,easing:r,css:(w,_)=>"\n			transform: ".concat(c," translate(").concat((1-w)*p).concat(f,", ").concat((1-w)*y).concat(m,");\n			opacity: ").concat(l-h*_)}}function fr(e,{delay:t=0,duration:n=400,easing:r=$u,start:o=0,opacity:i=0}={}){const s=getComputedStyle(e),a=+s.opacity,l=s.transform==="none"?"":s.transform,c=1-o,h=a*(1-i);return{delay:t,duration:n,easing:r,css:(p,f)=>"\n			transform: ".concat(l," scale(").concat(1-c*f,");\n			opacity: ").concat(a-h*f,"\n		")}}function zm(e){let t,n,r,o,i,s,a,l,c,h;return{c(){t=b("footer"),n=b("div"),r=b("span"),o=b("span"),o.textContent="PhantomSDR+",i=B(),s=b("span"),s.textContent="\u2022",a=B(),l=b("span"),c=ne("v"),h=ne(e[0]),u(o,"class","product-name svelte-3odlod"),u(s,"class","separator svelte-3odlod"),u(l,"class","version svelte-3odlod"),u(r,"class","footer-text svelte-3odlod"),u(n,"class","footer-content svelte-3odlod"),u(t,"class","footer svelte-3odlod")},m(p,f){ie(p,t,f),d(t,n),d(n,r),d(r,o),d(r,i),d(r,s),d(r,a),d(r,l),d(l,c),d(l,h)},p(p,[f]){f&1&&we(h,p[0])},i:He,o:He,d(p){p&&oe(t)}}}function Wm(e,t,n){let{version:r="2.0.0"}=t;return e.$$set=o=>{"version"in o&&n(0,r=o.version)},[r]}class Hm extends on{constructor(t){super(),rn(this,t,Wm,zm,Xt,{version:0})}}class Vm{constructor(){this.events={}}subscribe(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}publish(t,n){this.events[t]&&this.events[t].forEach(r=>r(n))}}const Ve=new Vm;function Uu(e,t,n){const r=e.slice();r[30]=t[n];const o=eg(r[30]);return r[31]=o,r}function Gm(e){let t,n,r,o,i=(e[2]||"Anonymous")+"",s,a,l,c,h;return{c(){t=b("div"),n=b("span"),n.textContent="Chatting as:",r=B(),o=b("span"),s=ne(i),a=B(),l=b("button"),l.textContent="Edit",u(n,"class","username-label svelte-1pk35nm"),u(o,"class","username-badge svelte-1pk35nm"),u(l,"class","secondary-button svelte-1pk35nm"),u(t,"class","username-display svelte-1pk35nm")},m(p,f){ie(p,t,f),d(t,n),d(t,r),d(t,o),d(o,s),d(t,a),d(t,l),c||(h=Y(l,"click",e[8]),c=!0)},p(p,f){f[0]&4&&i!==(i=(p[2]||"Anonymous")+"")&&we(s,i)},d(p){p&&oe(t),c=!1,h()}}}function Xm(e){let t,n,r,o,i;return{c(){t=b("input"),n=B(),r=b("button"),r.textContent="Save",u(t,"class","text-input svelte-1pk35nm"),u(t,"placeholder","Enter your name/callsign"),u(r,"class","primary-button svelte-1pk35nm")},m(s,a){ie(s,t,a),mt(t,e[2]),ie(s,n,a),ie(s,r,a),o||(i=[Y(t,"input",e[17]),Y(t,"keydown",e[18]),Y(r,"click",e[7])],o=!0)},p(s,a){a[0]&4&&t.value!==s[2]&&mt(t,s[2])},d(s){s&&(oe(t),oe(n),oe(r)),o=!1,lt(i)}}}function zu(e){let t;return{c(){t=b("div"),t.innerHTML="<p>No messages yet. Start a conversation!</p>",u(t,"class","empty-state svelte-1pk35nm")},m(n,r){ie(n,t,r)},d(n){n&&oe(t)}}}function Wu(e){let t,n,r;function o(){return e[19](e[30])}return{c(){t=b("button"),t.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 6l3-3v2h4v2H6v2L3 6z" fill="currentColor"></path></svg>',u(t,"class","reply-button svelte-1pk35nm"),u(t,"title","Reply to this message")},m(i,s){ie(i,t,s),n||(r=Y(t,"click",o),n=!0)},p(i,s){e=i},d(i){i&&oe(t),n=!1,r()}}}function Hu(e){let t,n,r,o,i,s=e[31].replyToUsername+"",a;return{c(){t=b("div"),n=Re("svg"),r=Re("path"),o=ne("\n                  Replying to "),i=b("span"),a=ne(s),u(r,"d","M3 6l3-3v2h4v2H6v2L3 6z"),u(r,"fill","currentColor"),u(n,"width","12"),u(n,"height","12"),u(n,"viewBox","0 0 12 12"),u(n,"fill","none"),u(n,"xmlns","http://www.w3.org/2000/svg"),u(i,"class","reply-username svelte-1pk35nm"),u(t,"class","reply-indicator svelte-1pk35nm")},m(l,c){ie(l,t,c),d(t,n),d(n,r),d(t,o),d(t,i),d(i,a)},p(l,c){c[0]&1&&s!==(s=l[31].replyToUsername+"")&&we(a,s)},d(l){l&&oe(t)}}}function Ym(e){let t,n=Do(e[31].parts)+"",r;return{c(){t=new Ha(!1),r=Cn(),t.a=r},m(o,i){t.m(n,o,i),ie(o,r,i)},p(o,i){i[0]&1&&n!==(n=Do(o[31].parts)+"")&&t.p(n)},d(o){o&&(oe(r),t.d())}}}function Zm(e){let t,n=Do(e[31].beforeFreq)+"",r,o,i,s,a,l=(e[31].frequency/1e3).toFixed(3)+"",c,h,p=e[31].demodulation+"",f,y,m,w=Do(e[31].afterFreq)+"",_,L,O;function T(){return e[20](e[31])}return{c(){t=new Ha(!1),r=B(),o=b("button"),i=Re("svg"),s=Re("path"),a=B(),c=ne(l),h=ne(" kHz \u2022 "),f=ne(p),y=B(),m=new Ha(!1),_=Cn(),t.a=r,u(s,"d","M7 1l-5 7h3v3l5-7H7V1z"),u(s,"fill","currentColor"),u(i,"width","12"),u(i,"height","12"),u(i,"viewBox","0 0 12 12"),u(i,"fill","none"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(o,"class","frequency-button svelte-1pk35nm"),m.a=_},m(P,E){t.m(n,P,E),ie(P,r,E),ie(P,o,E),d(o,i),d(i,s),d(o,a),d(o,c),d(o,h),d(o,f),ie(P,y,E),m.m(w,P,E),ie(P,_,E),L||(O=Y(o,"click",T),L=!0)},p(P,E){e=P,E[0]&1&&n!==(n=Do(e[31].beforeFreq)+"")&&t.p(n),E[0]&1&&l!==(l=(e[31].frequency/1e3).toFixed(3)+"")&&we(c,l),E[0]&1&&p!==(p=e[31].demodulation+"")&&we(f,p),E[0]&1&&w!==(w=Do(e[31].afterFreq)+"")&&m.p(w)},d(P){P&&(t.d(),oe(r),oe(o),oe(y),oe(_),m.d()),L=!1,O()}}}function Vu(e,t){let n,r,o,i,s=(t[31].username||"Unknown")+"",a,l,c,h=(t[31].timestamp||"")+"",p,f,y,m,w,_,L,O,T=!t[30].isCurrentUser&&Wu(t),P=t[31].hasReply&&Hu(t);function E(R,C){return R[31].isFormatted?Zm:Ym}let F=E(t),S=F(t);return{key:e,first:null,c(){n=b("div"),r=b("div"),o=b("div"),i=b("span"),a=ne(s),l=B(),c=b("span"),p=ne(h),f=B(),T&&T.c(),y=B(),P&&P.c(),m=B(),w=b("p"),S.c(),_=B(),u(i,"class","message-username svelte-1pk35nm"),u(c,"class","message-timestamp svelte-1pk35nm"),u(o,"class","message-header svelte-1pk35nm"),u(w,"class","message-content svelte-1pk35nm"),u(r,"class","message-bubble svelte-1pk35nm"),u(n,"class",L="message-wrapper "+(t[30].isCurrentUser?"own-message":"")+" svelte-1pk35nm"),this.first=n},m(R,C){ie(R,n,C),d(n,r),d(r,o),d(o,i),d(i,a),d(o,l),d(o,c),d(c,p),d(o,f),T&&T.m(o,null),d(r,y),P&&P.m(r,null),d(r,m),d(r,w),S.m(w,null),d(n,_)},p(R,C){t=R,C[0]&1&&s!==(s=(t[31].username||"Unknown")+"")&&we(a,s),C[0]&1&&h!==(h=(t[31].timestamp||"")+"")&&we(p,h),t[30].isCurrentUser?T&&(T.d(1),T=null):T?T.p(t,C):(T=Wu(t),T.c(),T.m(o,null)),t[31].hasReply?P?P.p(t,C):(P=Hu(t),P.c(),P.m(r,m)):P&&(P.d(1),P=null),F===(F=E(t))&&S?S.p(t,C):(S.d(1),S=F(t),S&&(S.c(),S.m(w,null))),C[0]&1&&L!==(L="message-wrapper "+(t[30].isCurrentUser?"own-message":"")+" svelte-1pk35nm")&&u(n,"class",L)},i(R){R&&(O||_t(()=>{O=xi(n,Qr,{x:t[30].isCurrentUser?20:-20,duration:200,easing:Rn}),O.start()}))},o:He,d(R){R&&oe(n),T&&T.d(),P&&P.d(),S.d()}}}function Gu(e){let t,n,r,o,i,s,a,l,c=e[5].username+"",h,p,f=e[5].message.substring(0,50)+"",y,m=e[5].message.length>50?"...":"",w,_,L,O,T;return{c(){t=b("div"),n=b("div"),r=Re("svg"),o=Re("path"),i=B(),s=b("span"),a=ne("Replying to "),l=b("strong"),h=ne(c),p=ne(": "),y=ne(f),w=ne(m),_=B(),L=b("button"),L.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="1.5"></path></svg>',u(o,"d","M3 6l3-3v2h4v2H6v2L3 6z"),u(o,"fill","currentColor"),u(r,"width","12"),u(r,"height","12"),u(r,"viewBox","0 0 12 12"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","reply-preview-content svelte-1pk35nm"),u(L,"class","cancel-reply-button svelte-1pk35nm"),u(L,"title","Cancel reply"),u(t,"class","reply-preview svelte-1pk35nm")},m(P,E){ie(P,t,E),d(t,n),d(n,r),d(r,o),d(n,i),d(n,s),d(s,a),d(s,l),d(l,h),d(s,p),d(s,y),d(s,w),d(t,_),d(t,L),O||(T=Y(L,"click",e[14]),O=!0)},p(P,E){E[0]&32&&c!==(c=P[5].username+"")&&we(h,c),E[0]&32&&f!==(f=P[5].message.substring(0,50)+"")&&we(y,f),E[0]&32&&m!==(m=P[5].message.length>50?"...":"")&&we(w,m)},d(P){P&&oe(t),O=!1,T()}}}function Jm(e){let t,n,r,o,i,s,a,l,c,h,p,f,y=[],m=new Map,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I;function q(J,G){return J[3]?Xm:Gm}let H=q(e),z=H(e),D=e[0].length===0&&zu(),j=Xe(e[0]);const W=J=>J[30].id;for(let J=0;J<j.length;J+=1){let G=Uu(e,j,J),K=W(G);m.set(K,y[J]=Vu(K,G))}let $=e[5]&&Gu(e);return{c(){t=b("div"),n=b("div"),n.innerHTML='<h2 class="chat-title svelte-1pk35nm">Chat</h2>',r=B(),o=b("div"),i=b("div"),s=b("div"),s.innerHTML='<div class="accent-dot bg-indigo svelte-1pk35nm"></div> <h3 class="section-label svelte-1pk35nm">Username</h3>',a=B(),l=b("div"),z.c(),c=B(),h=b("div"),p=b("div"),D&&D.c(),f=B();for(let J=0;J<y.length;J+=1)y[J].c();w=B(),_=b("div"),$&&$.c(),L=B(),O=b("div"),T=b("input"),E=B(),F=b("div"),S=b("button"),R=Re("svg"),C=Re("path"),M=ne("\n            Send"),x=B(),A=b("button"),A.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 1L4 8h3v7l5-7h-3V1z" fill="currentColor"></path></svg> <span class="freq-button-text svelte-1pk35nm">Insert Freq</span>',u(n,"class","chat-header svelte-1pk35nm"),u(s,"class","section-header svelte-1pk35nm"),u(l,"class","username-controls svelte-1pk35nm"),u(i,"class","username-section svelte-1pk35nm"),u(p,"class","messages-scroll svelte-1pk35nm"),u(h,"class","messages-container svelte-1pk35nm"),u(T,"class","message-input svelte-1pk35nm"),u(T,"placeholder",P=e[5]?"Reply to ".concat(e[5].username,"..."):"Type a message..."),u(C,"d","M2 8l12-6v12L2 8z"),u(C,"fill","currentColor"),u(R,"width","16"),u(R,"height","16"),u(R,"viewBox","0 0 16 16"),u(R,"fill","none"),u(R,"xmlns","http://www.w3.org/2000/svg"),u(S,"class","send-button svelte-1pk35nm"),S.disabled=v=!e[1].trim()||!e[2].trim(),u(A,"class","freq-button svelte-1pk35nm"),u(A,"title","Insert current frequency"),u(F,"class","button-group svelte-1pk35nm"),u(O,"class","input-row svelte-1pk35nm"),u(_,"class","input-section svelte-1pk35nm"),u(o,"class","chat-body svelte-1pk35nm"),u(t,"class","chat-container svelte-1pk35nm"),u(t,"id","chat-box")},m(J,G){ie(J,t,G),d(t,n),d(t,r),d(t,o),d(o,i),d(i,s),d(i,a),d(i,l),z.m(l,null),d(o,c),d(o,h),d(h,p),D&&D.m(p,null),d(p,f);for(let K=0;K<y.length;K+=1)y[K]&&y[K].m(p,null);e[21](p),d(o,w),d(o,_),$&&$.m(_,null),d(_,L),d(_,O),d(O,T),mt(T,e[1]),d(O,E),d(O,F),d(F,S),d(S,R),d(R,C),d(S,M),d(F,x),d(F,A),N||(I=[Y(T,"input",e[22]),Y(T,"keydown",e[10]),Y(S,"click",e[9]),Y(A,"click",e[11])],N=!0)},p(J,G){H===(H=q(J))&&z?z.p(J,G):(z.d(1),z=H(J),z&&(z.c(),z.m(l,null))),J[0].length===0?D||(D=zu(),D.c(),D.m(p,f)):D&&(D.d(1),D=null),G[0]&12289&&(j=Xe(J[0]),y=Rs(y,G,W,1,J,j,m,p,Qa,Vu,null,Uu)),J[5]?$?$.p(J,G):($=Gu(J),$.c(),$.m(_,L)):$&&($.d(1),$=null),G[0]&32&&P!==(P=J[5]?"Reply to ".concat(J[5].username,"..."):"Type a message...")&&u(T,"placeholder",P),G[0]&2&&T.value!==J[1]&&mt(T,J[1]),G[0]&6&&v!==(v=!J[1].trim()||!J[2].trim())&&(S.disabled=v)},i(J){for(let G=0;G<j.length;G+=1)$e(y[G])},o:He,d(J){J&&oe(t),z.d(),D&&D.d();for(let G=0;G<y.length;G+=1)y[G].d();e[21](null),$&&$.d(),N=!1,lt(I)}}}function Km(e){const t=/^(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) (.+?): (.+)$/,n=e.match(t);return n?n[2]:"Unknown"}function Qm(e){const t=/^(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) (.+?): (.+)$/,n=e.match(t);return n?n[3]:e}function el(e){console.warn("Received invalid message format, ignoring:",e)}function eg(e){if(e.username&&e.message&&e.timestamp){const t=/\[FREQ:(\d+):([\w-]+)\]/,n=e.message.match(t);if(n){const[r,o,i]=n,[s,a]=e.message.split(r).map(l=>Xu(mr(l)));return{isFormatted:!0,timestamp:mr(e.timestamp),username:mr(e.username),frequency:parseInt(o,10),demodulation:mr(i),beforeFreq:s,afterFreq:a,hasReply:e.reply_to_id&&e.reply_to_id!=="",replyToUsername:e.reply_to_username||""}}return{isFormatted:!1,timestamp:mr(e.timestamp),username:mr(e.username),parts:Xu(mr(e.message)),hasReply:e.reply_to_id&&e.reply_to_id!=="",replyToUsername:e.reply_to_username||""}}return{isFormatted:!1,timestamp:"Unknown",username:"Unknown",parts:[{type:"text",content:"Invalid message"}],hasReply:!1,replyToUsername:""}}function Xu(e){const t=/(https?:\/\/[^\s]+)/g,n=[];let r=0,o;for(;(o=t.exec(e))!==null;)o.index>r&&n.push({type:"text",content:e.slice(r,o.index)}),n.push({type:"link",content:o[0],url:o[0]}),r=o.index+o[0].length;return r<e.length&&n.push({type:"text",content:e.slice(r)}),n}function Do(e){return e.map(t=>t.type==="link"?'<a href="'.concat(mr(t.url),'" target="_blank" rel="noopener noreferrer" class="link">').concat(mr(t.content),"</a>"):t.content).join("")}function mr(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function tg(e,t,n){let r,{currentFrequency:o=0}=t,{demodulation:i="USB"}=t,s=Is([]);dr(e,s,I=>n(0,r=I));let a="",l,c="user".concat(Math.floor(Math.random()*1e4)),h=!1,p,f=!1,y=null,m=null;function w(){localStorage.setItem("chatusername",c),n(3,h=!1)}function _(){n(3,h=!0)}function L(){if(a.trim()&&c.trim()&&l&&l.readyState===WebSocket.OPEN){const I={cmd:"chat",message:a.trim(),username:c,user_id:y};m&&(I.reply_to_id=m.id,I.reply_to_username=m.username);try{l.send(JSON.stringify(I)),n(1,a=""),n(5,m=null),P()}catch(q){console.error("Failed to send message:",q)}}}function O(I){I.key==="Enter"&&(I.preventDefault(),L())}function T(){const I="[FREQ:".concat(Math.round(o),":").concat(i,"]");n(1,a=a+" "+I)}function P(){p&&p.scrollTo({top:p.scrollHeight,behavior:"smooth"})}function E(I,q){Ve.publish("frequencyChange",{detail:I}),Ve.publish("setMode",q)}function F(I){n(5,m={id:I.id,username:I.username||Km(I.text),message:I.message||Qm(I.text)})}function S(){n(5,m=null)}function R(){n(2,c=localStorage.getItem("chatusername")||""),c||(console.log("No Username. Setting a random username."),n(2,c="user".concat(Math.floor(Math.random()*1e4)))),n(3,h=!c);try{l=new WebSocket(window.location.origin.replace(/^http/,"ws")+"/chat"),l.onopen=()=>{console.log("Chat WebSocket connected"),f=!0,y="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)},l.onclose=()=>{console.log("Chat WebSocket disconnected"),f=!1,setTimeout(()=>{(!l||l.readyState===WebSocket.CLOSED)&&R()},3e3)},l.onerror=I=>{console.error("Chat WebSocket error:",I),f=!1},l.onmessage=I=>{try{let q;try{q=JSON.parse(I.data)}catch(H){el(I.data);return}if(q.type==="history"){if(q.messages&&Array.isArray(q.messages)){const H=q.messages.map((z,D)=>({id:z.id||Date.now()+D,username:z.username,message:z.message,timestamp:z.timestamp,user_id:z.user_id,type:z.type,reply_to_id:z.reply_to_id||"",reply_to_username:z.reply_to_username||"",isCurrentUser:z.user_id===y}));s.set(H)}}else if(q.id&&q.username&&q.message){const H={id:q.id,username:q.username,message:q.message,timestamp:q.timestamp,user_id:q.user_id,type:q.type,reply_to_id:q.reply_to_id||"",reply_to_username:q.reply_to_username||"",isCurrentUser:q.user_id===y};s.update(z=>[...z,H])}else el(JSON.stringify(q));P()}catch(q){console.error("Error processing message:",q),el(I.data)}}}catch(I){console.error("Failed to create WebSocket:",I),f=!1}}zn(()=>{n(2,c=localStorage.getItem("chatusername")||""),c||(console.log("No Username. Setting a random username."),n(2,c="user".concat(Math.floor(Math.random()*1e4)))),n(3,h=!c),R()}),Eo(()=>{l&&l.readyState===WebSocket.OPEN&&l.close()});function C(){c=this.value,n(2,c)}const M=I=>I.key==="Enter"&&w(),v=I=>F(I),x=I=>E(I.frequency,I.demodulation);function A(I){vt[I?"unshift":"push"](()=>{p=I,n(4,p)})}function N(){a=this.value,n(1,a)}return e.$$set=I=>{"currentFrequency"in I&&n(15,o=I.currentFrequency),"demodulation"in I&&n(16,i=I.demodulation)},e.$$.update=()=>{e.$$.dirty[0]&1&&r&&setTimeout(P,100)},[r,a,c,h,p,m,s,w,_,L,O,T,E,F,S,o,i,C,M,v,x,A,N]}class ng extends on{constructor(t){super(),rn(this,t,tg,Jm,Xt,{currentFrequency:15,demodulation:16},null,[-1,-1])}}var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var og=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},ig=og,Yu={"text/plain":"Text","text/html":"Url",default:"Text"},sg="Copy to clipboard: #{key}, Enter";function ag(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function lg(e,t){var n,r,o,i,s,a,l=!1;t||(t={}),n=t.debug||!1;try{o=ig(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(h){if(h.stopPropagation(),t.format)if(h.preventDefault(),typeof h.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var p=Yu[t.format]||Yu.default;window.clipboardData.setData(p,e)}else h.clipboardData.clearData(),h.clipboardData.setData(t.format,e);t.onCopy&&(h.preventDefault(),t.onCopy(h.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(h){n&&console.error("unable to copy using execCommand: ",h),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(p){n&&console.error("unable to copy using clipboardData: ",p),n&&console.error("falling back to prompt"),r=ag("message"in t?t.message:sg),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var cg=lg;const ug=eo(cg);function Zu(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function Ju(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I,q,H,z,D,j,W,$,J,G,K,te,fe,Z,he,ve,De,Ie,We;const Le=[hg,dg],ge=[];function ue(Ce,Ue){return Ce[4].length===0?0:1}return Z=ue(e),he=ge[Z]=Le[Z](e),{c(){t=b("div"),n=b("div"),o=B(),i=b("div"),s=b("div"),a=b("h2"),a.textContent="Bookmarks",l=B(),c=b("button"),c.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',h=B(),p=b("div"),f=b("div"),y=b("div"),y.innerHTML='<div class="accent-dot bg-yellow-500 svelte-1lt9fvg"></div> <h3 class="section-title svelte-1lt9fvg">Add New Bookmark</h3>',m=B(),w=b("div"),_=b("input"),L=B(),O=b("button"),T=Re("svg"),P=Re("path"),E=ne("\n              Add"),S=B(),R=b("div"),C=b("div"),C.innerHTML='<div class="accent-dot bg-blue-500 svelte-1lt9fvg"></div> <h3 class="section-title svelte-1lt9fvg">Current Link</h3>',M=B(),v=b("div"),x=b("input"),A=B(),N=b("button"),N.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="5" width="8" height="10" rx="1" stroke="currentColor" stroke-width="1.5"></rect><path d="M11 3V2C11 1.44772 10.5523 1 10 1H4C3.44772 1 3 1.44772 3 2V10C3 10.5523 3.44772 11 4 11H5" stroke="currentColor" stroke-width="1.5"></path></svg>\n              Copy',I=B(),q=b("div"),H=b("div"),H.innerHTML='<div class="accent-dot bg-purple-500 svelte-1lt9fvg"></div> <h3 class="section-title svelte-1lt9fvg">Import/Export</h3>',z=B(),D=b("div"),j=b("button"),j.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1V11M8 11L4 7M8 11L12 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 13H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>\n              Import',W=B(),$=b("button"),$.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 11V1M8 1L4 5M8 1L12 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 13H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>\n              Export',J=B(),G=b("div"),K=b("div"),K.innerHTML='<div class="accent-dot bg-green-500 svelte-1lt9fvg"></div> <h3 class="section-title svelte-1lt9fvg">Saved Bookmarks</h3>',te=B(),fe=b("div"),he.c(),u(n,"class","dialog-backdrop svelte-1lt9fvg"),u(a,"class","dialog-title svelte-1lt9fvg"),u(c,"class","close-button svelte-1lt9fvg"),u(s,"class","dialog-header svelte-1lt9fvg"),u(y,"class","section-header svelte-1lt9fvg"),u(_,"class","text-input svelte-1lt9fvg"),u(_,"placeholder","Enter bookmark name..."),u(P,"d","M8 3V13M3 8H13"),u(P,"stroke","currentColor"),u(P,"stroke-width","1.5"),u(P,"stroke-linecap","round"),u(T,"width","16"),u(T,"height","16"),u(T,"viewBox","0 0 16 16"),u(T,"fill","none"),u(T,"xmlns","http://www.w3.org/2000/svg"),u(O,"class","primary-button svelte-1lt9fvg"),O.disabled=F=!e[2].trim(),u(w,"class","input-group svelte-1lt9fvg"),u(f,"class","section-card svelte-1lt9fvg"),u(C,"class","section-header svelte-1lt9fvg"),u(x,"type","text"),u(x,"class","text-input readonly svelte-1lt9fvg"),x.value=e[1],x.readOnly=!0,u(N,"class","secondary-button svelte-1lt9fvg"),u(v,"class","input-group svelte-1lt9fvg"),u(R,"class","section-card svelte-1lt9fvg"),u(H,"class","section-header svelte-1lt9fvg"),u(j,"class","secondary-button svelte-1lt9fvg"),u($,"class","secondary-button svelte-1lt9fvg"),u(D,"class","input-group svelte-1lt9fvg"),u(q,"class","section-card svelte-1lt9fvg"),u(K,"class","section-header svelte-1lt9fvg"),u(fe,"class","bookmarks-list svelte-1lt9fvg"),u(G,"class","section-card svelte-1lt9fvg"),u(p,"class","dialog-body svelte-1lt9fvg"),u(i,"class","dialog-content svelte-1lt9fvg"),u(t,"class","dialog-container svelte-1lt9fvg")},m(Ce,Ue){ie(Ce,t,Ue),d(t,n),d(t,o),d(t,i),d(i,s),d(s,a),d(s,l),d(s,c),d(i,h),d(i,p),d(p,f),d(f,y),d(f,m),d(f,w),d(w,_),mt(_,e[2]),d(w,L),d(w,O),d(O,T),d(T,P),d(O,E),d(p,S),d(p,R),d(R,C),d(R,M),d(R,v),d(v,x),d(v,A),d(v,N),d(p,I),d(p,q),d(q,H),d(q,z),d(q,D),d(D,j),d(D,W),d(D,$),d(p,J),d(p,G),d(G,K),d(G,te),d(G,fe),ge[Z].m(fe,null),De=!0,Ie||(We=[Y(n,"click",Wa(e[13])),Y(c,"click",e[13]),Y(_,"input",e[17]),Y(_,"keydown",e[18]),Y(O,"click",e[6]),Y(N,"click",e[19]),Y(j,"click",e[12]),Y($,"click",e[10])],Ie=!0)},p(Ce,Ue){Ue&4&&_.value!==Ce[2]&&mt(_,Ce[2]),(!De||Ue&4&&F!==(F=!Ce[2].trim()))&&(O.disabled=F),(!De||Ue&2&&x.value!==Ce[1])&&(x.value=Ce[1]);let Ke=Z;Z=ue(Ce),Z===Ke?ge[Z].p(Ce,Ue):(Wn(),st(ge[Ke],1,1,()=>{ge[Ke]=null}),Hn(),he=ge[Z],he?he.p(Ce,Ue):(he=ge[Z]=Le[Z](Ce),he.c()),$e(he,1),he.m(fe,null))},i(Ce){De||(Ce&&_t(()=>{De&&(r||(r=Ft(n,bn,{duration:150},!0)),r.run(1))}),$e(he),Ce&&_t(()=>{De&&(ve||(ve=Ft(i,fr,{duration:200,easing:Rn,start:.95},!0)),ve.run(1))}),De=!0)},o(Ce){Ce&&(r||(r=Ft(n,bn,{duration:150},!1)),r.run(0)),st(he),Ce&&(ve||(ve=Ft(i,fr,{duration:200,easing:Rn,start:.95},!1)),ve.run(0)),De=!1},d(Ce){Ce&&oe(t),Ce&&r&&r.end(),ge[Z].d(),Ce&&ve&&ve.end(),Ie=!1,lt(We)}}}function dg(e){let t=[],n=new Map,r,o,i=Xe(e[4]);const s=a=>a[24].link+a[26];for(let a=0;a<i.length;a+=1){let l=Zu(e,i,a),c=s(l);n.set(c,t[a]=Ku(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=Cn()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);ie(a,r,l),o=!0},p(a,l){l&912&&(i=Xe(a[4]),Wn(),t=Rs(t,l,s,1,a,i,n,r.parentNode,jm,Ku,r,Zu),Hn())},i(a){if(!o){for(let l=0;l<i.length;l+=1)$e(t[l]);o=!0}},o(a){for(let l=0;l<t.length;l+=1)st(t[l]);o=!1},d(a){a&&oe(r);for(let l=0;l<t.length;l+=1)t[l].d(a)}}}function hg(e){let t;return{c(){t=b("p"),t.textContent="No bookmarks saved yet",u(t,"class","empty-state svelte-1lt9fvg")},m(n,r){ie(n,t,r)},p:He,i:He,o:He,d(n){n&&oe(t)}}}function Ku(e,t){let n,r,o,i=t[24].name+"",s,a,l,c=(t[24].frequency/1e3).toFixed(3)+"",h,p,f=t[24].demodulation+"",y,m,w,_,L,O,T,P,E,F,S,R,C;function M(){return t[20](t[24])}function v(){return t[21](t[24])}function x(){return t[22](t[26])}return{key:e,first:null,c(){n=b("div"),r=b("div"),o=b("span"),s=ne(i),a=B(),l=b("span"),h=ne(c),p=ne(" kHz \u2022 "),y=ne(f),m=B(),w=b("div"),_=b("button"),_.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7H13M13 7L8 2M13 7L8 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',L=B(),O=b("button"),O.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="7" height="9" rx="1" stroke="currentColor" stroke-width="1.5"></rect><path d="M10 2.5V2C10 1.44772 9.55228 1 9 1H3C2.44772 1 2 1.44772 2 2V8C2 8.55228 2.44772 9 3 9H3.5" stroke="currentColor" stroke-width="1.5"></path></svg>',T=B(),P=b("button"),P.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4H12M5 4V2.5C5 1.67157 5.67157 1 6.5 1H7.5C8.32843 1 9 1.67157 9 2.5V4M6 7V10M8 7V10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M3 4L4 12C4 12.5523 4.44772 13 5 13H9C9.55228 13 10 12.5523 10 12L11 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',E=B(),u(o,"class","bookmark-name svelte-1lt9fvg"),u(l,"class","bookmark-details svelte-1lt9fvg"),u(r,"class","bookmark-info svelte-1lt9fvg"),u(_,"class","action-button go svelte-1lt9fvg"),u(_,"title","Go to frequency"),u(O,"class","action-button copy svelte-1lt9fvg"),u(O,"title","Copy link"),u(P,"class","action-button delete svelte-1lt9fvg"),u(P,"title","Delete bookmark"),u(w,"class","bookmark-actions svelte-1lt9fvg"),u(n,"class","bookmark-item svelte-1lt9fvg"),this.first=n},m(A,N){ie(A,n,N),d(n,r),d(r,o),d(o,s),d(r,a),d(r,l),d(l,h),d(l,p),d(l,y),d(n,m),d(n,w),d(w,_),d(w,L),d(w,O),d(w,T),d(w,P),d(n,E),S=!0,R||(C=[Y(_,"click",M),Y(O,"click",v),Y(P,"click",x)],R=!0)},p(A,N){t=A,(!S||N&16)&&i!==(i=t[24].name+"")&&we(s,i),(!S||N&16)&&c!==(c=(t[24].frequency/1e3).toFixed(3)+"")&&we(h,c),(!S||N&16)&&f!==(f=t[24].demodulation+"")&&we(y,f)},i(A){S||(A&&_t(()=>{S&&(F||(F=Ft(n,Qr,{x:-20,duration:200,delay:t[26]*30},!0)),F.run(1))}),S=!0)},o(A){A&&(F||(F=Ft(n,Qr,{x:-20,duration:200,delay:t[26]*30},!1)),F.run(0)),S=!1},d(A){A&&oe(n),A&&F&&F.end(),R=!1,lt(C)}}}function pg(e){let t,n,r,o,i,s=e[0]&&Ju(e);return{c(){s&&s.c(),t=B(),n=b("input"),u(n,"type","file"),u(n,"accept",".json"),Et(n,"display","none")},m(a,l){s&&s.m(a,l),ie(a,t,l),ie(a,n,l),e[23](n),r=!0,o||(i=[Y(window,"keydown",e[14]),Y(n,"change",e[11])],o=!0)},p(a,[l]){a[0]?s?(s.p(a,l),l&1&&$e(s,1)):(s=Ju(a),s.c(),$e(s,1),s.m(t.parentNode,t)):s&&(Wn(),st(s,1,1,()=>{s=null}),Hn())},i(a){r||($e(s),r=!0)},o(a){st(s),r=!1},d(a){a&&(oe(t),oe(n)),s&&s.d(a),e[23](null),o=!1,lt(i)}}}function Qu(e){localStorage.setItem("bookmarks",JSON.stringify(e))}function fg(e,t,n){let r,{currentFrequency:o=0}=t,{demodulation:i="USB"}=t,{link:s=""}=t,{showDialog:a=!1}=t,l=Is([]);dr(e,l,v=>n(4,r=v));let c="",h;function p(){if(!c.trim())return;const v={name:c.trim(),link:s,frequency:o,demodulation:i};l.update(x=>{const A=[...x,v];return localStorage.setItem("bookmarks",JSON.stringify(A)),A}),n(2,c="")}function f(v){Ve.publish("frequencyChange",{detail:v.frequency}),Ve.publish("setMode",v.demodulation),n(0,a=!1)}function y(v){ug(v)}function m(v){l.update(x=>{const A=x.filter((N,I)=>I!==v);return Qu(A),A})}function w(){const v=JSON.stringify(r,null,2),x=new Blob([v],{type:"application/json"}),A=URL.createObjectURL(x),N=document.createElement("a");N.href=A,N.download="bookmarks.json",N.click(),URL.revokeObjectURL(A)}function _(v){const x=v.target.files[0];if(!x)return;const A=new FileReader;A.onload=N=>{try{const I=N.target.result;if(typeof I=="string"){const q=JSON.parse(I);Array.isArray(q)&&l.update(H=>{const z=[...H,...q];return Qu(z),z})}}catch(I){alert("Invalid bookmark file format")}},A.readAsText(x),v.target.value=""}function L(){h&&h.click()}function O(){n(0,a=!a)}function T(v){v.key==="Escape"&&a&&n(0,a=!1)}zn(()=>{const v=localStorage.getItem("bookmarks");v&&l.set(JSON.parse(v))});function P(){c=this.value,n(2,c)}const E=v=>v.key==="Enter"&&p(),F=()=>y(s),S=v=>f(v),R=v=>y(v.link),C=v=>m(v);function M(v){vt[v?"unshift":"push"](()=>{h=v,n(3,h)})}return e.$$set=v=>{"currentFrequency"in v&&n(15,o=v.currentFrequency),"demodulation"in v&&n(16,i=v.demodulation),"link"in v&&n(1,s=v.link),"showDialog"in v&&n(0,a=v.showDialog)},[a,s,c,h,r,l,p,f,y,m,w,_,L,O,T,o,i,P,E,F,S,R,C,M]}class mg extends on{constructor(t){super(),rn(this,t,fg,pg,Xt,{currentFrequency:15,demodulation:16,link:1,showDialog:0})}}const gg="modulepreload",vg=function(e){return"/"+e},ed={},Ps=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=vg(a),a in ed)return;ed[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(n)for(let p=o.length-1;p>=0;p--){const f=o[p];if(f.href===a&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":gg,l||(h.as="script",h.crossOrigin=""),h.href=a,s&&h.setAttribute("nonce",s),document.head.appendChild(h),l)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error("Unable to preload CSS for ".concat(a))))})}))}return r.then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};let dt;function td(e){dt=e}const gr=new Array(128).fill(void 0);gr.push(void 0,null,!0,!1);function Vn(e){return gr[e]}let Ci=gr.length;function yg(e){e<132||(gr[e]=Ci,Ci=e)}function Ns(e){const t=Vn(e);return yg(e),t}function In(e){Ci===gr.length&&gr.push(gr.length+1);const t=Ci;return Ci=gr[t],gr[t]=e,t}const bg=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let nd=new bg("utf-8",{ignoreBOM:!0,fatal:!0});nd.decode();let Ds=null;function _i(){return(Ds===null||Ds.byteLength===0)&&(Ds=new Uint8Array(dt.memory.buffer)),Ds}function tl(e,t){return e=e>>>0,nd.decode(_i().subarray(e,e+t))}let Lo=0;function rd(e,t){const n=t(e.length*1,1)>>>0;return _i().set(e,n/1),Lo=e.length,n}function wg(e){return e==null}let Ls=null;function qs(){return(Ls===null||Ls.byteLength===0)&&(Ls=new Int32Array(dt.memory.buffer)),Ls}let Bs=null;function xg(){return(Bs===null||Bs.byteLength===0)&&(Bs=new Uint32Array(dt.memory.buffer)),Bs}function kg(e,t){e=e>>>0;const n=xg().subarray(e/4,e/4+t),r=[];for(let o=0;o<n.length;o++)r.push(Ns(n[o]));return r}function Cg(){dt.greet()}function _g(){dt.main()}function od(e,t,n){const r=dt.firdes_kaiser_lowpass(e,t,n);return Ns(r)}const Sg=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let js=new Sg("utf-8");const Mg=typeof js.encodeInto=="function"?function(e,t){return js.encodeInto(e,t)}:function(e,t){const n=js.encode(e);return t.set(n),{read:e.length,written:n.length}};function Ag(e,t,n){if(n===void 0){const a=js.encode(e),l=t(a.length,1)>>>0;return _i().subarray(l,l+a.length).set(a),Lo=a.length,l}let r=e.length,o=t(r,1)>>>0;const i=_i();let s=0;for(;s<r;s++){const a=e.charCodeAt(s);if(a>127)break;i[o+s]=a}if(s!==r){s!==0&&(e=e.slice(s)),o=n(o,r,r=s+e.length*3,1)>>>0;const a=_i().subarray(o+s,o+r),l=Mg(e,a);s+=l.written,o=n(o,r,s,1)>>>0}return Lo=s,o}function Tg(e,t){try{return e.apply(this,t)}catch(n){dt.__wbindgen_exn_store(In(n))}}const nl=Object.freeze({Flac:0,0:"Flac",Opus:1,1:"Opus"}),Eg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>dt.__wbg_audio_free(e>>>0));class rl{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Eg.unregister(this),t}free(){const t=this.__destroy_into_raw();dt.__wbg_audio_free(t)}constructor(t,n,r,o){const i=dt.audio_new(t,n,r,o);return this.__wbg_ptr=i>>>0,this}decode(t){const n=rd(t,dt.__wbindgen_malloc),r=Lo,o=dt.audio_decode(this.__wbg_ptr,n,r);return Ns(o)}set_nr(t){dt.audio_set_nr(this.__wbg_ptr,t)}set_nb(t){dt.audio_set_nb(this.__wbg_ptr,t)}set_an(t){dt.audio_set_an(this.__wbg_ptr,t)}set_decoded_callback(t){dt.audio_set_decoded_callback(this.__wbg_ptr,wg(t)?0:In(t))}}const id=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>dt.__wbg_foxenflacdecoder_free(e>>>0));class $s{static __wrap(t){t=t>>>0;const n=Object.create($s.prototype);return n.__wbg_ptr=t,id.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,id.unregister(this),t}free(){const t=this.__destroy_into_raw();dt.__wbg_foxenflacdecoder_free(t)}static new(){const t=dt.foxenflacdecoder_new();return $s.__wrap(t)}}const Fg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>dt.__wbg_zstdstreamdecoder_free(e>>>0));class sd{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Fg.unregister(this),t}free(){const t=this.__destroy_into_raw();dt.__wbg_zstdstreamdecoder_free(t)}constructor(){const t=dt.zstdstreamdecoder_new();return this.__wbg_ptr=t>>>0,this}clear(){dt.zstdstreamdecoder_clear(this.__wbg_ptr)}decode(t){try{const i=dt.__wbindgen_add_to_stack_pointer(-16),s=rd(t,dt.__wbindgen_malloc),a=Lo;dt.zstdstreamdecoder_decode(i,this.__wbg_ptr,s,a);var n=qs()[i/4+0],r=qs()[i/4+1],o=kg(n,r).slice();return dt.__wbindgen_free(n,r*4,4),o}finally{dt.__wbindgen_add_to_stack_pointer(16)}}}fu=function(e){Ns(e)},mu=function(e){const t=Vn(e);return In(t)},gu=function(e,t){alert(tl(e,t))},vu=function(){const e=new Error;return In(e)},yu=function(e,t){const n=Vn(t).stack,r=Ag(n,dt.__wbindgen_malloc,dt.__wbindgen_realloc),o=Lo;qs()[e/4+1]=o,qs()[e/4+0]=r},bu=function(e,t){let n,r;try{n=e,r=t,console.error(tl(e,t))}finally{dt.__wbindgen_free(n,r,1)}},wu=function(){return Tg(function(e,t,n){const r=Vn(e).call(Vn(t),Vn(n));return In(r)},arguments)},xu=function(e){const t=Vn(e).buffer;return In(t)},ku=function(e,t,n){const r=new Uint8Array(Vn(e),t>>>0,n>>>0);return In(r)},Cu=function(e){const t=new Uint8Array(Vn(e));return In(t)},_u=function(e,t,n){const r=new Float32Array(Vn(e),t>>>0,n>>>0);return In(r)},Su=function(e){const t=new Float32Array(Vn(e));return In(t)},Mu=function(e){const t=new Float32Array(e>>>0);return In(t)},Au=function(e,t){throw new Error(tl(e,t))},Tu=function(){const e=dt.memory;return In(e)},wm=Object.freeze(Object.defineProperty({__proto__:null,Audio:rl,AudioCodec:nl,FoxenFlacDecoder:$s,ZstdStreamDecoder:sd,__wbg_alert_379870a8a3d45260:gu,__wbg_buffer_12d079cc21e14bdb:xu,__wbg_call_b3ca7c6051f9bec1:wu,__wbg_error_f851667af71bcfc6:bu,__wbg_new_63b92bc8671ed464:Cu,__wbg_new_9efabd6b6d2ce46d:Su,__wbg_new_abda76e883ba8a5f:vu,__wbg_newwithbyteoffsetandlength_4a659d079a1650e0:_u,__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb:ku,__wbg_newwithlength_1e8b839a06de01c5:Mu,__wbg_set_wasm:td,__wbg_stack_658279fe44541cf6:yu,__wbindgen_memory:Tu,__wbindgen_object_clone_ref:mu,__wbindgen_object_drop_ref:fu,__wbindgen_throw:Au,firdes_kaiser_lowpass:od,greet:Cg,main:_g},Symbol.toStringTag,{value:"Module"}));var ad={};(function(e){function t(S){var R=[],C=[],M=0,v=S;function x(A){for(R.length!==0&&R[0]<=M-v&&(R.shift(),C.shift());C.length!==0&&C[C.length-1]>A;)R.pop(),C.pop();return R.push(M),C.push(A),M++,C[0]}return x.setWindowSize=function(A){v=A},x.reset=function(){R.splice(0,R.length),C.splice(0,C.length),M=0},x}function n(S){var R=[],C=[],M=0,v=S;function x(A){for(R.length!==0&&R[0]<=M-v&&(R.shift(),C.shift());C.length!==0&&C[C.length-1]<A;)R.pop(),C.pop();return R.push(M),C.push(A),M++,C[0]}return x.setWindowSize=function(A){v=A},x.reset=function(){R.splice(0,R.length),C.splice(0,C.length),M=0},x}function r(S){var R=[],C=S,M=0,v;function x(A){if(R.length>=C&&(M-=R.shift()),A||A===0)R.push(A),M+=A;else return v;return v=R.length==0?0:M/R.length}return x.setWindowSize=function(A){C=A},x.reset=function(){M=0,R.splice(0,R.length)},x}function o(S){var R=[],C=[],M=S;function v(x,A){for(;R.length!==0&&R[0]<=A-M;)R.shift(),C.shift();for(;C.length!==0&&C[C.length-1]>x;)R.pop(),C.pop();return R.push(A),C.push(x),C[0]}return v.setWindowSize=function(x){M=x},v.reset=function(){R.splice(0,R.length),C.splice(0,C.length)},v}function i(S){var R=[],C=[],M=S;function v(x,A){for(;R.length!==0&&R[0]<=A-M;)R.shift(),C.shift();for(;C.length!==0&&C[C.length-1]<x;)R.pop(),C.pop();return R.push(A),C.push(x),C[0]}return v.setWindowSize=function(x){M=x},v.reset=function(){R.splice(0,R.length),C.splice(0,C.length)},v}function s(S){var R=[],C=[],M=S,v=0;function x(A,N){for(;R.length!==0&&R[0]<=N-M;)R.shift(),v-=C.shift();if(A||A===0)R.push(N),C.push(A),v+=A;else return prev;return prev=C.length==0?0:v/C.length}return x.setWindowSize=function(A){M=A},x.reset=function(){R.splice(0,R.length),C.splice(0,C.length),v=0},x}function a(S,R){for(var C=0,M=S.length;C<M;){var v=C+M>>>1;S[v]<R?C=v+1:M=v}return C}function l(S){var R=[],C=S,M=[],v=a,x,A=null,N=0,I=0,q=0,H=0,z=null;function D(j){if(R.length>=C){var W=R.shift(),$=W,J=$*$,G=J*$,K=G*$;N-=$,I-=J,q-=G,H-=K;var te=v(M,W);M[te]==W&&M.splice(te,1)}if(j||j===0){R.push(j),M.splice(v(M,j),0,j),A=null,z=null;var $=j,J=$*$,G=J*$,K=G*$;N+=$,I+=J,q+=G,H+=K}else return x;if(M.length==0)return x;if(M.length&1)return x=M[M.length-1>>>1];var fe=(M.length>>>1)-1;return x=(M[fe]+M[fe+1])/2}return D.setWindowSize=function(j){C=j},D.reset=function(){R.splice(0,R.length),M.splice(0,M.length),A=null,N=0,I=0,q=0,H=0,z=null},D.avg=function(){return N/R.length},D.sum=function(){return N},D.min=function(){return M[0]},D.q1=function(){if(M.length==1)return M[0];if(M.length==2)return M[0]*.75+M[1]*.25;if(M.length==3)return M[0]*.5+M[1]*.5;if((M.length-1)%4==0){var j=M.length-1>>2;return M[j-1]*.25+M[j]*.75}if((M.length-3)%4==0){var j=M.length-3>>2;return M[j]*.75+M[j+1]*.25}},D.moments_avg=function(){return z===null&&(z=D.moments()),z.average},D.variance=function(){return z===null&&(z=D.moments()),z.variance},D.standardDeviation=function(){return z===null&&(z=D.moments()),z.standardDeviation},D.skew=function(){return z===null&&(z=D.moments()),z.skew},D.kurtosis=function(){return z===null&&(z=D.moments()),z.kurtosis},D.exkurtosis=function(){return z===null&&(z=D.moments()),z.exkurtosis},D.moments=function(){var j={};if(this.c>0){var W=R.length,$=N/W,J=I/W,G=q/W,K=H/W,te=$,fe=I/W-$;m3=G-3*J*$+2*$*$*$,m4=K-3*G*$+6*J*$*$- -3*$*$*$*$,j.average=te,j.variance=fe,j.standardDeviation=Math.pow(j.variance,.5),W>2&&(j.skew=Math.pow(W*(W-1),.5)/(W-2)*m3/Math.pow(fe,1.5)),fe>0&&(j.exkurtosis=m4/fe/fe-3,j.kurtosis=m4/fe/fe)}return j},D.median=function(){return x},D.q3=function(){if(M.length==1)return M[0];if(M.length==2)return M[0]*.25+M[1]*.75;if(M.length==3)return M[1]*.5+M[2]*.5;if((M.length-1)%4==0){var j=(M.length-1>>2)*3;return M[j]*.75+M[j+1]*.25}if((M.length-3)%4==0){var j=(M.length-3>>2)*3;return M[j+1]*.25+M[j+2]*.75}},D.max=function(){return M[M.length-1]},D.center=function(){return(M[0]+M[M.length-1])/2},D.medianskew=function(){return M[M.length-1]-x-(x-M[0])},D.medianskew_bowleys_coef=function(){return(M[M.length-1]-x)*(x-M[0])/(M[M.length-1]-M[0])},D.mediankurt=function(){var j=Math.round((M.length-1)*.9),W=Math.round((M.length-1)*.1);return(M[M.length-1]-x)*(x-M[0])/(M[j]-M[W])},D.pabovecenter=function(){return A===null&&(A=v(M,(M[0]+M[M.length-1])/2)),(M.length-1-A)/(M.length-1)},D.pbelowcenter=function(){return A===null&&(A=v(M,(M[0]+M[M.length-1])/2)),A/(M.length-1)},D}function c(S){var R=[],C=[],M=S,v=[],x=a,A,N=null,I=0,q=0,H=0,z=0,D=null;function j(W,$){for(;C.length!==0&&C[0]<=$-M;){C.shift();var J=R.shift(),G=J,K=G*G,te=K*G,fe=te*G;I-=G,q-=K,H-=te,z-=fe;var Z=x(v,J);v[Z]==J&&v.splice(Z,1)}if(W||W===0){C.push($),R.push(W),v.splice(x(v,W),0,W),N=null,D=null;var G=W,K=G*G,te=K*G,fe=te*G;I+=G,q+=K,H+=te,z+=fe}else return A;if(v.length==0)return A;if(v.length&1)return A=v[v.length-1>>>1];var he=(v.length>>>1)-1;return A=(v[he]+v[he+1])/2}return j.setWindowSize=function(W){M=W},j.reset=function(){R.splice(0,R.length),C.splice(0,C.length),v.splice(0,v.length),N=null,I=0,q=0,H=0,z=0,D=null},j.avg=function(){return I/R.length},j.sum=function(){return I},j.min=function(){return v[0]},j.q1=function(){if(v.length==1)return v[0];if(v.length==2)return v[0]*.75+v[1]*.25;if(v.length==3)return v[0]*.5+v[1]*.5;if((v.length-1)%4==0){var W=v.length-1>>2;return v[W-1]*.25+v[W]*.75}if((v.length-3)%4==0){var W=v.length-3>>2;return v[W]*.75+v[W+1]*.25}},j.moments_avg=function(){return D===null&&(D=j.moments()),D.average},j.variance=function(){return D===null&&(D=j.moments()),D.variance},j.standardDeviation=function(){return D===null&&(D=j.moments()),D.standardDeviation},j.skew=function(){return D===null&&(D=j.moments()),D.skew},j.kurtosis=function(){return D===null&&(D=j.moments()),D.kurtosis},j.exkurtosis=function(){return D===null&&(D=j.moments()),D.exkurtosis},j.moments=function(){var W={};if(this.c>0){var $=R.length,J=I/$,G=q/$,K=H/$,te=z/$,fe=J,Z=q/$-J;m3=K-3*G*J+2*J*J*J,m4=te-3*K*J+6*G*J*J- -3*J*J*J*J,W.average=fe,W.variance=Z,W.standardDeviation=Math.pow(W.variance,.5),$>2&&(W.skew=Math.pow($*($-1),.5)/($-2)*m3/Math.pow(Z,1.5)),Z>0&&(W.exkurtosis=m4/Z/Z-3,W.kurtosis=m4/Z/Z)}return W},j.median=function(){return A},j.q3=function(){if(v.length==1)return v[0];if(v.length==2)return v[0]*.25+v[1]*.75;if(v.length==3)return v[1]*.5+v[2]*.5;if((v.length-1)%4==0){var W=(v.length-1>>2)*3;return v[W]*.75+v[W+1]*.25}if((v.length-3)%4==0){var W=(v.length-3>>2)*3;return v[W+1]*.25+v[W+2]*.75}},j.max=function(){return v[v.length-1]},j.center=function(){return(v[0]+v[v.length-1])/2},j.medianskew=function(){return v[v.length-1]-A-(A-v[0])},j.medianskew_bowleys_coef=function(){return(v[v.length-1]-A)*(A-v[0])/(v[v.length-1]-v[0])},j.mediankurt=function(){var W=Math.round((v.length-1)*.9),$=Math.round((v.length-1)*.1);return(v[v.length-1]-A)*(A-v[0])/(v[W]-v[$])},j.pabovecenter=function(){return N===null&&(N=x(v,(v[0]+v[v.length-1])/2)),(v.length-1-N)/(v.length-1)},j.pbelowcenter=function(){return N===null&&(N=x(v,(v[0]+v[v.length-1])/2)),N/(v.length-1)},j}function h(S,R){var C=[],M=[],v=S,x=0,A=!1,N=R;function I(q,H){for(;C.length!==0&&C[0]<=H-v&&C[0]!=H;)A=C.shift(),x-=M.shift();A===!1&&(A=H-N),C.push(H),M.push(q),x+=q;var z=H-A;return z==0&&(z=N),x/z}return I.setWindowSize=function(q){v=q},I.setUsualIndexSkipBetweenOccations=function(q){N=q},I.reset=function(){C.splice(0,C.length),M.splice(0,M.length),x=0,A=!1},I}function p(S,R){var C=[],M=S,v=R;function x(A){var N=v;return C.length==M&&(N=C.shift()),C.push(A),N}return x.setWindowSize=function(A){M=A},x.setUndefinedValue=function(A){v=R},x.reset=function(A){C.splice(0,C.length)},x}function f(S,R){var C=1,M=S+1,v=R;function x(A){return C==M?A:(C++,v)}return x.setWindowSize=function(A){M=A+1},x.setUndefinedValue=function(A){v=R},x.reset=function(){C=0},x}function y(S,R,C){var M=[],v=[],x=S,A=C;function N(I,q){if(M.push(q),v.push(I),M.length!==0&&M[0]<=q-x)for(M.shift(),A=v.shift();M.length!==0&&M[0]<=q-x;)M.shift(),v.shift();return A}return N.setWindowSize=function(I){x=I},N.setUsualIndexSkipBetweenOccations=function(I){},N.reset=function(){M.splice(0,M.length),v.splice(0,v.length),A=C},N}function m(S){var R=-1;function C(M){return M>0&&(R=0),R>=0&&R++,R>S&&(R=-1),R>0}return C.setWindowSize=function(M){},C.reset=function(){R=-1},C}function w(S){var R=S,C=!1,M=-1;function v(x,A){return x>0&&(C=A,M=0),M>=0&&M++,C!=!1&&C<=A-R&&(M=-1),M>0}return v.setWindowSize=function(x){R=x},v.reset=function(){C=!1,M=-1},v}function _(S){var R=S,C=new Map;function M(v,x=1){var A=parseFloat((Math.round(v*R)/R).toFixed(12));return C.has(A)?C.set(A,parseFloat((C.get(A)+x).toFixed(12))):C.set(A,x),C}return M.hist=C,M.reset=function(){C.clear()},M}function L(S,R){var C=[],M=[],v=S,x=R,A=new Map;function N(I,q=1){if(C.length>=v){var H=C.shift(),z=M.shift(),D=parseFloat((A.get(H)-z).toFixed(12));D!==0?A.set(H,D):A.delete(H)}var j=parseFloat((Math.round(I*x)/x).toFixed(12));return C.push(j),M.push(q),A.has(j)?A.set(j,parseFloat((A.get(j)+q).toFixed(12))):A.set(j,q),A}return N.hist=A,N.setWindowSize=function(I){v=I},N.reset=function(){Sum=0,C.splice(0,C.length)},N}function O(S,R){var C=[],M=[],v=[],x=S,A=R,N=new Map;function I(q,H,z=1){if(!z&&z!==0||!q&&q!==0)return N;for(;C.length!==0&&C[0]<=H-x;){C.shift();var D=M.shift(),j=v.shift();if(!D&&D!==0&&console.log("nana1",{prevamount:j,prevpos:D}),!j&&j!==0&&console.log("nana2",{prevamount:j,prevpos:D}),N.has(D)){var W=parseFloat((N.get(D)-j).toFixed(12));!W&&W!==0&&console.log("nana3",{newamount:W,prevamount:j,prevpos:D}),W!==0?N.set(D,W):N.delete(D)}}var $=parseFloat((Math.round(q*A)/A).toFixed(12));if(M.push($),v.push(z),C.push(H),N.has($)){let J=parseFloat((N.get($)+z).toFixed(12));N.set($,J)}else N.set($,z);return N}return I.hist=N,I.setWindowSize=function(q){x=q},I.reset=function(){C.splice(0,C.length),M.splice(0,M.length),Sum=0},I}var T=e;function P(S,R,C,M,v){var x=[],A=function(Le){return x.push(Le),Le},N=A(T.RollingAvg(S)),I=A(T.RollingAvg(S)),q=A(T.RollingAvg(S)),H=A(T.RollingMedian(S)),z=A(T.RollingAvg(S)),D=A(T.RollingAvg(S)),j=A(T.RollingAvgIndex(C)),W=A(T.RollingAvgIndex(C)),$=A(T.RollingMedianIndex(C)),J=A(T.RollingAvgIndex(C)),G=A(T.RollingAvgIndex(C)),K=A(T.RollingSumPerIndex(C,M)),te=A(T.Delay(R)),fe=A(T.DelayIndex(v,M)),Z=A(T.Delay(R)),he=A(T.DelayIndex(v,M)),ve=!1,De=0,Ie=0;function We(Le,ge){var ue={};ue.median=H(Le),ue.min=H.min(),ue.max=H.max(),ue.q1=H.q1(),ue.q3=H.q3(),ue.avg=H.avg(),ue.stdev=Math.sqrt(I(Math.pow(Le-ue.avg,2))),ue.z=ue.stdev==0?0:(Le-ue.avg)/ue.stdev,ue.zavg=q(ue.z),ue.mstdev=Math.sqrt(z(Math.pow(Le-ue.median,2))),ue.mz=ue.mstdev==0?0:.6745*(Le-ue.median)/ue.mstdev,ue.mzavg=D(ue.mz),ue.tmedian=$(Le,ge),ue.tmin=$.min(),ue.tmax=$.max(),ue.tavg=$.avg(),ue.tcenter=$.center(),ue.tq1=$.q1(),ue.tq3=$.q3(),ue.tsum=K(Le,ge),ue.tstdev=Math.sqrt(W(Math.pow(Le-ue.tavg,2),ge)),ue.tz=ue.tstdev==0?0:(Le-ue.tavg)/ue.tstdev,ue.tzavg=j(ue.tz,ge),ue.tmstdev=Math.sqrt(G(Math.pow(Le-ue.tmedian,2),ge)),ue.tmz=ue.tmstdev==0?0:.6745*(Le-ue.tmedian)/ue.tmstdev,ue.tmzavg=J(ue.tmz,ge),ve===!1&&(ve=ge-M);var Ce=ge-ve;return ve=ge,ue.avgtime=N(Ce),ue.count=De,De++,ue.tcount=Ie,Ie+=Ce,ue.value_delay=te(Le),ue.tvalue_delay=fe(Le,ge),ue.index_delay=Z(ge),ue.tindex_delay=he(ge,ge),ue}return We.reset=function(){for(var Le=0;Le<x.length;Le++)x[Le].reset();ve=!1,De=0},We}function E(S,R){var C=T.RollingMin(S),M=T.RollingMax(S),v=T.RollingAvg(S),x=T.Delay(R);function A(N){var I={};return I.min=C(N),I.max=M(N),I.avg=v(N),I.value_delay=x(N),I}return A.reset=function(){C.reset(),M.reset(),v.reset(),x.reset()},A}function F(S){var R=T.RollingMin(S),C=T.RollingMax(S),M=T.RollingAvg(S);function v(x){var A={};return A.min=R(x),A.max=C(x),A.avg=M(x),A}return v.reset=function(){R.reset(),C.reset(),M.reset()},v}e.RollingMin=t,e.RollingMax=n,e.RollingAvg=r,e.RollingMedian=l,e.RollingMinIndex=o,e.RollingMaxIndex=i,e.RollingAvgIndex=s,e.RollingMedianIndex=c,e.RollingSumPerIndex=h,e.Delay=p,e.DelayIndex=y,e.AllStats=P,e.SimpleStats=E,e.SimpleStatsNoDelay=F,e.PositiveLately=m,e.PositiveLatelyIndex=w,e.Histogram=_,e.RollingHistogram=L,e.RollingHistogramIndex=O,e.HideFirst=f})(ad);let ol;try{ol=new TextDecoder}catch(e){}let Oe,to,se=0;const Og=105,Rg=57342,Ig=57343,ld=57337,cd=6,qo={};let at={},Ot,Us,zs=0,Si=0,jt,Pn,Lt=[],il=[],wn,hn,Mi,ud={useRecords:!1,mapsAsObjects:!0},Ai=!1,dd=2;try{new Function("")}catch(e){dd=1/0}let hd=class Eu{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,o]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,o);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,o]of Object.entries(this._keyMap))this._mapKey.set(o,r)}let n={};return t.forEach((r,o)=>n[Nn(this._mapKey.has(o)?this._mapKey.get(o):o)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(o=>this.decodeKeys(o))}return r}decode(t,n){if(Oe)return yd(()=>(ul(),this?this.decode(t,n):Eu.prototype.decode.call(ud,t,n)));to=n>-1?n:t.length,se=0,Si=0,Us=null,jt=null,Oe=t;try{hn=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw Oe=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Eu){if(at=this,wn=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Ot=this.structures,Ws();(!Ot||Ot.length>0)&&(Ot=[])}else at=ud,(!Ot||Ot.length>0)&&(Ot=[]),wn=null;return Ws()}decodeMultiple(t,n){let r,o=0;try{let i=t.length;Ai=!0;let s=this?this.decode(t,i):hl.decode(t,i);if(n){if(n(s)===!1)return;for(;se<i;)if(o=se,n(Ws())===!1)return}else{for(r=[s];se<i;)o=se,r.push(Ws());return r}}catch(i){throw i.lastPosition=o,i.values=r,i}finally{Ai=!1,ul()}}};function Ws(){try{let e=ct();if(jt){if(se>=jt.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}se=jt.postBundlePosition,jt=null}if(se==to)Ot=null,Oe=null,Pn&&(Pn=null);else if(se>to){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!Ai)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw ul(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function ct(){let e=Oe[se++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=Oe[se++];break;case 25:if(t==7)return Lg();e=hn.getUint16(se),se+=2;break;case 26:if(t==7){let n=hn.getFloat32(se);if(at.useFloat32>2){let r=dl[(Oe[se]&127)<<1|Oe[se+1]>>7];return se+=4,(r*n+(n>0?.5:-.5)>>0)/r}return se+=4,n}e=hn.getUint32(se),se+=4;break;case 27:if(t==7){let n=hn.getFloat64(se);return se+=8,n}if(t>1){if(hn.getUint32(se)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=hn.getUint32(se+4)}else at.int64AsNumber?(e=hn.getUint32(se)*4294967296,e+=hn.getUint32(se+4)):e=hn.getBigUint64(se);se+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,o=0;for(;(r=ct())!=qo;)n[o++]=r;return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let i;if(at.mapsAsObjects){let s={};if(at.keyMap)for(;(i=ct())!=qo;)s[Nn(at.decodeKey(i))]=ct();else for(;(i=ct())!=qo;)s[Nn(i)]=ct();return s}else{Mi&&(at.mapsAsObjects=!0,Mi=!1);let s=new Map;if(at.keyMap)for(;(i=ct())!=qo;)s.set(at.decodeKey(i),ct());else for(;(i=ct())!=qo;)s.set(i,ct());return s}case 7:return qo;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return Dg(e);case 3:if(Si>=se)return Us.slice(se-zs,(se+=e)-zs);if(Si==0&&to<140&&e<32){let o=e<16?fd(e):Ng(e);if(o!=null)return o}return Pg(e);case 4:let n=new Array(e);for(let o=0;o<e;o++)n[o]=ct();return n;case 5:if(at.mapsAsObjects){let o={};if(at.keyMap)for(let i=0;i<e;i++)o[Nn(at.decodeKey(ct()))]=ct();else for(let i=0;i<e;i++)o[Nn(ct())]=ct();return o}else{Mi&&(at.mapsAsObjects=!0,Mi=!1);let o=new Map;if(at.keyMap)for(let i=0;i<e;i++)o.set(at.decodeKey(ct()),ct());else for(let i=0;i<e;i++)o.set(ct(),ct());return o}case 6:if(e>=ld){let o=Ot[e&8191];if(o)return o.read||(o.read=sl(o)),o.read();if(e<65536){if(e==Ig){let i=jo(),s=ct(),a=ct();ll(s,a);let l={};if(at.keyMap)for(let c=2;c<i;c++){let h=at.decodeKey(a[c-2]);l[Nn(h)]=ct()}else for(let c=2;c<i;c++){let h=a[c-2];l[Nn(h)]=ct()}return l}else if(e==Rg){let i=jo(),s=ct();for(let a=2;a<i;a++)ll(s++,ct());return ct()}else if(e==ld)return zg();if(at.getShared&&(cl(),o=Ot[e&8191],o))return o.read||(o.read=sl(o)),o.read()}}let r=Lt[e];if(r)return r.handlesRead?r(ct):r(ct());{let o=ct();for(let i=0;i<il.length;i++){let s=il[i](e,o);if(s!==void 0)return s}return new no(o,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let o=(wn||ro())[e];if(o!==void 0)return o;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let o=new Error("Unexpected end of CBOR data");throw o.incomplete=!0,o}throw new Error("Unknown CBOR token "+e)}}const pd=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function sl(e){function t(){let n=Oe[se++];if(n=n&31,n>23)switch(n){case 24:n=Oe[se++];break;case 25:n=hn.getUint16(se),se+=2;break;case 26:n=hn.getUint32(se),se+=4;break;default:throw new Error("Expected array header, but got "+Oe[se-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(ct);r=r.next}if(this.slowReads++>=dd){let i=this.length==n?this:this.slice(0,n);return r=at.keyMap?new Function("r","return {"+i.map(s=>at.decodeKey(s)).map(s=>pd.test(s)?Nn(s)+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(s=>pd.test(s)?Nn(s)+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(ct)}let o={};if(at.keyMap)for(let i=0;i<n;i++)o[Nn(at.decodeKey(this[i]))]=ct();else for(let i=0;i<n;i++)o[Nn(this[i])]=ct();return o}return e.slowReads=0,t}function Nn(e){if(typeof e=="string")return e==="__proto__"?"__proto_":e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";throw new Error("Invalid property name type "+typeof e)}let Pg=al;function al(e){let t;if(e<16&&(t=fd(e)))return t;if(e>64&&ol)return ol.decode(Oe.subarray(se,se+=e));const n=se+e,r=[];for(t="";se<n;){const o=Oe[se++];if(!(o&128))r.push(o);else if((o&224)===192){const i=Oe[se++]&63;r.push((o&31)<<6|i)}else if((o&240)===224){const i=Oe[se++]&63,s=Oe[se++]&63;r.push((o&31)<<12|i<<6|s)}else if((o&248)===240){const i=Oe[se++]&63,s=Oe[se++]&63,a=Oe[se++]&63;let l=(o&7)<<18|i<<12|s<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(o);r.length>=4096&&(t+=Vt.apply(String,r),r.length=0)}return r.length>0&&(t+=Vt.apply(String,r)),t}let Vt=String.fromCharCode;function Ng(e){let t=se,n=new Array(e);for(let r=0;r<e;r++){const o=Oe[se++];if((o&128)>0){se=t;return}n[r]=o}return Vt.apply(String,n)}function fd(e){if(e<4)if(e<2){if(e===0)return"";{let t=Oe[se++];if((t&128)>1){se-=1;return}return Vt(t)}}else{let t=Oe[se++],n=Oe[se++];if((t&128)>0||(n&128)>0){se-=2;return}if(e<3)return Vt(t,n);let r=Oe[se++];if((r&128)>0){se-=3;return}return Vt(t,n,r)}else{let t=Oe[se++],n=Oe[se++],r=Oe[se++],o=Oe[se++];if((t&128)>0||(n&128)>0||(r&128)>0||(o&128)>0){se-=4;return}if(e<6){if(e===4)return Vt(t,n,r,o);{let i=Oe[se++];if((i&128)>0){se-=5;return}return Vt(t,n,r,o,i)}}else if(e<8){let i=Oe[se++],s=Oe[se++];if((i&128)>0||(s&128)>0){se-=6;return}if(e<7)return Vt(t,n,r,o,i,s);let a=Oe[se++];if((a&128)>0){se-=7;return}return Vt(t,n,r,o,i,s,a)}else{let i=Oe[se++],s=Oe[se++],a=Oe[se++],l=Oe[se++];if((i&128)>0||(s&128)>0||(a&128)>0||(l&128)>0){se-=8;return}if(e<10){if(e===8)return Vt(t,n,r,o,i,s,a,l);{let c=Oe[se++];if((c&128)>0){se-=9;return}return Vt(t,n,r,o,i,s,a,l,c)}}else if(e<12){let c=Oe[se++],h=Oe[se++];if((c&128)>0||(h&128)>0){se-=10;return}if(e<11)return Vt(t,n,r,o,i,s,a,l,c,h);let p=Oe[se++];if((p&128)>0){se-=11;return}return Vt(t,n,r,o,i,s,a,l,c,h,p)}else{let c=Oe[se++],h=Oe[se++],p=Oe[se++],f=Oe[se++];if((c&128)>0||(h&128)>0||(p&128)>0||(f&128)>0){se-=12;return}if(e<14){if(e===12)return Vt(t,n,r,o,i,s,a,l,c,h,p,f);{let y=Oe[se++];if((y&128)>0){se-=13;return}return Vt(t,n,r,o,i,s,a,l,c,h,p,f,y)}}else{let y=Oe[se++],m=Oe[se++];if((y&128)>0||(m&128)>0){se-=14;return}if(e<15)return Vt(t,n,r,o,i,s,a,l,c,h,p,f,y,m);let w=Oe[se++];if((w&128)>0){se-=15;return}return Vt(t,n,r,o,i,s,a,l,c,h,p,f,y,m,w)}}}}}function Dg(e){return at.copyBuffers?Uint8Array.prototype.slice.call(Oe,se,se+=e):Oe.subarray(se,se+=e)}let md=new Float32Array(1),Hs=new Uint8Array(md.buffer,0,4);function Lg(){let e=Oe[se++],t=Oe[se++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return Hs[3]=e&128|(n>>1)+56,Hs[2]=(e&7)<<5|t>>3,Hs[1]=t<<5,Hs[0]=0,md[0]}new Array(4096);class no{constructor(t,n){this.value=t,this.tag=n}}Lt[0]=e=>new Date(e),Lt[1]=e=>new Date(Math.round(e*1e3)),Lt[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+t<<BigInt(8);return t},Lt[3]=e=>BigInt(-1)-Lt[2](e),Lt[4]=e=>+(e[1]+"e"+e[0]),Lt[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const ll=(e,t)=>{e=e-57344;let n=Ot[e];n&&n.isShared&&((Ot.restoreStructures||(Ot.restoreStructures=[]))[e]=n),Ot[e]=t,t.read=sl(t)};Lt[Og]=e=>{let t=e.length,n=e[1];ll(e[0],n);let r={};for(let o=2;o<t;o++){let i=n[o-2];r[Nn(i)]=e[o]}return r},Lt[14]=e=>jt?jt[0].slice(jt.position0,jt.position0+=e):new no(e,14),Lt[15]=e=>jt?jt[1].slice(jt.position1,jt.position1+=e):new no(e,15);let qg={Error,RegExp};Lt[27]=e=>(qg[e[0]]||Error)(e[1],e[2]);const gd=e=>{if(Oe[se++]!=132){let n=new Error("Packed values structure must be followed by a 4 element array");throw Oe.length<se&&(n.incomplete=!0),n}let t=e();if(!t||!t.length){let n=new Error("Packed values structure must be followed by a 4 element array");throw n.incomplete=!0,n}return wn=wn?t.concat(wn.slice(t.length)):t,wn.prefixes=e(),wn.suffixes=e(),e()};gd.handlesRead=!0,Lt[51]=gd,Lt[cd]=e=>{if(!wn)if(at.getShared)cl();else return new no(e,cd);if(typeof e=="number")return wn[16+(e>=0?2*e:-2*e-1)];let t=new Error("No support for non-integer packed references yet");throw e===void 0&&(t.incomplete=!0),t},Lt[28]=e=>{Pn||(Pn=new Map,Pn.id=0);let t=Pn.id++,n=se,r=Oe[se],o;r>>5==4?o=[]:o={};let i={target:o};Pn.set(t,i);let s=e();return i.used?(Object.getPrototypeOf(o)!==Object.getPrototypeOf(s)&&(se=n,o=s,Pn.set(t,{target:o}),s=e()),Object.assign(o,s)):(i.target=s,s)},Lt[28].handlesRead=!0,Lt[29]=e=>{let t=Pn.get(e);return t.used=!0,t.target},Lt[258]=e=>new Set(e),(Lt[259]=e=>(at.mapsAsObjects&&(at.mapsAsObjects=!1,Mi=!0),e())).handlesRead=!0;function Bo(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function ro(){if(!wn)if(at.getShared)cl();else throw new Error("No packed values available");return wn}const Bg=1399353956;il.push((e,t)=>{if(e>=225&&e<=255)return Bo(ro().prefixes[e-224],t);if(e>=28704&&e<=32767)return Bo(ro().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return Bo(ro().prefixes[e-1879048192],t);if(e>=216&&e<=223)return Bo(t,ro().suffixes[e-216]);if(e>=27647&&e<=28671)return Bo(t,ro().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return Bo(t,ro().suffixes[e-1811939328]);if(e==Bg)return{packedValues:wn,structures:Ot.slice(0),version:t};if(e==55799)return t});const jg=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,vd=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],$g=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<vd.length;e++)Ug(vd[e],$g[e]);function Ug(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let o=0;o<2;o++){if(!o&&r==1)continue;let i=r==2?1:r==4?2:r==8?3:0;Lt[o?t:t-4]=r==1||o==jg?s=>{if(!e)throw new Error("Could not find typed array for code "+t);return!at.copyBuffers&&(r===1||r===2&&!(s.byteOffset&1)||r===4&&!(s.byteOffset&3)||r===8&&!(s.byteOffset&7))?new e(s.buffer,s.byteOffset,s.byteLength>>i):new e(Uint8Array.prototype.slice.call(s,0).buffer)}:s=>{if(!e)throw new Error("Could not find typed array for code "+t);let a=new DataView(s.buffer,s.byteOffset,s.byteLength),l=s.length>>i,c=new e(l),h=a[n];for(let p=0;p<l;p++)c[p]=h.call(a,p<<i,o);return c}}}function zg(){let e=jo(),t=se+ct();for(let r=2;r<e;r++){let o=jo();se+=o}let n=se;return se=t,jt=[al(jo()),al(jo())],jt.position0=0,jt.position1=0,jt.postBundlePosition=se,se=n,ct()}function jo(){let e=Oe[se++]&31;if(e>23)switch(e){case 24:e=Oe[se++];break;case 25:e=hn.getUint16(se),se+=2;break;case 26:e=hn.getUint32(se),se+=4;break}return e}function cl(){if(at.getShared){let e=yd(()=>(Oe=null,at.getShared()))||{},t=e.structures||[];at.sharedVersion=e.version,wn=at.sharedValues=e.packedValues,Ot===!0?at.structures=Ot=t:Ot.splice.apply(Ot,[0,t.length].concat(t))}}function yd(e){let t=to,n=se,r=zs,o=Si,i=Us,s=Pn,a=jt,l=new Uint8Array(Oe.slice(0,to)),c=Ot,h=at,p=Ai,f=e();return to=t,se=n,zs=r,Si=o,Us=i,Pn=s,jt=a,Oe=l,Ai=p,Ot=c,at=h,hn=new DataView(Oe.buffer,Oe.byteOffset,Oe.byteLength),f}function ul(){Oe=null,Pn=null,Ot=null}const dl=new Array(147);for(let e=0;e<256;e++)dl[e]=+("1e"+Math.floor(45.15-e*.30103));let hl=new hd({useRecords:!1});const bd=hl.decode;hl.decodeMultiple;let Vs;try{Vs=new TextEncoder}catch(e){}let pl,wd;const Gs=typeof globalThis=="object"&&globalThis.Buffer,Ti=typeof Gs<"u",fl=Ti?Gs.allocUnsafeSlow:Uint8Array,xd=Ti?Gs:Uint8Array,kd=256,Cd=Ti?4294967296:2144337920;let ml,Q,yt,V=0,Pr,$t=null;const Wg=61440,Hg=/[\u0080-\uFFFF]/,_n=Symbol("record-id");let Vg=class extends hd{constructor(e){super(e),this.offset=0;let t,n,r,o,i;e=e||{};let s=xd.prototype.utf8Write?function(x,A,N){return Q.utf8Write(x,A,N)}:Vs&&Vs.encodeInto?function(x,A){return Vs.encodeInto(x,Q.subarray(A)).written}:!1,a=this,l=e.structures||e.saveStructures,c=e.maxSharedStructures;if(c==null&&(c=l?128:0),c>8190)throw new Error("Maximum maxSharedStructure is 8190");let h=e.sequential;h&&(c=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let p,f,y=e.sharedValues,m;if(y){m=Object.create(null);for(let x=0,A=y.length;x<A;x++)m[y[x]]=x}let w=[],_=0,L=0;this.mapEncode=function(x,A){if(this._keyMap&&!this._mapped)switch(x.constructor.name){case"Array":x=x.map(N=>this.encodeKeys(N));break}return this.encode(x,A)},this.encode=function(x,A){if(Q||(Q=new fl(8192),yt=new DataView(Q.buffer,0,8192),V=0),Pr=Q.length-10,Pr-V<2048?(Q=new fl(Q.length),yt=new DataView(Q.buffer,0,Q.length),Pr=Q.length-10,V=0):A===Td&&(V=V+7&2147483640),t=V,a.useSelfDescribedHeader&&(yt.setUint32(V,3654940416),V+=3),i=a.structuredClone?new Map:null,a.bundleStrings&&typeof x!="string"?($t=[],$t.size=1/0):$t=null,n=a.structures,n){if(n.uninitialized){let I=a.getShared()||{};a.structures=n=I.structures||[],a.sharedVersion=I.version;let q=a.sharedValues=I.packedValues;if(q){m={};for(let H=0,z=q.length;H<z;H++)m[q[H]]=H}}let N=n.length;if(N>c&&!h&&(N=c),!n.transitions){n.transitions=Object.create(null);for(let I=0;I<N;I++){let q=n[I];if(!q)continue;let H,z=n.transitions;for(let D=0,j=q.length;D<j;D++){z[_n]===void 0&&(z[_n]=I);let W=q[D];H=z[W],H||(H=z[W]=Object.create(null)),z=H}z[_n]=I|1048576}}h||(n.nextId=N)}if(r&&(r=!1),o=n||[],f=m,e.pack){let N=new Map;if(N.values=[],N.encoder=a,N.maxValues=e.maxPrivatePackedValues||(m?16:1/0),N.objectMap=m||!1,N.samplingPackedValues=p,Xs(x,N),N.values.length>0){Q[V++]=216,Q[V++]=51,er(4);let I=N.values;O(I),er(0),er(0),f=Object.create(m||null);for(let q=0,H=I.length;q<H;q++)f[I[q]]=q}}ml=A&yl;try{if(ml)return;if(O(x),$t&&Ad(t,O),a.offset=V,i&&i.idsToInsert){V+=i.idsToInsert.length*2,V>Pr&&P(V),a.offset=V;let N=Yg(Q.subarray(t,V),i.idsToInsert);return i=null,N}return A&Td?(Q.start=t,Q.end=V,Q):Q.subarray(t,V)}finally{if(n){if(L<10&&L++,n.length>c&&(n.length=c),_>1e4)n.transitions=null,L=0,_=0,w.length>0&&(w=[]);else if(w.length>0&&!h){for(let N=0,I=w.length;N<I;N++)w[N][_n]=void 0;w=[]}}if(r&&a.saveShared){a.structures.length>c&&(a.structures=a.structures.slice(0,c));let N=Q.subarray(t,V);return a.updateSharedData()===!1?a.encode(x):N}A&Zg&&(V=t)}},this.findCommonStringsToPack=()=>(p=new Map,m||(m=Object.create(null)),x=>{let A=x&&x.threshold||4,N=this.pack?x.maxPrivatePackedValues||16:0;y||(y=this.sharedValues=[]);for(let[I,q]of p)q.count>A&&(m[I]=N++,y.push(I),r=!0);for(;this.saveShared&&this.updateSharedData()===!1;);p=null});const O=x=>{V>Pr&&(Q=P(V));var A=typeof x,N;if(A==="string"){if(f){let z=f[x];if(z>=0){z<16?Q[V++]=z+224:(Q[V++]=198,z&1?O(15-z>>1):O(z-16>>1));return}else if(p&&!e.pack){let D=p.get(x);D?D.count++:p.set(x,{count:1})}}let I=x.length;if($t&&I>=4&&I<1024){if(($t.size+=I)>Wg){let D,j=($t[0]?$t[0].length*3+$t[1].length:0)+10;V+j>Pr&&(Q=P(V+j)),Q[V++]=217,Q[V++]=223,Q[V++]=249,Q[V++]=$t.position?132:130,Q[V++]=26,D=V-t,V+=4,$t.position&&Ad(t,O),$t=["",""],$t.size=0,$t.position=D}let z=Hg.test(x);$t[z?0:1]+=x,Q[V++]=z?206:207,O(I);return}let q;I<32?q=1:I<256?q=2:I<65536?q=3:q=5;let H=I*3;if(V+H>Pr&&(Q=P(V+H)),I<64||!s){let z,D,j,W=V+q;for(z=0;z<I;z++)D=x.charCodeAt(z),D<128?Q[W++]=D:D<2048?(Q[W++]=D>>6|192,Q[W++]=D&63|128):(D&64512)===55296&&((j=x.charCodeAt(z+1))&64512)===56320?(D=65536+((D&1023)<<10)+(j&1023),z++,Q[W++]=D>>18|240,Q[W++]=D>>12&63|128,Q[W++]=D>>6&63|128,Q[W++]=D&63|128):(Q[W++]=D>>12|224,Q[W++]=D>>6&63|128,Q[W++]=D&63|128);N=W-V-q}else N=s(x,V+q,H);N<24?Q[V++]=96|N:N<256?(q<2&&Q.copyWithin(V+2,V+1,V+1+N),Q[V++]=120,Q[V++]=N):N<65536?(q<3&&Q.copyWithin(V+3,V+2,V+2+N),Q[V++]=121,Q[V++]=N>>8,Q[V++]=N&255):(q<5&&Q.copyWithin(V+5,V+3,V+3+N),Q[V++]=122,yt.setUint32(V,N),V+=4),V+=N}else if(A==="number")if(!this.alwaysUseFloat&&x>>>0===x)x<24?Q[V++]=x:x<256?(Q[V++]=24,Q[V++]=x):x<65536?(Q[V++]=25,Q[V++]=x>>8,Q[V++]=x&255):(Q[V++]=26,yt.setUint32(V,x),V+=4);else if(!this.alwaysUseFloat&&x>>0===x)x>=-24?Q[V++]=31-x:x>=-256?(Q[V++]=56,Q[V++]=~x):x>=-65536?(Q[V++]=57,yt.setUint16(V,~x),V+=2):(Q[V++]=58,yt.setUint32(V,~x),V+=4);else{let I;if((I=this.useFloat32)>0&&x<4294967296&&x>=-2147483648){Q[V++]=250,yt.setFloat32(V,x);let q;if(I<4||(q=x*dl[(Q[V]&127)<<1|Q[V+1]>>7])>>0===q){V+=4;return}else V--}Q[V++]=251,yt.setFloat64(V,x),V+=8}else if(A==="object")if(!x)Q[V++]=246;else{if(i){let q=i.get(x);if(q){if(Q[V++]=216,Q[V++]=29,Q[V++]=25,!q.references){let H=i.idsToInsert||(i.idsToInsert=[]);q.references=[],H.push(q)}q.references.push(V-t),V+=2;return}else i.set(x,{offset:V-t})}let I=x.constructor;if(I===Object)T(x);else if(I===Array){N=x.length,N<24?Q[V++]=128|N:er(N);for(let q=0;q<N;q++)O(x[q])}else if(I===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(Q[V++]=217,Q[V++]=1,Q[V++]=3),N=x.size,N<24?Q[V++]=160|N:N<256?(Q[V++]=184,Q[V++]=N):N<65536?(Q[V++]=185,Q[V++]=N>>8,Q[V++]=N&255):(Q[V++]=186,yt.setUint32(V,N),V+=4),a.keyMap)for(let[q,H]of x)O(a.encodeKey(q)),O(H);else for(let[q,H]of x)O(q),O(H);else{for(let q=0,H=pl.length;q<H;q++){let z=wd[q];if(x instanceof z){let D=pl[q],j=D.tag;j==null&&(j=D.getTag&&D.getTag.call(this,x)),j<24?Q[V++]=192|j:j<256?(Q[V++]=216,Q[V++]=j):j<65536?(Q[V++]=217,Q[V++]=j>>8,Q[V++]=j&255):j>-1&&(Q[V++]=218,yt.setUint32(V,j),V+=4),D.encode.call(this,x,O,P);return}}if(x[Symbol.iterator]){if(ml){let q=new Error("Iterable should be serialized as iterator");throw q.iteratorNotHandled=!0,q}Q[V++]=159;for(let q of x)O(q);Q[V++]=255;return}if(x[Symbol.asyncIterator]||gl(x)){let q=new Error("Iterable/blob should be serialized as iterator");throw q.iteratorNotHandled=!0,q}if(this.useToJSON&&x.toJSON){const q=x.toJSON();if(q!==x)return O(q)}T(x)}}else if(A==="boolean")Q[V++]=x?245:244;else if(A==="bigint"){if(x<BigInt(1)<<BigInt(64)&&x>=0)Q[V++]=27,yt.setBigUint64(V,x);else if(x>-(BigInt(1)<<BigInt(64))&&x<0)Q[V++]=59,yt.setBigUint64(V,-x-BigInt(1));else if(this.largeBigIntToFloat)Q[V++]=251,yt.setFloat64(V,Number(x));else throw new RangeError(x+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");V+=8}else if(A==="undefined")Q[V++]=247;else throw new Error("Unknown type: "+A)},T=this.useRecords===!1?this.variableMapSize?x=>{let A=Object.keys(x),N=Object.values(x),I=A.length;if(I<24?Q[V++]=160|I:I<256?(Q[V++]=184,Q[V++]=I):I<65536?(Q[V++]=185,Q[V++]=I>>8,Q[V++]=I&255):(Q[V++]=186,yt.setUint32(V,I),V+=4),a.keyMap)for(let q=0;q<I;q++)O(a.encodeKey(A[q])),O(N[q]);else for(let q=0;q<I;q++)O(A[q]),O(N[q])}:x=>{Q[V++]=185;let A=V-t;V+=2;let N=0;if(a.keyMap)for(let I in x)(typeof x.hasOwnProperty!="function"||x.hasOwnProperty(I))&&(O(a.encodeKey(I)),O(x[I]),N++);else for(let I in x)(typeof x.hasOwnProperty!="function"||x.hasOwnProperty(I))&&(O(I),O(x[I]),N++);Q[A+++t]=N>>8,Q[A+t]=N&255}:(x,A)=>{let N,I=o.transitions||(o.transitions=Object.create(null)),q=0,H=0,z,D;if(this.keyMap){D=Object.keys(x).map(W=>this.encodeKey(W)),H=D.length;for(let W=0;W<H;W++){let $=D[W];N=I[$],N||(N=I[$]=Object.create(null),q++),I=N}}else for(let W in x)(typeof x.hasOwnProperty!="function"||x.hasOwnProperty(W))&&(N=I[W],N||(I[_n]&1048576&&(z=I[_n]&65535),N=I[W]=Object.create(null),q++),I=N,H++);let j=I[_n];if(j!==void 0)j&=65535,Q[V++]=217,Q[V++]=j>>8|224,Q[V++]=j&255;else if(D||(D=I.__keys__||(I.__keys__=Object.keys(x))),z===void 0?(j=o.nextId++,j||(j=0,o.nextId=1),j>=kd&&(o.nextId=(j=c)+1)):j=z,o[j]=D,j<c){Q[V++]=217,Q[V++]=j>>8|224,Q[V++]=j&255,I=o.transitions;for(let W=0;W<H;W++)(I[_n]===void 0||I[_n]&1048576)&&(I[_n]=j),I=I[D[W]];I[_n]=j|1048576,r=!0}else{if(I[_n]=j,yt.setUint32(V,3655335680),V+=3,q&&(_+=L*q),w.length>=kd-c&&(w.shift()[_n]=void 0),w.push(I),er(H+2),O(57344+j),O(D),A)return;for(let W in x)(typeof x.hasOwnProperty!="function"||x.hasOwnProperty(W))&&O(x[W]);return}if(H<24?Q[V++]=128|H:er(H),!A)for(let W in x)(typeof x.hasOwnProperty!="function"||x.hasOwnProperty(W))&&O(x[W])},P=x=>{let A;if(x>16777216){if(x-t>Cd)throw new Error("Encoded buffer would be larger than maximum buffer size");A=Math.min(Cd,Math.round(Math.max((x-t)*(x>67108864?1.25:2),4194304)/4096)*4096)}else A=(Math.max(x-t<<2,Q.length-1)>>12)+1<<12;let N=new fl(A);return yt=new DataView(N.buffer,0,A),Q.copy?Q.copy(N,0,t,x):N.set(Q.slice(t,x)),V-=t,t=0,Pr=N.length-10,Q=N};let E=100,F=1e3;this.encodeAsIterable=function(x,A){return M(x,A,S)},this.encodeAsAsyncIterable=function(x,A){return M(x,A,v)};function*S(x,A,N){let I=x.constructor;if(I===Object){let q=a.useRecords!==!1;q?T(x,!0):_d(Object.keys(x).length,160);for(let H in x){let z=x[H];q||O(H),z&&typeof z=="object"?A[H]?yield*S(z,A[H]):yield*R(z,A,H):O(z)}}else if(I===Array){let q=x.length;er(q);for(let H=0;H<q;H++){let z=x[H];z&&(typeof z=="object"||V-t>E)?A.element?yield*S(z,A.element):yield*R(z,A,"element"):O(z)}}else if(x[Symbol.iterator]){Q[V++]=159;for(let q of x)q&&(typeof q=="object"||V-t>E)?A.element?yield*S(q,A.element):yield*R(q,A,"element"):O(q);Q[V++]=255}else gl(x)?(_d(x.size,64),yield Q.subarray(t,V),yield x,C()):x[Symbol.asyncIterator]?(Q[V++]=159,yield Q.subarray(t,V),yield x,C(),Q[V++]=255):O(x);N&&V>t?yield Q.subarray(t,V):V-t>E&&(yield Q.subarray(t,V),C())}function*R(x,A,N){let I=V-t;try{O(x),V-t>E&&(yield Q.subarray(t,V),C())}catch(q){if(q.iteratorNotHandled)A[N]={},V=t+I,yield*S.call(this,x,A[N]);else throw q}}function C(){E=F,a.encode(null,yl)}function M(x,A,N){return A&&A.chunkThreshold?E=F=A.chunkThreshold:E=100,x&&typeof x=="object"?(a.encode(null,yl),N(x,a.iterateProperties||(a.iterateProperties={}),!0)):[a.encode(x)]}async function*v(x,A){for(let N of S(x,A,!0)){let I=N.constructor;if(I===xd||I===Uint8Array)yield N;else if(gl(N)){let q=N.stream().getReader(),H;for(;!(H=await q.read()).done;)yield H.value}else if(N[Symbol.asyncIterator])for await(let q of N)C(),q?yield*v(q,A.async||(A.async={})):yield a.encode(q);else yield N}}}useBuffer(e){Q=e,yt=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),V=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let t=this.structures.slice(0),n=new Sd(t,this.sharedValues,this.sharedVersion),r=this.saveShared(n,o=>(o&&o.version||0)==e);return r===!1?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):t.forEach((o,i)=>this.structures[i]=o),r}};function _d(e,t){e<24?Q[V++]=t|e:e<256?(Q[V++]=t|24,Q[V++]=e):e<65536?(Q[V++]=t|25,Q[V++]=e>>8,Q[V++]=e&255):(Q[V++]=t|26,yt.setUint32(V,e),V+=4)}class Sd{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function er(e){e<24?Q[V++]=128|e:e<256?(Q[V++]=152,Q[V++]=e):e<65536?(Q[V++]=153,Q[V++]=e>>8,Q[V++]=e&255):(Q[V++]=154,yt.setUint32(V,e),V+=4)}const Gg=typeof Blob>"u"?function(){}:Blob;function gl(e){if(e instanceof Gg)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function Xs(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let o=t.samplingPackedValues.get(e);o?o.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,o=e.length;r<o;r++)Xs(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&Xs(n,t),Xs(e[n],t))}break;case"function":console.log(e)}}const Xg=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;wd=[Date,Set,Error,RegExp,no,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,Sd],pl=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(Q[V++]=26,yt.setUint32(V,n),V+=4):(Q[V++]=251,yt.setFloat64(V,n),V+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){Md(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||Ti&&this.tagUint8Array!==!1))return 64},encode(e,t,n){Md(e,n)}},tr(68,1),tr(69,2),tr(70,4),tr(71,8),tr(72,1),tr(77,2),tr(78,4),tr(79,8),tr(85,4),tr(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){Q[V++]=216,Q[V++]=51,er(4);let o=n.values;t(o),er(0),er(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,s=o.length;i<s;i++)packedObjectMap[o[i]]=i}if(r){yt.setUint32(V,3655335424),V+=3;let o=r.slice(0);o.unshift(57344),o.push(new no(e.version,1399353956)),t(o)}else t(new no(e.version,1399353956))}}];function tr(e,t){return!Xg&&t>1&&(e-=4),{tag:e,encode:function(n,r){let o=n.byteLength,i=n.byteOffset||0,s=n.buffer||n;r(Ti?Gs.from(s,i,o):new Uint8Array(s,i,o))}}}function Md(e,t){let n=e.byteLength;n<24?Q[V++]=64+n:n<256?(Q[V++]=88,Q[V++]=n):n<65536?(Q[V++]=89,Q[V++]=n>>8,Q[V++]=n&255):(Q[V++]=90,yt.setUint32(V,n),V+=4),V+n>=Q.length&&t(V+n),Q.set(e.buffer?e:new Uint8Array(e),V),V+=n}function Yg(e,t){let n,r=t.length*2,o=e.length-r;t.sort((i,s)=>i.offset>s.offset?1:-1);for(let i=0;i<t.length;i++){let s=t[i];s.id=i;for(let a of s.references)e[a++]=i>>8,e[a]=i&255}for(;n=t.pop();){let i=n.offset;e.copyWithin(i+r,i,o),r-=2;let s=i+r;e[s++]=216,e[s++]=28,o=i}return e}function Ad(e,t){yt.setUint32($t.position+e,V-$t.position-e+1);let n=$t;$t=null,t(n[0]),t(n[1])}let vl=new Vg({useRecords:!1});vl.encode,vl.encodeAsIterable,vl.encodeAsAsyncIterable;const Td=512,Zg=1024,yl=2048;function St(e,n){var n=n||{};this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}St.prototype.peekAt=function(e){var t=e;if(t===(t|0)){var n=this.size();if(!(t>=n||t<-n))return t<0&&(t+=n),t=this._head+t&this._capacityMask,this._list[t]}},St.prototype.get=function(e){return this.peekAt(e)},St.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},St.prototype.peekFront=function(){return this.peek()},St.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(St.prototype,"length",{get:function(){return this.size()}}),St.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},St.prototype.unshift=function(e){if(arguments.length===0)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},St.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},St.prototype.push=function(e){if(arguments.length===0)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},St.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),n}},St.prototype.removeOne=function(e){var t=e;if(t===(t|0)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(t>=n||t<-n)){t<0&&(t+=n),t=this._head+t&this._capacityMask;var o=this._list[t],i;if(e<n/2){for(i=e;i>0;i--)this._list[t]=this._list[t=t-1+r&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(i=n-1-e;i>0;i--)this._list[t]=this._list[t=t+1+r&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+r&this._capacityMask}return o}}},St.prototype.remove=function(e,t){var n=e,r,o=t;if(n===(n|0)&&this._head!==this._tail){var i=this.size(),s=this._list.length;if(!(n>=i||n<-i||t<1)){if(n<0&&(n+=i),t===1||!t)return r=new Array(1),r[0]=this.removeOne(n),r;if(n===0&&n+t>=i)return r=this.toArray(),this.clear(),r;n+t>i&&(t=i-n);var a;for(r=new Array(t),a=0;a<t;a++)r[a]=this._list[this._head+n+a&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===i){for(this._tail=this._tail-t+s&this._capacityMask,a=t;a>0;a--)this._list[n=n+1+s&this._capacityMask]=void 0;return r}if(e===0){for(this._head=this._head+t+s&this._capacityMask,a=t-1;a>0;a--)this._list[n=n+1+s&this._capacityMask]=void 0;return r}if(n<i/2){for(this._head=this._head+e+t+s&this._capacityMask,a=e;a>0;a--)this.unshift(this._list[n=n-1+s&this._capacityMask]);for(n=this._head-1+s&this._capacityMask;o>0;)this._list[n=n-1+s&this._capacityMask]=void 0,o--;e<0&&(this._tail=n)}else{for(this._tail=n,n=n+t+s&this._capacityMask,a=i-(t+e);a>0;a--)this.push(this._list[n++]);for(n=this._tail;o>0;)this._list[n=n+1+s&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=s>>>2&&this._shrinkArray(),r}}},St.prototype.splice=function(e,t){var n=e;if(n===(n|0)){var r=this.size();if(n<0&&(n+=r),!(n>r))if(arguments.length>2){var o,i,s,a=arguments.length,l=this._list.length,c=2;if(!r||n<r/2){for(i=new Array(n),o=0;o<n;o++)i[o]=this._list[this._head+o&this._capacityMask];for(t===0?(s=[],n>0&&(this._head=this._head+n+l&this._capacityMask)):(s=this.remove(n,t),this._head=this._head+n+l&this._capacityMask);a>c;)this.unshift(arguments[--a]);for(o=n;o>0;o--)this.unshift(i[o-1])}else{i=new Array(r-(n+t));var h=i.length;for(o=0;o<h;o++)i[o]=this._list[this._head+n+t+o&this._capacityMask];for(t===0?(s=[],n!=r&&(this._tail=this._head+n+l&this._capacityMask)):(s=this.remove(n,t),this._tail=this._tail-h+l&this._capacityMask);c<a;)this.push(arguments[c++]);for(o=0;o<h;o++)this.push(i[o])}return s}else return this.remove(n,t)}},St.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},St.prototype.isEmpty=function(){return this._head===this._tail},St.prototype.toArray=function(){return this._copyArray(!1)},St.prototype._fromArray=function(e){var t=e.length,n=this._nextPowerOf2(t);this._list=new Array(n),this._capacityMask=n-1,this._tail=t;for(var r=0;r<t;r++)this._list[r]=e[r]},St.prototype._copyArray=function(e,t){var n=this._list,r=n.length,o=this.length;if(t=t|o,t==o&&this._head<this._tail)return this._list.slice(this._head,this._tail);var i=new Array(t),s=0,a;if(e||this._head>this._tail){for(a=this._head;a<r;a++)i[s++]=n[a];for(a=0;a<this._tail;a++)i[s++]=n[a]}else for(a=this._head;a<this._tail;a++)i[s++]=n[a];return i},St.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},St.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},St.prototype._nextPowerOf2=function(e){var t=Math.log(e)/Math.log(2),n=1<<t+1;return Math.max(n,4)};var Jg=St;const Ed=eo(Jg),Kg=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1})();window.crypto||(window.crypto=window.msCrypto);function Qg(e,t,n,r){switch(e){case"flac":return new rl(nl.Flac,t,n,r);case"opus":return new rl(nl.Opus,t,n,r)}}function ev(e){return e=bd(e),e.data=new Int8Array(e.data),e}class Fd{constructor(){this.decoder=new sd}decode(t){return t=new Uint8Array(t),this.decoder.decode(t).map(ev)}destroy(){this.decoder.free()}}function tv(e){switch(e){case"zstd":return new Fd;case"av1":return new Fd}}async function nv(){let e;Kg?e=await Ps(()=>import("./phantomsdrdsp_bg-DheubLZF.js").then(async t=>(await t.__tla,t)),[]):e=await Ps(()=>import("./phantomsdrdsp_bg_fallback-DJjNVc36.js").then(async t=>(await t.__tla,t)),[]),td(e),e.__wbindgen_start()}const rv={push:function(e){if(typeof e!="number")throw new Error("val must be a number.");return this.sum-=this.data[this.dataI],this.sum+=e,this.data[this.dataI]=e,this.dataI=(this.dataI+1)%this.size,this},get:function(){return this.sum/this.size}};var ov=(e,t=0)=>{if(typeof e!="number")throw new Error("size must be a number.");if(typeof t!="number")throw new Error("fill must be a number.");const n=Object.create(rv);return n.sum=e*t,n.size=e,n.data=new Array(e),n.data.fill(t),n.dataI=0,n};const Od=eo(ov);var iv=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((g,k)=>{r=g,o=k}),["_init_decode","_exec_decode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(g=>{Object.getOwnPropertyDescriptor(n.ready,g)||Object.defineProperty(n.ready,g,{get:()=>ge("You are getting "+g+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>ge("You are setting "+g+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),s=(g,k)=>{throw k},a=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",h=!a&&!c&&!l;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var p="";function f(g){return n.locateFile?n.locateFile(g,p):p+g}var y,m,w;if(c){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var _=process.versions.node,L=_.split(".").slice(0,3);if(L=L[0]*1e4+L[1]*100+L[2].split("-")[0]*1,L<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+_+")");const{createRequire:g}=await Ps(()=>Promise.resolve().then(()=>Xc),void 0);var O=g(import.meta.url),T=O("fs"),P=O("path");l?p=P.dirname(p)+"/":p=O("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),y=(k,U)=>(k=Ke(k)?new URL(k):P.normalize(k),T.readFileSync(k,U?void 0:"utf8")),w=k=>{var U=y(k,!0);return U.buffer||(U=new Uint8Array(U)),v(U.buffer),U},m=(k,U,ee,me=!0)=>{k=Ke(k)?new URL(k):P.normalize(k),T.readFile(k,me?void 0:"utf8",(Ee,xe)=>{Ee?ee(Ee):U(me?xe.buffer:xe)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",k=>{if(k!=="unwind"&&!(k instanceof Pe)&&!(k.context instanceof Pe))throw k}),s=(k,U)=>{throw process.exitCode=k,U},n.inspect=()=>"[Emscripten Module object]"}else if(h){if(typeof process=="object"&&typeof O=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(y=read),w=g=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(g));let k=read(g,"binary");return v(typeof k=="object"),k},m=(g,k,U)=>{setTimeout(()=>k(w(g)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=g=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=g=>typeof g=="function"?g():ge()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(s=(g,k)=>{throw setTimeout(()=>{if(!(k instanceof Pe)){let U=k;k&&typeof k=="object"&&k.stack&&(U=[k,k.stack]),F("exiting due to exception: ".concat(U))}quit(g)}),k}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(a||l){if(l?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p.indexOf("blob:")!==0?p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):p="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");y=g=>{var k=new XMLHttpRequest;return k.open("GET",g,!1),k.send(null),k.responseText},l&&(w=g=>{var k=new XMLHttpRequest;return k.open("GET",g,!1),k.responseType="arraybuffer",k.send(null),new Uint8Array(k.response)}),m=(g,k,U)=>{var ee=new XMLHttpRequest;ee.open("GET",g,!0),ee.responseType="arraybuffer",ee.onload=()=>{if(ee.status==200||ee.status==0&&ee.response){k(ee.response);return}U()},ee.onerror=U,ee.send(null)}}else throw new Error("environment detection error");var E=n.print||console.log.bind(console),F=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,_o(),n.arguments&&n.arguments,ae("arguments","arguments_"),n.thisProgram&&n.thisProgram,ae("thisProgram","thisProgram"),n.quit&&(s=n.quit),ae("quit","quit_"),v(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),v(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),v(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),v(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),v(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),v(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),v(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),v(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),v(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),ae("asm","wasmExports"),ae("read","read_"),ae("readAsync","readAsync"),ae("readBinary","readBinary"),ae("setWindowTitle","setWindowTitle"),v(!h,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var S;n.wasmBinary&&(S=n.wasmBinary),ae("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&ge("no native wasm support detected");var R,C=!1,M;function v(g,k){g||ge("Assertion failed"+(k?": "+k:""))}var x,A,N,I;function q(){var g=R.buffer;n.HEAP8=x=new Int8Array(g),n.HEAP16=new Int16Array(g),n.HEAPU8=A=new Uint8Array(g),n.HEAPU16=new Uint16Array(g),n.HEAP32=N=new Int32Array(g),n.HEAPU32=I=new Uint32Array(g),n.HEAPF32=new Float32Array(g),n.HEAPF64=new Float64Array(g)}v(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),v(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),v(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),v(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function H(){var g=ur();v((g&3)==0),g==0&&(g+=4),I[g>>2]=34821223,I[g+4>>2]=2310721022,I[0]=1668509029}function z(){if(!C){var g=ur();g==0&&(g+=4);var k=I[g>>2],U=I[g+4>>2];(k!=34821223||U!=2310721022)&&ge("Stack overflow! Stack cookie has been overwritten at ".concat(Ne(g),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(Ne(U)," ").concat(Ne(k))),I[0]!=1668509029&&ge("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var g=new Int16Array(1),k=new Int8Array(g.buffer);if(g[0]=25459,k[0]!==115||k[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var D=[],j=[],W=[],$=!1;function J(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)te(n.preRun.shift());ze(D)}function G(){v(!$),$=!0,z(),ze(j)}function K(){if(z(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Z(n.postRun.shift());ze(W)}function te(g){D.unshift(g)}function fe(g){j.unshift(g)}function Z(g){W.unshift(g)}v(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),v(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),v(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),v(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var he=0,ve=null,De=null,Ie={};function We(g){he++,n.monitorRunDependencies&&n.monitorRunDependencies(he),g?(v(!Ie[g]),Ie[g]=1,ve===null&&typeof setInterval<"u"&&(ve=setInterval(()=>{if(C){clearInterval(ve),ve=null;return}var k=!1;for(var U in Ie)k||(k=!0,F("still waiting on run dependencies:")),F("dependency: ".concat(U));k&&F("(end of list)")},1e4))):F("warning: run dependency added without ID")}function Le(g){if(he--,n.monitorRunDependencies&&n.monitorRunDependencies(he),g?(v(Ie[g]),delete Ie[g]):F("warning: run dependency removed without ID"),he==0&&(ve!==null&&(clearInterval(ve),ve=null),De)){var k=De;De=null,k()}}function ge(g){n.onAbort&&n.onAbort(g),g="Aborted("+g+")",F(g),C=!0,M=1,g.indexOf("RuntimeError: unreachable")>=0&&(g+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var k=new WebAssembly.RuntimeError(g);throw o(k),k}var ue={error(){ge("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){ue.error()},createDataFile(){ue.error()},createPreloadedFile(){ue.error()},createLazyFile(){ue.error()},open(){ue.error()},mkdev(){ue.error()},registerDevice(){ue.error()},analyzePath(){ue.error()},ErrnoError(){ue.error()}};n.FS_createDataFile=ue.createDataFile,n.FS_createPreloadedFile=ue.createPreloadedFile;var Ce="data:application/octet-stream;base64,",Ue=g=>g.startsWith(Ce),Ke=g=>g.startsWith("file://");function ye(g){return function(){v($,"native function `".concat(g,"` called before runtime initialization"));var k=it[g];return v(k,"exported native function `".concat(g,"` not found")),k.apply(null,arguments)}}var be;n.locateFile?(be="decode.wasm",Ue(be)||(be=f(be))):be=new URL("/assets/decode-BC3G6QKc.wasm",import.meta.url).href;function rt(g){if(g==be&&S)return new Uint8Array(S);if(w)return w(g);throw"both async and sync fetching of the wasm failed"}function pe(g){if(!S&&(a||l)){if(typeof fetch=="function"&&!Ke(g))return fetch(g,{credentials:"same-origin"}).then(k=>{if(!k.ok)throw"failed to load wasm binary file at '"+g+"'";return k.arrayBuffer()}).catch(()=>rt(g));if(m)return new Promise((k,U)=>{m(g,ee=>k(new Uint8Array(ee)),U)})}return Promise.resolve().then(()=>rt(g))}function Se(g,k,U){return pe(g).then(ee=>WebAssembly.instantiate(ee,k)).then(ee=>ee).then(U,ee=>{F("failed to asynchronously prepare wasm: ".concat(ee)),Ke(be)&&F("warning: Loading from a file URI (".concat(be,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),ge(ee)})}function Te(g,k,U,ee){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!Ue(k)&&!Ke(k)&&!c&&typeof fetch=="function"?fetch(k,{credentials:"same-origin"}).then(me=>{var Ee=WebAssembly.instantiateStreaming(me,U);return Ee.then(ee,function(xe){return F("wasm streaming compile failed: ".concat(xe)),F("falling back to ArrayBuffer instantiation"),Se(k,U,ee)})}):Se(k,U,ee)}function ce(){var g={env:Wt,wasi_snapshot_preview1:Wt};function k(me,Ee){return it=me.exports,it=re.instrumentWasmExports(it),R=it.memory,v(R,"memory not found in wasm exports"),q(),fe(it.__wasm_call_ctors),Le("wasm-instantiate"),it}We("wasm-instantiate");var U=n;function ee(me){v(n===U,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),U=null,k(me.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(g,k)}catch(me){F("Module.instantiateWasm callback failed with error: ".concat(me)),o(me)}return Te(S,be,g,ee).catch(o),{}}function ae(g,k,U=!0){Object.getOwnPropertyDescriptor(n,g)||Object.defineProperty(n,g,{configurable:!0,get(){let ee=U?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";ge("`Module.".concat(g,"` has been replaced by `").concat(k,"`")+ee)}})}function de(g){Object.getOwnPropertyDescriptor(n,g)&&ge("`Module.".concat(g,"` was supplied but `").concat(g,"` not included in INCOMING_MODULE_JS_API"))}function X(g){return g==="FS_createPath"||g==="FS_createDataFile"||g==="FS_createPreloadedFile"||g==="FS_unlink"||g==="addRunDependency"||g==="FS_createLazyFile"||g==="FS_createDevice"||g==="removeRunDependency"}function ke(g,k){typeof globalThis<"u"&&Object.defineProperty(globalThis,g,{configurable:!0,get(){Be("`"+g+"` is not longer defined by emscripten. "+k)}})}ke("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),ke("asm","Please use wasmExports instead");function je(g){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,g)&&Object.defineProperty(globalThis,g,{configurable:!0,get(){var k="`"+g+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",U=g;U.startsWith("_")||(U="$"+g),k+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+U+"')",X(g)&&(k+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Be(k)}}),Qe(g)}function Qe(g){Object.getOwnPropertyDescriptor(n,g)||Object.defineProperty(n,g,{configurable:!0,get(){var k="'"+g+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";X(g)&&(k+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ge(k)}})}function Pe(g){this.name="ExitStatus",this.message="Program terminated with exit(".concat(g,")"),this.status=g}var ze=g=>{for(;g.length>0;)g.shift()(n)},Ae=n.noExitRuntime||!0,Ne=g=>(v(typeof g=="number"),g>>>=0,"0x"+g.toString(16).padStart(8,"0")),Be=g=>{Be.shown||(Be.shown={}),Be.shown[g]||(Be.shown[g]=1,c&&(g="warning: "+g),F(g))},Ze=(g,k,U)=>A.copyWithin(g,k,k+U),Me=()=>2147483648,ot=g=>{var k=R.buffer,U=(g-k.byteLength+65535)/65536;try{return R.grow(U),q(),1}catch(ee){F("growMemory: Attempted to grow heap from ".concat(k.byteLength," bytes to ").concat(g," bytes, but got error: ").concat(ee))}},wt=g=>{var k=A.length;g>>>=0,v(g>k);var U=Me();if(g>U)return F("Cannot enlarge memory, requested ".concat(g," bytes, but the limit is ").concat(U," bytes!")),!1;for(var ee=(nt,Tt)=>nt+(Tt-nt%Tt)%Tt,me=1;me<=4;me*=2){var Ee=k*(1+.2/me);Ee=Math.min(Ee,g+100663296);var xe=Math.min(U,ee(Math.max(g,Ee),65536)),_e=ot(xe);if(_e)return!0}return F("Failed to grow the heap from ".concat(k," bytes to ").concat(xe," bytes, not enough memory!")),!1},pt=0,et=()=>Ae||pt>0,Ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(g,k,U)=>{for(var ee=k+U,me=k;g[me]&&!(me>=ee);)++me;if(me-k>16&&g.buffer&&Ge)return Ge.decode(g.subarray(k,me));for(var Ee="";k<me;){var xe=g[k++];if(!(xe&128)){Ee+=String.fromCharCode(xe);continue}var _e=g[k++]&63;if((xe&224)==192){Ee+=String.fromCharCode((xe&31)<<6|_e);continue}var nt=g[k++]&63;if((xe&240)==224?xe=(xe&15)<<12|_e<<6|nt:((xe&248)!=240&&Be("Invalid UTF-8 leading byte "+Ne(xe)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),xe=(xe&7)<<18|_e<<12|nt<<6|g[k++]&63),xe<65536)Ee+=String.fromCharCode(xe);else{var Tt=xe-65536;Ee+=String.fromCharCode(55296|Tt>>10,56320|Tt&1023)}}return Ee},Jn=(g,k)=>(v(typeof g=="number"),g?Je(A,g,k):""),Ar=g=>{M=g,et()||(n.onExit&&n.onExit(g),C=!0),s(g,new Pe(g))},Zt=(g,k)=>{if(M=g,Er(),et()&&!k){var U="program exited (with status: ".concat(g,"), but keepRuntimeAlive() is set (counter=").concat(pt,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(U),F(U)}Ar(g)},gn=Zt,Tr=g=>{ge("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},jn=(g,k)=>(v(g==g>>>0||g==(g|0)),v(k===(k|0)),k+2097152>>>0<4194305-!!g?(g>>>0)+k*4294967296:NaN);function cn(g,k,U,ee,me){return jn(k,U),70}var un=[null,[],[]],At=(g,k)=>{var U=un[g];v(U),k===0||k===10?((g===1?E:F)(Je(U,0)),U.length=0):U.push(k)},En=()=>{en(0),un[1].length&&At(1,10),un[2].length&&At(2,10)},$n=(g,k,U,ee)=>{for(var me=0,Ee=0;Ee<U;Ee++){var xe=I[k>>2],_e=I[k+4>>2];k+=8;for(var nt=0;nt<_e;nt++)At(g,A[xe+nt]);me+=_e}return I[ee>>2]=me,0},Jt=g=>{try{return g()}catch(k){ge(k)}},ht=g=>{if(g instanceof Pe||g=="unwind")return M;z(),g instanceof WebAssembly.RuntimeError&&Mo()<=0&&F("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),s(1,g)},It=()=>{if(!et())try{gn(M)}catch(g){ht(g)}},tt=g=>{if(C){F("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{g(),It()}catch(k){ht(k)}},ft=()=>{pt+=1},pi=()=>{v(pt>0),pt-=1},re={instrumentWasmImports(g){var k=/^(_exec_decode|invoke_.*|__asyncjs__.*)$/;for(var U in g)(function(ee){var me=g[ee];if(me.sig,typeof me=="function"){var Ee=me.isAsync||k.test(ee);g[ee]=function(){var xe=re.state;try{return me.apply(null,arguments)}finally{var _e=xe===re.State.Normal&&re.state===re.State.Disabled,nt=ee.startsWith("invoke_")&&!0;if(re.state!==xe&&!Ee&&!_e&&!nt)throw new Error("import ".concat(ee," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(U)},instrumentWasmExports(g){var k={};for(var U in g)(function(ee){var me=g[ee];typeof me=="function"?k[ee]=function(){re.exportCallStack.push(ee);try{return me.apply(null,arguments)}finally{if(!C){var Ee=re.exportCallStack.pop();v(Ee===ee),re.maybeStopUnwind()}}}:k[ee]=me})(U);return k},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(g){var k=re.callStackNameToId[g];return k===void 0&&(k=re.callStackId++,re.callStackNameToId[g]=k,re.callStackIdToName[k]=g),k},maybeStopUnwind(){re.currData&&re.state===re.State.Unwinding&&re.exportCallStack.length===0&&(re.state=re.State.Normal,Jt(Ye),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return v(re.currData,"Tried to wait for an async operation when none is in progress."),v(!re.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((g,k)=>{re.asyncPromiseHandlers={resolve:g,reject:k}})},allocateData(){var g=Kt(12+re.StackSize);return re.setDataHeader(g,g+12,re.StackSize),re.setDataRewindFunc(g),g},setDataHeader(g,k,U){I[g>>2]=k,I[g+4>>2]=k+U},setDataRewindFunc(g){var k=re.exportCallStack[0],U=re.getCallStackId(k);N[g+8>>2]=U},getDataRewindFunc(g){var k=N[g+8>>2],U=re.callStackIdToName[k],ee=it[U];return ee},doRewind(g){var k=re.getDataRewindFunc(g);return k()},handleSleep(g){if(v(re.state!==re.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!C){if(re.state===re.State.Normal){var k=!1,U=!1;g((ee=0)=>{if(v(!ee||typeof ee=="number"||typeof ee=="boolean"),!C&&(re.handleSleepReturnValue=ee,k=!0,!!U)){v(!re.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),re.state=re.State.Rewinding,Jt(()=>Nt(re.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var me,Ee=!1;try{me=re.doRewind(re.currData)}catch(nt){me=nt,Ee=!0}var xe=!1;if(!re.currData){var _e=re.asyncPromiseHandlers;_e&&(re.asyncPromiseHandlers=null,(Ee?_e.reject:_e.resolve)(me),xe=!0)}if(Ee&&!xe)throw me}}),U=!0,k||(re.state=re.State.Unwinding,re.currData=re.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),Jt(()=>Fe(re.currData)))}else re.state===re.State.Rewinding?(re.state=re.State.Normal,Jt(Fn),Qt(re.currData),re.currData=null,re.sleepCallbacks.forEach(ee=>tt(ee))):ge("invalid state: ".concat(re.state));return re.handleSleepReturnValue}},handleAsync(g){return re.handleSleep(k=>{g().then(k)})}},gs=g=>{var k=n["_"+g];return v(k,"Cannot call unknown function "+g+", make sure it is exported"),k},vs=(g,k)=>{v(g.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),x.set(g,k)},Vr=g=>{for(var k=0,U=0;U<g.length;++U){var ee=g.charCodeAt(U);ee<=127?k++:ee<=2047?k+=2:ee>=55296&&ee<=57343?(k+=4,++U):k+=3}return k},Pt=(g,k,U,ee)=>{if(v(typeof g=="string"),!(ee>0))return 0;for(var me=U,Ee=U+ee-1,xe=0;xe<g.length;++xe){var _e=g.charCodeAt(xe);if(_e>=55296&&_e<=57343){var nt=g.charCodeAt(++xe);_e=65536+((_e&1023)<<10)|nt&1023}if(_e<=127){if(U>=Ee)break;k[U++]=_e}else if(_e<=2047){if(U+1>=Ee)break;k[U++]=192|_e>>6,k[U++]=128|_e&63}else if(_e<=65535){if(U+2>=Ee)break;k[U++]=224|_e>>12,k[U++]=128|_e>>6&63,k[U++]=128|_e&63}else{if(U+3>=Ee)break;_e>1114111&&Be("Invalid Unicode code point "+Ne(_e)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),k[U++]=240|_e>>18,k[U++]=128|_e>>12&63,k[U++]=128|_e>>6&63,k[U++]=128|_e&63}}return k[U]=0,U-me},ys=(g,k,U)=>(v(typeof U=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Pt(g,A,k,U)),Co=g=>{var k=Vr(g)+1,U=Ct(k);return ys(g,U,k),U},vn=(g,k,U,ee,me)=>{var Ee={string:xt=>{var Kn=0;return xt!=null&&xt!==0&&(Kn=Co(xt)),Kn},array:xt=>{var Kn=Ct(xt.length);return vs(xt,Kn),Kn}};function xe(xt){return k==="string"?Jn(xt):k==="boolean"?!!xt:xt}var _e=gs(g),nt=[],Tt=0;if(v(k!=="array",'Return type should not be "array".'),ee)for(var yn=0;yn<ee.length;yn++){var xs=Ee[U[yn]];xs?(Tt===0&&(Tt=ws()),nt[yn]=xs(ee[yn])):nt[yn]=ee[yn]}var Ao=re.currData,Fr=_e.apply(null,nt);function ks(xt){return pi(),Tt!==0&&fi(Tt),xe(xt)}var Cs=me&&me.async;return ft(),re.currData!=Ao?(v(!(Ao&&re.currData),"We cannot start an async operation when one is already flight"),v(!(Ao&&!re.currData),"We cannot stop an async operation in flight"),v(Cs,"The call to "+g+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),re.whenDone().then(ks)):(Fr=ks(Fr),Cs?Promise.resolve(Fr):Fr)},bs=(g,k,U,ee)=>function(){return vn(g,k,U,arguments,ee)};function _o(){de("fetchSettings")}var Wt={emscripten_memcpy_js:Ze,emscripten_resize_heap:wt,exit:gn,fd_close:Tr,fd_seek:cn,fd_write:$n};re.instrumentWasmImports(Wt);var it=ce();n._exec_decode=ye("exec_decode"),n._init_decode=ye("init_decode");var Kt=n._malloc=ye("malloc"),Qt=n._free=ye("free"),en=n._fflush=ye("fflush"),So=()=>(So=it.emscripten_stack_init)(),ur=()=>(ur=it.emscripten_stack_get_end)(),ws=ye("stackSave"),fi=ye("stackRestore"),Ct=ye("stackAlloc"),Mo=()=>(Mo=it.emscripten_stack_get_current)();n.dynCall_iii=ye("dynCall_iii"),n.dynCall_iidiiii=ye("dynCall_iidiiii"),n.dynCall_vii=ye("dynCall_vii"),n.dynCall_iiii=ye("dynCall_iiii"),n.dynCall_ii=ye("dynCall_ii"),n.dynCall_jiji=ye("dynCall_jiji");var Fe=ye("asyncify_start_unwind"),Ye=ye("asyncify_stop_unwind"),Nt=ye("asyncify_start_rewind"),Fn=ye("asyncify_stop_rewind");n.cwrap=bs;var Gr=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];Gr.forEach(je);var mi=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];mi.forEach(Qe);var Un;De=function g(){Un||Yr(),Un||(De=g)};function Xr(){So(),H()}function Yr(){if(he>0||(Xr(),J(),he>0))return;function g(){Un||(Un=!0,n.calledRun=!0,!C&&(G(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),v(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),K()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),g()},1)):g(),z()}function Er(){var g=E,k=F,U=!1;E=F=ee=>{U=!0};try{En()}catch(ee){}E=g,F=k,U&&(Be("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Be("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Yr(),t.ready}})();const $o=await iv(),sv=$o.cwrap("init_decode","number",[],[]),av=$o.cwrap("exec_decode","number",["number","number"],{async:!0}),Rd=2048,Id=$o._malloc(Rd),lv=sv(),cv=async e=>{const t=$o._malloc(e.length*e.BYTES_PER_ELEMENT);$o.HEAPF32.set(e,t/e.BYTES_PER_ELEMENT),await av(lv,t,Id);const n=new Uint8Array($o.HEAPU8.buffer,Id,Rd);return new TextDecoder("utf8").decode(n).replaceAll("\0","").trim().split("\n").filter(r=>r.length>0).map(r=>{const o=r.split(",");return{db:Number(o[0]),dt:Number(o[1]),df:Number(o[2]),text:o[3]}})};var uv=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((g,k)=>{r=g,o=k}),["_exec_encode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(g=>{Object.getOwnPropertyDescriptor(n.ready,g)||Object.defineProperty(n.ready,g,{get:()=>ge("You are getting "+g+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>ge("You are setting "+g+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),s=(g,k)=>{throw k},a=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",h=!a&&!c&&!l;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var p="";function f(g){return n.locateFile?n.locateFile(g,p):p+g}var y,m,w;if(c){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var _=process.versions.node,L=_.split(".").slice(0,3);if(L=L[0]*1e4+L[1]*100+L[2].split("-")[0]*1,L<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+_+")");const{createRequire:g}=await Ps(()=>Promise.resolve().then(()=>Xc),void 0);var O=g(import.meta.url),T=O("fs"),P=O("path");l?p=P.dirname(p)+"/":p=O("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),y=(k,U)=>(k=Ke(k)?new URL(k):P.normalize(k),T.readFileSync(k,U?void 0:"utf8")),w=k=>{var U=y(k,!0);return U.buffer||(U=new Uint8Array(U)),v(U.buffer),U},m=(k,U,ee,me=!0)=>{k=Ke(k)?new URL(k):P.normalize(k),T.readFile(k,me?void 0:"utf8",(Ee,xe)=>{Ee?ee(Ee):U(me?xe.buffer:xe)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",k=>{if(k!=="unwind"&&!(k instanceof Pe)&&!(k.context instanceof Pe))throw k}),s=(k,U)=>{throw process.exitCode=k,U},n.inspect=()=>"[Emscripten Module object]"}else if(h){if(typeof process=="object"&&typeof O=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(y=read),w=g=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(g));let k=read(g,"binary");return v(typeof k=="object"),k},m=(g,k,U)=>{setTimeout(()=>k(w(g)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=g=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=g=>typeof g=="function"?g():ge()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(s=(g,k)=>{throw setTimeout(()=>{if(!(k instanceof Pe)){let U=k;k&&typeof k=="object"&&k.stack&&(U=[k,k.stack]),F("exiting due to exception: ".concat(U))}quit(g)}),k}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(a||l){if(l?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p.indexOf("blob:")!==0?p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):p="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");y=g=>{var k=new XMLHttpRequest;return k.open("GET",g,!1),k.send(null),k.responseText},l&&(w=g=>{var k=new XMLHttpRequest;return k.open("GET",g,!1),k.responseType="arraybuffer",k.send(null),new Uint8Array(k.response)}),m=(g,k,U)=>{var ee=new XMLHttpRequest;ee.open("GET",g,!0),ee.responseType="arraybuffer",ee.onload=()=>{if(ee.status==200||ee.status==0&&ee.response){k(ee.response);return}U()},ee.onerror=U,ee.send(null)}}else throw new Error("environment detection error");var E=n.print||console.log.bind(console),F=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,_o(),n.arguments&&n.arguments,ae("arguments","arguments_"),n.thisProgram&&n.thisProgram,ae("thisProgram","thisProgram"),n.quit&&(s=n.quit),ae("quit","quit_"),v(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),v(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),v(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),v(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),v(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),v(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),v(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),v(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),v(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),ae("asm","wasmExports"),ae("read","read_"),ae("readAsync","readAsync"),ae("readBinary","readBinary"),ae("setWindowTitle","setWindowTitle"),v(!h,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var S;n.wasmBinary&&(S=n.wasmBinary),ae("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&ge("no native wasm support detected");var R,C=!1,M;function v(g,k){g||ge("Assertion failed"+(k?": "+k:""))}var x,A,N,I;function q(){var g=R.buffer;n.HEAP8=x=new Int8Array(g),n.HEAP16=new Int16Array(g),n.HEAPU8=A=new Uint8Array(g),n.HEAPU16=new Uint16Array(g),n.HEAP32=N=new Int32Array(g),n.HEAPU32=I=new Uint32Array(g),n.HEAPF32=new Float32Array(g),n.HEAPF64=new Float64Array(g)}v(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),v(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),v(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),v(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function H(){var g=ur();v((g&3)==0),g==0&&(g+=4),I[g>>2]=34821223,I[g+4>>2]=2310721022,I[0]=1668509029}function z(){if(!C){var g=ur();g==0&&(g+=4);var k=I[g>>2],U=I[g+4>>2];(k!=34821223||U!=2310721022)&&ge("Stack overflow! Stack cookie has been overwritten at ".concat(Ne(g),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(Ne(U)," ").concat(Ne(k))),I[0]!=1668509029&&ge("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var g=new Int16Array(1),k=new Int8Array(g.buffer);if(g[0]=25459,k[0]!==115||k[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var D=[],j=[],W=[],$=!1;function J(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)te(n.preRun.shift());ze(D)}function G(){v(!$),$=!0,z(),ze(j)}function K(){if(z(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Z(n.postRun.shift());ze(W)}function te(g){D.unshift(g)}function fe(g){j.unshift(g)}function Z(g){W.unshift(g)}v(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),v(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),v(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),v(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var he=0,ve=null,De=null,Ie={};function We(g){he++,n.monitorRunDependencies&&n.monitorRunDependencies(he),g?(v(!Ie[g]),Ie[g]=1,ve===null&&typeof setInterval<"u"&&(ve=setInterval(()=>{if(C){clearInterval(ve),ve=null;return}var k=!1;for(var U in Ie)k||(k=!0,F("still waiting on run dependencies:")),F("dependency: ".concat(U));k&&F("(end of list)")},1e4))):F("warning: run dependency added without ID")}function Le(g){if(he--,n.monitorRunDependencies&&n.monitorRunDependencies(he),g?(v(Ie[g]),delete Ie[g]):F("warning: run dependency removed without ID"),he==0&&(ve!==null&&(clearInterval(ve),ve=null),De)){var k=De;De=null,k()}}function ge(g){n.onAbort&&n.onAbort(g),g="Aborted("+g+")",F(g),C=!0,M=1,g.indexOf("RuntimeError: unreachable")>=0&&(g+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var k=new WebAssembly.RuntimeError(g);throw o(k),k}var ue={error(){ge("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){ue.error()},createDataFile(){ue.error()},createPreloadedFile(){ue.error()},createLazyFile(){ue.error()},open(){ue.error()},mkdev(){ue.error()},registerDevice(){ue.error()},analyzePath(){ue.error()},ErrnoError(){ue.error()}};n.FS_createDataFile=ue.createDataFile,n.FS_createPreloadedFile=ue.createPreloadedFile;var Ce="data:application/octet-stream;base64,",Ue=g=>g.startsWith(Ce),Ke=g=>g.startsWith("file://");function ye(g){return function(){v($,"native function `".concat(g,"` called before runtime initialization"));var k=it[g];return v(k,"exported native function `".concat(g,"` not found")),k.apply(null,arguments)}}var be;n.locateFile?(be="encode.wasm",Ue(be)||(be=f(be))):be=new URL("/assets/encode-Boqet107.wasm",import.meta.url).href;function rt(g){if(g==be&&S)return new Uint8Array(S);if(w)return w(g);throw"both async and sync fetching of the wasm failed"}function pe(g){if(!S&&(a||l)){if(typeof fetch=="function"&&!Ke(g))return fetch(g,{credentials:"same-origin"}).then(k=>{if(!k.ok)throw"failed to load wasm binary file at '"+g+"'";return k.arrayBuffer()}).catch(()=>rt(g));if(m)return new Promise((k,U)=>{m(g,ee=>k(new Uint8Array(ee)),U)})}return Promise.resolve().then(()=>rt(g))}function Se(g,k,U){return pe(g).then(ee=>WebAssembly.instantiate(ee,k)).then(ee=>ee).then(U,ee=>{F("failed to asynchronously prepare wasm: ".concat(ee)),Ke(be)&&F("warning: Loading from a file URI (".concat(be,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),ge(ee)})}function Te(g,k,U,ee){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!Ue(k)&&!Ke(k)&&!c&&typeof fetch=="function"?fetch(k,{credentials:"same-origin"}).then(me=>{var Ee=WebAssembly.instantiateStreaming(me,U);return Ee.then(ee,function(xe){return F("wasm streaming compile failed: ".concat(xe)),F("falling back to ArrayBuffer instantiation"),Se(k,U,ee)})}):Se(k,U,ee)}function ce(){var g={env:Wt,wasi_snapshot_preview1:Wt};function k(me,Ee){return it=me.exports,it=re.instrumentWasmExports(it),R=it.memory,v(R,"memory not found in wasm exports"),q(),fe(it.__wasm_call_ctors),Le("wasm-instantiate"),it}We("wasm-instantiate");var U=n;function ee(me){v(n===U,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),U=null,k(me.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(g,k)}catch(me){F("Module.instantiateWasm callback failed with error: ".concat(me)),o(me)}return Te(S,be,g,ee).catch(o),{}}function ae(g,k,U=!0){Object.getOwnPropertyDescriptor(n,g)||Object.defineProperty(n,g,{configurable:!0,get(){let ee=U?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";ge("`Module.".concat(g,"` has been replaced by `").concat(k,"`")+ee)}})}function de(g){Object.getOwnPropertyDescriptor(n,g)&&ge("`Module.".concat(g,"` was supplied but `").concat(g,"` not included in INCOMING_MODULE_JS_API"))}function X(g){return g==="FS_createPath"||g==="FS_createDataFile"||g==="FS_createPreloadedFile"||g==="FS_unlink"||g==="addRunDependency"||g==="FS_createLazyFile"||g==="FS_createDevice"||g==="removeRunDependency"}function ke(g,k){typeof globalThis<"u"&&Object.defineProperty(globalThis,g,{configurable:!0,get(){Be("`"+g+"` is not longer defined by emscripten. "+k)}})}ke("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),ke("asm","Please use wasmExports instead");function je(g){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,g)&&Object.defineProperty(globalThis,g,{configurable:!0,get(){var k="`"+g+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",U=g;U.startsWith("_")||(U="$"+g),k+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+U+"')",X(g)&&(k+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Be(k)}}),Qe(g)}function Qe(g){Object.getOwnPropertyDescriptor(n,g)||Object.defineProperty(n,g,{configurable:!0,get(){var k="'"+g+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";X(g)&&(k+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ge(k)}})}function Pe(g){this.name="ExitStatus",this.message="Program terminated with exit(".concat(g,")"),this.status=g}var ze=g=>{for(;g.length>0;)g.shift()(n)},Ae=n.noExitRuntime||!0,Ne=g=>(v(typeof g=="number"),g>>>=0,"0x"+g.toString(16).padStart(8,"0")),Be=g=>{Be.shown||(Be.shown={}),Be.shown[g]||(Be.shown[g]=1,c&&(g="warning: "+g),F(g))},Ze=(g,k,U)=>A.copyWithin(g,k,k+U),Me=()=>2147483648,ot=g=>{var k=R.buffer,U=(g-k.byteLength+65535)/65536;try{return R.grow(U),q(),1}catch(ee){F("growMemory: Attempted to grow heap from ".concat(k.byteLength," bytes to ").concat(g," bytes, but got error: ").concat(ee))}},wt=g=>{var k=A.length;g>>>=0,v(g>k);var U=Me();if(g>U)return F("Cannot enlarge memory, requested ".concat(g," bytes, but the limit is ").concat(U," bytes!")),!1;for(var ee=(nt,Tt)=>nt+(Tt-nt%Tt)%Tt,me=1;me<=4;me*=2){var Ee=k*(1+.2/me);Ee=Math.min(Ee,g+100663296);var xe=Math.min(U,ee(Math.max(g,Ee),65536)),_e=ot(xe);if(_e)return!0}return F("Failed to grow the heap from ".concat(k," bytes to ").concat(xe," bytes, not enough memory!")),!1},pt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(g,k,U)=>{for(var ee=k+U,me=k;g[me]&&!(me>=ee);)++me;if(me-k>16&&g.buffer&&pt)return pt.decode(g.subarray(k,me));for(var Ee="";k<me;){var xe=g[k++];if(!(xe&128)){Ee+=String.fromCharCode(xe);continue}var _e=g[k++]&63;if((xe&224)==192){Ee+=String.fromCharCode((xe&31)<<6|_e);continue}var nt=g[k++]&63;if((xe&240)==224?xe=(xe&15)<<12|_e<<6|nt:((xe&248)!=240&&Be("Invalid UTF-8 leading byte "+Ne(xe)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),xe=(xe&7)<<18|_e<<12|nt<<6|g[k++]&63),xe<65536)Ee+=String.fromCharCode(xe);else{var Tt=xe-65536;Ee+=String.fromCharCode(55296|Tt>>10,56320|Tt&1023)}}return Ee},Ge=(g,k)=>(v(typeof g=="number"),g?et(A,g,k):""),Je=g=>{ge("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Jn=(g,k)=>(v(g==g>>>0||g==(g|0)),v(k===(k|0)),k+2097152>>>0<4194305-!!g?(g>>>0)+k*4294967296:NaN);function Ar(g,k,U,ee,me){return Jn(k,U),70}var Zt=[null,[],[]],gn=(g,k)=>{var U=Zt[g];v(U),k===0||k===10?((g===1?E:F)(et(U,0)),U.length=0):U.push(k)},Tr=()=>{Kt(0),Zt[1].length&&gn(1,10),Zt[2].length&&gn(2,10)},jn=(g,k,U,ee)=>{for(var me=0,Ee=0;Ee<U;Ee++){var xe=I[k>>2],_e=I[k+4>>2];k+=8;for(var nt=0;nt<_e;nt++)gn(g,A[xe+nt]);me+=_e}return I[ee>>2]=me,0},cn=g=>{try{return g()}catch(k){ge(k)}},un=g=>{if(g instanceof Pe||g=="unwind")return M;z(),g instanceof WebAssembly.RuntimeError&&Mo()<=0&&F("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 2097152)"),s(1,g)},At=0,En=()=>Ae||At>0,$n=g=>{M=g,En()||(n.onExit&&n.onExit(g),C=!0),s(g,new Pe(g))},Jt=(g,k)=>{if(M=g,Er(),En()&&!k){var U="program exited (with status: ".concat(g,"), but keepRuntimeAlive() is set (counter=").concat(At,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(U),F(U)}$n(g)},ht=Jt,It=()=>{if(!En())try{ht(M)}catch(g){un(g)}},tt=g=>{if(C){F("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{g(),It()}catch(k){un(k)}},ft=()=>{At+=1},pi=()=>{v(At>0),At-=1},re={instrumentWasmImports(g){var k=/^(_exec_encode|invoke_.*|__asyncjs__.*)$/;for(var U in g)(function(ee){var me=g[ee];if(me.sig,typeof me=="function"){var Ee=me.isAsync||k.test(ee);g[ee]=function(){var xe=re.state;try{return me.apply(null,arguments)}finally{var _e=xe===re.State.Normal&&re.state===re.State.Disabled,nt=ee.startsWith("invoke_")&&!0;if(re.state!==xe&&!Ee&&!_e&&!nt)throw new Error("import ".concat(ee," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(U)},instrumentWasmExports(g){var k={};for(var U in g)(function(ee){var me=g[ee];typeof me=="function"?k[ee]=function(){re.exportCallStack.push(ee);try{return me.apply(null,arguments)}finally{if(!C){var Ee=re.exportCallStack.pop();v(Ee===ee),re.maybeStopUnwind()}}}:k[ee]=me})(U);return k},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(g){var k=re.callStackNameToId[g];return k===void 0&&(k=re.callStackId++,re.callStackNameToId[g]=k,re.callStackIdToName[k]=g),k},maybeStopUnwind(){re.currData&&re.state===re.State.Unwinding&&re.exportCallStack.length===0&&(re.state=re.State.Normal,cn(Ye),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return v(re.currData,"Tried to wait for an async operation when none is in progress."),v(!re.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((g,k)=>{re.asyncPromiseHandlers={resolve:g,reject:k}})},allocateData(){var g=Qt(12+re.StackSize);return re.setDataHeader(g,g+12,re.StackSize),re.setDataRewindFunc(g),g},setDataHeader(g,k,U){I[g>>2]=k,I[g+4>>2]=k+U},setDataRewindFunc(g){var k=re.exportCallStack[0],U=re.getCallStackId(k);N[g+8>>2]=U},getDataRewindFunc(g){var k=N[g+8>>2],U=re.callStackIdToName[k],ee=it[U];return ee},doRewind(g){var k=re.getDataRewindFunc(g);return k()},handleSleep(g){if(v(re.state!==re.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!C){if(re.state===re.State.Normal){var k=!1,U=!1;g((ee=0)=>{if(v(!ee||typeof ee=="number"||typeof ee=="boolean"),!C&&(re.handleSleepReturnValue=ee,k=!0,!!U)){v(!re.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),re.state=re.State.Rewinding,cn(()=>Nt(re.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var me,Ee=!1;try{me=re.doRewind(re.currData)}catch(nt){me=nt,Ee=!0}var xe=!1;if(!re.currData){var _e=re.asyncPromiseHandlers;_e&&(re.asyncPromiseHandlers=null,(Ee?_e.reject:_e.resolve)(me),xe=!0)}if(Ee&&!xe)throw me}}),U=!0,k||(re.state=re.State.Unwinding,re.currData=re.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),cn(()=>Fe(re.currData)))}else re.state===re.State.Rewinding?(re.state=re.State.Normal,cn(Fn),en(re.currData),re.currData=null,re.sleepCallbacks.forEach(ee=>tt(ee))):ge("invalid state: ".concat(re.state));return re.handleSleepReturnValue}},handleAsync(g){return re.handleSleep(k=>{g().then(k)})}},gs=g=>{var k=n["_"+g];return v(k,"Cannot call unknown function "+g+", make sure it is exported"),k},vs=(g,k)=>{v(g.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),x.set(g,k)},Vr=g=>{for(var k=0,U=0;U<g.length;++U){var ee=g.charCodeAt(U);ee<=127?k++:ee<=2047?k+=2:ee>=55296&&ee<=57343?(k+=4,++U):k+=3}return k},Pt=(g,k,U,ee)=>{if(v(typeof g=="string"),!(ee>0))return 0;for(var me=U,Ee=U+ee-1,xe=0;xe<g.length;++xe){var _e=g.charCodeAt(xe);if(_e>=55296&&_e<=57343){var nt=g.charCodeAt(++xe);_e=65536+((_e&1023)<<10)|nt&1023}if(_e<=127){if(U>=Ee)break;k[U++]=_e}else if(_e<=2047){if(U+1>=Ee)break;k[U++]=192|_e>>6,k[U++]=128|_e&63}else if(_e<=65535){if(U+2>=Ee)break;k[U++]=224|_e>>12,k[U++]=128|_e>>6&63,k[U++]=128|_e&63}else{if(U+3>=Ee)break;_e>1114111&&Be("Invalid Unicode code point "+Ne(_e)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),k[U++]=240|_e>>18,k[U++]=128|_e>>12&63,k[U++]=128|_e>>6&63,k[U++]=128|_e&63}}return k[U]=0,U-me},ys=(g,k,U)=>(v(typeof U=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Pt(g,A,k,U)),Co=g=>{var k=Vr(g)+1,U=Ct(k);return ys(g,U,k),U},vn=(g,k,U,ee,me)=>{var Ee={string:xt=>{var Kn=0;return xt!=null&&xt!==0&&(Kn=Co(xt)),Kn},array:xt=>{var Kn=Ct(xt.length);return vs(xt,Kn),Kn}};function xe(xt){return k==="string"?Ge(xt):k==="boolean"?!!xt:xt}var _e=gs(g),nt=[],Tt=0;if(v(k!=="array",'Return type should not be "array".'),ee)for(var yn=0;yn<ee.length;yn++){var xs=Ee[U[yn]];xs?(Tt===0&&(Tt=ws()),nt[yn]=xs(ee[yn])):nt[yn]=ee[yn]}var Ao=re.currData,Fr=_e.apply(null,nt);function ks(xt){return pi(),Tt!==0&&fi(Tt),xe(xt)}var Cs=me&&me.async;return ft(),re.currData!=Ao?(v(!(Ao&&re.currData),"We cannot start an async operation when one is already flight"),v(!(Ao&&!re.currData),"We cannot stop an async operation in flight"),v(Cs,"The call to "+g+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),re.whenDone().then(ks)):(Fr=ks(Fr),Cs?Promise.resolve(Fr):Fr)},bs=(g,k,U,ee)=>function(){return vn(g,k,U,arguments,ee)};function _o(){de("fetchSettings")}var Wt={emscripten_memcpy_js:Ze,emscripten_resize_heap:wt,fd_close:Je,fd_seek:Ar,fd_write:jn};re.instrumentWasmImports(Wt);var it=ce();n._exec_encode=ye("exec_encode");var Kt=n._fflush=ye("fflush"),Qt=n._malloc=ye("malloc"),en=n._free=ye("free"),So=()=>(So=it.emscripten_stack_init)(),ur=()=>(ur=it.emscripten_stack_get_end)(),ws=ye("stackSave"),fi=ye("stackRestore"),Ct=ye("stackAlloc"),Mo=()=>(Mo=it.emscripten_stack_get_current)();n.dynCall_iidiiii=ye("dynCall_iidiiii"),n.dynCall_vii=ye("dynCall_vii"),n.dynCall_ii=ye("dynCall_ii"),n.dynCall_iiii=ye("dynCall_iiii"),n.dynCall_jiji=ye("dynCall_jiji");var Fe=ye("asyncify_start_unwind"),Ye=ye("asyncify_stop_unwind"),Nt=ye("asyncify_start_rewind"),Fn=ye("asyncify_stop_rewind");n.cwrap=bs;var Gr=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];Gr.forEach(je);var mi=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];mi.forEach(Qe);var Un;De=function g(){Un||Yr(),Un||(De=g)};function Xr(){So(),H()}function Yr(){if(he>0||(Xr(),J(),he>0))return;function g(){Un||(Un=!0,n.calledRun=!0,!C&&(G(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),v(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),K()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),g()},1)):g(),z()}function Er(){var g=E,k=F,U=!1;E=F=ee=>{U=!0};try{Tr()}catch(ee){}E=g,F=k,U&&(Be("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Be("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Yr(),t.ready}})();(await uv()).cwrap("exec_encode","number",["string","number","number"],{async:!0});const Pd=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),Nd=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),bl=(e,t)=>({startTime:t,type:"setValue",value:e}),Dd=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),Ld=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),Uo=e=>e.type==="exponentialRampToValue",Ys=e=>e.type==="linearRampToValue",Nr=e=>Uo(e)||Ys(e),wl=e=>e.type==="setValue",vr=e=>e.type==="setValueCurve",Zs=(e,t,n,r)=>{const o=e[t];return o===void 0?r:Nr(o)||wl(o)?o.value:vr(o)?o.values[o.values.length-1]:Ld(n,Zs(e,t-1,o.startTime,r),o)},qd=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:Nr(n)?[n.endTime,n.value]:wl(n)?[n.startTime,n.value]:vr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Zs(e,t-1,n.startTime,o)],xl=e=>e.type==="cancelAndHold",kl=e=>e.type==="cancelScheduledValues",Dr=e=>xl(e)||kl(e)?e.cancelTime:Uo(e)||Ys(e)?e.endTime:e.startTime,Bd=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,jd=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),dv=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},hv=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return dv(r,o)},Js=e=>e.type==="setTarget";class pv{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=Dr(t);if(xl(t)||kl(t)){const r=this._automationEvents.findIndex(i=>kl(t)&&vr(i)?i.startTime+i.duration>=n:Dr(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),xl(t)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Nr(o)){if(i!==void 0&&Js(i))throw new Error("The internal list is malformed.");const s=i===void 0?o.insertTime:vr(i)?i.startTime+i.duration:Dr(i),a=i===void 0?this._defaultValue:vr(i)?i.values[i.values.length-1]:i.value,l=Uo(o)?Bd(n,s,a,o):jd(n,s,a,o),c=Uo(o)?Pd(l,n,this._currenTime):Nd(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&Js(i)&&this._automationEvents.push(bl(this.getValue(n),n)),i!==void 0&&vr(i)&&i.startTime+i.duration>n){const s=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(s*a)),c=s/(l-1)*a,h=i.values.slice(0,l);if(c<1)for(let p=1;p<l;p+=1){const f=c*p%1;h[p]=i.values[p-1]*(1-f)+i.values[p]*f}this._automationEvents[this._automationEvents.length-1]=Dd(h,i.startTime,s)}}}else{const r=this._automationEvents.findIndex(s=>Dr(s)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&vr(o)&&Dr(o)+o.duration>n)return!1;const i=Uo(t)?Pd(t.value,t.endTime,this._currenTime):Ys(t)?Nd(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(i);else{if(vr(t)&&n+t.duration>Dr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>Dr(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];Js(o)&&r.unshift(bl(Zs(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(s=>Dr(s)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&Js(i)&&(r===void 0||!Nr(r)||r.insertTime>t))return Ld(t,Zs(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&wl(i)&&(r===void 0||!Nr(r)))return i.value;if(i!==void 0&&vr(i)&&(r===void 0||!Nr(r)||i.startTime+i.duration>t))return t<i.startTime+i.duration?hv(t,i):i.values[i.values.length-1];if(i!==void 0&&Nr(i)&&(r===void 0||!Nr(r)))return i.value;if(r!==void 0&&Uo(r)){const[s,a]=qd(this._automationEvents,o,i,r,this._defaultValue);return Bd(t,s,a,r)}if(r!==void 0&&Ys(r)){const[s,a]=qd(this._automationEvents,o,i,r,this._defaultValue);return jd(t,s,a,r)}return this._defaultValue}}const fv=e=>({cancelTime:e,type:"cancelAndHold"}),mv=e=>({cancelTime:e,type:"cancelScheduledValues"}),gv=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),vv=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),yv=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),bv=()=>new DOMException("","AbortError"),wv=e=>(t,n,[r,o,i],s)=>{e(t[o],[n,r,i],a=>a[0]===n&&a[1]===r,s)},xv=e=>(t,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},kv=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},zo=new WeakSet,$d=new WeakMap,Ud=new WeakMap,zd=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,Cl=new WeakMap,Gd=new WeakMap,Xd={construct(){return Xd}},Cv=e=>{try{const t=new Proxy(e,Xd);new t}catch(t){return!1}return!0},Yd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Zd=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(Yd);for(;o!==null;){const i=o[1].slice(1,-1),s=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,t).toString());n.push(s),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Yd)}return[n.join(";"),r]},Jd=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Kd=e=>{if(!Cv(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},_v=(e,t,n,r,o,i,s,a,l,c,h,p,f)=>{let y=0;return(m,w,_={credentials:"omit"})=>{const L=h.get(m);if(L!==void 0&&L.has(w))return Promise.resolve();const O=c.get(m);if(O!==void 0){const E=O.get(w);if(E!==void 0)return E}const T=i(m),P=T.audioWorklet===void 0?o(w).then(([E,F])=>{const[S,R]=Zd(E,F),C="".concat(S,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(R,"\n})})(window,'_AWGS')");return n(C)}).then(()=>{const E=f._AWGS.pop();if(E===void 0)throw new SyntaxError;r(T.currentTime,T.sampleRate,()=>E(class{},void 0,(F,S)=>{if(F.trim()==="")throw t();const R=Gd.get(T);if(R!==void 0){if(R.has(F))throw t();Kd(S),Jd(S.parameterDescriptors),R.set(F,S)}else Kd(S),Jd(S.parameterDescriptors),Gd.set(T,new Map([[F,S]]))},T.sampleRate,void 0,void 0))}):Promise.all([o(w),Promise.resolve(e(p,p))]).then(([[E,F],S])=>{const R=y+1;y=R;const[C,M]=Zd(E,F),v="".concat(C,";((AudioWorkletProcessor,registerProcessor)=>{").concat(M,"\n})(").concat(S?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",",(n,p)=>registerProcessor(n,class extends p{").concat(S?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));","process(i,o,p){").concat(S?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));","return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(R,"',class extends AudioWorkletProcessor{process(){return !1}})"),x=new Blob([v],{type:"application/javascript; charset=utf-8"}),A=URL.createObjectURL(x);return T.audioWorklet.addModule(A,_).then(()=>{if(a(T))return T;const N=s(T);return N.audioWorklet.addModule(A,_).then(()=>N)}).then(N=>{if(l===null)throw new SyntaxError;try{new l(N,"__sac".concat(R))}catch(I){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(A))});return O===void 0?c.set(m,new Map([[w,P]])):O.set(w,P),P.then(()=>{const E=h.get(m);E===void 0?h.set(m,new Set([w])):E.add(w)}).finally(()=>{const E=c.get(m);E!==void 0&&E.delete(w)}),P}},Lr=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Ks=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},Qd=(e,t,n,r)=>{const o=Lr(e,t),i=Ks(o,s=>s[0]===n&&s[1]===r);return o.size===0&&e.delete(t),i},Ei=e=>Lr(Vd,e),Wo=e=>{if(zo.has(e))throw new Error("The AudioNode is already stored.");zo.add(e),Ei(e).forEach(t=>t(!0))},eh=e=>"port"in e,Fi=e=>{if(!zo.has(e))throw new Error("The AudioNode is not stored.");zo.delete(e),Ei(e).forEach(t=>t(!1))},_l=(e,t)=>{!eh(e)&&t.every(n=>n.size===0)&&Fi(e)},Sv=(e,t,n,r,o,i,s,a,l,c,h,p,f)=>{const y=new WeakMap;return(m,w,_,L,O)=>{const{activeInputs:T,passiveInputs:P}=i(w),{outputs:E}=i(m),F=a(m),S=R=>{const C=l(w),M=l(m);if(R){const v=Qd(P,m,_,L);e(T,m,v,!1),!O&&!p(m)&&n(M,C,_,L),f(w)&&Wo(w)}else{const v=r(T,m,_,L);t(P,L,v,!1),!O&&!p(m)&&o(M,C,_,L);const x=s(w);if(x===0)h(w)&&_l(w,T);else{const A=y.get(w);A!==void 0&&clearTimeout(A),y.set(w,setTimeout(()=>{h(w)&&_l(w,T)},x*1e3))}}};return c(E,[w,_,L],R=>R[0]===w&&R[1]===_&&R[2]===L,!0)?(F.add(S),h(m)?e(T,m,[_,L,S],!0):t(P,L,[m,_,S],!0),!0):!1}},Mv=e=>(t,n,[r,o,i],s)=>{const a=t.get(r);a===void 0?t.set(r,new Set([[o,n,i]])):e(a,[o,n,i],l=>l[0]===o&&l[1]===n,s)},Av=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Tv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Ev=(e,t,n,r,o,i)=>class extends e{constructor(s,a){const l=o(s),c={...Tv,...a},h=r(l,c),p=i(l)?t():null;super(s,!1,h,p),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(s){this._nativeAnalyserNode.fftSize=s}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(s){const a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=s,!(s>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(s){const a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=s,!(this._nativeAnalyserNode.maxDecibels>s))throw this._nativeAnalyserNode.minDecibels=a,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(s){this._nativeAnalyserNode.smoothingTimeConstant=s}getByteFrequencyData(s){this._nativeAnalyserNode.getByteFrequencyData(s)}getByteTimeDomainData(s){this._nativeAnalyserNode.getByteTimeDomainData(s)}getFloatFrequencyData(s){this._nativeAnalyserNode.getFloatFrequencyData(s)}getFloatTimeDomainData(s){this._nativeAnalyserNode.getFloatTimeDomainData(s)}},pn=(e,t)=>e.context===t,Fv=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=t(i);if(!pn(a,s)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=e(s,l)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},Sl=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch(t){return!1}return!0},oo=()=>new DOMException("","IndexSizeError"),th=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?oo():r}})(e.getChannelData)},Ov={numberOfChannels:1},Rv=(e,t,n,r,o,i,s,a)=>{let l=null;return class km{constructor(h){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:p,numberOfChannels:f,sampleRate:y}={...Ov,...h};l===null&&(l=new o(1,1,44100));const m=r!==null&&t(i,i)?new r({length:p,numberOfChannels:f,sampleRate:y}):l.createBuffer(f,p,y);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(s(m),th(m)):t(Sl,()=>Sl(m))||a(m),e.add(m),m}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===km.prototype||e.has(h)}}},Sn=-3402823466385289e23,xn=-Sn,yr=e=>zo.has(e),Iv={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Pv=(e,t,n,r,o,i,s,a)=>class extends e{constructor(l,c){const h=i(l),p={...Iv,...c},f=o(h,p),y=s(h),m=y?t():null;super(l,!1,f,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,y,f.playbackRate,xn,Sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?l:h}get playbackRate(){return this._playbackRate}start(l=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(l,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[l,c]:[l,c,h]),this.context.state!=="closed"){Wo(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),yr(this)&&Fi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},Nv=(e,t,n,r,o)=>()=>{const i=new WeakMap;let s=null,a=null;const l=async(c,h)=>{let p=n(c);const f=pn(p,h);if(!f){const y={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value};p=t(h,y),s!==null&&p.start(...s),a!==null&&p.stop(a)}return i.set(h,p),f?await e(h,c.playbackRate,p.playbackRate):await r(h,c.playbackRate,p.playbackRate),await o(c,h,p),p};return{set start(c){s=c},set stop(c){a=c},render(c,h){const p=i.get(h);return p!==void 0?Promise.resolve(p):l(c,h)}}},Dv=e=>"playbackRate"in e,Lv=e=>"frequency"in e&&"gain"in e,qv=e=>"offset"in e,Bv=e=>!("frequency"in e)&&"gain"in e,jv=e=>"detune"in e&&"frequency"in e,$v=e=>"pan"in e,Mn=e=>Lr($d,e),Oi=e=>Lr(zd,e),Ml=(e,t)=>{const{activeInputs:n}=Mn(e);n.forEach(o=>o.forEach(([i])=>{t.includes(e)||Ml(i,[...t,e])}));const r=Dv(e)?[e.playbackRate]:eh(e)?Array.from(e.parameters.values()):Lv(e)?[e.Q,e.detune,e.frequency,e.gain]:qv(e)?[e.offset]:Bv(e)?[e.gain]:jv(e)?[e.detune,e.frequency]:$v(e)?[e.pan]:[];for(const o of r){const i=Oi(o);i!==void 0&&i.activeInputs.forEach(([s])=>Ml(s,t))}yr(e)&&Fi(e)},Uv=e=>{Ml(e.destination,[])},zv=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),Wv=(e,t,n,r,o,i,s,a,l)=>class extends e{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(y){throw y.code===12&&y.message==="sampleRate is not in range"?n():y}if(h===null)throw r();if(!zv(c.latencyHint))throw new TypeError("The provided value '".concat(c.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:p}=c,{sampleRate:f}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:p==="balanced"?512/f:p==="interactive"||p===void 0?256/f:p==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(p*f/128)))*128/f,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const y=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",y)};h.addEventListener("statechange",y)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Uv(this)}))}createMediaElementSource(c){return new o(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new s(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?t():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?t():c})}},Hv=(e,t,n,r,o,i,s,a)=>class extends e{constructor(l,c){const h=i(l),p=s(h),f=o(h,c,p),y=p?t(a):null;super(l,!1,f,y),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Vv=e=>{const t=new WeakMap,n=async(r,o)=>{const i=o.destination;return t.set(o,i),await e(r,o,i),i};return{render(r,o){const i=t.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},Gv=(e,t,n,r,o,i,s,a)=>(l,c)=>{const h=c.listener,p=()=>{const E=new Float32Array(1),F=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),S=s(c);let R=!1,C=[0,0,-1,0,1,0],M=[0,0,0];const v=()=>{if(R)return;R=!0;const I=r(c,256,9,0);I.onaudioprocess=({inputBuffer:q})=>{const H=[i(q,E,0),i(q,E,1),i(q,E,2),i(q,E,3),i(q,E,4),i(q,E,5)];H.some((D,j)=>D!==C[j])&&(h.setOrientation(...H),C=H);const z=[i(q,E,6),i(q,E,7),i(q,E,8)];z.some((D,j)=>D!==M[j])&&(h.setPosition(...z),M=z)},F.connect(I)},x=I=>q=>{q!==C[I]&&(C[I]=q,h.setOrientation(...C))},A=I=>q=>{q!==M[I]&&(M[I]=q,h.setPosition(...M))},N=(I,q,H)=>{const z=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:q});z.connect(F,0,I),z.start(),Object.defineProperty(z.offset,"defaultValue",{get(){return q}});const D=e({context:l},S,z.offset,xn,Sn);return a(D,"value",j=>()=>j.call(D),j=>W=>{try{j.call(D,W)}catch($){if($.code!==9)throw $}v(),S&&H(W)}),D.cancelAndHoldAtTime=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.cancelAndHoldAtTime),D.cancelScheduledValues=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.cancelScheduledValues),D.exponentialRampToValueAtTime=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.exponentialRampToValueAtTime),D.linearRampToValueAtTime=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.linearRampToValueAtTime),D.setTargetAtTime=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.setTargetAtTime),D.setValueAtTime=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.setValueAtTime),D.setValueCurveAtTime=(j=>S?()=>{throw o()}:(...W)=>{const $=j.apply(D,W);return v(),$})(D.setValueCurveAtTime),D};return{forwardX:N(0,0,x(0)),forwardY:N(1,0,x(1)),forwardZ:N(2,-1,x(2)),positionX:N(6,0,A(0)),positionY:N(7,0,A(1)),positionZ:N(8,0,A(2)),upX:N(3,0,x(3)),upY:N(4,1,x(4)),upZ:N(5,0,x(5))}},{forwardX:f,forwardY:y,forwardZ:m,positionX:w,positionY:_,positionZ:L,upX:O,upY:T,upZ:P}=h.forwardX===void 0?p():h;return{get forwardX(){return f},get forwardY(){return y},get forwardZ(){return m},get positionX(){return w},get positionY(){return _},get positionZ(){return L},get upX(){return O},get upY(){return T},get upZ(){return P}}},Qs=e=>"context"in e,Ri=e=>Qs(e[0]),io=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},nh=(e,t,[n,r],o)=>{io(e,[t,n,r],i=>i[0]===t&&i[1]===n,o)},rh=(e,[t,n,r],o)=>{const i=e.get(t);i===void 0?e.set(t,new Set([[n,r]])):io(i,[n,r],s=>s[0]===n,o)},Ho=e=>"inputs"in e,ea=(e,t,n,r)=>{if(Ho(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},oh=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},Xv=(e,t,n)=>Ks(e,r=>r[0]===t&&r[1]===n),ih=(e,t)=>{if(!Ei(e).delete(t))throw new Error("Missing the expected event listener.")},sh=(e,t,n)=>{const r=Lr(e,t),o=Ks(r,i=>i[0]===n);return r.size===0&&e.delete(t),o},ta=(e,t,n,r)=>{Ho(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Mt=e=>Lr(Ud,e),Ii=e=>Lr(Wd,e),so=e=>Cl.has(e),na=e=>!zo.has(e),ah=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),i=e.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const a=e.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(e.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,h=>h===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(e.destination)},a.start()}}),Al=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>t(o,r))},lh=e=>"context"in e,Yv=e=>{const t=new Map;e.connect=(n=>(r,o=0,i=0)=>{const s=lh(r)?n(r,o,i):n(r,o),a=t.get(r);return a===void 0?t.set(r,[{input:i,output:o}]):a.every(l=>l.input!==i||l.output!==o)&&a.push({input:i,output:o}),s})(e.connect.bind(e)),e.disconnect=(n=>(r,o,i)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[s,a]of t){const l=a.filter(c=>c.output!==r);l.length===0?t.delete(s):t.set(s,l)}else if(t.has(r))if(o===void 0)t.delete(r);else{const s=t.get(r);if(s!==void 0){const a=s.filter(l=>l.output!==o&&(l.input!==i||i===void 0));a.length===0?t.delete(r):t.set(r,a)}}for(const[s,a]of t)a.forEach(l=>{lh(s)?e.connect(s,l.output,l.input):e.connect(s,l.output)})})(e.disconnect)},Zv=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=Oi(t),{outputs:s}=Mn(e),a=Ei(e),l=c=>{const h=Mt(e),p=Ii(t);if(c){const f=sh(i,e,n);nh(o,e,f,!1),!r&&!so(e)&&h.connect(p,n)}else{const f=Xv(o,e,n);rh(i,f,!1),!r&&!so(e)&&h.disconnect(p,n)}};return io(s,[t,n],c=>c[0]===t&&c[1]===n,!0)?(a.add(l),yr(e)?nh(o,e,[n,l],!0):rh(i,[e,n,l],!0),!0):!1},Jv=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=Mn(t),s=oh(o[r],e,n);return s===null?[Qd(i,e,n,r)[2],!1]:[s[2],!0]},Kv=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=Oi(t),i=oh(r,e,n);return i===null?[sh(o,e,n)[1],!1]:[i[2],!0]},Tl=(e,t,n,r,o)=>{const[i,s]=Jv(e,n,r,o);if(i!==null&&(ih(e,i),s&&!t&&!so(e)&&ta(Mt(e),Mt(n),r,o)),yr(n)){const{activeInputs:a}=Mn(n);_l(n,a)}},El=(e,t,n,r)=>{const[o,i]=Kv(e,n,r);o!==null&&(ih(e,o),i&&!t&&!so(e)&&Mt(e).disconnect(Ii(n),r))},Qv=(e,t)=>{const n=Mn(e),r=[];for(const o of n.outputs)Ri(o)?Tl(e,t,...o):El(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},e2=(e,t,n)=>{const r=Mn(e),o=[];for(const i of r.outputs)i[1]===n&&(Ri(i)?Tl(e,t,...i):El(e,t,...i),o.push(i[0]),r.outputs.delete(i));return o},t2=(e,t,n,r,o)=>{const i=Mn(e);return Array.from(i.outputs).filter(s=>s[0]===n&&(r===void 0||s[1]===r)&&(o===void 0||s[2]===o)).map(s=>(Ri(s)?Tl(e,t,...s):El(e,t,...s),i.outputs.delete(s),s[0]))},n2=(e,t,n,r,o,i,s,a,l,c,h,p,f,y,m,w)=>class extends c{constructor(_,L,O,T){super(O),this._context=_,this._nativeAudioNode=O;const P=h(_);p(P)&&n(ah,()=>ah(P,w))!==!0&&Yv(O),Ud.set(this,O),Vd.set(this,new Set),_.state!=="closed"&&L&&Wo(this),e(this,T,O)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,L=0,O=0){if(L<0||L>=this._nativeAudioNode.numberOfOutputs)throw o();const T=h(this._context),P=m(T);if(f(_)||y(_))throw i();if(Qs(_)){const F=Mt(_);try{const S=ea(this._nativeAudioNode,F,L,O),R=na(this);(P||R)&&this._nativeAudioNode.disconnect(...S),this.context.state!=="closed"&&!R&&na(_)&&Wo(_)}catch(S){throw S.code===12?i():S}if(t(this,_,L,O,P)){const S=l([this],_);Al(S,r(P))}return _}const E=Ii(_);if(E.name==="playbackRate"&&E.maxValue===1024)throw s();try{this._nativeAudioNode.connect(E,L),(P||na(this))&&this._nativeAudioNode.disconnect(E,L)}catch(F){throw F.code===12?i():F}if(Zv(this,_,L,P)){const F=l([this],_);Al(F,r(P))}}disconnect(_,L,O){let T;const P=h(this._context),E=m(P);if(_===void 0)T=Qv(this,E);else if(typeof _=="number"){if(_<0||_>=this.numberOfOutputs)throw o();T=e2(this,E,_)}else{if(L!==void 0&&(L<0||L>=this.numberOfOutputs)||Qs(_)&&O!==void 0&&(O<0||O>=_.numberOfInputs))throw o();if(T=t2(this,E,_,L,O),T.length===0)throw i()}for(const F of T){const S=l([this],F);Al(S,a)}}},r2=(e,t,n,r,o,i,s,a,l,c,h,p,f)=>(y,m,w,_=null,L=null)=>{const O=w.value,T=new pv(O),P=m?r(T):null,E={get defaultValue(){return O},get maxValue(){return _===null?w.maxValue:_},get minValue(){return L===null?w.minValue:L},get value(){return w.value},set value(F){w.value=F,E.setValueAtTime(F,y.context.currentTime)},cancelAndHoldAtTime(F){if(typeof w.cancelAndHoldAtTime=="function")P===null&&T.flush(y.context.currentTime),T.add(o(F)),w.cancelAndHoldAtTime(F);else{const S=Array.from(T).pop();P===null&&T.flush(y.context.currentTime),T.add(o(F));const R=Array.from(T).pop();w.cancelScheduledValues(F),S!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?w.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?w.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?w.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&w.setValueCurveAtTime(R.values,R.startTime,R.duration))}return E},cancelScheduledValues(F){return P===null&&T.flush(y.context.currentTime),T.add(i(F)),w.cancelScheduledValues(F),E},exponentialRampToValueAtTime(F,S){if(F===0)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;const R=y.context.currentTime;return P===null&&T.flush(R),Array.from(T).length===0&&(T.add(c(O,R)),w.setValueAtTime(O,R)),T.add(s(F,S)),w.exponentialRampToValueAtTime(F,S),E},linearRampToValueAtTime(F,S){const R=y.context.currentTime;return P===null&&T.flush(R),Array.from(T).length===0&&(T.add(c(O,R)),w.setValueAtTime(O,R)),T.add(a(F,S)),w.linearRampToValueAtTime(F,S),E},setTargetAtTime(F,S,R){return P===null&&T.flush(y.context.currentTime),T.add(l(F,S,R)),w.setTargetAtTime(F,S,R),E},setValueAtTime(F,S){return P===null&&T.flush(y.context.currentTime),T.add(c(F,S)),w.setValueAtTime(F,S),E},setValueCurveAtTime(F,S,R){const C=F instanceof Float32Array?F:new Float32Array(F);if(p!==null&&p.name==="webkitAudioContext"){const M=S+R,v=y.context.sampleRate,x=Math.ceil(S*v),A=Math.floor(M*v),N=A-x,I=new Float32Array(N);for(let H=0;H<N;H+=1){const z=(C.length-1)/R*((x+H)/v-S),D=Math.floor(z),j=Math.ceil(z);I[H]=D===j?C[D]:(1-(z-D))*C[D]+(1-(j-z))*C[j]}P===null&&T.flush(y.context.currentTime),T.add(h(I,S,R)),w.setValueCurveAtTime(I,S,R);const q=A/v;q<M&&f(E,I[I.length-1],q),f(E,C[C.length-1],M)}else P===null&&T.flush(y.context.currentTime),T.add(h(C,S,R)),w.setValueCurveAtTime(C,S,R);return E}};return n.set(E,w),t.set(E,y),e(E,P),E},o2=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;t.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;t.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}}),i2=(e,t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T)=>class extends m{constructor(P,E){super(P,E),this._nativeContext=P,this._audioWorklet=e===void 0?void 0:{addModule:(F,S)=>e(this,F,S)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(P,E,F){return new n({length:E,numberOfChannels:P,sampleRate:F})}createBufferSource(){return new r(this)}createChannelMerger(P=6){return new i(this,{numberOfInputs:P})}createChannelSplitter(P=6){return new s(this,{numberOfOutputs:P})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(P=1){return new h(this,{maxDelayTime:P})}createDynamicsCompressor(){return new p(this)}createGain(){return new f(this)}createIIRFilter(P,E){return new y(this,{feedback:E,feedforward:P})}createOscillator(){return new w(this)}createPanner(){return new _(this)}createPeriodicWave(P,E,F={disableNormalization:!1}){return new L(this,{...F,imag:E,real:P})}createStereoPanner(){return new O(this)}createWaveShaper(){return new T(this)}decodeAudioData(P,E,F){return c(this._nativeContext,P).then(S=>(typeof E=="function"&&E(S),S),S=>{throw typeof F=="function"&&F(S),S})}},s2={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},a2=(e,t,n,r,o,i,s,a)=>class extends e{constructor(l,c){const h=i(l),p={...s2,...c},f=o(h,p),y=s(h),m=y?n():null;super(l,!1,f,m),this._Q=t(this,y,f.Q,xn,Sn),this._detune=t(this,y,f.detune,1200*Math.log2(xn),-1200*Math.log2(xn)),this._frequency=t(this,y,f.frequency,l.sampleRate/2,0),this._gain=t(this,y,f.gain,40*Math.log10(xn),Sn),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,c,h)}catch(p){throw p.code===11?r():p}if(l.length!==c.length||c.length!==h.length)throw r()}},l2=(e,t,n,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=n(a);const h=pn(c,l);if(!h){const p={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(l,p)}return i.set(l,c),h?(await e(l,a.Q,c.Q),await e(l,a.detune,c.detune),await e(l,a.frequency,c.frequency),await e(l,a.gain,c.gain)):(await r(l,a.Q,c.Q),await r(l,a.detune,c.detune),await r(l,a.frequency,c.frequency),await r(l,a.gain,c.gain)),await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},c2=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e.get(n);if(i!==void 0)return i;try{const s=r();return s instanceof Promise?(e.set(n,s),s.catch(()=>!1).then(a=>(e.delete(n),t.set(n,a),a))):(t.set(n,s),s)}catch(s){return t.set(n,!1),!1}},u2={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},d2=(e,t,n,r,o)=>class extends e{constructor(i,s){const a=r(i),l={...u2,...s},c=n(a,l),h=o(a)?t():null;super(i,!1,c,h)}},h2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=t(i);if(!pn(a,s)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=e(s,l)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},p2={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},f2=(e,t,n,r,o,i)=>class extends e{constructor(s,a){const l=r(s),c=i({...p2,...a}),h=n(l,c),p=o(l)?t():null;super(s,!1,h,p)}},m2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=t(i);if(!pn(a,s)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=e(s,l)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},g2=e=>(t,n,r)=>e(n,t,r),v2=e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},y2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},b2=(e,t,n,r,o,i,s)=>class extends e{constructor(a,l){const c=o(a),h={...y2,...l},p=r(c,h),f=i(c),y=f?n():null;super(a,!1,p,y),this._constantSourceNodeRenderer=y,this._nativeConstantSourceNode=p,this._offset=t(this,f,p.offset,xn,Sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const l=typeof a=="function"?s(this,a):null;this._nativeConstantSourceNode.onended=l;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===l?a:c}start(a=0){if(this._nativeConstantSourceNode.start(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=a),this.context.state!=="closed"){Wo(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),yr(this)&&Fi(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(a=0){this._nativeConstantSourceNode.stop(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=a)}},w2=(e,t,n,r,o)=>()=>{const i=new WeakMap;let s=null,a=null;const l=async(c,h)=>{let p=n(c);const f=pn(p,h);if(!f){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value};p=t(h,y),s!==null&&p.start(s),a!==null&&p.stop(a)}return i.set(h,p),f?await e(h,c.offset,p.offset):await r(h,c.offset,p.offset),await o(c,h,p),p};return{set start(c){s=c},set stop(c){a=c},render(c,h){const p=i.get(h);return p!==void 0?Promise.resolve(p):l(c,h)}}},x2=e=>t=>(e[0]=t,e[0]),k2={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},C2=(e,t,n,r,o,i)=>class extends e{constructor(s,a){const l=r(s),c={...k2,...a},h=n(l,c),p=o(l)?t():null;super(s,!1,h,p),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(s){if(this._nativeConvolverNode.buffer=s,s===null&&this._nativeConvolverNode.buffer!==null){const a=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=a.createBuffer(1,1,a.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(s){this._nativeConvolverNode.normalize=s}},_2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=t(i);if(!pn(a,s)){const l={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=e(s,l)}return r.set(s,a),Ho(a)?await n(i,s,a.inputs[0]):await n(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},S2=()=>new DOMException("","DataCloneError"),ch=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>o();try{t.postMessage(e,[e])}catch(i){}finally{o()}})},M2=(e,t,n,r,o,i,s,a,l,c,h)=>(p,f)=>{const y=s(p)?p:i(p);if(o.has(f)){const m=n();return Promise.reject(m)}try{o.add(f)}catch(m){}return t(l,()=>l(y))?y.decodeAudioData(f).then(m=>(ch(f).catch(()=>{}),t(a,()=>a(m))||h(m),e.add(m),m)):new Promise((m,w)=>{const _=async()=>{try{await ch(f)}catch(O){}},L=O=>{w(O),_()};try{y.decodeAudioData(f,O=>{typeof O.copyFromChannel!="function"&&(c(O),th(O)),e.add(O),_().then(()=>m(O))},O=>{L(O===null?r():O)})}catch(O){L(O)}})},A2=(e,t,n,r,o,i,s,a)=>(l,c)=>{const h=t.get(l);if(h===void 0)throw new Error("Missing the expected cycle count.");const p=i(l.context),f=a(p);if(h===c){if(t.delete(l),!f&&s(l)){const y=r(l),{outputs:m}=n(l);for(const w of m)if(Ri(w)){const _=r(w[0]);e(y,_,w[1],w[2])}else{const _=o(w[0]);y.connect(_,w[1])}}}else t.set(l,h-c)},T2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},E2=(e,t,n,r,o,i,s)=>class extends e{constructor(a,l){const c=o(a),h={...T2,...l},p=r(c,h),f=i(c),y=f?n(h.maxDelayTime):null;super(a,!1,p,y),this._delayTime=t(this,f,p.delayTime),s(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},F2=(e,t,n,r,o)=>i=>{const s=new WeakMap,a=async(l,c)=>{let h=n(l);const p=pn(h,c);if(!p){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:i};h=t(c,f)}return s.set(c,h),p?await e(c,l.delayTime,h.delayTime):await r(c,l.delayTime,h.delayTime),await o(l,c,h),h};return{render(l,c){const h=s.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},O2=e=>(t,n,r,o)=>e(t[o],i=>i[0]===n&&i[1]===r),R2=e=>"delayTime"in e,I2=(e,t,n)=>function r(o,i){const s=Qs(i)?i:n(e,i);if(R2(s))return[];if(o[0]===s)return[o];if(o.includes(s))return[];const{outputs:a}=t(s);return Array.from(a).map(l=>r([...o,s],l[0])).reduce((l,c)=>l.concat(c),[])},P2={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},N2=(e,t,n,r,o,i,s,a)=>class extends e{constructor(l,c){const h=i(l),p={...P2,...c},f=r(h,p),y=s(h),m=y?n():null;super(l,!1,f,m),this._attack=t(this,y,f.attack),this._knee=t(this,y,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=t(this,y,f.ratio),this._release=t(this,y,f.release),this._threshold=t(this,y,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=c,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},D2=(e,t,n,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=n(a);const h=pn(c,l);if(!h){const p={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(l,p)}return i.set(l,c),h?(await e(l,a.attack,c.attack),await e(l,a.knee,c.knee),await e(l,a.ratio,c.ratio),await e(l,a.release,c.release),await e(l,a.threshold,c.threshold)):(await r(l,a.attack,c.attack),await r(l,a.knee,c.knee),await r(l,a.ratio,c.ratio),await r(l,a.release,c.release),await r(l,a.threshold,c.threshold)),await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},L2=()=>new DOMException("","EncodingError"),q2=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const i=e.document.createElement("script"),s=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(s),l=e.onerror,c=()=>{e.onerror=l,URL.revokeObjectURL(a)};e.onerror=(h,p,f,y,m)=>{if(p===a||p===e.location.href&&f===1&&y===1)return c(),r(m),!1;if(l!==null)return l(h,p,f,y,m)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",o.appendChild(i)}}),B2=e=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,n,r){if(n!==null){let o=this._listeners.get(n);o===void 0&&(o=e(this,n),typeof n=="function"&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(t,o,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,n,r){const o=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,r)}},j2=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},$2=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch(n){}throw e()},U2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},z2=(e,t,n,r,o,i)=>class extends e{constructor(s,a){const l=o(s),c={...U2,...a},h=r(l,c),p=i(l),f=p?n():null;super(s,!1,h,f),this._gain=t(this,p,h.gain,xn,Sn)}get gain(){return this._gain}},W2=(e,t,n,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=n(a);const h=pn(c,l);if(!h){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(l,p)}return i.set(l,c),h?await e(l,a.gain,c.gain):await r(l,a.gain,c.gain),await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},H2=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},V2=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},G2=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},fn=()=>new DOMException("","InvalidStateError"),X2=e=>t=>{const n=e.get(t);if(n===void 0)throw fn();return n},Y2=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},ra=()=>new DOMException("","InvalidAccessError"),Z2=e=>{e.getFrequencyResponse=(t=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw ra();return t.call(e,n,r,o)})(e.getFrequencyResponse)},J2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},K2=(e,t,n,r,o,i)=>class extends e{constructor(s,a){const l=r(s),c=o(l),h={...J2,...a},p=t(l,c?null:s.baseLatency,h),f=c?n(h.feedback,h.feedforward):null;super(s,!1,p,f),Z2(p),this._nativeIIRFilterNode=p,i(this,1)}getFrequencyResponse(s,a,l){return this._nativeIIRFilterNode.getFrequencyResponse(s,a,l)}},uh=(e,t,n,r,o,i,s,a,l,c,h)=>{const p=c.length;let f=a;for(let y=0;y<p;y+=1){let m=n[0]*c[y];for(let w=1;w<o;w+=1){const _=f-w&l-1;m+=n[w]*i[_],m-=e[w]*s[_]}for(let w=o;w<r;w+=1)m+=n[w]*i[f-w&l-1];for(let w=o;w<t;w+=1)m-=e[w]*s[f-w&l-1];i[f]=c[y],s[f]=m,f=f+1&l-1,h[y]=m}return f},Q2=(e,t,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),s=o.length,a=i.length,l=Math.min(s,a);if(o[0]!==1){for(let m=0;m<s;m+=1)i[m]/=o[0];for(let m=1;m<a;m+=1)o[m]/=o[0]}const c=32,h=new Float32Array(c),p=new Float32Array(c),f=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),y=e.numberOfChannels;for(let m=0;m<y;m+=1){const w=e.getChannelData(m),_=f.getChannelData(m);h.fill(0),p.fill(0),uh(o,s,i,a,l,h,p,0,c,w,_)}return f},ey=(e,t,n,r,o)=>(i,s)=>{const a=new WeakMap;let l=null;const c=async(h,p)=>{let f=null,y=t(h);const m=pn(y,p);if(p.createIIRFilter===void 0?f=e(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(y=p.createIIRFilter(s,i)),a.set(p,f===null?y:f),f!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new n(h.context.destination.channelCount,h.context.length,p.sampleRate);l=(async()=>{await r(h,_,_.destination);const L=await o(_);return Q2(L,p,i,s)})()}const w=await l;return f.buffer=w,f.start(0),f}return await r(h,p,y),y};return{render(h,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):c(h,p)}}},ty=(e,t,n,r,o,i)=>s=>(a,l)=>{const c=e.get(a);if(c===void 0){if(!s&&i(a)){const h=r(a),{outputs:p}=n(a);for(const f of p)if(Ri(f)){const y=r(f[0]);t(h,y,f[1],f[2])}else{const y=o(f[0]);h.disconnect(y,f[1])}}e.set(a,l)}else e.set(a,c+l)},ny=e=>t=>e!==null&&t instanceof e,ry=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,oy=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,iy=(e,t)=>n=>e(n)||t(n),sy=e=>t=>e!==null&&t instanceof e,ay=e=>e!==null&&e.isSecureContext,ly=(e,t,n,r)=>class extends e{constructor(o,i){const s=n(o),a=t(s,i);if(r(s))throw TypeError();super(o,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},cy={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},uy=(e,t,n,r)=>class extends e{constructor(o,i){const s=n(o);if(r(s))throw new TypeError;const a={...cy,...i},l=t(s,a);super(o,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},dy=(e,t,n,r)=>class extends e{constructor(o,i){const s=n(o),a=t(s,i);if(r(s))throw new TypeError;super(o,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},hy=(e,t,n)=>class extends e{constructor(r,o){const i=n(r),s=t(i,o);super(r,!0,s,null)}},py=(e,t,n,r,o,i)=>class extends n{constructor(s,a){super(s),this._nativeContext=s,Hd.set(this,s),r(s)&&o.set(s,new Set),this._destination=new e(this,a),this._listener=t(this,s),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(s){const a=typeof s=="function"?i(this,s):null;this._nativeContext.onstatechange=a;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===a?s:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Fl=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch(n){}return!1},fy=(e,t)=>(n,r,o)=>{const i=new Set;return n.connect=(s=>(a,l=0,c=0)=>{const h=i.size===0;if(t(a))return s.call(n,a,l,c),e(i,[a,l,c],p=>p[0]===a&&p[1]===l&&p[2]===c,!0),h&&r(),a;s.call(n,a,l),e(i,[a,l],p=>p[0]===a&&p[1]===l,!0),h&&r()})(n.connect),n.disconnect=(s=>(a,l,c)=>{const h=i.size>0;if(a===void 0)s.apply(n),i.clear();else if(typeof a=="number"){s.call(n,a);for(const f of i)f[1]===a&&i.delete(f)}else{t(a)?s.call(n,a,l,c):s.call(n,a,l);for(const f of i)f[0]===a&&(l===void 0||f[1]===l)&&(c===void 0||f[2]===c)&&i.delete(f)}const p=i.size===0;h&&p&&o()})(n.disconnect),n},kt=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},Ut=(e,t)=>{kt(e,t,"channelCount"),kt(e,t,"channelCountMode"),kt(e,t,"channelInterpretation")},dh=e=>typeof e.getFloatTimeDomainData=="function",my=e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let o=0;o<r;o+=1)t[o]=(n[o]-128)*.0078125;return t}},gy=(e,t)=>(n,r)=>{const o=n.createAnalyser();if(Ut(o,r),!(r.maxDecibels>r.minDecibels))throw t();return kt(o,r,"fftSize"),kt(o,r,"maxDecibels"),kt(o,r,"minDecibels"),kt(o,r,"smoothingTimeConstant"),e(dh,()=>dh(o))||my(o),o},vy=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,Rt=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},yy=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw fn();t.call(e,r,o,i),n=!0}})(e.start)},Ol=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},Rl=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},by=(e,t,n,r,o,i,s,a,l,c,h)=>(p,f)=>{const y=p.createBufferSource();return Ut(y,f),Rt(y,f,"playbackRate"),kt(y,f,"buffer"),kt(y,f,"loop"),kt(y,f,"loopEnd"),kt(y,f,"loopStart"),t(n,()=>n(p))||yy(y),t(r,()=>r(p))||l(y),t(o,()=>o(p))||c(y,p),t(i,()=>i(p))||Ol(y),t(s,()=>s(p))||h(y,p),t(a,()=>a(p))||Rl(y),e(p,y),y},wy=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,xy=(e,t)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch(a){}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const s=e(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return t(s,"channelCount",a=>()=>a.call(s),a=>l=>{a.call(s,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),t(s,"channelCountMode",a=>()=>a.call(s),a=>l=>{a.call(s,l),i.channelCountMode=l}),t(s,"channelInterpretation",a=>()=>a.call(s),a=>l=>{a.call(s,l),i.channelInterpretation=l}),Object.defineProperty(s,"maxChannelCount",{get:()=>i.maxChannelCount}),s.connect(i),s},ky=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,Cy=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),hh=(e,t)=>{const n=e.createBiquadFilter();return Ut(n,t),Rt(n,t,"Q"),Rt(n,t,"detune"),Rt(n,t,"frequency"),Rt(n,t,"gain"),kt(n,t,"type"),n},_y=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),Ut(o,r),o},Sy=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw fn()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw fn()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw fn()}})},Il=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Ut(n,t),Sy(n),n},My=(e,t,n,r,o)=>(i,s)=>{if(i.createConstantSource===void 0)return n(i,s);const a=i.createConstantSource();return Ut(a,s),Rt(a,s,"offset"),t(r,()=>r(i))||Ol(a),t(o,()=>o(i))||Rl(a),e(i,a),a},Vo=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Ay=(e,t,n,r)=>(o,{offset:i,...s})=>{const a=o.createBuffer(1,2,44100),l=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(o,{...s,gain:i}),h=a.getChannelData(0);h[0]=1,h[1]=1,l.buffer=a,l.loop=!0;const p={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(m){c.channelCount=m},get channelCountMode(){return c.channelCountMode},set channelCountMode(m){c.channelCountMode=m},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(m){c.channelInterpretation=m},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},f=()=>l.connect(c),y=()=>l.disconnect(c);return e(o,l),r(Vo(p,c),f,y)},Ty=(e,t)=>(n,r)=>{const o=n.createConvolver();if(Ut(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),kt(o,r,"buffer"),r.channelCount>2||(t(o,"channelCount",i=>()=>i.call(o),i=>s=>{if(s>2)throw e();return i.call(o,s)}),r.channelCountMode==="max"))throw e();return t(o,"channelCountMode",i=>()=>i.call(o),i=>s=>{if(s==="max")throw e();return i.call(o,s)}),o},ph=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return Ut(n,t),Rt(n,t,"delayTime"),n},Ey=e=>(t,n)=>{const r=t.createDynamicsCompressor();if(Ut(r,n),n.channelCount>2||n.channelCountMode==="max")throw e();return Rt(r,n,"attack"),Rt(r,n,"knee"),Rt(r,n,"ratio"),Rt(r,n,"release"),Rt(r,n,"threshold"),r},Gn=(e,t)=>{const n=e.createGain();return Ut(n,t),Rt(n,t,"gain"),n},Fy=e=>(t,n,r)=>{if(t.createIIRFilter===void 0)return e(t,n,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return Ut(o,r),o};function Oy(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Ry(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function fh(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)n=Ry(n,t),n[0]+=e[r];return n}const Iy=(e,t,n,r)=>(o,i,{channelCount:s,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:h})=>{const p=Cy(i,o.sampleRate),f=c instanceof Float64Array?c:new Float64Array(c),y=h instanceof Float64Array?h:new Float64Array(h),m=f.length,w=y.length,_=Math.min(m,w);if(m===0||m>20)throw r();if(f[0]===0)throw t();if(w===0||w>20)throw r();if(y[0]===0)throw t();if(f[0]!==1){for(let S=0;S<w;S+=1)y[S]/=f[0];for(let S=1;S<m;S+=1)f[S]/=f[0]}const L=n(o,p,s,s);L.channelCount=s,L.channelCountMode=a,L.channelInterpretation=l;const O=32,T=[],P=[],E=[];for(let S=0;S<s;S+=1){T.push(0);const R=new Float32Array(O),C=new Float32Array(O);R.fill(0),C.fill(0),P.push(R),E.push(C)}L.onaudioprocess=S=>{const R=S.inputBuffer,C=S.outputBuffer,M=R.numberOfChannels;for(let v=0;v<M;v+=1){const x=R.getChannelData(v),A=C.getChannelData(v);T[v]=uh(f,m,y,w,_,P[v],E[v],T[v],O,x,A)}};const F=o.sampleRate/2;return Vo({get bufferSize(){return p},get channelCount(){return L.channelCount},set channelCount(S){L.channelCount=S},get channelCountMode(){return L.channelCountMode},set channelCountMode(S){L.channelCountMode=S},get channelInterpretation(){return L.channelInterpretation},set channelInterpretation(S){L.channelInterpretation=S},get context(){return L.context},get inputs(){return[L]},get numberOfInputs(){return L.numberOfInputs},get numberOfOutputs(){return L.numberOfOutputs},addEventListener(...S){return L.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return L.dispatchEvent(S[0])},getFrequencyResponse(S,R,C){if(S.length!==R.length||R.length!==C.length)throw e();const M=S.length;for(let v=0;v<M;v+=1){const x=-Math.PI*(S[v]/F),A=[Math.cos(x),Math.sin(x)],N=fh(y,A),I=fh(f,A),q=Oy(N,I);R[v]=Math.sqrt(q[0]*q[0]+q[1]*q[1]),C[v]=Math.atan2(q[1],q[0])}},removeEventListener(...S){return L.removeEventListener(S[0],S[1],S[2])}},L)},Py=(e,t)=>e.createMediaElementSource(t.mediaElement),Ny=(e,t)=>{const n=e.createMediaStreamDestination();return Ut(n,t),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Dy=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((i,s)=>i.id<s.id?-1:i.id>s.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},Ly=(e,t)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw e();if(t(n))throw new TypeError;return i},qy=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,By=(e,t,n,r,o,i)=>(s,a)=>{const l=s.createOscillator();return Ut(l,a),Rt(l,a,"detune"),Rt(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):kt(l,a,"type"),t(n,()=>n(s))||Ol(l),t(r,()=>r(s))||i(l,s),t(o,()=>o(s))||Rl(l),e(s,l),l},jy=e=>(t,n)=>{const r=t.createPanner();return r.orientationX===void 0?e(t,n):(Ut(r,n),Rt(r,n,"orientationX"),Rt(r,n,"orientationY"),Rt(r,n,"orientationZ"),Rt(r,n,"positionX"),Rt(r,n,"positionY"),Rt(r,n,"positionZ"),kt(r,n,"coneInnerAngle"),kt(r,n,"coneOuterAngle"),kt(r,n,"coneOuterGain"),kt(r,n,"distanceModel"),kt(r,n,"maxDistance"),kt(r,n,"panningModel"),kt(r,n,"refDistance"),kt(r,n,"rolloffFactor"),r)},$y=(e,t,n,r,o,i,s,a,l,c)=>(h,{coneInnerAngle:p,coneOuterAngle:f,coneOuterGain:y,distanceModel:m,maxDistance:w,orientationX:_,orientationY:L,orientationZ:O,panningModel:T,positionX:P,positionY:E,positionZ:F,refDistance:S,rolloffFactor:R,...C})=>{const M=h.createPanner();if(C.channelCount>2||C.channelCountMode==="max")throw s();Ut(M,C);const v={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},x=n(h,{...v,channelInterpretation:"speakers",numberOfInputs:6}),A=r(h,{...C,gain:1}),N=r(h,{...v,gain:1}),I=r(h,{...v,gain:0}),q=r(h,{...v,gain:0}),H=r(h,{...v,gain:0}),z=r(h,{...v,gain:0}),D=r(h,{...v,gain:0}),j=o(h,256,6,1),W=i(h,{...v,curve:new Float32Array([1,1]),oversample:"none"});let $=[_,L,O],J=[P,E,F];const G=new Float32Array(1);j.onaudioprocess=({inputBuffer:Z})=>{const he=[l(Z,G,0),l(Z,G,1),l(Z,G,2)];he.some((De,Ie)=>De!==$[Ie])&&(M.setOrientation(...he),$=he);const ve=[l(Z,G,3),l(Z,G,4),l(Z,G,5)];ve.some((De,Ie)=>De!==J[Ie])&&(M.setPosition(...ve),J=ve)},Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(Z){if(Z>2)throw s();A.channelCount=Z,M.channelCount=Z},get channelCountMode(){return M.channelCountMode},set channelCountMode(Z){if(Z==="max")throw s();A.channelCountMode=Z,M.channelCountMode=Z},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(Z){A.channelInterpretation=Z,M.channelInterpretation=Z},get coneInnerAngle(){return M.coneInnerAngle},set coneInnerAngle(Z){M.coneInnerAngle=Z},get coneOuterAngle(){return M.coneOuterAngle},set coneOuterAngle(Z){M.coneOuterAngle=Z},get coneOuterGain(){return M.coneOuterGain},set coneOuterGain(Z){if(Z<0||Z>1)throw t();M.coneOuterGain=Z},get context(){return M.context},get distanceModel(){return M.distanceModel},set distanceModel(Z){M.distanceModel=Z},get inputs(){return[A]},get maxDistance(){return M.maxDistance},set maxDistance(Z){if(Z<0)throw new RangeError;M.maxDistance=Z},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get orientationX(){return N.gain},get orientationY(){return I.gain},get orientationZ(){return q.gain},get panningModel(){return M.panningModel},set panningModel(Z){M.panningModel=Z},get positionX(){return H.gain},get positionY(){return z.gain},get positionZ(){return D.gain},get refDistance(){return M.refDistance},set refDistance(Z){if(Z<0)throw new RangeError;M.refDistance=Z},get rolloffFactor(){return M.rolloffFactor},set rolloffFactor(Z){if(Z<0)throw new RangeError;M.rolloffFactor=Z},addEventListener(...Z){return A.addEventListener(Z[0],Z[1],Z[2])},dispatchEvent(...Z){return A.dispatchEvent(Z[0])},removeEventListener(...Z){return A.removeEventListener(Z[0],Z[1],Z[2])}};p!==K.coneInnerAngle&&(K.coneInnerAngle=p),f!==K.coneOuterAngle&&(K.coneOuterAngle=f),y!==K.coneOuterGain&&(K.coneOuterGain=y),m!==K.distanceModel&&(K.distanceModel=m),w!==K.maxDistance&&(K.maxDistance=w),_!==K.orientationX.value&&(K.orientationX.value=_),L!==K.orientationY.value&&(K.orientationY.value=L),O!==K.orientationZ.value&&(K.orientationZ.value=O),T!==K.panningModel&&(K.panningModel=T),P!==K.positionX.value&&(K.positionX.value=P),E!==K.positionY.value&&(K.positionY.value=E),F!==K.positionZ.value&&(K.positionZ.value=F),S!==K.refDistance&&(K.refDistance=S),R!==K.rolloffFactor&&(K.rolloffFactor=R),($[0]!==1||$[1]!==0||$[2]!==0)&&M.setOrientation(...$),(J[0]!==0||J[1]!==0||J[2]!==0)&&M.setPosition(...J);const te=()=>{A.connect(M),e(A,W,0,0),W.connect(N).connect(x,0,0),W.connect(I).connect(x,0,1),W.connect(q).connect(x,0,2),W.connect(H).connect(x,0,3),W.connect(z).connect(x,0,4),W.connect(D).connect(x,0,5),x.connect(j).connect(h.destination)},fe=()=>{A.disconnect(M),a(A,W,0,0),W.disconnect(N),N.disconnect(x),W.disconnect(I),I.disconnect(x),W.disconnect(q),q.disconnect(x),W.disconnect(H),H.disconnect(x),W.disconnect(z),z.disconnect(x),W.disconnect(D),D.disconnect(x),x.disconnect(j),j.disconnect(h.destination)};return c(Vo(K,M),te,fe)},Uy=e=>(t,{disableNormalization:n,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),s=o instanceof Float32Array?o:new Float32Array(o),a=t.createPeriodicWave(s,i,{disableNormalization:n});if(Array.from(r).length<2)throw e();return a},oa=(e,t,n,r)=>e.createScriptProcessor(t,n,r),zy=(e,t)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw t();if(n.createStereoPanner===void 0)return e(n,r);const i=n.createStereoPanner();return Ut(i,r),Rt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:s=>{if(s!==o)throw t()}}),i},Wy=(e,t,n,r,o,i)=>{const s=new Float32Array([1,1]),a=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...l,oversample:"none"},h=(y,m,w,_)=>{const L=new Float32Array(16385),O=new Float32Array(16385);for(let R=0;R<16385;R+=1){const C=R/16384*a;L[R]=Math.cos(C),O[R]=Math.sin(C)}const T=n(y,{...l,gain:0}),P=r(y,{...c,curve:L}),E=r(y,{...c,curve:s}),F=n(y,{...l,gain:0}),S=r(y,{...c,curve:O});return{connectGraph(){m.connect(T),m.connect(E.inputs===void 0?E:E.inputs[0]),m.connect(F),E.connect(w),w.connect(P.inputs===void 0?P:P.inputs[0]),w.connect(S.inputs===void 0?S:S.inputs[0]),P.connect(T.gain),S.connect(F.gain),T.connect(_,0,0),F.connect(_,0,1)},disconnectGraph(){m.disconnect(T),m.disconnect(E.inputs===void 0?E:E.inputs[0]),m.disconnect(F),E.disconnect(w),w.disconnect(P.inputs===void 0?P:P.inputs[0]),w.disconnect(S.inputs===void 0?S:S.inputs[0]),P.disconnect(T.gain),S.disconnect(F.gain),T.disconnect(_,0,0),F.disconnect(_,0,1)}}},p=(y,m,w,_)=>{const L=new Float32Array(16385),O=new Float32Array(16385),T=new Float32Array(16385),P=new Float32Array(16385),E=Math.floor(16385/2);for(let q=0;q<16385;q+=1)if(q>E){const H=(q-E)/(16384-E)*a;L[q]=Math.cos(H),O[q]=Math.sin(H),T[q]=0,P[q]=1}else{const H=q/(16384-E)*a;L[q]=1,O[q]=0,T[q]=Math.cos(H),P[q]=Math.sin(H)}const F=t(y,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),S=n(y,{...l,gain:0}),R=r(y,{...c,curve:L}),C=n(y,{...l,gain:0}),M=r(y,{...c,curve:O}),v=r(y,{...c,curve:s}),x=n(y,{...l,gain:0}),A=r(y,{...c,curve:T}),N=n(y,{...l,gain:0}),I=r(y,{...c,curve:P});return{connectGraph(){m.connect(F),m.connect(v.inputs===void 0?v:v.inputs[0]),F.connect(S,0),F.connect(C,0),F.connect(x,1),F.connect(N,1),v.connect(w),w.connect(R.inputs===void 0?R:R.inputs[0]),w.connect(M.inputs===void 0?M:M.inputs[0]),w.connect(A.inputs===void 0?A:A.inputs[0]),w.connect(I.inputs===void 0?I:I.inputs[0]),R.connect(S.gain),M.connect(C.gain),A.connect(x.gain),I.connect(N.gain),S.connect(_,0,0),x.connect(_,0,0),C.connect(_,0,1),N.connect(_,0,1)},disconnectGraph(){m.disconnect(F),m.disconnect(v.inputs===void 0?v:v.inputs[0]),F.disconnect(S,0),F.disconnect(C,0),F.disconnect(x,1),F.disconnect(N,1),v.disconnect(w),w.disconnect(R.inputs===void 0?R:R.inputs[0]),w.disconnect(M.inputs===void 0?M:M.inputs[0]),w.disconnect(A.inputs===void 0?A:A.inputs[0]),w.disconnect(I.inputs===void 0?I:I.inputs[0]),R.disconnect(S.gain),M.disconnect(C.gain),A.disconnect(x.gain),I.disconnect(N.gain),S.disconnect(_,0,0),x.disconnect(_,0,0),C.disconnect(_,0,1),N.disconnect(_,0,1)}}},f=(y,m,w,_,L)=>{if(m===1)return h(y,w,_,L);if(m===2)return p(y,w,_,L);throw o()};return(y,{channelCount:m,channelCountMode:w,pan:_,...L})=>{if(w==="max")throw o();const O=e(y,{...L,channelCount:1,channelCountMode:w,numberOfInputs:2}),T=n(y,{...L,channelCount:m,channelCountMode:w,gain:1}),P=n(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_});let{connectGraph:E,disconnectGraph:F}=f(y,m,T,P,O);Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"maxValue",{get:()=>1}),Object.defineProperty(P.gain,"minValue",{get:()=>-1});const S={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(v){T.channelCount!==v&&(R&&F(),{connectGraph:E,disconnectGraph:F}=f(y,v,T,P,O),R&&E()),T.channelCount=v},get channelCountMode(){return T.channelCountMode},set channelCountMode(v){if(v==="clamped-max"||v==="max")throw o();T.channelCountMode=v},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(v){T.channelInterpretation=v},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return P.gain},addEventListener(...v){return T.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return T.dispatchEvent(v[0])},removeEventListener(...v){return T.removeEventListener(v[0],v[1],v[2])}};let R=!1;const C=()=>{E(),R=!0},M=()=>{F(),R=!1};return i(Vo(S,O),C,M)}},Hy=(e,t,n,r,o,i,s)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Ut(c,l);const h=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(h!==null&&h.length<2)throw t();kt(c,{curve:h},"curve"),kt(c,l,"oversample");let p=null,f=!1;return s(c,"curve",y=>()=>y.call(c),y=>m=>(y.call(c,m),f&&(r(m)&&p===null?p=e(a,c):!r(m)&&p!==null&&(p(),p=null)),m)),o(c,()=>{f=!0,r(c.curve)&&(p=e(a,c))},()=>{f=!1,p!==null&&(p(),p=null)})},Vy=(e,t,n,r,o)=>(i,{curve:s,oversample:a,...l})=>{const c=i.createWaveShaper(),h=i.createWaveShaper();Ut(c,l),Ut(h,l);const p=n(i,{...l,gain:1}),f=n(i,{...l,gain:-1}),y=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let w=null,_=!1,L=null;const O={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(E){p.channelCount=E,f.channelCount=E,c.channelCount=E,y.channelCount=E,h.channelCount=E,m.channelCount=E},get channelCountMode(){return c.channelCountMode},set channelCountMode(E){p.channelCountMode=E,f.channelCountMode=E,c.channelCountMode=E,y.channelCountMode=E,h.channelCountMode=E,m.channelCountMode=E},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(E){p.channelInterpretation=E,f.channelInterpretation=E,c.channelInterpretation=E,y.channelInterpretation=E,h.channelInterpretation=E,m.channelInterpretation=E},get context(){return c.context},get curve(){return L},set curve(E){if(E!==null&&E.length<2)throw t();if(E===null)c.curve=E,h.curve=E;else{const F=E.length,S=new Float32Array(F+2-F%2),R=new Float32Array(F+2-F%2);S[0]=E[0],R[0]=-E[F-1];const C=Math.ceil((F+1)/2),M=(F+1)/2-1;for(let v=1;v<C;v+=1){const x=v/C*M,A=Math.floor(x),N=Math.ceil(x);S[v]=A===N?E[A]:(1-(x-A))*E[A]+(1-(N-x))*E[N],R[v]=A===N?-E[F-1-A]:-((1-(x-A))*E[F-1-A])-(1-(N-x))*E[F-1-N]}S[C]=F%2===1?E[C-1]:(E[C-2]+E[C-1])/2,c.curve=S,h.curve=R}L=E,_&&(r(L)&&w===null?w=e(i,p):w!==null&&(w(),w=null))},get inputs(){return[p]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(E){c.oversample=E,h.oversample=E},addEventListener(...E){return p.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return p.dispatchEvent(E[0])},removeEventListener(...E){return p.removeEventListener(E[0],E[1],E[2])}};s!==null&&(O.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==O.oversample&&(O.oversample=a);const T=()=>{p.connect(c).connect(y),p.connect(f).connect(h).connect(m).connect(y),_=!0,r(L)&&(w=e(i,p))},P=()=>{p.disconnect(c),c.disconnect(y),p.disconnect(f),f.disconnect(h),h.disconnect(m),m.disconnect(y),_=!1,w!==null&&(w(),w=null)};return o(Vo(O,y),T,P)},Dn=()=>new DOMException("","NotSupportedError"),Gy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Xy=(e,t,n,r,o,i,s)=>class extends e{constructor(a,l){const c=o(a),h={...Gy,...l},p=n(c,h),f=i(c),y=f?r():null,m=a.sampleRate/2;super(a,!1,p,y),this._detune=t(this,f,p.detune,153600,-153600),this._frequency=t(this,f,p.frequency,m,-m),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=y,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){const l=typeof a=="function"?s(this,a):null;this._nativeOscillatorNode.onended=l;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===l?a:c}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=a),this.context.state!=="closed"){Wo(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),yr(this)&&Fi(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(a=0){this._nativeOscillatorNode.stop(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=a)}},Yy=(e,t,n,r,o)=>()=>{const i=new WeakMap;let s=null,a=null,l=null;const c=async(h,p)=>{let f=n(h);const y=pn(f,p);if(!y){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:s===null?void 0:s,type:f.type};f=t(p,m),a!==null&&f.start(a),l!==null&&f.stop(l)}return i.set(p,f),y?(await e(p,h.detune,f.detune),await e(p,h.frequency,f.frequency)):(await r(p,h.detune,f.detune),await r(p,h.frequency,f.frequency)),await o(h,p,f),f};return{set periodicWave(h){s=h},set start(h){a=h},set stop(h){l=h},render(h,p){const f=i.get(p);return f!==void 0?Promise.resolve(f):c(h,p)}}},Zy={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Jy=(e,t,n,r,o,i,s)=>class extends e{constructor(a,l){const c=o(a),h={...Zy,...l},p=n(c,h),f=i(c),y=f?r():null;super(a,!1,p,y),this._nativePannerNode=p,this._orientationX=t(this,f,p.orientationX,xn,Sn),this._orientationY=t(this,f,p.orientationY,xn,Sn),this._orientationZ=t(this,f,p.orientationZ,xn,Sn),this._positionX=t(this,f,p.positionX,xn,Sn),this._positionY=t(this,f,p.positionY,xn,Sn),this._positionZ=t(this,f,p.positionZ,xn,Sn),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}},Ky=(e,t,n,r,o,i,s,a,l,c)=>()=>{const h=new WeakMap;let p=null;const f=async(y,m)=>{let w=null,_=i(y);const L={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},O={...L,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},T=pn(_,m);if("bufferSize"in _)w=r(m,{...L,gain:1});else if(!T){const P={...O,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=o(m,P)}if(h.set(m,w===null?_:w),w!==null){if(p===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const v=new s(6,y.context.length,m.sampleRate),x=t(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});x.connect(v.destination),p=(async()=>{const A=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(N,I)=>{const q=n(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I===0?1:0});return await a(v,N,q.offset),q}));for(let N=0;N<6;N+=1)A[N].connect(x,0,N),A[N].start(0);return c(v)})()}const P=await p,E=r(m,{...L,gain:1});await l(y,m,E);const F=[];for(let v=0;v<P.numberOfChannels;v+=1)F.push(P.getChannelData(v));let S=[F[0][0],F[1][0],F[2][0]],R=[F[3][0],F[4][0],F[5][0]],C=r(m,{...L,gain:1}),M=o(m,{...O,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:R[0],positionY:R[1],positionZ:R[2]});E.connect(C).connect(M.inputs[0]),M.connect(w);for(let v=128;v<P.length;v+=128){const x=[F[0][v],F[1][v],F[2][v]],A=[F[3][v],F[4][v],F[5][v]];if(x.some((N,I)=>N!==S[I])||A.some((N,I)=>N!==R[I])){S=x,R=A;const N=v/m.sampleRate;C.gain.setValueAtTime(0,N),C=r(m,{...L,gain:0}),M=o(m,{...O,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),C.gain.setValueAtTime(1,N),E.connect(C).connect(M.inputs[0]),M.connect(w)}}return w}return T?(await e(m,y.orientationX,_.orientationX),await e(m,y.orientationY,_.orientationY),await e(m,y.orientationZ,_.orientationZ),await e(m,y.positionX,_.positionX),await e(m,y.positionY,_.positionY),await e(m,y.positionZ,_.positionZ)):(await a(m,y.orientationX,_.orientationX),await a(m,y.orientationY,_.orientationY),await a(m,y.orientationZ,_.orientationZ),await a(m,y.positionX,_.positionX),await a(m,y.positionY,_.positionY),await a(m,y.positionZ,_.positionZ)),Ho(_)?await l(y,m,_.inputs[0]):await l(y,m,_),_};return{render(y,m){const w=h.get(m);return w!==void 0?Promise.resolve(w):f(y,m)}}},Qy={disableNormalization:!1},eb=(e,t,n,r)=>class Cm{constructor(i,s){const a=t(i),l=r({...Qy,...s}),c=e(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Cm.prototype||n.has(i)}},tb=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),nb=(e,t,n)=>async(r,o,i)=>{const s=e(r);await Promise.all(s.activeInputs.map((a,l)=>Array.from(a).map(async([c,h])=>{const p=await t(c).render(c,o),f=r.context.destination;!n(c)&&(r!==f||!n(r))&&p.connect(i,h,l)})).reduce((a,l)=>[...a,...l],[]))},rb=(e,t,n)=>async(r,o,i)=>{const s=t(r);await Promise.all(Array.from(s.activeInputs).map(async([a,l])=>{const c=await e(a).render(a,o);n(a)||c.connect(i,l)}))},ob=(e,t,n,r)=>o=>e(Fl,()=>Fl(o))?Promise.resolve(e(r,r)).then(i=>{if(!i){const s=n(o,512,0,1);o.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>o.currentTime,s.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const s=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{s.disconnect(),i(a.renderedBuffer)},s.connect(o.destination),o.startRendering()}),ib=e=>(t,n)=>e.set(t,n),sb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},ab=(e,t,n,r,o,i)=>class extends e{constructor(s,a){const l=o(s),c={...sb,...a},h=n(l,c),p=i(l),f=p?r():null;super(s,!1,h,f),this._pan=t(this,p,h.pan)}get pan(){return this._pan}},lb=(e,t,n,r,o)=>()=>{const i=new WeakMap,s=async(a,l)=>{let c=n(a);const h=pn(c,l);if(!h){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(l,p)}return i.set(l,c),h?await e(l,a.pan,c.pan):await r(l,a.pan,c.pan),Ho(c)?await o(a,l,c.inputs[0]):await o(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):s(a,l)}}},cb=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch(t){return!1}return!0},ub=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let i=!1,s=!1;try{await r.audioWorklet.addModule(o);const a=new e(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>s=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch(a){}finally{URL.revokeObjectURL(o)}return i&&!s},db=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},hb=()=>new DOMException("","UnknownError"),pb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},fb=(e,t,n,r,o,i,s)=>class extends e{constructor(a,l){const c=o(a),h={...pb,...l},p=n(c,h),f=i(c)?r():null;super(a,!0,p,f),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(a===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}},mb=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,s)=>{let a=t(i);if(!pn(a,s)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=e(s,l)}return r.set(s,a),Ho(a)?await n(i,s,a.inputs[0]):await n(i,s,a),a};return{render(i,s){const a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}},gb=()=>typeof window>"u"?null:window,vb=(e,t)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const s=e(i),a=e(o);if(a>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(a),h=r.length;for(let p=s<0?-s:0;p+s<l&&p<h;p+=1)r[p]=c[p+s]},n.copyToChannel=(r,o,i=0)=>{const s=e(i),a=e(o);if(a>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(a),h=r.length;for(let p=s<0?-s:0;p+s<l&&p<h;p+=1)c[p+s]=r[p]}},yb=e=>t=>{t.copyFromChannel=(n=>(r,o,i=0)=>{const s=e(i),a=e(o);if(s<t.length)return n.call(t,r,a,s)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,i=0)=>{const s=e(i),a=e(o);if(s<t.length)return n.call(t,r,a,s)})(t.copyToChannel)},bb=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const i=o.call(t);return i===r?null:i},o=>i=>o.call(t,i===null?r:i))},wb=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const i=r.numberOfInputs;for(let s=0;s<i;s+=1)o.connect(r,0,s)},()=>o.disconnect(r))},mh=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),gh=e=>{if(e===null)return!1;const t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0},Pi=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:i,set:s}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(i),set:r(s)})},xb=e=>({...e,channelCount:e.numberOfOutputs}),kb=e=>{const{imag:t,real:n}=e;return t===void 0?n===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,()=>0),real:n}:n===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:n}},vh=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;vh(e,t,n+1e-7)}},Cb=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch(n){return!0}return!1},_b=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch(r){return!1}return!0},Sb=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch(n){return!1}return!0},Pl=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},yh=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},Nl=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},Mb=e=>{e.start=(t=>(n=0,r=0,o)=>{const i=e.buffer,s=i===null?r:Math.min(i.duration,r);i!==null&&s>i.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,s,o)})(e.start)},bh=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),Vo(e,n),e.stop=(o=>{let i=!1;return(s=0)=>{if(i)try{o.call(e,s)}catch(a){n.gain.setValueAtTime(0,s)}else o.call(e,s),i=!0}})(e.stop)},Ni=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},Ab=wv(io),Tb=Mv(io),Eb=O2(Ks),wh=new WeakMap,Fb=V2(wh),br=c2(new Map,new WeakMap),nr=gb(),xh=gy(br,oo),kh=H2(Mn),sn=nb(Mn,kh,so),Ob=Fv(xh,Mt,sn),bt=X2(Hd),ao=qy(nr),gt=sy(ao),Ch=new WeakMap,_h=B2(Ni),Di=wy(nr),Sh=ny(Di),Mh=ry(nr),Rb=oy(nr),Dl=ky(nr),qt=n2(xv($d),Sv(Ab,Tb,ea,Eb,ta,Mn,Fb,Ei,Mt,io,yr,so,na),br,ty(Cl,ta,Mn,Mt,Ii,yr),oo,ra,Dn,A2(ea,Cl,Mn,Mt,Ii,bt,yr,gt),I2(Ch,Mn,Lr),_h,bt,Sh,Mh,Rb,gt,Dl),Ib=Ev(qt,Ob,oo,xh,bt,gt),Ah=new WeakSet,Th=vy(nr),Eh=x2(new Uint32Array(1)),Fh=vb(Eh,oo),Oh=yb(Eh),Ll=Rv(Ah,br,Dn,Th,ao,cb(Th),Fh,Oh),ia=Av(Gn),Rh=rb(kh,Oi,so),wr=g2(Rh),Li=by(ia,br,Cb,_b,Sb,Pl,yh,Nl,Mb,bb(Pi),bh),xr=tb(G2(Oi),Rh),Pb=Nv(wr,Li,Mt,xr,sn),rr=r2(kv(zd),Ch,Wd,o2,fv,mv,gv,vv,yv,bl,Dd,Di,vh),Ih=Pv(qt,Pb,rr,fn,Li,bt,gt,Ni),Nb=Hv(qt,Vv,oo,fn,xy(Gn,Pi),bt,gt,sn),Db=l2(wr,hh,Mt,xr,sn),lo=ib(wh),qi=a2(qt,rr,Db,ra,hh,bt,gt,lo),Go=fy(io,Mh),Lb=wb(fn,Go),Xo=_y(Di,Lb),qb=h2(Xo,Mt,sn),Bb=d2(qt,qb,Xo,bt,gt),jb=m2(Il,Mt,sn),$b=f2(qt,jb,Il,bt,gt,xb),Ub=Ay(ia,Li,Gn,Go),sa=My(ia,br,Ub,Pl,Nl),zb=w2(wr,sa,Mt,xr,sn),Wb=b2(qt,rr,zb,sa,bt,gt,Ni),Ph=Ty(Dn,Pi),Hb=_2(Ph,Mt,sn),Nh=C2(qt,Hb,Ph,bt,gt,lo),Vb=F2(wr,ph,Mt,xr,sn),Gb=E2(qt,rr,Vb,ph,bt,gt,lo),Dh=Ey(Dn),Xb=D2(wr,Dh,Mt,xr,sn),Lh=N2(qt,rr,Xb,Dh,Dn,bt,gt,lo),Yb=W2(wr,Gn,Mt,xr,sn),qh=z2(qt,rr,Yb,Gn,bt,gt),Zb=Iy(ra,fn,oa,Dn),Bh=ob(br,Gn,oa,db(Gn,ao)),Jb=ey(Li,Mt,ao,sn,Bh),Kb=Fy(Zb),jh=K2(qt,Kb,Jb,bt,gt,lo),Qb=Gv(rr,Xo,sa,oa,Dn,mh,gt,Pi),ew=new WeakMap,tw=py(Nb,Qb,_h,gt,ew,Ni),$h=By(ia,br,Pl,yh,Nl,bh),nw=Yy(wr,$h,Mt,xr,sn),rw=Xy(qt,rr,$h,nw,bt,gt,Ni),Uh=v2(Li),ow=Vy(Uh,fn,Gn,gh,Go),aa=Hy(Uh,fn,ow,gh,Go,Di,Pi),iw=$y(ea,fn,Xo,Gn,oa,aa,Dn,ta,mh,Go),zh=jy(iw),sw=Ky(wr,Xo,sa,Gn,zh,Mt,ao,xr,sn,Bh),aw=Jy(qt,rr,zh,sw,bt,gt,lo),lw=Uy(oo),cw=eb(lw,bt,new WeakSet,kb),uw=Wy(Xo,Il,Gn,aa,Dn,Go),Wh=zy(uw,Dn),dw=lb(wr,Wh,Mt,xr,sn),hw=ab(qt,rr,Wh,dw,bt,gt),pw=mb(aa,Mt,sn),fw=fb(qt,fn,aa,pw,bt,gt,lo),mw=ay(nr),gw=j2(nr),vw=new WeakMap,yw=Y2(vw,ao),bw=mw?_v(br,Dn,q2(nr),gw,$2(bv),bt,yw,gt,Dl,new WeakMap,new WeakMap,ub(Dl,ao),nr):void 0,ww=iy(Sh,gt),xw=M2(Ah,br,S2,L2,new WeakSet,bt,ww,Sl,Fl,Fh,Oh),kw=i2(bw,Ib,Ll,Ih,qi,Bb,$b,Wb,Nh,xw,Gb,Lh,qh,jh,tw,rw,aw,cw,hw,fw),Cw=ly(qt,Py,bt,gt),Hh=uy(qt,Ny,bt,gt),_w=dy(qt,Dy,bt,gt),Sw=Ly(fn,gt),Mw=hy(qt,Sw,bt),Aw=Wv(kw,fn,Dn,hb,Cw,Hh,_w,Mw,Di);class Tw{constructor(t){if(this.isRecording=!1,this.recordedAudio=[],this.delayHistory=[],this.maxDelayHistorySize=10,this.endpoint=t,this.playAmount=0,this.playMovingAverage=[],this.playSampleLength=1,this.audioQueue=[],this.demodulation="USB",this.accumulator=[],this.decodeFT8=!1,this.farthestDistance=0,this.nb=!1,this.mute=!1,this.squelchMute=!1,this.squelch=!1,this.squelchThreshold=0,this.power=1,this.ctcss=!1,this.audioCtx&&this.audioCtx.state=="running")startaudio=document.getElementById("startaudio"),startaudio&&startaudio.remove();else{const n=()=>{this.audioCtx&&this.audioCtx.state!=="running"&&this.audioCtx.resume();const r=document.getElementById("startaudio");r&&r.remove(),document.documentElement.removeEventListener("mousedown",n)};document.documentElement.addEventListener("mousedown",n)}this.mode=0,this.d=10,this.v=10,this.n2=10,this.n1=10,this.var=10,this.highThres=1,this.initTimer()}async init(){return this.promise?this.promise:(this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.audioSocket=new WebSocket(this.endpoint),this.audioSocket.binaryType="arraybuffer",this.firstAudioMessage=!0,this.audioSocket.onmessage=this.socketMessageInitial.bind(this),this.promise)}stop(){this.audioSocket.close(),this.decoder.free()}initAudio(t){const n=this.audioOutputSps;try{this.audioCtx=new Aw({sampleRate:n})}catch(r){this.resolvePromise();return}this.audioStartTime=this.audioCtx.currentTime,this.playTime=this.audioCtx.currentTime+.1,this.playStartTime=this.audioCtx.currentTime,this.decoder=Qg(t.audio_compression,this.audioMaxSps,this.trueAudioSps,this.audioOutputSps),this.bassBoost=new qi(this.audioCtx),this.bassBoost.type="lowshelf",this.bassBoost.frequency.value=150,this.bassBoost.Q.value=.7,this.bassBoost.gain.value=6,this.bandpass=new qi(this.audioCtx),this.bandpass.type="peaking",this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=3,this.highPass=new qi(this.audioCtx),this.highPass.type="highpass",this.highPass.frequency.value=60,this.highPass.Q.value=.7,this.presenceBoost=new qi(this.audioCtx),this.presenceBoost.type="peaking",this.presenceBoost.frequency.value=3500,this.presenceBoost.Q.value=1.5,this.presenceBoost.gain.value=4,this.convolverNode=new Nh(this.audioCtx),this.setLowpass(15e3),this.compressor=new Lh(this.audioCtx),this.compressor.threshold.value=-24,this.compressor.knee.value=30,this.compressor.ratio.value=12,this.compressor.attack.value=.003,this.compressor.release.value=.25,this.gainNode=new qh(this.audioCtx),this.setGain(5),this.destinationNode=new Hh(this.audioCtx),this.convolverNode.connect(this.highPass),this.highPass.connect(this.bandpass),this.bandpass.connect(this.bassBoost),this.bassBoost.connect(this.presenceBoost),this.presenceBoost.connect(this.compressor),this.compressor.connect(this.gainNode),this.gainNode.connect(this.destinationNode),this.gainNode.connect(this.audioCtx.destination),this.audioInputNode=this.convolverNode,this.updateFilters(),this.resolvePromise(t)}updateFilters(){switch(this.demodulation){case"USB":case"LSB":case"CW":this.bassBoost.gain.value=12,this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=3,this.highPass.frequency.value=60,this.presenceBoost.gain.value=4,this.setLowpass(3e3);break;case"CW":this.bassBoost.gain.value=0,this.bandpass.frequency.value=700,this.bandpass.Q.value=1.2,this.bandpass.gain.value=2,this.highPass.frequency.value=400,this.presenceBoost.gain.value=1,this.setLowpass(1e3);break;case"AM":this.bassBoost.gain.value=20,this.bandpass.frequency.value=1500,this.bandpass.Q.value=1,this.bandpass.gain.value=2,this.highPass.frequency.value=50,this.presenceBoost.gain.value=3,this.setLowpass(4500);break;case"FM":this.bassBoost.gain.value=30,this.bandpass.frequency.value=1500,this.bandpass.Q.value=.8,this.bandpass.gain.value=2,this.highPass.frequency.value=this.ctcss?300:30,this.presenceBoost.gain.value=3,this.setLowpass(15e3);break}}setFIRFilter(t){const n=new Ll({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});n.copyToChannel(t,0,0),this.convolverNode.buffer=n}setLowpass(t){const n=this.audioOutputSps;if(t>=n/2){this.setFIRFilter(Float32Array.of(1));return}const r=od(t/n,1e3/n,.001);this.setFIRFilter(r)}setFT8Decoding(t){this.decodeFT8=t}setFmDeemph(t){if(t===0){this.audioInputNode=this.convolverNode;return}const n=1/t,r=this.audioOutputSps,o=-(2*r*Math.tan(n/(2*r)))/(2*r),i=-1,s=(1+o)/(1-o),a=-o/(1-o),l=[a*1,a*-i],c=[1,-s];this.fmDeemphNode=new jh(this.audioCtx,{feedforward:l,feedback:c}),this.fmDeemphNode.connect(this.convolverNode),this.audioInputNode=this.fmDeemphNode}socketMessageInitial(t){const n=JSON.parse(t.data);this.settings=n,this.fftSize=n.fft_size,this.audioMaxSize=n.fft_result_size,this.baseFreq=n.basefreq,this.totalBandwidth=n.total_bandwidth,this.sps=n.sps,this.audioOverlap=n.fft_overlap/2,this.audioMaxSps=n.audio_max_sps,this.grid_locator=n.grid_locator,this.smeter_offset=n.smeter_offset,this.audioL=n.defaults.l,this.audioM=n.defaults.m,this.audioR=n.defaults.r;const r=Math.ceil(this.audioMaxSps*this.audioMaxSize/this.sps/4)*4;this.trueAudioSps=r/this.audioMaxSize*this.sps,this.audioOutputSps=Math.min(this.audioMaxSps,96e3),this.audioSocket.onmessage=this.socketMessage.bind(this),this.initAudio(n),console.log("Audio Samplerate: ",this.trueAudioSps)}socketMessage(t){if(t.data instanceof ArrayBuffer){const n=bd(new Uint8Array(t.data)),r=n.pwr;this.power=.5*this.power+.5*r||1;const o=20*Math.log10(Math.sqrt(this.power)/2);this.dBPower=o,this.squelch&&o<this.squelchThreshold?this.squelchMute=!0:this.squelchMute=!1,this.decode(n.data)}}decode(t){if(!this.audioCtx)return;let n=this.decoder.decode(t);if(n.length!==0){if(this.intervals=this.intervals||Od(1e4,0),this.lens=this.lens||Od(1e4,0),this.lastReceived=this.lastReceived||0,this.lastReceived===0)this.lastReceived=performance.now();else{const r=performance.now(),o=r-this.lastReceived;this.intervals.push(o),this.lastReceived=r,this.lens.push(n.length);let i=!0;this.mode===0?Math.abs(o-this.n1)>Math.abs(this.v)*2+800&&(this.var=0,this.mode=1):(this.var=this.var/2+Math.abs((2*o-this.n1-this.n2)/8),this.var<=63&&(this.mode=0,i=!1)),i&&(this.mode===0?this.d=.125*o+.875*this.d:this.d=this.d+o-this.n1,this.v=.125*Math.abs(o-this.d)+.875*this.v),this.n2=this.n1,this.n1=o}this.pcmArray=n,this.signalDecoder&&this.signalDecoder.decode(n),this.playAudio(n)}}updateAudioParams(){this.demodulation=="CW"?this.audioSocket.send(JSON.stringify({cmd:"window",l:this.audioLOffset,m:this.audioMOffset,r:this.audioROffset})):this.audioSocket.send(JSON.stringify({cmd:"window",l:this.audioL,m:this.audioM,r:this.audioR}))}setAudioDemodulation(t){this.demodulation=t,t=="CW"&&(t="USB"),this.updateFilters(),this.audioSocket.send(JSON.stringify({cmd:"demodulation",demodulation:t}))}setAudioRange(t,n,r,o,i,s){this.audioL=Math.floor(t),this.audioM=n,this.audioR=Math.ceil(r),this.actualL=t,this.actualR=r,this.audioLOffset=Math.floor(o),this.audioMOffset=i,this.audioROffset=Math.ceil(s),this.actualLOffset=o,this.actualROffset=s,this.updateAudioParams()}getAudioRange(){return[this.actualL,this.audioM,this.actualR]}setAudioOptions(t){this.audioOptions=t,this.audioSocket.send(JSON.stringify({cmd:"options",options:t}))}setGain(t){t/=35,this.gain=t,this.gainNode.gain.value=t}setMute(t){t!==this.mute&&(this.mute=t,this.audioSocket.send(JSON.stringify({cmd:"mute",mute:t})))}setCTCSSFilter(t){this.ctcss=t,this.updateFilters()}setAGCSpeed(t,n,r){if(!this.compressor)return;let o,i;switch(t){case"off":this.compressor.ratio.value=1,this.compressor.threshold.value=0,o=null,i=null;break;case"custom":n!==void 0&&r!==void 0?(this.compressor.ratio.value=12,this.compressor.threshold.value=-24,this.compressor.attack.value=n/1e3,this.compressor.release.value=r/1e3,o=n,i=r):(this.compressor.ratio.value=12,this.compressor.threshold.value=-24,this.compressor.attack.value=.003,this.compressor.release.value=.25,o=3,i=250);break;case"fast":this.compressor.ratio.value=12,this.compressor.threshold.value=-24,this.compressor.attack.value=.001,this.compressor.release.value=.05,o=null,i=null;break;case"medium":this.compressor.ratio.value=12,this.compressor.threshold.value=-24,this.compressor.attack.value=.01,this.compressor.release.value=.15,o=null,i=null;break;case"slow":this.compressor.ratio.value=12,this.compressor.threshold.value=-24,this.compressor.attack.value=.05,this.compressor.release.value=.5,o=null,i=null;break;case"default":default:this.compressor.ratio.value=12,this.compressor.threshold.value=-24,this.compressor.attack.value=.003,this.compressor.release.value=.25,o=null,i=null;break}const s={cmd:"agc",speed:t};o!==null&&i!==null&&(s.attack=o,s.release=i),this.audioSocket.send(JSON.stringify(s))}setBufferSize(t){switch(t){case"small":this.bufferThreshold=.05;break;case"large":this.bufferThreshold=.2;break;case"medium":default:this.bufferThreshold=.1;break}const n=this.audioCtx.currentTime;this.playTime=n+this.bufferThreshold,this.audioSocket.send(JSON.stringify({cmd:"buffer",size:t}))}getAudioDelay(){if(!this.audioCtx)return 0;const t=this.playTime-this.audioCtx.currentTime,n=Math.max(0,t*1e3);return this.delayHistory.push(n),this.delayHistory.length>this.maxDelayHistorySize&&this.delayHistory.shift(),this.delayHistory.reduce((r,o)=>r+o,0)/this.delayHistory.length}setSquelch(t){this.squelch=t}setSquelchThreshold(t){this.squelchThreshold=t}getPowerDb(){return this.dBPower}setUserID(t){this.audioSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSignalDecoder(t){this.signalDecoder=t}getSignalDecoder(){return this.signalDecoder}gridSquareToLatLong(t){const n=t.toUpperCase();let r=(n.charCodeAt(0)-65)*20-180,o=(n.charCodeAt(1)-65)*10-90;return n.length>=4&&(r+=(n.charCodeAt(2)-48)*2,o+=n.charCodeAt(3)-48),n.length==6?(r+=(n.charCodeAt(4)-65)*.08333333333333333,o+=(n.charCodeAt(5)-65)*.041666666666666664,r+=.041666666666666664,o+=.010416666666666666):n.length==4&&(r+=1,o+=.5),[o,r]}initTimer(){setInterval(()=>{this.updateCollectionStatus()},1e3)}extractGridLocators(t){const n=/[A-R]{2}[0-9]{2}([A-X]{2})?/gi,r=t.match(n);return r?Array.from(new Set(r)):[]}calculateDistance(t,n,r,o){function i(f){return f*Math.PI/180}var s=6371,a=i(r-t),l=i(o-n),c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(i(t))*Math.cos(i(r))*Math.sin(l/2)*Math.sin(l/2),h=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),p=s*h;return p}updateCollectionStatus(){const t=15-new Date().getSeconds()%15;t===15&&!this.isCollecting?this.startCollection():t===1&&this.isCollecting&&this.stopCollection()}startCollection(){this.isCollecting=!0,this.accumulator=[]}async stopCollection(){if(this.isCollecting=!1,this.decodeFT8){const t=new Float32Array(this.accumulator.flat());let n=await cv(t);const r=document.getElementById("ft8MessagesList");let o=this.gridSquareToLatLong(this.grid_locator);for(let i of n){let s=this.extractGridLocators(i.text);if(s.length>0){let a=this.gridSquareToLatLong(s[0]),l=this.calculateDistance(o[0],o[1],a[0],a[1]);l>this.farthestDistance&&(this.farthestDistance=l,document.getElementById("farthest-distance").textContent="Farthest Distance: ".concat(this.farthestDistance.toFixed(2)," km"));const c=document.createElement("div");c.classList.add("glass-message","p-2","rounded-lg","text-sm","flex","justify-between","items-center");const h=document.createElement("div");h.classList.add("flex-grow"),h.textContent=i.text,c.appendChild(h);const p=document.createElement("div");p.classList.add("flex","flex-col","items-end","ml-2","text-xs");const f=document.createElement("div");s.forEach((m,w)=>{const _=document.createElement("a");_.href="https://www.levinecentral.com/ham/grid_square.php?&Grid=".concat(m,"&Zoom=13&sm=y"),_.classList.add("text-yellow-300","hover:underline"),_.textContent=m,_.target="_blank",w>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(_)}),p.appendChild(f);const y=document.createElement("div");y.textContent="".concat(l.toFixed(2)," km"),p.appendChild(y),c.appendChild(p),r.appendChild(c)}}setTimeout(()=>{r.scrollTop=r.scrollHeight},500)}}playAudio(t){if(this.mute||this.squelchMute&&this.squelch||this.audioCtx.state!=="running")return;this.isCollecting&&this.decodeFT8&&this.accumulator.push(...t);const n=this.playPCM(t,this.playTime,this.audioOutputSps,1),r=this.audioCtx.currentTime,o=this.bufferThreshold||.1;this.playTime-r<=o?this.playTime=r+o+n:this.playTime-r>.5?this.playTime=r+o:this.playTime+=n,this.isRecording&&this.recordedAudio.push(...t)}playPCM(t,n,r,o){if(!this.audioInputNode)return console.warn("Audio not initialized"),0;const i=new Ih(this.audioCtx),s=new Ll({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});s.copyToChannel(t,0,0),i.buffer=s,i.connect(this.audioInputNode);const a=Math.max(n,this.audioCtx.currentTime);return i.start(a),i.onended=()=>{i.disconnect()},s.duration}startRecording(){this.isRecording||(this.isRecording=!0,this.recordedChunks=[],this.mediaRecorder=new MediaRecorder(this.destinationNode.stream),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.start())}stopRecording(){this.isRecording&&(this.isRecording=!1,this.mediaRecorder.stop())}downloadRecording(){if(this.recordedChunks.length===0){console.warn("No recorded audio to download");return}new Blob(this.recordedChunks,{type:"audio/webm"}).arrayBuffer().then(t=>{this.audioCtx.decodeAudioData(t).then(n=>{const r=this.createWavFile(n),o=URL.createObjectURL(new Blob([r],{type:"audio/wav"})),i=document.createElement("a");document.body.appendChild(i),i.style.display="none",i.href=o,i.download="recorded_audio.wav",i.click(),window.URL.revokeObjectURL(o)})})}createWavFile(t){const n=t.numberOfChannels,r=t.sampleRate,o=1,i=16,s=i/8,a=n*s,l=r*a,c=t.length*a,h=44+c,p=new ArrayBuffer(h),f=new DataView(p),y=(w,_,L)=>{for(let O=0;O<L.length;O++)w.setUint8(_+O,L.charCodeAt(O))};y(f,0,"RIFF"),f.setUint32(4,h-8,!0),y(f,8,"WAVE"),y(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,o,!0),f.setUint16(22,n,!0),f.setUint32(24,r,!0),f.setUint32(28,l,!0),f.setUint16(32,a,!0),f.setUint16(34,i,!0),y(f,36,"data"),f.setUint32(40,c,!0);const m=44;for(let w=0;w<t.numberOfChannels;w++){const _=t.getChannelData(w);for(let L=0;L<_.length;L++){const O=Math.max(-1,Math.min(1,_[L]));f.setInt16(m+(L*n+w)*s,O*32767,!0)}}return p}}var Ew={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function Fw(e,t,n){return e*(1-n)+t*n}var Ow=Fw,Vh=Ew,la=Ow,Rw=Iw;function Iw(e){var t,n,r,o,i,s,a,l,f,c,h;if(e||(e={}),l=(e.nshades||72)-1,a=e.format||"hex",s=e.colormap,s||(s="jet"),typeof s=="string"){if(s=s.toLowerCase(),!Vh[s])throw Error(s+" not a supported colorscale");i=Vh[s]}else if(Array.isArray(s))i=s.slice();else throw Error("unsupported colormap option",s);if(i.length>l+1)throw new Error(s+" map requires nshades to be at least size "+i.length);Array.isArray(e.alpha)?e.alpha.length!==2?c=[1,1]:c=e.alpha.slice():typeof e.alpha=="number"?c=[e.alpha,e.alpha]:c=[1,1],t=i.map(function(w){return Math.round(w.index*l)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var p=i.map(function(w,_){var L=i[_].index,O=i[_].rgb.slice();return O.length===4&&O[3]>=0&&O[3]<=1||(O[3]=c[0]+(c[1]-c[0])*L),O}),f=[];for(h=0;h<t.length-1;++h){o=t[h+1]-t[h],n=p[h],r=p[h+1];for(var y=0;y<o;y++){var m=y/o;f.push([Math.round(la(n[0],r[0],m)),Math.round(la(n[1],r[1],m)),Math.round(la(n[2],r[2],m)),la(n[3],r[3],m)])}}return f.push(i[i.length-1].rgb.concat(c[1])),a==="hex"?f=f.map(Nw):a==="rgbaString"?f=f.map(Dw):a==="float"&&(f=f.map(Pw)),f}function Pw(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function Nw(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function Dw(e){return"rgba("+e.join(",")+")"}const Lw=eo(Rw),qw=[[.18995,.07176,.23217],[.19483,.08339,.26149],[.19956,.09498,.29024],[.20415,.10652,.31844],[.2086,.11802,.34607],[.21291,.12947,.37314],[.21708,.14087,.39964],[.22111,.15223,.42558],[.225,.16354,.45096],[.22875,.17481,.47578],[.23236,.18603,.50004],[.23582,.1972,.52373],[.23915,.20833,.54686],[.24234,.21941,.56942],[.24539,.23044,.59142],[.2483,.24143,.61286],[.25107,.25237,.63374],[.25369,.26327,.65406],[.25618,.27412,.67381],[.25853,.28492,.693],[.26074,.29568,.71162],[.2628,.30639,.72968],[.26473,.31706,.74718],[.26652,.32768,.76412],[.26816,.33825,.7805],[.26967,.34878,.79631],[.27103,.35926,.81156],[.27226,.3697,.82624],[.27334,.38008,.84037],[.27429,.39043,.85393],[.27509,.40072,.86692],[.27576,.41097,.87936],[.27628,.42118,.89123],[.27667,.43134,.90254],[.27691,.44145,.91328],[.27701,.45152,.92347],[.27698,.46153,.93309],[.2768,.47151,.94214],[.27648,.48144,.95064],[.27603,.49132,.95857],[.27543,.50115,.96594],[.27469,.51094,.97275],[.27381,.52069,.97899],[.27273,.5304,.98461],[.27106,.54015,.9893],[.26878,.54995,.99303],[.26592,.55979,.99583],[.26252,.56967,.99773],[.25862,.57958,.99876],[.25425,.5895,.99896],[.24946,.59943,.99835],[.24427,.60937,.99697],[.23874,.61931,.99485],[.23288,.62923,.99202],[.22676,.63913,.98851],[.22039,.64901,.98436],[.21382,.65886,.97959],[.20708,.66866,.97423],[.20021,.67842,.96833],[.19326,.68812,.9619],[.18625,.69775,.95498],[.17923,.70732,.94761],[.17223,.7168,.93981],[.16529,.7262,.93161],[.15844,.73551,.92305],[.15173,.74472,.91416],[.14519,.75381,.90496],[.13886,.76279,.8955],[.13278,.77165,.8858],[.12698,.78037,.8759],[.12151,.78896,.86581],[.11639,.7974,.85559],[.11167,.80569,.84525],[.10738,.81381,.83484],[.10357,.82177,.82437],[.10026,.82955,.81389],[.0975,.83714,.80342],[.09532,.84455,.79299],[.09377,.85175,.78264],[.09287,.85875,.7724],[.09267,.86554,.7623],[.0932,.87211,.75237],[.09451,.87844,.74265],[.09662,.88454,.73316],[.09958,.8904,.72393],[.10342,.896,.715],[.10815,.90142,.70599],[.11374,.90673,.69651],[.12014,.91193,.6866],[.12733,.91701,.67627],[.13526,.92197,.66556],[.14391,.9268,.65448],[.15323,.93151,.64308],[.16319,.93609,.63137],[.17377,.94053,.61938],[.18491,.94484,.60713],[.19659,.94901,.59466],[.20877,.95304,.58199],[.22142,.95692,.56914],[.23449,.96065,.55614],[.24797,.96423,.54303],[.2618,.96765,.52981],[.27597,.97092,.51653],[.29042,.97403,.50321],[.30513,.97697,.48987],[.32006,.97974,.47654],[.33517,.98234,.46325],[.35043,.98477,.45002],[.36581,.98702,.43688],[.38127,.98909,.42386],[.39678,.99098,.41098],[.41229,.99268,.39826],[.42778,.99419,.38575],[.44321,.99551,.37345],[.45854,.99663,.3614],[.47375,.99755,.34963],[.48879,.99828,.33816],[.50362,.99879,.32701],[.51822,.9991,.31622],[.53255,.99919,.30581],[.54658,.99907,.29581],[.56026,.99873,.28623],[.57357,.99817,.27712],[.58646,.99739,.26849],[.59891,.99638,.26038],[.61088,.99514,.2528],[.62233,.99366,.24579],[.63323,.99195,.23937],[.64362,.98999,.23356],[.65394,.98775,.22835],[.66428,.98524,.2237],[.67462,.98246,.2196],[.68494,.97941,.21602],[.69525,.9761,.21294],[.70553,.97255,.21032],[.71577,.96875,.20815],[.72596,.9647,.2064],[.7361,.96043,.20504],[.74617,.95593,.20406],[.75617,.95121,.20343],[.76608,.94627,.20311],[.77591,.94113,.2031],[.78563,.93579,.20336],[.79524,.93025,.20386],[.80473,.92452,.20459],[.8141,.91861,.20552],[.82333,.91253,.20663],[.83241,.90627,.20788],[.84133,.89986,.20926],[.8501,.89328,.21074],[.85868,.88655,.2123],[.86709,.87968,.21391],[.8753,.87267,.21555],[.88331,.86553,.21719],[.89112,.85826,.2188],[.8987,.85087,.22038],[.90605,.84337,.22188],[.91317,.83576,.22328],[.92004,.82806,.22456],[.92666,.82025,.2257],[.93301,.81236,.22667],[.93909,.80439,.22744],[.94489,.79634,.228],[.95039,.78823,.22831],[.9556,.78005,.22836],[.96049,.77181,.22811],[.96507,.76352,.22754],[.96931,.75519,.22663],[.97323,.74682,.22536],[.97679,.73842,.22369],[.98,.73,.22161],[.98289,.7214,.21918],[.98549,.7125,.2165],[.98781,.7033,.21358],[.98986,.69382,.21043],[.99163,.68408,.20706],[.99314,.67408,.20348],[.99438,.66386,.19971],[.99535,.65341,.19577],[.99607,.64277,.19165],[.99654,.63193,.18738],[.99675,.62093,.18297],[.99672,.60977,.17842],[.99644,.59846,.17376],[.99593,.58703,.16899],[.99517,.57549,.16412],[.99419,.56386,.15918],[.99297,.55214,.15417],[.99153,.54036,.1491],[.98987,.52854,.14398],[.98799,.51667,.13883],[.9859,.50479,.13367],[.9836,.49291,.12849],[.98108,.48104,.12332],[.97837,.4692,.11817],[.97545,.4574,.11305],[.97234,.44565,.10797],[.96904,.43399,.10294],[.96555,.42241,.09798],[.96187,.41093,.0931],[.95801,.39958,.08831],[.95398,.38836,.08362],[.94977,.37729,.07905],[.94538,.36638,.07461],[.94084,.35566,.07031],[.93612,.34513,.06616],[.93125,.33482,.06218],[.92623,.32473,.05837],[.92105,.31489,.05475],[.91572,.3053,.05134],[.91024,.29599,.04814],[.90463,.28696,.04516],[.89888,.27824,.04243],[.89298,.26981,.03993],[.88691,.26152,.03753],[.88066,.25334,.03521],[.87422,.24526,.03297],[.8676,.2373,.03082],[.86079,.22945,.02875],[.8538,.2217,.02677],[.84662,.21407,.02487],[.83926,.20654,.02305],[.83172,.19912,.02131],[.82399,.19182,.01966],[.81608,.18462,.01809],[.80799,.17753,.0166],[.79971,.17055,.0152],[.79125,.16368,.01387],[.7826,.15693,.01264],[.77377,.15028,.01148],[.76476,.14374,.01041],[.75556,.13731,.00942],[.74617,.13098,.00851],[.73661,.12477,.00769],[.72686,.11867,.00695],[.71692,.11268,.00629],[.7068,.1068,.00571],[.6965,.10102,.00522],[.68602,.09536,.00481],[.67535,.0898,.00449],[.66449,.08436,.00424],[.65345,.07902,.00408],[.64223,.0738,.00401],[.63082,.06868,.00401],[.61923,.06367,.0041],[.60746,.05878,.00427],[.5955,.05399,.00453],[.58336,.04931,.00486],[.57103,.04474,.00529],[.55852,.04028,.00579],[.54583,.03593,.00638],[.53295,.03169,.00705],[.51989,.02756,.0078],[.50664,.02354,.00863],[.49321,.01963,.00955],[.4796,.01583,.01055]],Bw=[[0,0,0],[0,0,.007843],[0,0,.015686],[0,0,.023529],[0,0,.031373],[0,0,.039216],[0,0,.047059],[0,0,.054902],[0,0,.062745],[0,0,.070588],[0,0,.078431],[0,0,.086275],[0,0,.094118],[0,0,.101961],[0,0,.109804],[0,0,.117647],[0,0,.12549],[0,0,.133333],[0,0,.141176],[0,0,.14902],[0,0,.156863],[0,0,.164706],[0,0,.172549],[0,0,.180392],[0,0,.188235],[0,0,.196078],[0,0,.203922],[0,0,.211765],[0,0,.219608],[0,0,.227451],[0,0,.235294],[0,0,.243137],[0,0,.25098],[0,0,.258824],[0,0,.266667],[0,0,.27451],[0,0,.282353],[0,0,.290196],[0,0,.298039],[0,0,.305882],[0,0,.313725],[0,0,.321569],[0,0,.329412],[0,0,.337255],[0,0,.345098],[0,0,.352941],[0,0,.360784],[0,0,.368627],[0,0,.376471],[0,0,.384314],[0,0,.392157],[0,0,.4],[0,0,.407843],[0,0,.415686],[0,0,.423529],[0,0,.431373],[0,0,.439216],[0,0,.447059],[0,0,.454902],[0,0,.462745],[0,0,.470588],[0,0,.478431],[0,0,.486275],[0,0,.494118],[0,0,.501961],[.011765,0,.509804],[.023529,0,.517647],[.035294,0,.52549],[.047059,0,.533333],[.058824,0,.541176],[.070588,0,.54902],[.082353,0,.556863],[.094118,0,.564706],[.105882,0,.572549],[.117647,0,.580392],[.129412,0,.588235],[.141176,0,.596078],[.152941,0,.603922],[.164706,0,.611765],[.176471,0,.619608],[.188235,0,.627451],[.2,0,.635294],[.211765,0,.643137],[.223529,0,.65098],[.235294,0,.658824],[.247059,0,.666667],[.258824,0,.67451],[.270588,0,.682353],[.282353,0,.690196],[.294118,0,.698039],[.305882,0,.705882],[.317647,0,.713725],[.329412,0,.721569],[.341176,0,.729412],[.352941,0,.737255],[.364706,0,.745098],[.376471,0,.752941],[.388235,0,.760784],[.4,0,.768627],[.411765,0,.776471],[.423529,0,.784314],[.435294,0,.792157],[.447059,0,.8],[.458824,0,.807843],[.470588,0,.815686],[.482353,0,.823529],[.494118,0,.831373],[.505882,0,.839216],[.517647,0,.847059],[.529412,0,.854902],[.541176,0,.862745],[.552941,0,.870588],[.564706,0,.878431],[.576471,0,.886275],[.588235,0,.894118],[.6,0,.901961],[.611765,0,.909804],[.623529,0,.917647],[.635294,0,.92549],[.647059,0,.933333],[.658824,0,.941176],[.670588,0,.94902],[.682353,0,.956863],[.694118,0,.964706],[.705882,0,.972549],[.717647,0,.980392],[.729412,0,.988235],[.741176,0,.996078],[.752941,0,1],[.756863,.12549,.992157],[.760784,.176471,.984314],[.764706,.215686,.976471],[.768627,.25098,.968627],[.772549,.278431,.960784],[.776471,.305882,.952941],[.780392,.329412,.945098],[.784314,.352941,.937255],[.788235,.376471,.929412],[.792157,.396078,.921569],[.796078,.415686,.913725],[.8,.431373,.905882],[.803922,.45098,.898039],[.807843,.466667,.890196],[.811765,.482353,.882353],[.815686,.501961,.87451],[.819608,.513725,.866667],[.823529,.529412,.858824],[.827451,.545098,.85098],[.831373,.560784,.843137],[.835294,.572549,.835294],[.839216,.588235,.827451],[.843137,.6,.819608],[.847059,.611765,.811765],[.85098,.627451,.803922],[.854902,.639216,.796078],[.858824,.65098,.788235],[.862745,.662745,.780392],[.866667,.67451,.772549],[.870588,.686275,.764706],[.87451,.698039,.756863],[.878431,.709804,.74902],[.882353,.717647,.741176],[.886275,.729412,.733333],[.890196,.741176,.72549],[.894118,.752941,.717647],[.898039,.760784,.709804],[.901961,.772549,.701961],[.905882,.780392,.694118],[.909804,.792157,.686275],[.913725,.8,.678431],[.917647,.811765,.670588],[.921569,.819608,.662745],[.92549,.831373,.654902],[.929412,.839216,.647059],[.933333,.85098,.639216],[.937255,.858824,.631373],[.941176,.866667,.623529],[.945098,.878431,.615686],[.94902,.886275,.607843],[.952941,.894118,.6],[.956863,.901961,.592157],[.960784,.909804,.584314],[.964706,.921569,.576471],[.968627,.929412,.568627],[.972549,.937255,.560784],[.976471,.945098,.552941],[.980392,.952941,.545098],[.984314,.960784,.537255],[.988235,.968627,.529412],[.992157,.976471,.521569],[.996078,.984314,.513725],[1,.992157,.505882],[1,1,.501961],[1,1,.509804],[1,1,.517647],[1,1,.52549],[1,1,.533333],[1,1,.541176],[1,1,.54902],[1,1,.556863],[1,1,.564706],[1,1,.572549],[1,1,.580392],[1,1,.588235],[1,1,.596078],[1,1,.603922],[1,1,.611765],[1,1,.619608],[1,1,.627451],[1,1,.635294],[1,1,.643137],[1,1,.65098],[1,1,.658824],[1,1,.666667],[1,1,.67451],[1,1,.682353],[1,1,.690196],[1,1,.698039],[1,1,.705882],[1,1,.713725],[1,1,.721569],[1,1,.729412],[1,1,.737255],[1,1,.745098],[1,1,.752941],[1,1,.760784],[1,1,.768627],[1,1,.776471],[1,1,.784314],[1,1,.792157],[1,1,.8],[1,1,.807843],[1,1,.815686],[1,1,.823529],[1,1,.831373],[1,1,.839216],[1,1,.847059],[1,1,.854902],[1,1,.862745],[1,1,.870588],[1,1,.878431],[1,1,.886275],[1,1,.894118],[1,1,.901961],[1,1,.909804],[1,1,.917647],[1,1,.92549],[1,1,.933333],[1,1,.941176],[1,1,.94902],[1,1,.956863],[1,1,.964706],[1,1,.972549],[1,1,.980392],[1,1,.988235],[1,1,.996078]],kr=[];for(let e=0;e<256;e++)e<20?kr.push([0,0,0]):e>=20&&e<70?kr.push([0,0,140*(e-20)/50]):e>=70&&e<100?kr.push([60*(e-70)/30,125*(e-70)/30,115*(e-70)/30+140]):e>=100&&e<150?kr.push([195*(e-100)/50+60,130*(e-100)/50+125,255-255*(e-100)/50]):e>=150&&e<250?kr.push([255,255-255*(e-150)/100,0]):e>=250&&kr.push([255,255*(e-250)/5,255*(e-250)/5]),kr[e]=kr[e].map(t=>t/255);const Yo=[];for(let e=0;e<256;e++){if(e<105){const t=13*e/105,n=0,r=134*e/105;Yo.push([t,n,r])}else if(e<192){const t=98+157*(e-96)/63,n=0+254*(e-96)/63,r=176+19*(e-96)/63;Yo.push([t,n,r])}else Yo.push([255,254,195]);Yo[e]=Yo[e].map(t=>t/255)}const co=[];for(let e=0;e<256;e++){if(e<64){const t=128+e*2;co.push([0,0,t])}else if(e<128){const t=(e-64)*4,n=255-(e-64)*4;co.push([0,t,n])}else if(e<192){const t=(e-128)*4;co.push([t,255,0])}else{const t=255-(e-192)*4;co.push([255,t,0])}co[e]=co[e].map(t=>Math.min(t,255)/255)}const Gh={turbo:qw,gqrx:kr,twente:Yo,twentev2:Bw,SpectraVU:co},ql=["turbo","gqrx","twente","twentev2","SpectraVU"];function Xh(e){return e.map(t=>{const n=new Uint8ClampedArray(4);return t.length<4&&(t=[...t,255]),n.set(t.map(r=>Math.round(r*255))),n})}function Yh(e){let t;return e in Gh?t=Gh[e]:t=Lw({colormap:e,nshades:256,format:"float",alpha:1}),t}var Bi=function(e){return e&&e.Math===Math&&e},an=Bi(typeof globalThis=="object"&&globalThis)||Bi(typeof window=="object"&&window)||Bi(typeof self=="object"&&self)||Bi(typeof ki=="object"&&ki)||Bi(typeof ki=="object"&&ki)||function(){return this}()||Function("return this")(),Bl={},Cr=function(e){try{return!!e()}catch(t){return!0}},jw=Cr,uo=!jw(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),$w=Cr,ca=!$w(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Uw=ca,ua=Function.prototype.call,jl=Uw?ua.bind(ua):function(){return ua.apply(ua,arguments)},Zh={},Jh={}.propertyIsEnumerable,Kh=Object.getOwnPropertyDescriptor,zw=Kh&&!Jh.call({1:2},1);Zh.f=zw?function(e){var t=Kh(this,e);return!!t&&t.enumerable}:Jh;var Qh=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},e1=ca,t1=Function.prototype,$l=t1.call,Ww=e1&&t1.bind.bind($l,$l),Xn=e1?Ww:function(e){return function(){return $l.apply(e,arguments)}},n1=Xn,Hw=n1({}.toString),Vw=n1("".slice),Ul=function(e){return Vw(Hw(e),8,-1)},Gw=Xn,Xw=Cr,Yw=Ul,zl=Object,Zw=Gw("".split),Jw=Xw(function(){return!zl("z").propertyIsEnumerable(0)})?function(e){return Yw(e)==="String"?Zw(e,""):zl(e)}:zl,r1=function(e){return e==null},Kw=r1,Qw=TypeError,o1=function(e){if(Kw(e))throw new Qw("Can't call method on "+e);return e},e5=Jw,t5=o1,Wl=function(e){return e5(t5(e))},Hl=typeof document=="object"&&document.all,Ln=typeof Hl>"u"&&Hl!==void 0?function(e){return typeof e=="function"||e===Hl}:function(e){return typeof e=="function"},n5=Ln,ji=function(e){return typeof e=="object"?e!==null:n5(e)},Vl=an,r5=Ln,o5=function(e){return r5(e)?e:void 0},Gl=function(e,t){return arguments.length<2?o5(Vl[e]):Vl[e]&&Vl[e][t]},i5=Xn,s5=i5({}.isPrototypeOf),Xl=typeof navigator<"u"&&String(navigator.userAgent)||"",i1=an,Yl=Xl,s1=i1.process,a1=i1.Deno,l1=s1&&s1.versions||a1&&a1.version,c1=l1&&l1.v8,Yn,da;c1&&(Yn=c1.split("."),da=Yn[0]>0&&Yn[0]<4?1:+(Yn[0]+Yn[1])),!da&&Yl&&(Yn=Yl.match(/Edge\/(\d+)/),(!Yn||Yn[1]>=74)&&(Yn=Yl.match(/Chrome\/(\d+)/),Yn&&(da=+Yn[1])));var a5=da,u1=a5,l5=Cr,c5=an,u5=c5.String,d1=!!Object.getOwnPropertySymbols&&!l5(function(){var e=Symbol("symbol detection");return!u5(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&u1&&u1<41}),d5=d1,h1=d5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",h5=Gl,p5=Ln,f5=s5,m5=h1,g5=Object,p1=m5?function(e){return typeof e=="symbol"}:function(e){var t=h5("Symbol");return p5(t)&&f5(t.prototype,g5(e))},v5=String,y5=function(e){try{return v5(e)}catch(t){return"Object"}},b5=Ln,w5=y5,x5=TypeError,f1=function(e){if(b5(e))return e;throw new x5(w5(e)+" is not a function")},k5=f1,C5=r1,_5=function(e,t){var n=e[t];return C5(n)?void 0:k5(n)},Zl=jl,Jl=Ln,Kl=ji,S5=TypeError,M5=function(e,t){var n,r;if(t==="string"&&Jl(n=e.toString)&&!Kl(r=Zl(n,e))||Jl(n=e.valueOf)&&!Kl(r=Zl(n,e))||t!=="string"&&Jl(n=e.toString)&&!Kl(r=Zl(n,e)))return r;throw new S5("Can't convert object to primitive value")},m1={exports:{}},g1=an,A5=Object.defineProperty,Ql=function(e,t){try{A5(g1,e,{value:t,configurable:!0,writable:!0})}catch(n){g1[e]=t}return t},T5=an,E5=Ql,v1="__core-js_shared__",y1=m1.exports=T5[v1]||E5(v1,{});(y1.versions||(y1.versions=[])).push({version:"3.36.1",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"});var ec=m1.exports,b1=ec,w1=function(e,t){return b1[e]||(b1[e]=t||{})},F5=o1,O5=Object,R5=function(e){return O5(F5(e))},I5=Xn,P5=R5,N5=I5({}.hasOwnProperty),qr=Object.hasOwn||function(e,t){return N5(P5(e),t)},D5=Xn,L5=0,q5=Math.random(),B5=D5(1 .toString),x1=function(e){return"Symbol("+(e===void 0?"":e)+")_"+B5(++L5+q5,36)},j5=an,$5=w1,k1=qr,U5=x1,z5=d1,W5=h1,Zo=j5.Symbol,tc=$5("wks"),H5=W5?Zo.for||Zo:Zo&&Zo.withoutSetter||U5,V5=function(e){return k1(tc,e)||(tc[e]=z5&&k1(Zo,e)?Zo[e]:H5("Symbol."+e)),tc[e]},G5=jl,C1=ji,_1=p1,X5=_5,Y5=M5,Z5=V5,J5=TypeError,K5=Z5("toPrimitive"),Q5=function(e,t){if(!C1(e)||_1(e))return e;var n=X5(e,K5),r;if(n){if(t===void 0&&(t="default"),r=G5(n,e,t),!C1(r)||_1(r))return r;throw new J5("Can't convert object to primitive value")}return t===void 0&&(t="number"),Y5(e,t)},e3=Q5,t3=p1,S1=function(e){var t=e3(e,"string");return t3(t)?t:t+""},n3=an,M1=ji,nc=n3.document,r3=M1(nc)&&M1(nc.createElement),A1=function(e){return r3?nc.createElement(e):{}},o3=uo,i3=Cr,s3=A1,T1=!o3&&!i3(function(){return Object.defineProperty(s3("div"),"a",{get:function(){return 7}}).a!==7}),a3=uo,l3=jl,c3=Zh,u3=Qh,d3=Wl,h3=S1,p3=qr,f3=T1,E1=Object.getOwnPropertyDescriptor;Bl.f=a3?E1:function(e,t){if(e=d3(e),t=h3(t),f3)try{return E1(e,t)}catch(n){}if(p3(e,t))return u3(!l3(c3.f,e,t),e[t])};var ha={},g3=uo,v3=Cr,y3=g3&&v3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),b3=ji,w3=String,x3=TypeError,F1=function(e){if(b3(e))return e;throw new x3(w3(e)+" is not an object")},k3=uo,C3=T1,_3=y3,pa=F1,O1=S1,S3=TypeError,rc=Object.defineProperty,M3=Object.getOwnPropertyDescriptor,oc="enumerable",ic="configurable",sc="writable";ha.f=k3?_3?function(e,t,n){if(pa(e),t=O1(t),pa(n),typeof e=="function"&&t==="prototype"&&"value"in n&&sc in n&&!n[sc]){var r=M3(e,t);r&&r[sc]&&(e[t]=n.value,n={configurable:ic in n?n[ic]:r[ic],enumerable:oc in n?n[oc]:r[oc],writable:!1})}return rc(e,t,n)}:rc:function(e,t,n){if(pa(e),t=O1(t),pa(n),C3)try{return rc(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new S3("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var A3=uo,T3=ha,E3=Qh,R1=A3?function(e,t,n){return T3.f(e,t,E3(1,n))}:function(e,t,n){return e[t]=n,e},I1={exports:{}},ac=uo,F3=qr,P1=Function.prototype,O3=ac&&Object.getOwnPropertyDescriptor,lc=F3(P1,"name"),R3=lc&&(function(){}).name==="something",I3=lc&&(!ac||ac&&O3(P1,"name").configurable),P3={EXISTS:lc,PROPER:R3,CONFIGURABLE:I3},N3=Xn,D3=Ln,cc=ec,L3=N3(Function.toString);D3(cc.inspectSource)||(cc.inspectSource=function(e){return L3(e)});var q3=cc.inspectSource,B3=an,j3=Ln,N1=B3.WeakMap,$3=j3(N1)&&/native code/.test(String(N1)),U3=w1,z3=x1,D1=U3("keys"),W3=function(e){return D1[e]||(D1[e]=z3(e))},L1={},H3=$3,q1=an,V3=ji,G3=R1,uc=qr,dc=ec,X3=W3,Y3=L1,B1="Object already initialized",hc=q1.TypeError,Z3=q1.WeakMap,fa,$i,ma,J3=function(e){return ma(e)?$i(e):fa(e,{})},K3=function(e){return function(t){var n;if(!V3(t)||(n=$i(t)).type!==e)throw new hc("Incompatible receiver, "+e+" required");return n}};if(H3||dc.state){var or=dc.state||(dc.state=new Z3);or.get=or.get,or.has=or.has,or.set=or.set,fa=function(e,t){if(or.has(e))throw new hc(B1);return t.facade=e,or.set(e,t),t},$i=function(e){return or.get(e)||{}},ma=function(e){return or.has(e)}}else{var Jo=X3("state");Y3[Jo]=!0,fa=function(e,t){if(uc(e,Jo))throw new hc(B1);return t.facade=e,G3(e,Jo,t),t},$i=function(e){return uc(e,Jo)?e[Jo]:{}},ma=function(e){return uc(e,Jo)}}var Q3={set:fa,get:$i,has:ma,enforce:J3,getterFor:K3},pc=Xn,e6=Cr,t6=Ln,ga=qr,fc=uo,n6=P3.CONFIGURABLE,r6=q3,j1=Q3,o6=j1.enforce,i6=j1.get,$1=String,va=Object.defineProperty,s6=pc("".slice),a6=pc("".replace),l6=pc([].join),c6=fc&&!e6(function(){return va(function(){},"length",{value:8}).length!==8}),u6=String(String).split("String"),d6=I1.exports=function(e,t,n){s6($1(t),0,7)==="Symbol("&&(t="["+a6($1(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!ga(e,"name")||n6&&e.name!==t)&&(fc?va(e,"name",{value:t,configurable:!0}):e.name=t),c6&&n&&ga(n,"arity")&&e.length!==n.arity&&va(e,"length",{value:n.arity});try{n&&ga(n,"constructor")&&n.constructor?fc&&va(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=o6(e);return ga(r,"source")||(r.source=l6(u6,typeof t=="string"?t:"")),e};Function.prototype.toString=d6(function(){return t6(this)&&i6(this).source||r6(this)},"toString");var h6=I1.exports,p6=Ln,f6=ha,m6=h6,g6=Ql,v6=function(e,t,n,r){r||(r={});var o=r.enumerable,i=r.name!==void 0?r.name:t;if(p6(n)&&m6(n,i,r),r.global)o?e[t]=n:g6(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(s){}o?e[t]=n:f6.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},U1={},y6=Math.ceil,b6=Math.floor,w6=Math.trunc||function(e){var t=+e;return(t>0?b6:y6)(t)},x6=w6,z1=function(e){var t=+e;return t!==t||t===0?0:x6(t)},k6=z1,C6=Math.max,_6=Math.min,S6=function(e,t){var n=k6(e);return n<0?C6(n+t,0):_6(n,t)},M6=z1,A6=Math.min,T6=function(e){var t=M6(e);return t>0?A6(t,9007199254740991):0},E6=T6,F6=function(e){return E6(e.length)},O6=Wl,R6=S6,I6=F6,W1=function(e){return function(t,n,r){var o=O6(t),i=I6(o);if(i===0)return!e&&-1;var s=R6(r,i),a;if(e&&n!==n){for(;i>s;)if(a=o[s++],a!==a)return!0}else for(;i>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},P6={includes:W1(!0),indexOf:W1(!1)},N6=Xn,mc=qr,D6=Wl,L6=P6.indexOf,q6=L1,H1=N6([].push),B6=function(e,t){var n=D6(e),r=0,o=[],i;for(i in n)!mc(q6,i)&&mc(n,i)&&H1(o,i);for(;t.length>r;)mc(n,i=t[r++])&&(~L6(o,i)||H1(o,i));return o},j6=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$6=B6,U6=j6,z6=U6.concat("length","prototype");U1.f=Object.getOwnPropertyNames||function(e){return $6(e,z6)};var V1={};V1.f=Object.getOwnPropertySymbols;var W6=Gl,H6=Xn,V6=U1,G6=V1,X6=F1,Y6=H6([].concat),Z6=W6("Reflect","ownKeys")||function(e){var t=V6.f(X6(e)),n=G6.f;return n?Y6(t,n(e)):t},G1=qr,J6=Z6,K6=Bl,Q6=ha,e4=function(e,t,n){for(var r=J6(t),o=Q6.f,i=K6.f,s=0;s<r.length;s++){var a=r[s];!G1(e,a)&&!(n&&G1(n,a))&&o(e,a,i(t,a))}},t4=Cr,n4=Ln,r4=/#|\.prototype\./,Ui=function(e,t){var n=i4[o4(e)];return n===a4?!0:n===s4?!1:n4(t)?t4(t):!!t},o4=Ui.normalize=function(e){return String(e).replace(r4,".").toLowerCase()},i4=Ui.data={},s4=Ui.NATIVE="N",a4=Ui.POLYFILL="P",l4=Ui,ya=an,c4=Bl.f,u4=R1,d4=v6,h4=Ql,p4=e4,f4=l4,X1=function(e,t){var n=e.target,r=e.global,o=e.stat,i,s,a,l,c,h;if(r?s=ya:o?s=ya[n]||h4(n,{}):s=ya[n]&&ya[n].prototype,s)for(a in t){if(c=t[a],e.dontCallGetSet?(h=c4(s,a),l=h&&h.value):l=s[a],i=f4(r?a:n+(o?".":"#")+a,e.forced),!i&&l!==void 0){if(typeof c==typeof l)continue;p4(c,l)}(e.sham||l&&l.sham)&&u4(c,"sham",!0),d4(s,a,c,e)}},g4=ca,Y1=Function.prototype,Z1=Y1.apply,J1=Y1.call,K1=typeof Reflect=="object"&&Reflect.apply||(g4?J1.bind(Z1):function(){return J1.apply(Z1,arguments)}),v4=Ul,y4=Xn,b4=function(e){if(v4(e)==="Function")return y4(e)},Q1=b4,w4=f1,x4=ca,k4=Q1(Q1.bind),C4=function(e,t){return w4(e),t===void 0?e:x4?k4(e,t):function(){return e.apply(t,arguments)}},_4=Gl,S4=_4("document","documentElement"),M4=Xn,ep=M4([].slice),A4=TypeError,tp=function(e,t){if(e<t)throw new A4("Not enough arguments");return e},T4=Xl,E4=/(?:ipad|iphone|ipod).*applewebkit/i.test(T4),F4=an,O4=Ul,R4=O4(F4.process)==="process",An=an,I4=K1,P4=C4,np=Ln,N4=qr,rp=Cr,op=S4,D4=ep,ip=A1,L4=tp,q4=E4,B4=R4,gc=An.setImmediate,vc=An.clearImmediate,j4=An.process,yc=An.Dispatch,$4=An.Function,sp=An.MessageChannel,U4=An.String,bc=0,zi={},ap="onreadystatechange",Wi,ho,wc,xc;rp(function(){Wi=An.location});var kc=function(e){if(N4(zi,e)){var t=zi[e];delete zi[e],t()}},Cc=function(e){return function(){kc(e)}},lp=function(e){kc(e.data)},cp=function(e){An.postMessage(U4(e),Wi.protocol+"//"+Wi.host)};(!gc||!vc)&&(gc=function(e){L4(arguments.length,1);var t=np(e)?e:$4(e),n=D4(arguments,1);return zi[++bc]=function(){I4(t,void 0,n)},ho(bc),bc},vc=function(e){delete zi[e]},B4?ho=function(e){j4.nextTick(Cc(e))}:yc&&yc.now?ho=function(e){yc.now(Cc(e))}:sp&&!q4?(wc=new sp,xc=wc.port2,wc.port1.onmessage=lp,ho=P4(xc.postMessage,xc)):An.addEventListener&&np(An.postMessage)&&!An.importScripts&&Wi&&Wi.protocol!=="file:"&&!rp(cp)?(ho=cp,An.addEventListener("message",lp,!1)):ap in ip("script")?ho=function(e){op.appendChild(ip("script"))[ap]=function(){op.removeChild(this),kc(e)}}:ho=function(e){setTimeout(Cc(e),0)});var up={set:gc,clear:vc},z4=X1,W4=an,dp=up.clear;z4({global:!0,bind:!0,enumerable:!0,forced:W4.clearImmediate!==dp},{clearImmediate:dp});var H4=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",hp=an,V4=K1,G4=Ln,X4=H4,Y4=Xl,Z4=ep,J4=tp,K4=hp.Function,Q4=/MSIE .\./.test(Y4)||X4&&function(){var e=hp.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),ex=function(e,t){var n=t?2:1;return Q4?function(r,o){var i=J4(arguments.length,1)>n,s=G4(r)?r:K4(r),a=i?Z4(arguments,n):[],l=i?function(){V4(s,this,a)}:s;return t?e(l,o):e(l)}:e},tx=X1,pp=an,fp=up.set,nx=ex,mp=pp.setImmediate?nx(fp,!1):fp;tx({global:!0,bind:!0,enumerable:!0,forced:pp.setImmediate!==mp},{setImmediate:mp});var rx=an,gp=rx,ox=gp;ox.setImmediate;var ix=gp;ix.clearImmediate;class sx{constructor(t,n){this.markers=[],this.currentBand=null,this.endpoint=t,this.zoomFactor=1,this.autoAdjust=!1,this.adjustmentBuffer=[],this.bufferSize=50,this.dampeningFactor=.1,this.spectrum=!1,this.waterfall=!1,this.frequencyMarkerComponent=null,this.pendingMarkers=[],this.waterfallQueue=new Ed,this.drawnWaterfallQueue=new Ed,this.lagTime=0,this.spectrumAlpha=.5,this.spectrumFiltered=[[-1,-1],[0]],this.waterfallColourShift=130,this.minWaterfall=-30,this.maxWaterfall=110,this.colormap=[],this.setColormap("gqrx"),this.clients={},this.clientColormap=Xh(Yh("rainbow")),this.updateTimeout=setTimeout(()=>{},0),this.lineResets=0,this.wfheight=200*window.devicePixelRatio;const r={AM:"AM",FM:"FM",LSB:"LSB",USB:"USB",CW:"CW-U",DIGITAL:"DIGITAL"};this.bands=[{name:"2200M HAM",startFreq:135700,endFreq:137800,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:135700,endFreq:137800}]},{name:"630M HAM",startFreq:472e3,endFreq:479e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:472e3,endFreq:475e3},{mode:r.LSB,startFreq:475e3,endFreq:479e3}]},{name:"600M HAM",startFreq:501e3,endFreq:504e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:501e3,endFreq:504e3}]},{name:"160M HAM",startFreq:181e4,endFreq:2e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:181e4,endFreq:184e4},{mode:r.LSB,startFreq:184e4,endFreq:2e6}]},{name:"80M HAM",startFreq:35e5,endFreq:39e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:35e5,endFreq:36e5},{mode:r.LSB,startFreq:36e5,endFreq:39e5}]},{name:"60M HAM",startFreq:5351500,endFreq:5366500,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.USB,startFreq:5351500,endFreq:5366500}]},{name:"49M AM",startFreq:59e5,endFreq:62e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:59e5,endFreq:62e5}]},{name:"40M HAM",startFreq:7e6,endFreq:72e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:7e6,endFreq:705e4},{mode:r.LSB,startFreq:705e4,endFreq:72e5}]},{name:"41M AM",startFreq:72e5,endFreq:745e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:72e5,endFreq:745e4}]},{name:"31M AM",startFreq:94e5,endFreq:99e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:94e5,endFreq:99e5}]},{name:"30M HAM",startFreq:101e5,endFreq:1015e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:101e5,endFreq:1015e4}]},{name:"25M AM",startFreq:116e5,endFreq:121e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:116e5,endFreq:121e5}]},{name:"22M AM",startFreq:1357e4,endFreq:1387e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:1357e4,endFreq:1387e4}]},{name:"20M HAM",startFreq:14e6,endFreq:1435e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:14e6,endFreq:1407e4},{mode:r.USB,startFreq:1407e4,endFreq:1435e4}]},{name:"19M AM",startFreq:151e5,endFreq:158e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:151e5,endFreq:158e5}]},{name:"16M AM",startFreq:1748e4,endFreq:179e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:1748e4,endFreq:179e5}]},{name:"17M HAM",startFreq:18068e3,endFreq:18168e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:18068e3,endFreq:181e5},{mode:r.USB,startFreq:181e5,endFreq:18168e3}]},{name:"15M AM",startFreq:189e5,endFreq:1902e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:189e5,endFreq:1902e4}]},{name:"15M HAM",startFreq:21e6,endFreq:2145e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:21e6,endFreq:2107e4},{mode:r.USB,startFreq:2107e4,endFreq:2145e4}]},{name:"13M AM",startFreq:2145e4,endFreq:2185e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:2145e4,endFreq:2185e4}]},{name:"12M HAM",startFreq:2489e4,endFreq:2499e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:2489e4,endFreq:2492e4},{mode:r.USB,startFreq:2492e4,endFreq:2499e4}]},{name:"11M AM",startFreq:2567e4,endFreq:261e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:2567e4,endFreq:261e5}]},{name:"CB",startFreq:26965e3,endFreq:27405e3,color:"rgba(3, 227, 252, 0.6)",modes:[{mode:r.AM,startFreq:26965e3,endFreq:27405e3}]},{name:"10M HAM",startFreq:28e6,endFreq:297e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:28e6,endFreq:2807e4},{mode:r.USB,startFreq:2807e4,endFreq:297e5}]},{name:"6M HAM",startFreq:5e7,endFreq:54e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:5e7,endFreq:501e5},{mode:r.USB,startFreq:501e5,endFreq:54e6}]},{name:"4M HAM",startFreq:6995e4,endFreq:6995e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.FM,startFreq:6995e4,endFreq:6995e4}]},{name:"4M HAM",startFreq:70112500,endFreq:70412500,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.FM,startFreq:70112500,endFreq:70412500}]},{name:"2M HAM",startFreq:144e6,endFreq:148e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:144e6,endFreq:1441e5},{mode:r.USB,startFreq:1441e5,endFreq:1443e5},{mode:r.FM,startFreq:1443e5,endFreq:148e6}]},{name:"70CM HAM",startFreq:43e7,endFreq:44e7,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:43e7,endFreq:4301e5},{mode:r.USB,startFreq:4301e5,endFreq:4321e5},{mode:r.FM,startFreq:4321e5,endFreq:44e7}]}],this.reusableUint8Array=null,this.reusableImageData=null,this.isDrawing=!1,this.pendingFrame=null,this.cachedCanvasXtoFreq=new Map,this.cachedFreqToCanvasX=new Map,this.cacheSize=1e3,this.markerBatchSize=100,this.markerProcessingIndex=0}addMarker(t,n,r){this.markers.push({frequency:t,name:n,mode:r}),this.markers.sort((o,i)=>o.frequency-i.frequency)}initCanvas(t){this.canvasElem=t.canvasElem,this.ctx=this.canvasElem.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.canvasWidth=this.canvasElem.width,this.canvasHeight=this.canvasElem.height,this.backgroundColor=window.getComputedStyle(document.body,null).getPropertyValue("background-color"),this.curLine=this.canvasHeight/2,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height),this.graduationCanvasElem=t.graduationCanvasElem,this.graduationCtx=this.graduationCanvasElem.getContext("2d"),this.bandPlanCanvasElem=t.bandPlanCanvasElem,this.bandPlanCtx=this.bandPlanCanvasElem.getContext("2d"),this.spectrumCanvasElem=t.spectrumCanvasElem,this.spectrumCtx=this.spectrumCanvasElem.getContext("2d"),this.spectrumCanvasElem.addEventListener("mousemove",this.spectrumMouseMove.bind(this)),this.spectrumCanvasElem.addEventListener("mouseleave",this.spectrumMouseLeave.bind(this)),this.tempCanvasElem=t.tempCanvasElem,this.tempCtx=this.tempCanvasElem.getContext("2d"),this.tempCanvasElem.height=this.wfheight,this.waterfall=!0,this.mobile=!1;let n;this.resizeCallback=()=>{const r=this.canvasWidth,o=this.canvasHeight;this.setCanvasWidth(),!(r===this.canvasWidth&&o===this.canvasHeight)&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.curLine=Math.ceil(this.curLine*this.canvasHeight/o),this.waterfallQueue.clear(),this.drawnWaterfallQueue.clear(),this.clearFrequencyCache(),this.updateGraduation(),this.updateBandPlan(),this.lineResets=0,this.waterfallSocket&&this.waterfallSocket.readyState===WebSocket.OPEN&&this.waterfallSocket.send(JSON.stringify({cmd:"window",l:this.waterfallL,r:this.waterfallR})))},window.addEventListener("resize",()=>{this.updateGraduation(),this.updateBandPlan(),n&&clearTimeout(n),n=setTimeout(this.resizeCallback,100)})}async init(){return this.promise?this.promise:(this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.connectWebSocket(),this.promise)}connectWebSocket(){this.waterfallSocket=new WebSocket(this.endpoint),this.waterfallSocket.binaryType="arraybuffer",this.firstWaterfallMessage=!0,this.waterfallSocket.onmessage=this.socketMessageInitial.bind(this),this.waterfallSocket.onerror=t=>{console.error("WebSocket error:",t),this.rejectPromise&&this.rejectPromise(t)},this.waterfallSocket.onclose=()=>{console.log("WebSocket closed, attempting to reconnect..."),setTimeout(()=>{this.waterfallSocket.readyState===WebSocket.CLOSED&&this.connectWebSocket()},3e3)}}stop(){this.waterfallSocket.close()}setCanvasWidth(){const t=window.devicePixelRatio||1,n=window.innerWidth;let r=n>1372?1372:n;r*=t,this.mobile=n<768||"ontouchstart"in window,this.canvasElem.width=r,this.canvasScale=r/1372,this.spectrumCanvasElem.width=r,this.spectrumCanvasElem.height=r/1372*128,this.graduationCanvasElem.width=r,this.graduationCanvasElem.height=r/1372*30,this.bandPlanCanvasElem.width=r,this.bandPlanCanvasElem.height=r/1372*40,this.canvasElem.height=this.wfheight,this.canvasWidth=r,this.canvasHeight=this.canvasElem.height,this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=this.canvasWidth,this.bufferCanvas.height=this.canvasHeight,this.bufferContext=this.bufferCanvas.getContext("2d",{alpha:!1}),this.ctx.imageSmoothingEnabled=!1,this.bufferContext.imageSmoothingEnabled=!1,this.spectrumCtx.imageSmoothingEnabled=!1,this.graduationCtx.imageSmoothingEnabled=!1,this.bandPlanCtx.imageSmoothingEnabled=!1}setFrequencyMarkerComponent(t){this.frequencyMarkerComponent=t,this.addMarkersToComponent()}addMarkersToComponent(){this.frequencyMarkerComponent&&this.pendingMarkers.length>0&&(this.frequencyMarkerComponent.insertAll(this.pendingMarkers),this.frequencyMarkerComponent.finalizeList(),this.pendingMarkers=[])}socketMessageInitial(t){if(!(t.data instanceof ArrayBuffer)){const n=JSON.parse(t.data);if(!n.fft_size)return;if(n.markers)try{const i=JSON.parse(n.markers);i.markers&&Array.isArray(i.markers)&&(this.pendingMarkers=i.markers.map(s=>({f:s.frequency,d:s.name,m:s.mode})),this.addMarkersToComponent())}catch(i){console.error("Error parsing markers:",i)}this.waterfallMaxSize=n.fft_result_size,this.fftSize=n.fft_size,this.baseFreq=n.basefreq,this.sps=n.sps,this.totalBandwidth=n.total_bandwidth,this.overlap=n.overlap,this.setCanvasWidth(),this.tempCanvasElem.width=n.waterfall_size,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height);const r=Math.max(1,Math.floor(this.sps/this.fftSize/5)*2),o=this.sps/this.fftSize/(r/2);console.log("Waterfall FPS: "+o),requestAnimationFrame(this.drawSpectrogram.bind(this)),this.waterfallL=0,this.waterfallR=this.waterfallMaxSize,this.waterfallSocket.onmessage=this.socketMessage.bind(this),this.firstWaterfallMessage=!1,this.waterfallDecoder=tv(n.waterfall_compression),this.updateGraduation(),this.updateBandPlan(),this.resolvePromise(n)}}socketMessage(t){t.data instanceof ArrayBuffer&&this.enqueueSpectrogram(t.data)}getMouseX(t,n){const r=t.getBoundingClientRect(),o=t.width/r.width;return(n.clientX-r.left)*o}enqueueSpectrogram(t){if(this.waterfallDecoder.decode(t).forEach(n=>{this.waterfallQueue.unshift(n)}),!this.waterfall&&!this.spectrum){this.waterfallQueue.clear();return}for(;this.waterfallQueue.length>5;)this.waterfallQueue.pop()}accumulateAdjustmentData(t){this.adjustmentBuffer.push(...t),this.adjustmentBuffer.length>=this.bufferSize&&(this.adjustWaterfallLimits(this.adjustmentBuffer),this.adjustmentBuffer=[])}adjustWaterfallLimits(t){const n=Math.min(...t)-20,r=Math.max(...t)-20;this.minWaterfall+=(n-this.minWaterfall)*this.dampeningFactor,this.maxWaterfall+=(r-this.maxWaterfall)*this.dampeningFactor}transformValue(t){let n=(Math.max(this.minWaterfall,Math.min(this.maxWaterfall,t))-this.minWaterfall)/(this.maxWaterfall-this.minWaterfall),r=Math.floor(n*255);return Math.max(0,Math.min(255,r))}clearFrequencyCache(){this.cachedCanvasXtoFreq.clear(),this.cachedFreqToCanvasX.clear()}idxToFreq(t){return t/this.waterfallMaxSize*this.totalBandwidth+this.baseFreq}idxToCanvasX(t){return(t-this.waterfallL)/(this.waterfallR-this.waterfallL)*this.canvasWidth}canvasXtoFreq(t){if(this.cachedCanvasXtoFreq.has(t))return this.cachedCanvasXtoFreq.get(t);const n=t/this.canvasWidth*(this.waterfallR-this.waterfallL)+this.waterfallL,r=this.idxToFreq(n);return this.cachedCanvasXtoFreq.size<this.cacheSize&&this.cachedCanvasXtoFreq.set(t,r),r}freqToIdx(t){return(t-this.baseFreq)/this.totalBandwidth*this.waterfallMaxSize}freqToCanvasX(t){if(this.cachedFreqToCanvasX.has(t))return this.cachedFreqToCanvasX.get(t);const n=this.freqToIdx(t),r=this.idxToCanvasX(n);return this.cachedFreqToCanvasX.size<this.cacheSize&&this.cachedFreqToCanvasX.set(t,r),r}calculateOffsets(t,n,r){const o=this.canvasWidth/(this.waterfallR-this.waterfallL),i=(n-this.waterfallL)*o,s=(r-this.waterfallL)*o,a=new Uint8Array(t.length);for(let l=0;l<a.length;l++)a[l]=this.transformValue(t[l]);return[a,i,s]}drawSpectrogram(){const t=()=>{if(this.waterfallQueue.length===0){requestAnimationFrame(t);return}const{data:n,l:r,r:o}=this.waterfallQueue.pop(),[i,s,a]=this.calculateOffsets(n,r,o);this.autoAdjust&&this.accumulateAdjustmentData(i),this.waterfall&&this.drawWaterfall(i,s,a,r,o),this.spectrum&&this.drawSpectrum(i,s,a,r,o),requestAnimationFrame(t)};requestAnimationFrame(t)}async redrawWaterfall(){const t=this.drawnWaterfallQueue.toArray(),n=this.lineResets,r=this.curLine,o=i=>{const s=r+1+i+(this.lineResets-n)*this.canvasHeight/2,[a,l,c]=t[i],[h,p,f]=this.calculateOffsets(a,l,c);this.drawWaterfallLine(h,p,f,s),i+1<t.length&&(this.updateImmediate=setImmediate(()=>o(i+1)))};clearImmediate(this.updateImmediate),t.length&&o(0)}drawWaterfall(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r),this.bufferContext.drawImage(this.ctx.canvas,0,1,this.canvasWidth,this.canvasHeight-1,0,0,this.canvasWidth,this.canvasHeight-1),this.drawWaterfallLine(t,n,r,0,this.bufferContext),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.drawImage(this.bufferCanvas,0,0)}drawWaterfallLine(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r),o=Math.floor(o);const s=r-n,a=i.createImageData(s,1);for(let l=0;l<s;l++){const c=Math.floor(l*(t.length-1)/(s-1)),h=Math.floor(t[c]),p=l*4;a.data.set(this.colormap[h],p)}i.putImageData(a,n,i.canvas.height-1-o)}drawSpectrum(t,n,r,o,i){(o!==this.spectrumFiltered[0][0]||i!==this.spectrumFiltered[0][1])&&(this.spectrumFiltered[1]=t,this.spectrumFiltered[0]=[o,i]);for(let f=0;f<t.length;f++)this.spectrumFiltered[1][f]=this.spectrumAlpha*t[f]+(1-this.spectrumAlpha)*this.spectrumFiltered[1][f];t=this.spectrumFiltered[1];const s=(r-n)/t.length;this.canvasScale;const a=this.spectrumCanvasElem.height,l=t.map(f=>a-f/255*a);this.spectrumCtx.clearRect(0,0,this.spectrumCanvasElem.width,a);const c=this.spectrumCtx.createLinearGradient(0,0,0,a);c.addColorStop(0,"rgba(3, 157, 252, 0.8)"),c.addColorStop(1,"rgba(3, 157, 252, 0.2)"),this.spectrumCtx.lineWidth=2,this.spectrumCtx.strokeStyle="rgba(3, 157, 252, 0.8)",this.spectrumCtx.fillStyle=c,this.spectrumCtx.shadowColor="rgba(3, 157, 252, 0.5)",this.spectrumCtx.shadowBlur=10,this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(n,a);let h=n,p=l[0];this.spectrumCtx.lineTo(h,p);for(let f=1;f<l.length;f++){const y=n+f*s,m=l[f],w=(h+y)/2;this.spectrumCtx.quadraticCurveTo(h,p,w,(p+m)/2),h=y,p=m}this.spectrumCtx.lineTo(r,p),this.spectrumCtx.lineTo(r,a),this.spectrumCtx.closePath(),this.spectrumCtx.fill(),this.spectrumCtx.stroke(),this.spectrumCtx.shadowBlur=0,this.spectrumFreq&&(this.spectrumCtx.font="14px Arial",this.spectrumCtx.fillStyle="rgba(255, 255, 255, 0.9)",this.spectrumCtx.shadowColor="rgba(255, 255, 255, 0.5)",this.spectrumCtx.shadowBlur=5,this.spectrumCtx.fillText("".concat((this.spectrumFreq/1e6).toFixed(6)," MHz"),10,20),this.spectrumCtx.strokeStyle="rgba(255, 255, 255, 0.5)",this.spectrumCtx.lineWidth=1,this.spectrumCtx.setLineDash([5,3]),this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(this.spectrumX,0),this.spectrumCtx.lineTo(this.spectrumX,a),this.spectrumCtx.stroke(),this.spectrumCtx.setLineDash([]))}checkBandAndSetMode(t){let n=null,r=null;for(const o of this.bands)if(t>=o.startFreq&&t<=o.endFreq){n=o;for(const i of o.modes)if(t>=i.startFreq&&t<=i.endFreq){r=i.mode;break}break}return n!==this.currentBand||n&&r!==this.currentMode?(this.currentBand=n,this.currentMode=r,n?(Ve.publish("setMode",r),r):(Ve.publish("outOfBand"),null)):null}updateGraduation(){const t=this.idxToFreq(this.waterfallL),n=this.idxToFreq(this.waterfallR),r=this.canvasScale;let o=1;for(;(n-t)/o>8;)o*=10;o/=10,this.graduationCtx.fillStyle="white",this.graduationCtx.strokeStyle="white",this.graduationCtx.clearRect(0,0,this.graduationCanvasElem.width,this.graduationCanvasElem.height);let i=t;t%o!==0&&(i=t+(o-t%o));for(let s=i;s<=n;s+=o)s!=0&&s.toString().match(/0*$/g)[0].length;for(this.mobile?this.graduationCtx.font="".concat(12*r,"px Inter"):this.graduationCtx.font="".concat(10*r,"px Inter");i<=n;i+=o){const s=(i-t)/(n-t)*this.canvasWidth;let a=5,l=!1;if(i%(o*10)===0?(a=10,l=!0):i%(o*5)===0&&(a=7,l=!0),l){this.graduationCtx.textAlign="center";const c=i/1e3;this.graduationCtx.fillText(c.toString(),s,20*r)}this.graduationCtx.lineWidth=1*r,this.graduationCtx.beginPath(),this.graduationCtx.moveTo(s,(5+(5-a))*r),this.graduationCtx.lineTo(s,10*r),this.graduationCtx.stroke()}this.drawClients()}updateBandPlan(){this.idxToFreq(this.waterfallL),this.idxToFreq(this.waterfallR);const t=this.canvasScale;this.bandPlanCtx.clearRect(0,0,this.bandPlanCanvasElem.width,this.bandPlanCanvasElem.height);const n=10*t,r=25*t;this.bands.forEach(o=>{const i=this.freqToIdx(o.startFreq),s=this.freqToIdx(o.endFreq),a=this.idxToCanvasX(i),l=this.idxToCanvasX(s),c=l-a,h=this.bandPlanCanvasElem.height-n-r;this.bandPlanCtx.strokeStyle=o.color,this.bandPlanCtx.lineWidth=2*t,this.bandPlanCtx.lineCap="round",this.bandPlanCtx.beginPath(),this.bandPlanCtx.moveTo(a,h),this.bandPlanCtx.lineTo(l,h),this.bandPlanCtx.shadowColor=o.color,this.bandPlanCtx.shadowBlur=3*t,this.bandPlanCtx.stroke(),this.bandPlanCtx.shadowColor="transparent",this.bandPlanCtx.shadowBlur=0;let p=this.mobile?12*t:10*t;if(this.bandPlanCtx.font="".concat(p,"px Inter"),this.bandPlanCtx.fillStyle="white",this.bandPlanCtx.textAlign="center",this.bandPlanCtx.textBaseline="top",this.bandPlanCtx.measureText(o.name).width<=c-4*t){const f=h+n+2*t;this.bandPlanCtx.shadowColor="rgba(0, 0, 0, 0.5)",this.bandPlanCtx.shadowBlur=2*t,this.bandPlanCtx.shadowOffsetY=1*t,this.bandPlanCtx.fillText(o.name,(a+l)/2,f),this.bandPlanCtx.shadowColor="transparent",this.bandPlanCtx.shadowBlur=0,this.bandPlanCtx.shadowOffsetY=0}})}abbreviateBandName(t,n,r){if(this.bandPlanCtx.font="".concat(r,"px Inter"),this.bandPlanCtx.measureText(t).width<=n-4*this.canvasScale)return t;const o=t.split(" ");return o.length===1?t.substring(0,Math.floor(n/(r*.6))):o.map(i=>i[0]).join("")}setClients(t){this.clients=t}drawClients(){Object.entries(this.clients).filter(([t,n])=>n[1]<this.waterfallR&&n[1]>=this.waterfallL).forEach(([t,n])=>{const r=this.idxToCanvasX(n[1]),[o,i,s,a]=this.clientColormap[parseInt(t.substring(0,2),16)];this.graduationCtx.fillStyle="rgba(".concat(o,", ").concat(i,", ").concat(s,", ").concat(a,")"),this.graduationCtx.strokeStyle="rgba(".concat(o,", ").concat(i,", ").concat(s,", ").concat(a,")"),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r+2,5),this.graduationCtx.stroke(),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r-2,5),this.graduationCtx.stroke()})}applyBlur(t,n,r,o){const i=t.data,s=new Uint8ClampedArray(i);for(let a=0;a<r;a++)for(let l=0;l<n;l++){let c=0,h=0,p=0,f=0,y=0;for(let w=-o;w<=o;w++)for(let _=-o;_<=o;_++){const L=l+_,O=a+w;if(L>=0&&L<n&&O>=0&&O<r){const T=(O*n+L)*4;c+=s[T],h+=s[T+1],p+=s[T+2],f+=s[T+3],y++}}const m=(a*n+l)*4;i[m]=c/y,i[m+1]=h/y,i[m+2]=p/y,i[m+3]=f/y}return t}setWaterfallRange(t,n){if(t>=n)return;const r=n-t;t<0&&n>this.waterfallMaxSize?(t=0,n=this.waterfallMaxSize):t<0?(t=0,n=r):n>this.waterfallMaxSize&&(n=this.waterfallMaxSize,t=n-r);const o=this.waterfallL,i=this.waterfallR;this.waterfallL=t,this.waterfallR=n,this.clearFrequencyCache(),this.waterfallSocket.send(JSON.stringify({cmd:"window",l:this.waterfallL,r:this.waterfallR}));const s=this.idxToCanvasX(o),a=this.idxToCanvasX(i),l=a-s;this.ctx.drawImage(this.canvasElem,0,0,this.canvasWidth,this.canvasHeight,s,0,l,this.canvasHeight),i-o<=n-t+1&&(this.ctx.fillRect(0,0,s,this.canvasHeight),this.ctx.fillRect(a,0,this.canvasWidth-a,this.canvasHeight)),this.updateGraduation(),this.updateBandPlan(),typeof Ve<"u"&&Ve.publish("waterfallRangeChanged")}getWaterfallRange(){return[this.waterfallL,this.waterfallR]}setWaterfallLagTime(t){this.lagTime=Math.max(0,t)}setOffset(t){this.waterfallColourShift=t}setMinOffset(t){this.minWaterfall=t}setMaxOffset(t){this.maxWaterfall=t}setAlpha(t){this.spectrumAlpha=t}setColormapArray(t){this.colormap=Xh(t)}setColormap(t){this.setColormapArray(Yh(t))}setUserID(t){this.waterfallSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSpectrum(t){this.spectrum=t,t==!0?(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfallBig(t){t==!0?(this.wfheight=300*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfall(t){this.waterfall=t}resetRedrawTimeout(t){}canvasWheel(t){if(window.getComputedStyle(t.target).cursor=="resize")return;const n=(t.coords||{x:this.getMouseX(this.spectrumCanvasElem,t)}).x;t.preventDefault();const r=t.deltaY||t.scale,o=this.waterfallL,i=this.waterfallR,s=t.scaleAmount||.85;if(i-o<=64&&r<0)return!1;r>0?this.zoomFactor!=1&&(this.zoomFactor=this.zoomFactor-1):r<0&&(this.zoomFactor=this.zoomFactor+1);const a=(i-o)*n/this.canvasWidth+o;let l=a-o,c=i-a;r<0?(l*=s,c*=s):r>0&&(l*=1/s,c*=1/s);const h=Math.round(a-l),p=Math.round(a+c);return this.setWaterfallRange(h,p),!1}mouseMove(t){const n=t.movementX,r=Math.round(n/this.canvasElem.getBoundingClientRect().width*(this.waterfallR-this.waterfallL)),o=this.waterfallL-r,i=this.waterfallR-r;this.setWaterfallRange(o,i)}spectrumMouseMove(t){const n=this.getMouseX(this.spectrumCanvasElem,t),r=this.canvasXtoFreq(n);this.spectrumFreq=r,this.spectrumX=n}spectrumMouseLeave(t){this.spectrumFreq=void 0,this.spectrumX=void 0}destroy(){this.waterfallSocket&&this.waterfallSocket.close(),this.updateImmediate&&clearImmediate(this.updateImmediate),this.clearFrequencyCache(),this.waterfallQueue.clear(),this.drawnWaterfallQueue.clear()}}class ax{constructor(t){this.endpoint=t,this.signalClients={},this.lastModified=performance.now()}init(){return this.promise?this.promise:(this.eventSocket=new WebSocket(this.endpoint),this.eventSocket.binaryType="arraybuffer",this.eventSocket.onmessage=this.socketMessage.bind(this),this.promise=new Promise((t,n)=>{this.eventSocket.onopen=t,this.resolvePromise=t,this.rejectPromise=n}),this.promise)}socketMessage(t){const n=JSON.parse(t.data);if(this.data=n,"signal_list"in n&&(this.signalClients=n.signal_list),"signal_changes"in n){const r=n.signal_changes;for(const[o,i]of Object.entries(r))i[0]===-1&&i[1]===-1?delete this.signalClients[o]:this.signalClients[o]=i}if("waterfall_clients"in n){const r=n.signal_clients,o=parseInt(n.waterfall_kbits+n.audio_kbits);document.getElementById("total_user_count").innerHTML='\n        <div class="flex items-center">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-fuchsia-400" viewBox="0 0 20 20" fill="currentColor">\n            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />\n          </svg>\n          <span class="text-fuchsia-400 font-medium">'.concat(r," ").concat(r>1?"Users":"User",'</span>\n        </div>\n        <div class="flex items-center">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-400" viewBox="0 0 20 20" fill="currentColor">\n            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />\n          </svg>\n          <span class="text-blue-400 font-medium">').concat(o," kbit/s</span>\n        </div>\n      ")}this.lastModified=performance.now()}setUserID(t){this.eventSocket.send(JSON.stringify({cmd:"userid",userid:t}))}getSignalClients(){let t={};return Object.assign(t,this.signalClients),t}getLastModified(){return this.lastModified}}const lx="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let cx=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=lx[n[e]&63];return t},Tn;const vp=window.location,_c="".concat(vp.protocol.replace("http","ws"),"//").concat(vp.host),qe=new sx(_c+"/waterfall"),le=new Tw(_c+"/audio"),Hi=new ax(_c+"/events");async function ux(){await nv(),await Promise.all([qe.init(),le.init(),Hi.init()]),Tn=le.settings;const e=cx();[qe,le,Hi].forEach(t=>{t.setUserID(e)})}function Sc(e){const[t,n]=qe.getWaterfallRange();return(e-jr(t))/((n-t)/Tn.fft_result_size*Tn.total_bandwidth)}function yp(e){const[t,n]=qe.getWaterfallRange();return e*((n-t)/Tn.fft_result_size)*Tn.total_bandwidth+jr(t)}function Br(e){return(e-Tn.basefreq)/Tn.total_bandwidth*Tn.fft_result_size}function jr(e){return e/Tn.fft_result_size*Tn.total_bandwidth+Tn.basefreq}function dx(e){const[t,n]=qe.getWaterfallRange();return e/Tn.total_bandwidth*Tn.fft_result_size/(n-t)}function Vi(){return le.trueAudioSps}function hx(){return qe.getWaterfallRange().map(jr)}const px=e=>({}),bp=e=>({});function wp(e,t,n){const r=e.slice();return r[27]=t[n],r}function xp(e){let t,n,r=Xe(ql),o=[];for(let i=0;i<r.length;i+=1)o[i]=kp(wp(e,r,i));return{c(){t=b("div"),n=b("div");for(let i=0;i<o.length;i+=1)o[i].c();u(n,"class","dropdown-inner svelte-3zhj8w"),u(t,"class","custom-dropdown svelte-3zhj8w")},m(i,s){ie(i,t,s),d(t,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p(i,s){if(s&129){r=Xe(ql);let a;for(a=0;a<r.length;a+=1){const l=wp(i,r,a);o[a]?o[a].p(l,s):(o[a]=kp(l),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(i){i&&oe(t),Yt(o,i)}}}function kp(e){let t,n,r,o,i,s;function a(){return e[18](e[27])}return{c(){t=b("button"),n=ne(e[27]),r=B(),u(t,"class",o="dropdown-option "+(e[0]===e[27]?"active":"")+" svelte-3zhj8w")},m(l,c){ie(l,t,c),d(t,n),d(t,r),i||(s=Y(t,"click",hr(a)),i=!0)},p(l,c){e=l,c&1&&o!==(o="dropdown-option "+(e[0]===e[27]?"active":"")+" svelte-3zhj8w")&&u(t,"class",o)},d(l){l&&oe(t),i=!1,s()}}}function fx(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I,q,H,z,D,j,W,$,J,G,K,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke,ye,be,rt,pe,Se,Te,ce,ae,de,X,ke,je,Qe,Pe,ze,Ae,Ne=e[6]&&xp(e);const Be=e[15]["extra-controls"],Ze=Mm(Be,e,e[14],bp);return{c(){t=b("div"),n=b("h2"),n.textContent="Waterfall Controls",r=B(),o=b("div"),i=b("div"),i.innerHTML='<div class="accent-dot bg-blue-500 svelte-3zhj8w"></div> <h3 class="group-title svelte-3zhj8w">Brightness</h3>',s=B(),a=b("div"),l=b("div"),c=b("span"),c.textContent="Min",h=B(),p=b("div"),f=b("input"),y=B(),m=b("div"),w=B(),_=b("span"),L=ne(e[1]),O=B(),T=b("div"),P=b("span"),P.textContent="Max",E=B(),F=b("div"),S=b("input"),R=B(),C=b("div"),M=B(),v=b("span"),x=ne(e[2]),A=B(),N=b("div"),I=b("div"),I.innerHTML='<div class="accent-dot bg-purple-500 svelte-3zhj8w"></div> <h3 class="group-title svelte-3zhj8w">Colormap</h3>',q=B(),H=b("div"),z=b("button"),D=b("span"),j=ne(e[0]),W=B(),$=b("div"),$.innerHTML='<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',J=B(),Ne&&Ne.c(),G=B(),K=b("div"),te=b("div"),te.innerHTML='<div class="accent-dot bg-green-500 svelte-3zhj8w"></div> <h3 class="group-title svelte-3zhj8w">Display Options</h3>',fe=B(),Z=b("div"),he=b("div"),ve=b("span"),ve.textContent="Auto Adjust",De=B(),Ie=b("label"),We=b("input"),Le=B(),ge=b("span"),ue=B(),Ce=b("div"),Ue=b("span"),Ue.textContent="Spectrum",Ke=B(),ye=b("label"),be=b("input"),rt=B(),pe=b("span"),Se=B(),Te=b("div"),ce=b("span"),ce.textContent="Bigger WF",ae=B(),de=b("label"),X=b("input"),ke=B(),je=b("span"),Qe=B(),Ze&&Ze.c(),u(n,"class","section-title svelte-3zhj8w"),u(i,"class","group-header svelte-3zhj8w"),u(c,"class","slider-label svelte-3zhj8w"),u(f,"type","range"),u(f,"min","-100"),u(f,"max","255"),u(f,"step","1"),u(f,"class","slider svelte-3zhj8w"),u(m,"class","slider-track svelte-3zhj8w"),Et(m,"width",(e[1]+100)/355*100+"%"),u(p,"class","slider-wrapper svelte-3zhj8w"),u(_,"class","slider-value svelte-3zhj8w"),u(l,"class","slider-container svelte-3zhj8w"),u(P,"class","slider-label svelte-3zhj8w"),u(S,"type","range"),u(S,"min","0"),u(S,"max","255"),u(S,"step","1"),u(S,"class","slider svelte-3zhj8w"),u(C,"class","slider-track svelte-3zhj8w"),Et(C,"width",e[2]/255*100+"%"),u(F,"class","slider-wrapper svelte-3zhj8w"),u(v,"class","slider-value svelte-3zhj8w"),u(T,"class","slider-container svelte-3zhj8w"),u(a,"id","brightness-controls"),u(a,"class","space-y-4"),u(o,"class","control-group svelte-3zhj8w"),u(I,"class","group-header svelte-3zhj8w"),u(D,"class","select-value svelte-3zhj8w"),u($,"class","select-icon svelte-3zhj8w"),Or($,"rotated",e[6]),u(z,"class","custom-select-trigger svelte-3zhj8w"),u(z,"aria-expanded",e[6]),u(z,"aria-haspopup","listbox"),u(H,"id","colormap-select"),u(H,"class","colormap-dropdown-container svelte-3zhj8w"),u(N,"class","control-group svelte-3zhj8w"),u(te,"class","group-header svelte-3zhj8w"),u(ve,"class","toggle-label-row svelte-3zhj8w"),u(We,"type","checkbox"),u(We,"class","svelte-3zhj8w"),u(ge,"class","toggle-slider svelte-3zhj8w"),u(Ie,"class","toggle svelte-3zhj8w"),u(he,"id","auto-adjust"),u(he,"class","toggle-item-row svelte-3zhj8w"),u(Ue,"class","toggle-label-row svelte-3zhj8w"),u(be,"type","checkbox"),u(be,"class","svelte-3zhj8w"),u(pe,"class","toggle-slider svelte-3zhj8w"),u(ye,"class","toggle svelte-3zhj8w"),u(Ce,"id","spectrum-toggle"),u(Ce,"class","toggle-item-row svelte-3zhj8w"),u(ce,"class","toggle-label-row svelte-3zhj8w"),u(X,"type","checkbox"),u(X,"class","svelte-3zhj8w"),u(je,"class","toggle-slider svelte-3zhj8w"),u(de,"class","toggle svelte-3zhj8w"),u(Te,"id","bigger-waterfall"),u(Te,"class","toggle-item-row svelte-3zhj8w"),u(Z,"class","toggle-list svelte-3zhj8w"),u(K,"class","control-group svelte-3zhj8w"),u(t,"class","waterfall-controls svelte-3zhj8w")},m(Me,ot){ie(Me,t,ot),d(t,n),d(t,r),d(t,o),d(o,i),d(o,s),d(o,a),d(a,l),d(l,c),d(l,h),d(l,p),d(p,f),mt(f,e[1]),d(p,y),d(p,m),d(l,w),d(l,_),d(_,L),d(a,O),d(a,T),d(T,P),d(T,E),d(T,F),d(F,S),mt(S,e[2]),d(F,R),d(F,C),d(T,M),d(T,v),d(v,x),d(t,A),d(t,N),d(N,I),d(N,q),d(N,H),d(H,z),d(z,D),d(D,j),d(z,W),d(z,$),d(H,J),Ne&&Ne.m(H,null),d(t,G),d(t,K),d(K,te),d(K,fe),d(K,Z),d(Z,he),d(he,ve),d(he,De),d(he,Ie),d(Ie,We),We.checked=e[3],d(Ie,Le),d(Ie,ge),d(Z,ue),d(Z,Ce),d(Ce,Ue),d(Ce,Ke),d(Ce,ye),d(ye,be),be.checked=e[4],d(ye,rt),d(ye,pe),d(Z,Se),d(Z,Te),d(Te,ce),d(Te,ae),d(Te,de),d(de,X),X.checked=e[5],d(de,ke),d(de,je),d(t,Qe),Ze&&Ze.m(t,null),Pe=!0,ze||(Ae=[Y(f,"change",e[16]),Y(f,"input",e[16]),Y(f,"input",e[9]),Y(S,"change",e[17]),Y(S,"input",e[17]),Y(S,"input",e[10]),Y(z,"click",hr(e[8])),Y(We,"change",e[19]),Y(We,"change",e[11]),Y(be,"change",e[20]),Y(be,"change",e[12]),Y(X,"change",e[21]),Y(X,"change",e[13])],ze=!0)},p(Me,[ot]){ot&2&&mt(f,Me[1]),(!Pe||ot&2)&&Et(m,"width",(Me[1]+100)/355*100+"%"),(!Pe||ot&2)&&we(L,Me[1]),ot&4&&mt(S,Me[2]),(!Pe||ot&4)&&Et(C,"width",Me[2]/255*100+"%"),(!Pe||ot&4)&&we(x,Me[2]),(!Pe||ot&1)&&we(j,Me[0]),(!Pe||ot&64)&&Or($,"rotated",Me[6]),(!Pe||ot&64)&&u(z,"aria-expanded",Me[6]),Me[6]?Ne?Ne.p(Me,ot):(Ne=xp(Me),Ne.c(),Ne.m(H,null)):Ne&&(Ne.d(1),Ne=null),ot&8&&(We.checked=Me[3]),ot&16&&(be.checked=Me[4]),ot&32&&(X.checked=Me[5]),Ze&&Ze.p&&(!Pe||ot&16384)&&Tm(Ze,Be,Me,Me[14],Pe?Am(Be,Me[14],ot,px):Em(Me[14]),bp)},i(Me){Pe||($e(Ze,Me),Pe=!0)},o(Me){st(Ze,Me),Pe=!1},d(Me){Me&&oe(t),Ne&&Ne.d(),Ze&&Ze.d(Me),ze=!1,lt(Ae)}}}function mx(e,t,n){let{$$slots:r={},$$scope:o}=t,i="gqrx",s=-30,a=110,l=!1,c=!1,h=!1,p=!1;function f(){const v=localStorage.getItem("selectedColormap");v&&ql.includes(v)?n(0,i=v):(n(0,i="gqrx"),v&&localStorage.removeItem("selectedColormap")),qe.setColormap(i)}zn(()=>{f(),qe.setSpectrum(c),qe.setWaterfallBig(h),Ve.publish("spectrumDisplayChange",c),window.addEventListener("click",w)}),Eo(()=>{window.removeEventListener("click",w)});function y(v){n(0,i=v),qe.setColormap(i),localStorage.setItem("selectedColormap",i),n(6,p=!1)}function m(){n(6,p=!p)}function w(v){v.target.closest(".colormap-dropdown-container")||n(6,p=!1)}function _(){qe.setMinOffset(s)}function L(){qe.setMaxOffset(a)}function O(){qe.autoAdjust=l}function T(){qe.setSpectrum(c),Ve.publish("spectrumDisplayChange",c)}function P(){qe.setWaterfallBig(h)}function E(){s=pr(this.value),n(1,s)}function F(){a=pr(this.value),n(2,a)}const S=v=>y(v);function R(){l=this.checked,n(3,l)}function C(){c=this.checked,n(4,c)}function M(){h=this.checked,n(5,h)}return e.$$set=v=>{"$$scope"in v&&n(14,o=v.$$scope)},[i,s,a,l,c,h,p,y,m,_,L,O,T,P,o,r,E,F,S,R,C,M]}class gx extends on{constructor(t){super(),rn(this,t,mx,fx,Xt,{})}}function vx(e){let t,n;return{c(){t=Re("path"),n=Re("path"),u(t,"d","M9 2.5v11a.5.5 0 01-.85.35L5.6 11.5H3a1 1 0 01-1-1v-5a1 1 0 011-1h2.6l2.55-2.35A.5.5 0 019 2.5z"),u(t,"fill","currentColor"),u(n,"d","M11.5 4.5a4 4 0 010 7M13 3a6 6 0 010 10"),u(n,"stroke","currentColor"),u(n,"stroke-width","1.5"),u(n,"stroke-linecap","round")},m(r,o){ie(r,t,o),ie(r,n,o)},d(r){r&&(oe(t),oe(n))}}}function yx(e){let t,n;return{c(){t=Re("path"),n=Re("path"),u(t,"d","M9 2.5v11a.5.5 0 01-.85.35L5.6 11.5H3a1 1 0 01-1-1v-5a1 1 0 011-1h2.6l2.55-2.35A.5.5 0 019 2.5z"),u(t,"fill","currentColor"),u(n,"d","M11 6l4 4m0-4l-4 4"),u(n,"stroke","currentColor"),u(n,"stroke-width","1.5"),u(n,"stroke-linecap","round")},m(r,o){ie(r,t,o),ie(r,n,o)},d(r){r&&(oe(t),oe(n))}}}function Cp(e){let t;return{c(){t=b("div"),t.innerHTML='<div class="ft8-header svelte-1iiogbl"><div class="accent-dot bg-purple svelte-1iiogbl"></div> <h4 class="ft8-title svelte-1iiogbl">FT8 Messages</h4> <span class="distance-badge svelte-1iiogbl" id="farthest-distance">0 km</span></div> <div class="ft8-messages-wrapper svelte-1iiogbl"><div class="fade-overlay left svelte-1iiogbl"></div> <div class="fade-overlay right svelte-1iiogbl"></div> <div class="ft8-messages-scroll svelte-1iiogbl"><div id="ft8MessagesList" class="ft8-messages-list svelte-1iiogbl"></div></div></div>',u(t,"class","ft8-container svelte-1iiogbl")},m(n,r){ie(n,t,r)},d(n){n&&oe(t)}}}function bx(e){let t,n,r;return{c(){t=Re("svg"),n=Re("circle"),r=ne("\n          Record"),u(n,"cx","8"),u(n,"cy","8"),u(n,"r","6"),u(n,"fill","currentColor"),u(t,"width","16"),u(t,"height","16"),u(t,"viewBox","0 0 16 16"),u(t,"fill","none"),u(t,"xmlns","http://www.w3.org/2000/svg")},m(o,i){ie(o,t,i),d(t,n),ie(o,r,i)},d(o){o&&(oe(t),oe(r))}}}function wx(e){let t,n,r;return{c(){t=Re("svg"),n=Re("rect"),r=ne("\n          Stop"),u(n,"x","5"),u(n,"y","5"),u(n,"width","6"),u(n,"height","6"),u(n,"rx","1"),u(n,"fill","currentColor"),u(t,"width","16"),u(t,"height","16"),u(t,"viewBox","0 0 16 16"),u(t,"fill","none"),u(t,"xmlns","http://www.w3.org/2000/svg")},m(o,i){ie(o,t,i),d(t,n),ie(o,r,i)},d(o){o&&(oe(t),oe(r))}}}function _p(e){let t,n,r;return{c(){t=b("button"),t.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v8m0 0l3-3m-3 3L5 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 14h12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>\n          Download',u(t,"class","recording-button download svelte-1iiogbl")},m(o,i){ie(o,t,i),n||(r=Y(t,"click",e[13]),n=!0)},p:He,d(o){o&&oe(t),n=!1,r()}}}function xx(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I,q,H,z,D,j,W,$,J,G,K,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke,ye,be,rt,pe,Se,Te,ce,ae,de,X,ke,je,Qe,Pe,ze,Ae;function Ne(Ge,Je){return Ge[0]?yx:vx}let Be=Ne(e),Ze=Be(e),Me=e[5]&&Cp();function ot(Ge,Je){return Ge[6]?wx:bx}let wt=ot(e),pt=wt(e),et=e[7]&&_p(e);return{c(){t=b("div"),n=b("h2"),n.textContent="Audio Controls",r=B(),o=b("div"),i=b("div"),s=Re("svg"),a=Re("path"),l=Re("path"),c=B(),h=b("span"),h.textContent="Volume",p=B(),f=b("span"),y=ne(e[2]),m=ne("%"),w=B(),_=b("div"),L=b("button"),O=Re("svg"),Ze.c(),E=B(),F=b("div"),S=b("input"),R=B(),C=b("div"),M=B(),v=b("div"),x=b("div"),A=Re("svg"),N=Re("path"),I=Re("circle"),q=B(),H=b("span"),H.textContent="Squelch",z=B(),D=b("span"),j=ne(e[4]),W=ne(" dB"),$=B(),J=b("div"),G=b("button"),K=b("span"),K.textContent="SQ",Z=B(),he=b("div"),ve=b("input"),De=B(),Ie=b("div"),We=B(),Le=b("div"),ge=b("label"),ge.textContent="Decoder Mode",ue=B(),Ce=b("div"),Ue=b("button"),Ke=ne("None"),be=B(),rt=b("button"),pe=ne("FT8"),Te=B(),Me&&Me.c(),ce=B(),ae=b("div"),de=b("label"),de.textContent="Recording",X=B(),ke=b("div"),je=b("button"),pt.c(),Pe=B(),et&&et.c(),u(n,"class","section-title svelte-1iiogbl"),u(a,"d","M9 2.5v11a.5.5 0 01-.85.35L5.6 11.5H3a1 1 0 01-1-1v-5a1 1 0 011-1h2.6l2.55-2.35A.5.5 0 019 2.5z"),u(a,"fill","currentColor"),u(l,"d","M11.5 4.5a4 4 0 010 7M13 3a6 6 0 010 10"),u(l,"stroke","currentColor"),u(l,"stroke-width","1.5"),u(l,"stroke-linecap","round"),u(s,"width","16"),u(s,"height","16"),u(s,"viewBox","0 0 16 16"),u(s,"fill","none"),u(s,"xmlns","http://www.w3.org/2000/svg"),u(s,"class","control-icon svelte-1iiogbl"),u(h,"class","control-label svelte-1iiogbl"),u(f,"class","control-value svelte-1iiogbl"),u(i,"class","control-header svelte-1iiogbl"),u(O,"width","16"),u(O,"height","16"),u(O,"viewBox","0 0 16 16"),u(O,"fill","none"),u(O,"xmlns","http://www.w3.org/2000/svg"),u(L,"class",T="mute-button "+(e[0]?"active":"")+" svelte-1iiogbl"),u(L,"aria-label",P=e[0]?"Unmute":"Mute"),u(S,"type","range"),S.disabled=e[0],u(S,"min","0"),u(S,"max","100"),u(S,"step","1"),u(S,"class","slider volume-slider svelte-1iiogbl"),u(C,"class","slider-track svelte-1iiogbl"),Et(C,"width",e[2]+"%"),u(F,"class","slider-wrapper svelte-1iiogbl"),u(_,"class","slider-container svelte-1iiogbl"),u(o,"class","control-group svelte-1iiogbl"),u(o,"id","volume-slider"),u(N,"d","M8 1a7 7 0 110 14A7 7 0 018 1zM8 5a3 3 0 110 6 3 3 0 010-6z"),u(N,"stroke","currentColor"),u(N,"stroke-width","1.5"),u(I,"cx","8"),u(I,"cy","8"),u(I,"r","1.5"),u(I,"fill","currentColor"),u(A,"width","16"),u(A,"height","16"),u(A,"viewBox","0 0 16 16"),u(A,"fill","none"),u(A,"xmlns","http://www.w3.org/2000/svg"),u(A,"class","control-icon svelte-1iiogbl"),u(H,"class","control-label svelte-1iiogbl"),u(D,"class","control-value svelte-1iiogbl"),u(x,"class","control-header svelte-1iiogbl"),u(K,"class","svelte-1iiogbl"),u(G,"class",te="squelch-button "+(e[3]?"active":"")+" svelte-1iiogbl"),u(G,"aria-label",fe=e[3]?"Disable squelch":"Enable squelch"),u(ve,"type","range"),u(ve,"min","-150"),u(ve,"max","0"),u(ve,"step","1"),u(ve,"class","slider squelch-slider svelte-1iiogbl"),u(Ie,"class","slider-track green svelte-1iiogbl"),Et(Ie,"width",(e[4]+150)/150*100+"%"),u(he,"class","slider-wrapper svelte-1iiogbl"),u(J,"class","slider-container svelte-1iiogbl"),u(v,"class","control-group svelte-1iiogbl"),u(v,"id","squelch-slider"),u(ge,"class","section-label svelte-1iiogbl"),u(Ue,"class",ye="decoder-button "+(e[5]?"":"active")+" svelte-1iiogbl"),u(rt,"id","ft8-decoder"),u(rt,"class",Se="decoder-button "+(e[5]?"active":"")+" svelte-1iiogbl"),u(Ce,"class","decoder-buttons svelte-1iiogbl"),u(Le,"class","decoder-section svelte-1iiogbl"),u(de,"class","section-label svelte-1iiogbl"),u(je,"class",Qe="recording-button "+(e[6]?"recording":"")+" svelte-1iiogbl"),u(ke,"class","recording-buttons svelte-1iiogbl"),u(ae,"class","recording-section svelte-1iiogbl"),u(t,"class","audio-controls svelte-1iiogbl")},m(Ge,Je){ie(Ge,t,Je),d(t,n),d(t,r),d(t,o),d(o,i),d(i,s),d(s,a),d(s,l),d(i,c),d(i,h),d(i,p),d(i,f),d(f,y),d(f,m),d(o,w),d(o,_),d(_,L),d(L,O),Ze.m(O,null),d(_,E),d(_,F),d(F,S),mt(S,e[2]),d(F,R),d(F,C),d(t,M),d(t,v),d(v,x),d(x,A),d(A,N),d(A,I),d(x,q),d(x,H),d(x,z),d(x,D),d(D,j),d(D,W),d(v,$),d(v,J),d(J,G),d(G,K),d(J,Z),d(J,he),d(he,ve),mt(ve,e[4]),d(he,De),d(he,Ie),d(t,We),d(t,Le),d(Le,ge),d(Le,ue),d(Le,Ce),d(Ce,Ue),d(Ue,Ke),d(Ce,be),d(Ce,rt),d(rt,pe),d(t,Te),Me&&Me.m(t,null),d(t,ce),d(t,ae),d(ae,de),d(ae,X),d(ae,ke),d(ke,je),pt.m(je,null),d(ke,Pe),et&&et.m(ke,null),ze||(Ae=[Y(L,"click",e[1]),Y(S,"change",e[25]),Y(S,"input",e[25]),Y(S,"input",e[8]),Y(G,"click",e[9]),Y(ve,"change",e[26]),Y(ve,"input",e[26]),Y(ve,"input",e[10]),Y(Ue,"click",e[27]),Y(rt,"click",e[28]),Y(je,"click",e[12])],ze=!0)},p(Ge,Je){Je[0]&4&&we(y,Ge[2]),Be!==(Be=Ne(Ge))&&(Ze.d(1),Ze=Be(Ge),Ze&&(Ze.c(),Ze.m(O,null))),Je[0]&1&&T!==(T="mute-button "+(Ge[0]?"active":"")+" svelte-1iiogbl")&&u(L,"class",T),Je[0]&1&&P!==(P=Ge[0]?"Unmute":"Mute")&&u(L,"aria-label",P),Je[0]&1&&(S.disabled=Ge[0]),Je[0]&4&&mt(S,Ge[2]),Je[0]&4&&Et(C,"width",Ge[2]+"%"),Je[0]&16&&we(j,Ge[4]),Je[0]&8&&te!==(te="squelch-button "+(Ge[3]?"active":"")+" svelte-1iiogbl")&&u(G,"class",te),Je[0]&8&&fe!==(fe=Ge[3]?"Disable squelch":"Enable squelch")&&u(G,"aria-label",fe),Je[0]&16&&mt(ve,Ge[4]),Je[0]&16&&Et(Ie,"width",(Ge[4]+150)/150*100+"%"),Je[0]&32&&ye!==(ye="decoder-button "+(Ge[5]?"":"active")+" svelte-1iiogbl")&&u(Ue,"class",ye),Je[0]&32&&Se!==(Se="decoder-button "+(Ge[5]?"active":"")+" svelte-1iiogbl")&&u(rt,"class",Se),Ge[5]?Me||(Me=Cp(),Me.c(),Me.m(t,ce)):Me&&(Me.d(1),Me=null),wt!==(wt=ot(Ge))&&(pt.d(1),pt=wt(Ge),pt&&(pt.c(),pt.m(je,null))),Je[0]&64&&Qe!==(Qe="recording-button "+(Ge[6]?"recording":"")+" svelte-1iiogbl")&&u(je,"class",Qe),Ge[7]?et?et.p(Ge,Je):(et=_p(Ge),et.c(),et.m(ke,null)):et&&(et.d(1),et=null)},i:He,o:He,d(Ge){Ge&&oe(t),Ze.d(),Me&&Me.d(),pt.d(),et&&et.d(),ze=!1,lt(Ae)}}}const kx=35;function Cx(e){const t=document.getElementById("sMeter");if(!t||!(t instanceof HTMLCanvasElement))return;const n=t.getContext("2d");t.width=300,t.height=40;const r=t.width,o=t.height;n.clearRect(0,0,r,o);const i=6,s=3,a=8,l=15,c=25,h=5,p=5,f=r/2;n.strokeStyle="#0071e3",n.lineWidth=2,n.beginPath(),n.moveTo(0,l),n.lineTo(f,l),n.stroke(),n.strokeStyle="#ff3b30",n.beginPath(),n.moveTo(f,l),n.lineTo(268,l),n.stroke();for(let m=0;m<30;m++){const w=m*(i+s);m<e?n.fillStyle=m<17?"#0071e3":"#ff3b30":n.fillStyle=m<17?"rgba(0, 113, 227, 0.2)":"rgba(255, 59, 48, 0.2)",n.fillRect(w,0,i,a)}n.font="11px -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', sans-serif",n.textAlign="center";const y=["S1","3","5","7","9","+20","+40","+60dB"];for(let m=0;m<=16;m++){const w=m*16.6970588235;n.fillStyle=w<=f?"#0071e3":"#ff3b30",m%2===1?(n.fillRect(w,l,1,p+2),(m-1)/2<y.length&&n.fillText(y[(m-1)/2],w,c+8)):n.fillRect(w,l,1,h)}}function _x(e){e=Math.min(Math.max(e,-100),0);const t=Math.round((e+100)*kx/100);Cx(t)}function Sx(e,t,n){const r=bi();let{currentFrequency:o=0}=t,{mute:i=!1}=t,s=65,a=!1,l=-50,c=0,{NREnabled:h=!1}=t,{NBEnabled:p=!1}=t,{ANEnabled:f=!1}=t,{CTCSSSupressEnabled:y=!1}=t,m=!1,w=!1,_=!1;const L=ad.RollingMax(10);function O(){n(0,i=!i),le.setMute(i),r("stateChange",{mute:i,NREnabled:h,NBEnabled:p,ANEnabled:f,CTCSSSupressEnabled:y}),Ve.publish("muteStateChanged",i)}function T(){le.setGain(Math.pow(10,(s-50)/50+2.6))}function P(){n(3,a=!a),le.setSquelch(a)}function E(){le.setSquelchThreshold(l)}function F(){n(14,h=!h),le.decoder.set_nr(h),r("stateChange",{mute:i,NREnabled:h,NBEnabled:p,ANEnabled:f,CTCSSSupressEnabled:y})}function S(){n(15,p=!p),le.nb=p,le.decoder.set_nb(p),r("stateChange",{mute:i,NREnabled:h,NBEnabled:p,ANEnabled:f,CTCSSSupressEnabled:y})}function R(){n(16,f=!f),le.decoder.set_an(f),r("stateChange",{mute:i,NREnabled:h,NBEnabled:p,ANEnabled:f,CTCSSSupressEnabled:y})}function C(){n(17,y=!y),le.setCTCSSFilter(y),r("stateChange",{mute:i,NREnabled:h,NBEnabled:p,ANEnabled:f,CTCSSSupressEnabled:y})}function M(D){n(5,m=D),le.setFT8Decoding(D)}function v(){w?(le.stopRecording(),n(6,w=!1),n(7,_=!0)):(le.startRecording(),n(6,w=!0),n(7,_=!1))}function x(){le.downloadRecording()}function A(){c=le.getPowerDb()/150*100+le.smeter_offset,L(c)/150*100+le.smeter_offset,_x(c)}function N(){T()}function I(){s=pr(this.value),n(2,s)}function q(){l=pr(this.value),n(4,l)}const H=()=>M(!1),z=()=>M(!0);return e.$$set=D=>{"currentFrequency"in D&&n(18,o=D.currentFrequency),"mute"in D&&n(0,i=D.mute),"NREnabled"in D&&n(14,h=D.NREnabled),"NBEnabled"in D&&n(15,p=D.NBEnabled),"ANEnabled"in D&&n(16,f=D.ANEnabled),"CTCSSSupressEnabled"in D&&n(17,y=D.CTCSSSupressEnabled)},[i,O,s,a,l,m,w,_,T,P,E,M,v,x,h,p,f,y,o,F,S,R,C,A,N,I,q,H,z]}class Mx extends on{constructor(t){super(),rn(this,t,Sx,xx,Xt,{currentFrequency:18,mute:0,NREnabled:14,NBEnabled:15,ANEnabled:16,CTCSSSupressEnabled:17,handleMuteChange:1,handleNRChange:19,handleNBChange:20,handleANChange:21,handleCTCSSChange:22,updateSignalMeter:23,initializeAudio:24},null,[-1,-1])}get currentFrequency(){return this.$$.ctx[18]}set currentFrequency(t){this.$$set({currentFrequency:t}),Ir()}get mute(){return this.$$.ctx[0]}set mute(t){this.$$set({mute:t}),Ir()}get NREnabled(){return this.$$.ctx[14]}set NREnabled(t){this.$$set({NREnabled:t}),Ir()}get NBEnabled(){return this.$$.ctx[15]}set NBEnabled(t){this.$$set({NBEnabled:t}),Ir()}get ANEnabled(){return this.$$.ctx[16]}set ANEnabled(t){this.$$set({ANEnabled:t}),Ir()}get CTCSSSupressEnabled(){return this.$$.ctx[17]}set CTCSSSupressEnabled(t){this.$$set({CTCSSSupressEnabled:t}),Ir()}get handleMuteChange(){return this.$$.ctx[1]}get handleNRChange(){return this.$$.ctx[19]}get handleNBChange(){return this.$$.ctx[20]}get handleANChange(){return this.$$.ctx[21]}get handleCTCSSChange(){return this.$$.ctx[22]}get updateSignalMeter(){return this.$$.ctx[23]}get initializeAudio(){return this.$$.ctx[24]}}function Sp(e,t,n){const r=e.slice();return r[34]=t[n],r}function Mp(e,t,n){const r=e.slice();return r[37]=t[n],r}function Ap(e,t,n){const r=e.slice();return r[40]=t[n],r}function Tp(e){let t,n=e[40]+"",r,o,i,s;function a(){return e[18](e[40])}return{c(){t=b("button"),r=ne(n),o=B(),u(t,"class","fine-tuning-button svelte-1fr7kcs"),u(t,"title",e[40]+" kHz")},m(l,c){ie(l,t,c),d(t,r),d(t,o),i||(s=Y(t,"click",a),i=!0)},p(l,c){e=l},d(l){l&&oe(t),i=!1,s()}}}function Ep(e){let t,n,r,o,i,s;function a(){return e[19](e[37])}return{c(){t=b("button"),n=ne(e[37]),r=B(),u(t,"class",o="mode-button "+(e[0]===e[37]?"active":"")+" svelte-1fr7kcs")},m(l,c){ie(l,t,c),d(t,n),d(t,r),i||(s=Y(t,"click",a),i=!0)},p(l,c){e=l,c[0]&1&&o!==(o="mode-button "+(e[0]===e[37]?"active":"")+" svelte-1fr7kcs")&&u(t,"class",o)},d(l){l&&oe(t),i=!1,s()}}}function Fp(e){let t,n,r,o,i,s;return{c(){t=b("div"),n=b("div"),n.innerHTML='<span class="am-menu-label svelte-1fr7kcs">AM</span> <span class="am-menu-desc svelte-1fr7kcs">Envelope Detection</span>',r=B(),o=b("div"),o.innerHTML='<span class="am-menu-label svelte-1fr7kcs">SAM</span> <span class="am-menu-desc svelte-1fr7kcs">Synchronous</span>',u(n,"class","am-menu-item svelte-1fr7kcs"),u(o,"class","am-menu-item svelte-1fr7kcs"),u(t,"class","am-hold-menu svelte-1fr7kcs")},m(a,l){ie(a,t,l),d(t,n),d(t,r),d(t,o),i||(s=[Y(n,"click",e[20]),Y(o,"click",e[21]),Y(t,"click",hr(e[17]))],i=!0)},p:He,d(a){a&&oe(t),i=!1,lt(s)}}}function Op(e,t){let n,r=parseFloat(t[34])>0?"+":"",o,i=t[34]+"",s,a,l,c,h;function p(...f){return t[23](t[34],...f)}return{key:e,first:null,c(){n=b("button"),o=ne(r),s=ne(i),a=B(),u(n,"class","bandwidth-button svelte-1fr7kcs"),u(n,"title",l=t[34]+" Hz"),this.first=n},m(f,y){ie(f,n,y),d(n,o),d(n,s),d(n,a),c||(h=Y(n,"click",p),c=!0)},p(f,y){t=f,y[0]&4&&r!==(r=parseFloat(t[34])>0?"+":"")&&we(o,r),y[0]&4&&i!==(i=t[34]+"")&&we(s,i),y[0]&4&&l!==(l=t[34]+" Hz")&&u(n,"title",l)},d(f){f&&oe(n),c=!1,h()}}}function Ax(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I=[],q=new Map,H,z,D=Xe(e[6]),j=[];for(let te=0;te<D.length;te+=1)j[te]=Tp(Ap(e,D,te));let W=Xe(["USB","LSB","CW"]),$=[];for(let te=0;te<3;te+=1)$[te]=Ep(Mp(e,W,te));let J=e[4]&&Fp(e),G=Xe(e[2]);const K=te=>te[34];for(let te=0;te<G.length;te+=1){let fe=Sp(e,G,te),Z=K(fe);q.set(Z,I[te]=Op(Z,fe))}return{c(){t=b("div"),n=b("div"),r=b("div"),o=b("div"),o.innerHTML='<div class="accent-dot bg-orange svelte-1fr7kcs"></div> <h3 class="section-label svelte-1fr7kcs">Fine Tuning</h3>',i=B(),s=b("div");for(let te=0;te<j.length;te+=1)j[te].c();a=B(),l=b("div"),c=b("div"),c.innerHTML='<div class="accent-dot bg-blue svelte-1fr7kcs"></div> <h3 class="section-label svelte-1fr7kcs">Modulation</h3>',h=B(),p=b("div");for(let te=0;te<3;te+=1)$[te].c();f=B(),y=b("div"),m=b("button"),w=b("span"),_=ne(e[3]),L=B(),O=b("div"),O.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="2" width="2" height="2" rx="0.5" fill="currentColor" opacity="0.6"></rect><rect x="6" y="2" width="2" height="2" rx="0.5" fill="currentColor" opacity="0.6"></rect><rect x="2" y="6" width="2" height="2" rx="0.5" fill="currentColor" opacity="0.6"></rect><rect x="6" y="6" width="2" height="2" rx="0.5" fill="currentColor" opacity="0.6"></rect></svg>',E=B(),J&&J.c(),F=B(),S=b("button"),R=ne("FM"),M=B(),v=b("div"),x=b("div"),x.innerHTML='<div class="accent-dot bg-green svelte-1fr7kcs"></div> <h3 class="section-label svelte-1fr7kcs">Bandwidth</h3>',A=B(),N=b("div");for(let te=0;te<I.length;te+=1)I[te].c();u(o,"class","section-header svelte-1fr7kcs"),u(s,"class","fine-tuning-grid svelte-1fr7kcs"),u(r,"class","control-section svelte-1fr7kcs"),u(c,"class","section-header svelte-1fr7kcs"),u(w,"class","am-button-text svelte-1fr7kcs"),u(O,"class","am-hold-indicator svelte-1fr7kcs"),u(m,"class",T="mode-button am-button "+(e[0]==="AM"||e[0]==="SAM"?"active":"")+" "+(e[5]?"holding":"")+" svelte-1fr7kcs"),u(m,"title",P="Click to select "+e[3]+" \u2022 Hold to choose AM/SAM"),u(y,"class","am-button-container svelte-1fr7kcs"),u(S,"class",C="mode-button "+(e[0]==="FM"?"active":"")+" svelte-1fr7kcs"),u(p,"id","demodulationModes"),u(p,"class","mode-grid svelte-1fr7kcs"),u(l,"class","control-section svelte-1fr7kcs"),u(x,"class","section-header svelte-1fr7kcs"),u(N,"class","bandwidth-grid svelte-1fr7kcs"),u(v,"class","control-section svelte-1fr7kcs"),u(n,"id","frequencyContainer"),u(n,"class","controls-container svelte-1fr7kcs"),u(t,"class","frequency-controls svelte-1fr7kcs")},m(te,fe){ie(te,t,fe),d(t,n),d(n,r),d(r,o),d(r,i),d(r,s);for(let Z=0;Z<j.length;Z+=1)j[Z]&&j[Z].m(s,null);d(n,a),d(n,l),d(l,c),d(l,h),d(l,p);for(let Z=0;Z<3;Z+=1)$[Z]&&$[Z].m(p,null);d(p,f),d(p,y),d(y,m),d(m,w),d(w,_),d(m,L),d(m,O),d(y,E),J&&J.m(y,null),d(p,F),d(p,S),d(S,R),d(n,M),d(n,v),d(v,x),d(v,A),d(v,N);for(let Z=0;Z<I.length;Z+=1)I[Z]&&I[Z].m(N,null);H||(z=[Y(m,"mousedown",e[7]),Y(m,"mouseup",e[8]),Y(m,"mouseleave",e[9]),Y(m,"touchstart",e[7],{passive:!0}),Y(m,"touchend",e[8],{passive:!0}),Y(S,"click",e[22])],H=!0)},p(te,fe){if(fe[0]&4160){D=Xe(te[6]);let Z;for(Z=0;Z<D.length;Z+=1){const he=Ap(te,D,Z);j[Z]?j[Z].p(he,fe):(j[Z]=Tp(he),j[Z].c(),j[Z].m(s,null))}for(;Z<j.length;Z+=1)j[Z].d(1);j.length=D.length}if(fe[0]&3){W=Xe(["USB","LSB","CW"]);let Z;for(Z=0;Z<3;Z+=1){const he=Mp(te,W,Z);$[Z]?$[Z].p(he,fe):($[Z]=Ep(he),$[Z].c(),$[Z].m(p,f))}for(;Z<3;Z+=1)$[Z].d(1)}fe[0]&8&&we(_,te[3]),fe[0]&33&&T!==(T="mode-button am-button "+(te[0]==="AM"||te[0]==="SAM"?"active":"")+" "+(te[5]?"holding":"")+" svelte-1fr7kcs")&&u(m,"class",T),fe[0]&8&&P!==(P="Click to select "+te[3]+" \u2022 Hold to choose AM/SAM")&&u(m,"title",P),te[4]?J?J.p(te,fe):(J=Fp(te),J.c(),J.m(y,null)):J&&(J.d(1),J=null),fe[0]&1&&C!==(C="mode-button "+(te[0]==="FM"?"active":"")+" svelte-1fr7kcs")&&u(S,"class",C),fe[0]&2052&&(G=Xe(te[2]),I=Rs(I,fe,K,1,te,G,q,N,Qa,Op,null,Sp))},i:He,o:He,d(te){te&&oe(t),Yt(j,te),Yt($,te),J&&J.d();for(let fe=0;fe<I.length;fe+=1)I[fe].d();H=!1,lt(z)}}}function Tx(e,t,n){const r=bi();let{frequencyInputComponent:o}=t,{passbandTunerComponent:i}=t,{demodulation:s="USB"}=t,a=["USB","LSB","CW","AM","FM"],l=["-1000","-100","100","1000"],c=["-10","-1","-0.1","0","+0.1","+1","+10"],h="AM",p=!1,f,y=!1;const m={USB:{type:"USB",offsets:[-100,2800]},LSB:{type:"LSB",offsets:[2800,-100]},CW:{type:"USB",offsets:[250,250]},AM:{type:"AM",offsets:[5e3,5e3]},SAM:{type:"SAM",offsets:[5e3,5e3]},FM:{type:"FM",offsets:[5e3,5e3]},WBFM:{type:"FM",offsets:[95e3,95e3]}};function w(D){(D=="CW-U"||D=="CW-L")&&(D="CW"),r("modeChange",D),Ve.publish("setMode",D)}function _(){n(5,y=!0),f=setTimeout(()=>{y&&n(4,p=!0)},500)}function L(){f&&clearTimeout(f),y&&(p||w(h),n(5,y=!1))}function O(){f&&clearTimeout(f),n(5,y=!1)}function T(D){n(3,h=D),localStorage.setItem("amMode",D),w(D),n(4,p=!1)}function P(){const D=localStorage.getItem("amMode");(D==="SAM"||D==="AM")&&n(3,h=D)}function E(D,j){i&&i.setMode(s);const W=m[s];j&&(s==="WBFM"?le.setFmDeemph(5e-5):le.setFmDeemph(0),W.type=="USB"&&W.offsets[0]==250?le.setAudioDemodulation("CW"):le.setAudioDemodulation(W.type));let $=o.getBFO(),J=W.bfo||0,[G,K,te]=le.getAudioRange().map(jr);K=K+J-$,G=K-W.offsets[0],te=K+W.offsets[1],o.setBFO(J),o.setFrequency();const fe=o.getFrequency(),Z=G-200,he=K-750,ve=te-200,De=[Z,he,ve].map(Br),Ie=[G,K,te].map(Br);le.setAudioRange(...Ie,...De),R(),C(),Ve.publish("demodulationChange",{demodulation:s,frequency:fe})}function F(D,j){j=parseFloat(j);const W=m[s].type;let[$,J,G]=le.getAudioRange().map(jr);W==="USB"?G=Math.max(J,Math.min(J+Vi(),G+j)):W==="LSB"?$=Math.max(J-Vi(),Math.min(J,$-j)):(G=Math.max(0,Math.min(J+Vi()/2,G+j/2)),$=Math.max(J-Vi()/2,Math.min(J,$-j/2)));let K=[$,J,G].map(Br);const te=$-200,fe=J-750,Z=G-200,he=[te,fe,Z].map(Br);le.setAudioRange(...K,...he),R()}function S(D){const j=o.getFrequency();let W;if(D==="0")W=Math.round(j/1e3)*1e3,console.log("Zero button: Current freq:",j,"Hz, Rounding to:",W,"Hz");else{const $=parseFloat(D)*1e3;W=j+$}o.setFrequency(W),Ve.publish("frequencyChange",{detail:W})}function R(){const D=le.getAudioRange(),j=D.map(jr);((j[2]-j[0])/1e3).toFixed(2);const W=[j[0]-200,j[1]-750,j[2]-200];Ve.publish("passbandChange",{frequencies:j,offsets:W}),Ve.publish("passbandUpdate",D)}function C(){Ve.publish("linkUpdate")}function M(){le.trueAudioSps>17e4&&(a.push("WBFM"),a=a,l.unshift("-100000"),l.push("100000"),n(2,l))}function v(D){p&&!D.target.closest(".am-button-container")&&n(4,p=!1)}zn(()=>{P(),(s==="AM"||s==="SAM")&&n(3,h=s),document.addEventListener("click",v)}),Eo(()=>{document.removeEventListener("click",v),f&&clearTimeout(f)});function x(D){Fs.call(this,e,D)}const A=D=>S(D),N=D=>w(D),I=()=>T("AM"),q=()=>T("SAM"),H=()=>w("FM"),z=(D,j)=>F(j,D);return e.$$set=D=>{"frequencyInputComponent"in D&&n(13,o=D.frequencyInputComponent),"passbandTunerComponent"in D&&n(14,i=D.passbandTunerComponent),"demodulation"in D&&n(0,s=D.demodulation)},e.$$.update=()=>{e.$$.dirty[0]&1&&(s==="AM"||s==="SAM")&&n(3,h=s)},[s,w,l,h,p,y,c,_,L,O,T,F,S,o,i,E,M,x,A,N,I,q,H,z]}class Ex extends on{constructor(t){super(),rn(this,t,Tx,Ax,Xt,{frequencyInputComponent:13,passbandTunerComponent:14,demodulation:0,SetMode:1,handleDemodulationChange:15,initialize:16},null,[-1,-1])}get SetMode(){return this.$$.ctx[1]}get handleDemodulationChange(){return this.$$.ctx[15]}get initialize(){return this.$$.ctx[16]}}const Fx={serverName:"Loading...",location:"-",operators:[],email:"",sdrListUrl:"https://sdr-list.xyz",frequencyLookup:[{name:"MW List",url:"https://www.mwlist.org/mwlist_quick_and_easy.php?area=1&kHz="},{name:"Short-wave.info",url:"https://www.short-wave.info/index.php?timbus=NOW&ip=179&porm=4&freq="}],callsignLookupUrl:"https://www.qrz.com/db/",chatEnabled:!0},Gi=Is(Fx);async function Ox(){try{const e=await fetch("/server-info.json");if(e.ok){const t=await e.json();Gi.update(n=>({...n,...t}))}else console.error("Failed to fetch server info:",e.status)}catch(e){console.error("Error fetching server info:",e)}}Ox();const{window:Rp}=_s;function Ip(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Pp(e){let t,n,r=e[4]&&Np(e),o=!e[4]&&Dp(e);return{c(){r&&r.c(),t=B(),o&&o.c(),n=Cn()},m(i,s){r&&r.m(i,s),ie(i,t,s),o&&o.m(i,s),ie(i,n,s)},p(i,s){i[4]?r?(r.p(i,s),s&16&&$e(r,1)):(r=Np(i),r.c(),$e(r,1),r.m(t.parentNode,t)):r&&(Wn(),st(r,1,1,()=>{r=null}),Hn()),i[4]?o&&(o.d(1),o=null):o?o.p(i,s):(o=Dp(i),o.c(),o.m(n.parentNode,n))},d(i){i&&(oe(t),oe(n)),r&&r.d(i),o&&o.d(i)}}}function Np(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F;return{c(){t=b("div"),o=B(),i=b("div"),s=b("div"),a=b("div"),l=b("div"),l.innerHTML='<div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg svelte-5pr2xf"><span class="text-white text-3xl font-semibold svelte-5pr2xf">PS</span></div>',c=B(),h=b("div"),h.innerHTML='<h1 class="text-3xl font-semibold mb-2 text-white svelte-5pr2xf">PhantomSDR+ 2.0.0</h1> <p class="text-base text-neutral-400 svelte-5pr2xf">Next generation web-based SDR</p>',p=B(),f=b("div"),f.innerHTML='<div class="feature-item svelte-5pr2xf"><div class="w-1 h-1 bg-blue-500 rounded-full svelte-5pr2xf"></div> <p class="text-sm text-neutral-300 svelte-5pr2xf">VFO A/B switching with keyboard shortcuts (press V)</p></div> <div class="feature-item svelte-5pr2xf"><div class="w-1 h-1 bg-green-500 rounded-full svelte-5pr2xf"></div> <p class="text-sm text-neutral-300 svelte-5pr2xf">Advanced signal processing: NR, NB, AN, and CTCSS</p></div> <div class="feature-item svelte-5pr2xf"><div class="w-1 h-1 bg-purple-500 rounded-full svelte-5pr2xf"></div> <p class="text-sm text-neutral-300 svelte-5pr2xf">Band selection with automatic ITU region detection</p></div> <div class="feature-item svelte-5pr2xf"><div class="w-1 h-1 bg-orange-500 rounded-full svelte-5pr2xf"></div> <p class="text-sm text-neutral-300 svelte-5pr2xf">Modern interface with smooth animations</p></div>',y=B(),m=b("div"),w=b("button"),w.textContent="Start Tutorial",_=B(),L=b("button"),L.textContent="Skip",u(t,"class","fixed inset-0 bg-black/50 backdrop-blur-md z-[9998] svelte-5pr2xf"),u(l,"class","flex justify-center mb-6 svelte-5pr2xf"),u(h,"class","text-center mb-6 svelte-5pr2xf"),u(f,"class","space-y-3 mb-6 svelte-5pr2xf"),u(w,"class","primary-button svelte-5pr2xf"),u(L,"class","secondary-button svelte-5pr2xf"),u(m,"class","flex gap-3 svelte-5pr2xf"),u(a,"class","relative bg-neutral-900/80 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-2xl svelte-5pr2xf"),u(s,"class","welcome-card svelte-5pr2xf"),u(i,"class","fixed inset-0 flex items-center justify-center z-[9999] p-6 svelte-5pr2xf")},m(S,R){ie(S,t,R),ie(S,o,R),ie(S,i,R),d(i,s),d(s,a),d(a,l),d(a,c),d(a,h),d(a,p),d(a,f),d(a,y),d(a,m),d(m,w),d(m,_),d(m,L),P=!0,E||(F=[Y(w,"click",e[9]),Y(L,"click",e[8])],E=!0)},p:He,i(S){P||(S&&_t(()=>{P&&(r&&r.end(1),n=xi(t,bn,{duration:200}),n.start())}),S&&_t(()=>{P&&(T&&T.end(1),O=xi(i,fr,{duration:300,easing:Rn,start:.95}),O.start())}),P=!0)},o(S){n&&n.invalidate(),S&&(r=Ka(t,bn,{duration:150})),O&&O.invalidate(),S&&(T=Ka(i,bn,{duration:150})),P=!1},d(S){S&&(oe(t),oe(o),oe(i)),S&&r&&r.end(),S&&T&&T.end(),E=!1,lt(F)}}}function Dp(e){let t,n,r,o,i,s,a,l,c=e[2]&&Lp(e),h=e[2]&&qp(e);return{c(){t=b("div"),n=Re("svg"),r=Re("defs"),o=Re("mask"),i=Re("rect"),c&&c.c(),s=Re("rect"),a=B(),h&&h.c(),l=Cn(),u(i,"x","0"),u(i,"y","0"),u(i,"width","100%"),u(i,"height","100%"),u(i,"fill","white"),u(i,"class","svelte-5pr2xf"),u(o,"id","spotlight-mask"),u(o,"class","svelte-5pr2xf"),u(r,"class","svelte-5pr2xf"),u(s,"x","0"),u(s,"y","0"),u(s,"width","100%"),u(s,"height","100%"),u(s,"fill","rgba(0,0,0,0.75)"),u(s,"mask","url(#spotlight-mask)"),u(s,"class","pointer-events-auto svelte-5pr2xf"),u(n,"class","w-full h-full svelte-5pr2xf"),u(t,"class","fixed inset-0 z-[9998] pointer-events-none svelte-5pr2xf")},m(p,f){ie(p,t,f),d(t,n),d(n,r),d(r,o),d(o,i),c&&c.m(o,null),d(n,s),ie(p,a,f),h&&h.m(p,f),ie(p,l,f)},p(p,f){p[2]?c?c.p(p,f):(c=Lp(p),c.c(),c.m(o,null)):c&&(c.d(1),c=null),p[2]?h?h.p(p,f):(h=qp(p),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null)},d(p){p&&(oe(t),oe(a),oe(l)),c&&c.d(),h&&h.d(p)}}}function Lp(e){let t,n,r,o,i;return{c(){t=Re("rect"),u(t,"x",n=e[3].left),u(t,"y",r=e[3].top),u(t,"width",o=e[3].width),u(t,"height",i=e[3].height),u(t,"rx","12"),u(t,"fill","black"),u(t,"class","svelte-5pr2xf")},m(s,a){ie(s,t,a)},p(s,a){a&8&&n!==(n=s[3].left)&&u(t,"x",n),a&8&&r!==(r=s[3].top)&&u(t,"y",r),a&8&&o!==(o=s[3].width)&&u(t,"width",o),a&8&&i!==(i=s[3].height)&&u(t,"height",i)},d(s){s&&oe(t)}}}function qp(e){let t,n;return{c(){t=b("div"),n=b("div"),u(n,"class","absolute inset-0 border-2 border-blue-500 rounded-xl svelte-5pr2xf"),u(t,"class","fixed pointer-events-none z-[9999] transition-all duration-200 ease-out svelte-5pr2xf"),Et(t,"top",e[3].top+"px"),Et(t,"left",e[3].left+"px"),Et(t,"width",e[3].width+"px"),Et(t,"height",e[3].height+"px")},m(r,o){ie(r,t,o),d(t,n)},p(r,o){o&8&&Et(t,"top",r[3].top+"px"),o&8&&Et(t,"left",r[3].left+"px"),o&8&&Et(t,"width",r[3].width+"px"),o&8&&Et(t,"height",r[3].height+"px")},d(r){r&&oe(t)}}}function Bp(e){let t,n,r,o,i,s,a,l=e[1]+1+"",c,h,p=e[5].length+"",f,y,m,w=e[5][e[1]].title+"",_,L,O,T=e[5][e[1]].content+"",P,E,F,S,R,C=e[1]===e[5].length-1?"Finish":"Next",M,v,x,A,N,I,q=Xe(e[5]),H=[];for(let D=0;D<q.length;D+=1)H[D]=jp(Ip(e,q,D));let z=e[1]>0&&$p(e);return{c(){t=b("div"),n=b("div"),r=b("div"),o=b("div"),i=b("div");for(let D=0;D<H.length;D+=1)H[D].c();s=B(),a=b("span"),c=ne(l),h=ne(" / "),f=ne(p),y=B(),m=b("h3"),_=ne(w),L=B(),O=b("p"),P=ne(T),E=B(),F=b("div"),z&&z.c(),S=B(),R=b("button"),M=ne(C),v=B(),x=b("button"),x.textContent="Skip",u(i,"class","flex items-center gap-1.5 svelte-5pr2xf"),u(a,"class","text-xs text-neutral-500 svelte-5pr2xf"),u(o,"class","flex items-center justify-between mb-3 svelte-5pr2xf"),u(m,"class","text-base font-medium text-white mb-1.5 svelte-5pr2xf"),u(O,"class","text-sm text-neutral-400 mb-4 leading-relaxed svelte-5pr2xf"),u(R,"class","primary-button-small flex-1 svelte-5pr2xf"),u(x,"class","text-sm text-neutral-500 hover:text-neutral-300 px-3 transition-colors duration-150 svelte-5pr2xf"),u(F,"class","flex gap-2 svelte-5pr2xf"),u(r,"class","relative bg-neutral-900/90 backdrop-blur-xl rounded-xl p-5 border border-white/10 shadow-xl svelte-5pr2xf"),u(n,"class","tooltip-card svelte-5pr2xf"),u(t,"class","tooltip-container svelte-5pr2xf")},m(D,j){ie(D,t,j),d(t,n),d(n,r),d(r,o),d(o,i);for(let W=0;W<H.length;W+=1)H[W]&&H[W].m(i,null);d(o,s),d(o,a),d(a,c),d(a,h),d(a,f),d(r,y),d(r,m),d(m,_),d(r,L),d(r,O),d(O,P),d(r,E),d(r,F),z&&z.m(F,null),d(F,S),d(F,R),d(R,M),d(F,v),d(F,x),N||(I=[Y(R,"click",e[6]),Y(x,"click",e[8])],N=!0)},p(D,j){if(j&2){q=Xe(D[5]);let W;for(W=0;W<q.length;W+=1){const $=Ip(D,q,W);H[W]?H[W].p($,j):(H[W]=jp($),H[W].c(),H[W].m(i,null))}for(;W<H.length;W+=1)H[W].d(1);H.length=q.length}j&2&&l!==(l=D[1]+1+"")&&we(c,l),j&2&&w!==(w=D[5][D[1]].title+"")&&we(_,w),j&2&&T!==(T=D[5][D[1]].content+"")&&we(P,T),D[1]>0?z?z.p(D,j):(z=$p(D),z.c(),z.m(F,S)):z&&(z.d(1),z=null),j&2&&C!==(C=D[1]===D[5].length-1?"Finish":"Next")&&we(M,C)},i(D){D&&(A||_t(()=>{A=xi(t,Qr,{y:20,duration:200,easing:Rn}),A.start()}))},o:He,d(D){D&&oe(t),Yt(H,D),z&&z.d(),N=!1,lt(I)}}}function jp(e){let t,n;return{c(){t=b("div"),u(t,"class",n="transition-all duration-200 rounded-full "+(e[21]===e[1]?"w-6 h-1.5 bg-blue-500":e[21]<e[1]?"w-1.5 h-1.5 bg-blue-500/40":"w-1.5 h-1.5 bg-neutral-600")+" svelte-5pr2xf")},m(r,o){ie(r,t,o)},p(r,o){o&2&&n!==(n="transition-all duration-200 rounded-full "+(r[21]===r[1]?"w-6 h-1.5 bg-blue-500":r[21]<r[1]?"w-1.5 h-1.5 bg-blue-500/40":"w-1.5 h-1.5 bg-neutral-600")+" svelte-5pr2xf")&&u(t,"class",n)},d(r){r&&oe(t)}}}function $p(e){let t,n,r;return{c(){t=b("button"),t.textContent="Previous",u(t,"class","secondary-button-small svelte-5pr2xf")},m(o,i){ie(o,t,i),n||(r=Y(t,"click",e[7]),n=!0)},p:He,d(o){o&&oe(t),n=!1,r()}}}function Rx(e){let t,n,r,o,i=e[0]&&Pp(e),s=e[0]&&!e[4]&&e[2]&&e[1]<e[5].length&&Bp(e);return{c(){i&&i.c(),t=B(),s&&s.c(),n=Cn()},m(a,l){i&&i.m(a,l),ie(a,t,l),s&&s.m(a,l),ie(a,n,l),r||(o=[Y(Rp,"resize",e[10]),Y(Rp,"scroll",e[10])],r=!0)},p(a,[l]){a[0]?i?i.p(a,l):(i=Pp(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),a[0]&&!a[4]&&a[2]&&a[1]<a[5].length?s?(s.p(a,l),l&23&&$e(s,1)):(s=Bp(a),s.c(),$e(s,1),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(a){$e(s)},o:He,d(a){a&&(oe(t),oe(n)),i&&i.d(a),s&&s.d(a),r=!1,lt(o)}}}function Ix(e,t,n){let r;dr(e,Gi,F=>n(14,r=F));let{showTutorial:o=!1}=t,{onComplete:i=()=>{}}=t,s=0,a=!1,l=null,c={top:0,left:0,width:0,height:0},h=!0;const p=[{selector:"#demodulationModes",title:"Modulation Modes",content:"Select between USB, LSB, CW, AM, or FM modes. The modern interface highlights your active mode with smooth transitions.",placement:"bottom"},{selector:"#waterfall",title:"Waterfall Display",content:"Real-time spectrum visualization with enhanced graphics. Click to tune, drag passband edges, and use mouse wheel to zoom.",placement:"top"},{selector:"#volume-slider",title:"Volume Control",content:"Smooth audio control with visual feedback. The glass-morphism slider shows precise level adjustments.",placement:"left"},{selector:"#squelch-slider",title:"Squelch Control",content:"Intelligent noise suppression with modern slider design. Set threshold to eliminate unwanted background noise.",placement:"left"},{selector:"#ft8-decoder",title:"FT8 Decoder",content:"Built-in digital mode decoder with enhanced display. Automatically decodes FT8 signals on ham bands.",placement:"top"},{selector:"#smeter-tut",title:"S-Meter & VFO Display",content:"Modern frequency display with VFO A/B support (press V to switch), real-time S-meter, and status indicators for NR, NB, AN, and mute.",placement:"bottom"},{selector:"#zoom-controls",title:"Zoom Controls",content:"Glass-morphism zoom buttons for spectrum navigation. Use keyboard shortcuts: +/- for zoom, 0 for max zoom, 9 for full view.",placement:"left"},{selector:"#moreoptions",title:"Signal Processing",content:"Advanced DSP features with visual feedback. Toggle NR (noise reduction), NB (noise blanker), AN (auto notch), and CTCSS filtering.",placement:"left"},{selector:"#brightness-controls",title:"Display Settings",content:"Fine-tune waterfall appearance with modern controls. Adjust brightness and contrast for optimal signal visibility.",placement:"top"},{selector:"#colormap-select",title:"Color Schemes",content:"Professional color palettes optimized for different conditions. Choose from various scientific and aesthetic themes.",placement:"top"},{selector:"#auto-adjust",title:"Auto Optimization",content:"AI-powered display optimization automatically adjusts parameters for best signal visibility.",placement:"top"},{selector:"#spectrum-toggle",title:"Spectrum Analyzer",content:"Toggle the high-resolution spectrum display with modern graphics and smooth animations.",placement:"top"},{selector:"#bigger-waterfall",title:"Fullscreen Mode",content:"Maximize your workspace with expanded waterfall view for professional monitoring.",placement:"top"},{selector:"#bands-button",title:"Band Selection",content:"Quick access to amateur radio bands with automatic ITU region detection. Press G for keyboard shortcut.",placement:"left"},{selector:"#bookmark-button",title:"Frequency Memory",content:"Modern bookmark system with glass-morphism design. Save, organize, and quickly recall your favorite frequencies.",placement:"left"},{selector:"#user_count_container",title:"Active Users",content:"See who's listening with the enhanced user counter featuring modern styling and real-time updates.",placement:"top"},{selector:"#chat-box",title:"Operator Chat",content:"Connect with the SDR community through the integrated chat system with modern UI.",placement:"top"}],f=r.chatEnabled?p:p.filter(F=>F.selector!=="#chat-box");async function y(){if(!f.every(F=>document.querySelector(F.selector)!==null)){console.warn("Some tutorial elements are missing. Skipping tutorial."),i();return}a=localStorage.getItem("phantomSDRTutorialCompleted")===null,a&&o&&(await Rr(),f.length>0&&m())}async function m(){if(s>=0&&s<f.length){const F=f[s];if(n(2,l=document.querySelector(F.selector)),l){const S=l.getBoundingClientRect(),R=window.innerHeight,C=S.top,M=S.bottom;(C<100||M>R-100)&&(l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),await new Promise(x=>setTimeout(x,200)));const v=l.getBoundingClientRect();n(3,c={top:v.top-8,left:v.left-8,width:v.width+16,height:v.height+16})}}}async function w(){s<f.length-1?(n(1,s++,s),await Rr(),m()):O()}async function _(){s>0&&(n(1,s--,s),await Rr(),m())}function L(){O()}function O(){localStorage.setItem("phantomSDRTutorialCompleted","true"),n(0,o=!1),i()}async function T(){n(4,h=!1),await Rr(),m()}zn(()=>{o&&y()});let P=!1;function E(){!P&&o&&!h&&l&&(requestAnimationFrame(()=>{const F=l.getBoundingClientRect();n(3,c={top:F.top-8,left:F.left-8,width:F.width+16,height:F.height+16}),P=!1}),P=!0)}return e.$$set=F=>{"showTutorial"in F&&n(0,o=F.showTutorial),"onComplete"in F&&n(11,i=F.onComplete)},[o,s,l,c,h,f,w,_,L,T,E,i]}class Px extends on{constructor(t){super(),rn(this,t,Ix,Rx,Xt,{showTutorial:0,onComplete:11})}}function Up(e){let t,n,r,o,i;return{c(){t=b("div"),t.innerHTML='<div class="content-card svelte-1uklh3e"><div class="icon-container svelte-1uklh3e"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1uklh3e"><circle cx="24" cy="24" r="24" fill="rgba(255, 255, 255, 0.1)"></circle><path d="M28 16.5v15a1 1 0 01-1.7.7l-6.58-6.58A1 1 0 0019 25H16a2 2 0 01-2-2v-6a2 2 0 012-2h3a1 1 0 00.71-.29L26.3 8.3a1 1 0 011.7.7z" fill="white"></path><path d="M31.07 16.93a6 6 0 010 8.49M34.24 13.76a10 10 0 010 14.48" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div> <h2 class="overlay-title svelte-1uklh3e">Enable Audio</h2> <p class="overlay-text svelte-1uklh3e">Tap anywhere to start</p></div>',u(t,"class","overlay-container svelte-1uklh3e"),u(t,"id","startaudio")},m(s,a){ie(s,t,a),r=!0,o||(i=Y(t,"click",function(){Ht(e[1])&&e[1].apply(this,arguments)}),o=!0)},p(s,a){e=s},i(s){r||(s&&_t(()=>{r&&(n||(n=Ft(t,bn,{duration:200},!0)),n.run(1))}),r=!0)},o(s){s&&(n||(n=Ft(t,bn,{duration:200},!1)),n.run(0)),r=!1},d(s){s&&oe(t),s&&n&&n.end(),o=!1,i()}}}function Nx(e){let t,n=e[0]&&Up(e);return{c(){n&&n.c(),t=Cn()},m(r,o){n&&n.m(r,o),ie(r,t,o)},p(r,[o]){r[0]?n?(n.p(r,o),o&1&&$e(n,1)):(n=Up(r),n.c(),$e(n,1),n.m(t.parentNode,t)):n&&(Wn(),st(n,1,1,()=>{n=null}),Hn())},i(r){$e(n)},o(r){st(n)},d(r){r&&oe(t),n&&n.d(r)}}}function Dx(e,t,n){let{visible:r=!0}=t,{onClick:o=()=>{}}=t;return e.$$set=i=>{"visible"in i&&n(0,r=i.visible),"onClick"in i&&n(1,o=i.onClick)},[r,o]}class Lx extends on{constructor(t){super(),rn(this,t,Dx,Nx,Xt,{visible:0,onClick:1})}}function Zn(){return Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function qn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ba(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Mc;typeof Object.assign!="function"?Mc=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Mc=Object.assign;var po=Mc,zp=["","webkit","Moz","MS","ms","o"],qx=typeof document>"u"?{style:{}}:document.createElement("div"),Bx="function",Ko=Math.round,fo=Math.abs,Ac=Date.now;function wa(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<zp.length;){if(n=zp[i],r=n?n+o:t,r in e)return r;i++}}var _r;typeof window>"u"?_r={}:_r=window;var Wp=wa(qx.style,"touchAction"),Hp=Wp!==void 0;function jx(){if(!Hp)return!1;var e={},t=_r.CSS&&_r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=t?_r.CSS.supports("touch-action",n):!0}),e}var Vp="compute",Gp="auto",Tc="manipulation",mo="none",Xi="pan-x",Yi="pan-y",xa=jx(),$x=/mobile|tablet|ip(ad|hone|od)|android/i,Xp="ontouchstart"in _r,Ux=wa(_r,"PointerEvent")!==void 0,zx=Xp&&$x.test(navigator.userAgent),Zi="touch",Wx="pen",Ec="mouse",Hx="kinect",Vx=25,mn=1,go=2,Bt=4,kn=8,ka=1,Ji=2,Ki=4,Qi=8,Qo=16,ir=Ji|Ki,vo=Qi|Qo,Yp=ir|vo,Zp=["x","y"],Ca=["clientX","clientY"];function Sr(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==void 0)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function _a(e,t){return typeof e===Bx?e.apply(t&&t[0]||void 0,t):e}function yo(e,t){return e.indexOf(t)>-1}function Gx(e){if(yo(e,mo))return mo;var t=yo(e,Xi),n=yo(e,Yi);return t&&n?mo:t||n?t?Xi:Yi:yo(e,Tc)?Tc:Gp}var Jp=function(){function e(n,r){this.manager=n,this.set(r)}var t=e.prototype;return t.set=function(n){n===Vp&&(n=this.compute()),Hp&&this.manager.element.style&&xa[n]&&(this.manager.element.style[Wp]=n),this.actions=n.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var n=[];return Sr(this.manager.recognizers,function(r){_a(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),Gx(n.join(" "))},t.preventDefaults=function(n){var r=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var i=this.actions,s=yo(i,mo)&&!xa[mo],a=yo(i,Yi)&&!xa[Yi],l=yo(i,Xi)&&!xa[Xi];if(s){var c=n.pointers.length===1,h=n.distance<2,p=n.deltaTime<250;if(c&&h&&p)return}if(!(l&&a)&&(s||a&&o&ir||l&&o&vo))return this.preventSrc(r)},t.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function Fc(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function Kp(e){var t=e.length;if(t===1)return{x:Ko(e[0].clientX),y:Ko(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:Ko(n/t),y:Ko(r/t)}}function Qp(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Ko(e.pointers[n].clientX),clientY:Ko(e.pointers[n].clientY)},n++;return{timeStamp:Ac(),pointers:t,center:Kp(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Sa(e,t,n){n||(n=Zp);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function Oc(e,t,n){n||(n=Zp);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.atan2(o,r)*180/Math.PI}function ef(e,t){return e===t?ka:fo(e)>=fo(t)?e<0?Ji:Ki:t<0?Qi:Qo}function Xx(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};(t.eventType===mn||i.eventType===Bt)&&(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function tf(e,t,n){return{x:t/e||0,y:n/e||0}}function Yx(e,t){return Sa(t[0],t[1],Ca)/Sa(e[0],e[1],Ca)}function Zx(e,t){return Oc(t[1],t[0],Ca)+Oc(e[1],e[0],Ca)}function Jx(e,t){var n=e.lastInterval||t,r=t.timeStamp-n.timeStamp,o,i,s,a;if(t.eventType!==kn&&(r>Vx||n.velocity===void 0)){var l=t.deltaX-n.deltaX,c=t.deltaY-n.deltaY,h=tf(r,l,c);i=h.x,s=h.y,o=fo(h.x)>fo(h.y)?h.x:h.y,a=ef(l,c),e.lastInterval=t}else o=n.velocity,i=n.velocityX,s=n.velocityY,a=n.direction;t.velocity=o,t.velocityX=i,t.velocityY=s,t.direction=a}function Kx(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=Qp(t)),o>1&&!n.firstMultiple?n.firstMultiple=Qp(t):o===1&&(n.firstMultiple=!1);var i=n.firstInput,s=n.firstMultiple,a=s?s.center:i.center,l=t.center=Kp(r);t.timeStamp=Ac(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=Oc(a,l),t.distance=Sa(a,l),Xx(n,t),t.offsetDirection=ef(t.deltaX,t.deltaY);var c=tf(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=fo(c.x)>fo(c.y)?c.x:c.y,t.scale=s?Yx(s.pointers,r):1,t.rotation=s?Zx(s.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,Jx(n,t);var h=e.element,p=t.srcEvent,f;p.composedPath?f=p.composedPath()[0]:p.path?f=p.path[0]:f=p.target,Fc(f,h)&&(h=f),t.target=h}function Qx(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&mn&&r-o===0,s=t&(Bt|kn)&&r-o===0;n.isFirst=!!i,n.isFinal=!!s,i&&(e.session={}),n.eventType=t,Kx(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function es(e){return e.trim().split(/\s+/g)}function ts(e,t,n){Sr(es(t),function(r){e.addEventListener(r,n,!1)})}function ns(e,t,n){Sr(es(t),function(r){e.removeEventListener(r,n,!1)})}function nf(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var ei=function(){function e(n,r){var o=this;this.manager=n,this.callback=r,this.element=n.element,this.target=n.options.inputTarget,this.domHandler=function(i){_a(n.options.enable,[n])&&o.handler(i)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&ts(this.element,this.evEl,this.domHandler),this.evTarget&&ts(this.target,this.evTarget,this.domHandler),this.evWin&&ts(nf(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&ns(this.element,this.evEl,this.domHandler),this.evTarget&&ns(this.target,this.evTarget,this.domHandler),this.evWin&&ns(nf(this.element),this.evWin,this.domHandler)},e}();function bo(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var e8={pointerdown:mn,pointermove:go,pointerup:Bt,pointercancel:kn,pointerout:kn},t8={2:Zi,3:Wx,4:Ec,5:Hx},rf="pointerdown",of="pointermove pointerup pointercancel";_r.MSPointerEvent&&!_r.PointerEvent&&(rf="MSPointerDown",of="MSPointerMove MSPointerUp MSPointerCancel");var sf=function(e){qn(t,e);function t(){var r,o=t.prototype;return o.evEl=rf,o.evWin=of,r=e.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var n=t.prototype;return n.handler=function(r){var o=this.store,i=!1,s=r.type.toLowerCase().replace("ms",""),a=e8[s],l=t8[r.pointerType]||r.pointerType,c=l===Zi,h=bo(o,r.pointerId,"pointerId");a&mn&&(r.button===0||c)?h<0&&(o.push(r),h=o.length-1):a&(Bt|kn)&&(i=!0),!(h<0)&&(o[h]=r,this.callback(this.manager,a,{pointers:o,changedPointers:[r],pointerType:l,srcEvent:r}),i&&o.splice(h,1))},t}(ei);function rs(e){return Array.prototype.slice.call(e,0)}function Rc(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var s=t?e[i][t]:e[i];bo(o,s)<0&&r.push(e[i]),o[i]=s,i++}return n&&(t?r=r.sort(function(a,l){return a[t]>l[t]}):r=r.sort()),r}var n8={touchstart:mn,touchmove:go,touchend:Bt,touchcancel:kn},r8="touchstart touchmove touchend touchcancel",Ic=function(e){qn(t,e);function t(){var r;return t.prototype.evTarget=r8,r=e.apply(this,arguments)||this,r.targetIds={},r}var n=t.prototype;return n.handler=function(r){var o=n8[r.type],i=o8.call(this,r,o);i&&this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:Zi,srcEvent:r})},t}(ei);function o8(e,t){var n=rs(e.touches),r=this.targetIds;if(t&(mn|go)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var o,i,s=rs(e.changedTouches),a=[],l=this.target;if(i=n.filter(function(c){return Fc(c.target,l)}),t===mn)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<s.length;)r[s[o].identifier]&&a.push(s[o]),t&(Bt|kn)&&delete r[s[o].identifier],o++;if(a.length)return[Rc(i.concat(a),"identifier",!0),a]}var i8={mousedown:mn,mousemove:go,mouseup:Bt},s8="mousedown",a8="mousemove mouseup",Pc=function(e){qn(t,e);function t(){var r,o=t.prototype;return o.evEl=s8,o.evWin=a8,r=e.apply(this,arguments)||this,r.pressed=!1,r}var n=t.prototype;return n.handler=function(r){var o=i8[r.type];o&mn&&r.button===0&&(this.pressed=!0),o&go&&r.which!==1&&(o=Bt),this.pressed&&(o&Bt&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[r],changedPointers:[r],pointerType:Ec,srcEvent:r}))},t}(ei),l8=2500,af=25;function lf(e){var t=e.changedPointers,n=t[0];if(n.identifier===this.primaryTouch){var r={x:n.clientX,y:n.clientY},o=this.lastTouches;this.lastTouches.push(r);var i=function(){var s=o.indexOf(r);s>-1&&o.splice(s,1)};setTimeout(i,l8)}}function c8(e,t){e&mn?(this.primaryTouch=t.changedPointers[0].identifier,lf.call(this,t)):e&(Bt|kn)&&lf.call(this,t)}function u8(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),s=Math.abs(n-o.y);if(i<=af&&s<=af)return!0}return!1}var cf=function(){var e=function(t){qn(n,t);function n(o,i){var s;return s=t.call(this,o,i)||this,s.handler=function(a,l,c){var h=c.pointerType===Zi,p=c.pointerType===Ec;if(!(p&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(h)c8.call(ba(ba(s)),l,c);else if(p&&u8.call(ba(ba(s)),c))return;s.callback(a,l,c)}},s.touch=new Ic(s.manager,s.handler),s.mouse=new Pc(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var r=n.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},n}(ei);return e}();function d8(e){var t,n=e.options.inputClass;return n?t=n:Ux?t=sf:zx?t=Ic:Xp?t=cf:t=Pc,new t(e,Qx)}function ti(e,t,n){return Array.isArray(e)?(Sr(e,n[t],n),!0):!1}var Ma=1,Bn=2,ni=4,$r=8,Mr=$r,os=16,sr=32,h8=1;function p8(){return h8++}function Aa(e,t){var n=t.manager;return n?n.get(e):e}function uf(e){return e&os?"cancel":e&$r?"end":e&ni?"move":e&Bn?"start":""}var is=function(){function e(n){n===void 0&&(n={}),this.options=Zn({enable:!0},n),this.id=p8(),this.manager=null,this.state=Ma,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(n){return po(this.options,n),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(n){if(ti(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Aa(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},t.dropRecognizeWith=function(n){return ti(n,"dropRecognizeWith",this)?this:(n=Aa(n,this),delete this.simultaneous[n.id],this)},t.requireFailure=function(n){if(ti(n,"requireFailure",this))return this;var r=this.requireFail;return n=Aa(n,this),bo(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},t.dropRequireFailure=function(n){if(ti(n,"dropRequireFailure",this))return this;n=Aa(n,this);var r=bo(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},t.emit=function(n){var r=this,o=this.state;function i(s){r.manager.emit(s,n)}o<$r&&i(r.options.event+uf(o)),i(r.options.event),n.additionalEvent&&i(n.additionalEvent),o>=$r&&i(r.options.event+uf(o))},t.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=sr},t.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(sr|Ma)))return!1;n++}return!0},t.recognize=function(n){var r=po({},n);if(!_a(this.options.enable,[this,r])){this.reset(),this.state=sr;return}this.state&(Mr|os|sr)&&(this.state=Ma),this.state=this.process(r),this.state&(Bn|ni|$r|os)&&this.tryEmit(r)},t.process=function(n){},t.getTouchAction=function(){},t.reset=function(){},e}(),Nc=function(e){qn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,Zn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,o.pTime=!1,o.pCenter=!1,o._timer=null,o._input=null,o.count=0,o}var n=t.prototype;return n.getTouchAction=function(){return[Tc]},n.process=function(r){var o=this,i=this.options,s=r.pointers.length===i.pointers,a=r.distance<i.threshold,l=r.deltaTime<i.time;if(this.reset(),r.eventType&mn&&this.count===0)return this.failTimeout();if(a&&l&&s){if(r.eventType!==Bt)return this.failTimeout();var c=this.pTime?r.timeStamp-this.pTime<i.interval:!0,h=!this.pCenter||Sa(this.pCenter,r.center)<i.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!h||!c?this.count=1:this.count+=1,this._input=r;var p=this.count%i.taps;if(p===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Mr,o.tryEmit()},i.interval),Bn):Mr}return sr},n.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=sr},this.options.interval),sr},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===Mr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(is),ri=function(e){qn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Zn({pointers:1},r))||this}var n=t.prototype;return n.attrTest=function(r){var o=this.options.pointers;return o===0||r.pointers.length===o},n.process=function(r){var o=this.state,i=r.eventType,s=o&(Bn|ni),a=this.attrTest(r);return s&&(i&kn||!a)?o|os:s||a?i&Bt?o|$r:o&Bn?o|ni:Bn:sr},t}(is);function df(e){return e===Qo?"down":e===Qi?"up":e===Ji?"left":e===Ki?"right":""}var Dc=function(e){qn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,Zn({event:"pan",threshold:10,pointers:1,direction:Yp},r))||this,o.pX=null,o.pY=null,o}var n=t.prototype;return n.getTouchAction=function(){var r=this.options.direction,o=[];return r&ir&&o.push(Yi),r&vo&&o.push(Xi),o},n.directionTest=function(r){var o=this.options,i=!0,s=r.distance,a=r.direction,l=r.deltaX,c=r.deltaY;return a&o.direction||(o.direction&ir?(a=l===0?ka:l<0?Ji:Ki,i=l!==this.pX,s=Math.abs(r.deltaX)):(a=c===0?ka:c<0?Qi:Qo,i=c!==this.pY,s=Math.abs(r.deltaY))),r.direction=a,i&&s>o.threshold&&a&o.direction},n.attrTest=function(r){return ri.prototype.attrTest.call(this,r)&&(this.state&Bn||!(this.state&Bn)&&this.directionTest(r))},n.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var o=df(r.direction);o&&(r.additionalEvent=this.options.event+o),e.prototype.emit.call(this,r)},t}(ri),hf=function(e){qn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Zn({event:"swipe",threshold:10,velocity:.3,direction:ir|vo,pointers:1},r))||this}var n=t.prototype;return n.getTouchAction=function(){return Dc.prototype.getTouchAction.call(this)},n.attrTest=function(r){var o=this.options.direction,i;return o&(ir|vo)?i=r.overallVelocity:o&ir?i=r.overallVelocityX:o&vo&&(i=r.overallVelocityY),e.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&fo(i)>this.options.velocity&&r.eventType&Bt},n.emit=function(r){var o=df(r.offsetDirection);o&&this.manager.emit(this.options.event+o,r),this.manager.emit(this.options.event,r)},t}(ri),pf=function(e){qn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Zn({event:"pinch",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[mo]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&Bn)},n.emit=function(r){if(r.scale!==1){var o=r.scale<1?"in":"out";r.additionalEvent=this.options.event+o}e.prototype.emit.call(this,r)},t}(ri),ff=function(e){qn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Zn({event:"rotate",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[mo]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&Bn)},t}(ri),mf=function(e){qn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,Zn({event:"press",pointers:1,time:251,threshold:9},r))||this,o._timer=null,o._input=null,o}var n=t.prototype;return n.getTouchAction=function(){return[Gp]},n.process=function(r){var o=this,i=this.options,s=r.pointers.length===i.pointers,a=r.distance<i.threshold,l=r.deltaTime>i.time;if(this._input=r,!a||!s||r.eventType&(Bt|kn)&&!l)this.reset();else if(r.eventType&mn)this.reset(),this._timer=setTimeout(function(){o.state=Mr,o.tryEmit()},i.time);else if(r.eventType&Bt)return Mr;return sr},n.reset=function(){clearTimeout(this._timer)},n.emit=function(r){this.state===Mr&&(r&&r.eventType&Bt?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=Ac(),this.manager.emit(this.options.event,this._input)))},t}(is),gf={domEvents:!1,touchAction:Vp,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},vf=[[ff,{enable:!1}],[pf,{enable:!1},["rotate"]],[hf,{direction:ir}],[Dc,{direction:ir},["swipe"]],[Nc],[Nc,{event:"doubletap",taps:2},["tap"]],[mf]],f8=1,yf=2;function bf(e,t){var n=e.element;if(n.style){var r;Sr(e.options.cssProps,function(o,i){r=wa(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function m8(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var wf=function(){function e(n,r){var o=this;this.options=po({},gf,r||{}),this.options.inputTarget=this.options.inputTarget||n,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=n,this.input=d8(this),this.touchAction=new Jp(this,this.options.touchAction),bf(this,!0),Sr(this.options.recognizers,function(i){var s=o.add(new i[0](i[1]));i[2]&&s.recognizeWith(i[2]),i[3]&&s.requireFailure(i[3])},this)}var t=e.prototype;return t.set=function(n){return po(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},t.stop=function(n){this.session.stopped=n?yf:f8},t.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var o,i=this.recognizers,s=r.curRecognizer;(!s||s&&s.state&Mr)&&(r.curRecognizer=null,s=null);for(var a=0;a<i.length;)o=i[a],r.stopped!==yf&&(!s||o===s||o.canRecognizeWith(s))?o.recognize(n):o.reset(),!s&&o.state&(Bn|ni|$r)&&(r.curRecognizer=o,s=o),a++}},t.get=function(n){if(n instanceof is)return n;for(var r=this.recognizers,o=0;o<r.length;o++)if(r[o].options.event===n)return r[o];return null},t.add=function(n){if(ti(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},t.remove=function(n){if(ti(n,"remove",this))return this;var r=this.get(n);if(n){var o=this.recognizers,i=bo(o,r);i!==-1&&(o.splice(i,1),this.touchAction.update())}return this},t.on=function(n,r){if(n===void 0||r===void 0)return this;var o=this.handlers;return Sr(es(n),function(i){o[i]=o[i]||[],o[i].push(r)}),this},t.off=function(n,r){if(n===void 0)return this;var o=this.handlers;return Sr(es(n),function(i){r?o[i]&&o[i].splice(bo(o[i],r),1):delete o[i]}),this},t.emit=function(n,r){this.options.domEvents&&m8(n,r);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var i=0;i<o.length;)o[i](r),i++}},t.destroy=function(){this.element&&bf(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),g8={touchstart:mn,touchmove:go,touchend:Bt,touchcancel:kn},v8="touchstart",y8="touchstart touchmove touchend touchcancel",b8=function(e){qn(t,e);function t(){var r,o=t.prototype;return o.evTarget=v8,o.evWin=y8,r=e.apply(this,arguments)||this,r.started=!1,r}var n=t.prototype;return n.handler=function(r){var o=g8[r.type];if(o===mn&&(this.started=!0),!!this.started){var i=w8.call(this,r,o);o&(Bt|kn)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:Zi,srcEvent:r})}},t}(ei);function w8(e,t){var n=rs(e.touches),r=rs(e.changedTouches);return t&(Bt|kn)&&(n=Rc(n.concat(r),"identifier",!0)),[n,r]}function xf(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var o=new Error("get-stack-trace"),i=o&&o.stack?o.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,r,i),e.apply(this,arguments)}}var kf=xf(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===void 0)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),x8=xf(function(e,t){return kf(e,t,!0)},"merge","Use `assign`.");function k8(e,t,n){var r=t.prototype,o;o=e.prototype=Object.create(r),o.constructor=e,o._super=r,n&&po(o,n)}function Cf(e,t){return function(){return e.apply(t,arguments)}}var Ta=function(){var e=function(t,n){return n===void 0&&(n={}),new wf(t,Zn({recognizers:vf.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=Yp,e.DIRECTION_DOWN=Qo,e.DIRECTION_LEFT=Ji,e.DIRECTION_RIGHT=Ki,e.DIRECTION_UP=Qi,e.DIRECTION_HORIZONTAL=ir,e.DIRECTION_VERTICAL=vo,e.DIRECTION_NONE=ka,e.DIRECTION_DOWN=Qo,e.INPUT_START=mn,e.INPUT_MOVE=go,e.INPUT_END=Bt,e.INPUT_CANCEL=kn,e.STATE_POSSIBLE=Ma,e.STATE_BEGAN=Bn,e.STATE_CHANGED=ni,e.STATE_ENDED=$r,e.STATE_RECOGNIZED=Mr,e.STATE_CANCELLED=os,e.STATE_FAILED=sr,e.Manager=wf,e.Input=ei,e.TouchAction=Jp,e.TouchInput=Ic,e.MouseInput=Pc,e.PointerEventInput=sf,e.TouchMouseInput=cf,e.SingleTouchInput=b8,e.Recognizer=is,e.AttrRecognizer=ri,e.Tap=Nc,e.Pan=Dc,e.Swipe=hf,e.Pinch=pf,e.Rotate=ff,e.Press=mf,e.on=ts,e.off=ns,e.each=Sr,e.merge=x8,e.extend=kf,e.bindFn=Cf,e.assign=po,e.inherit=k8,e.bindFn=Cf,e.prefixed=wa,e.toArray=rs,e.inArray=bo,e.uniqueArray=Rc,e.splitStr=es,e.boolOrFn=_a,e.hasParent=Fc,e.addEventListeners=ts,e.removeEventListeners=ns,e.defaults=po({},gf,{preset:vf}),e}();function C8(e){const t=new Ta.Manager(e),n=new Ta.Pinch;return t.add(n),t.on("pinchmove",function(r){e.dispatchEvent(new CustomEvent("pinchmove",{detail:r}))}),t.on("pinchstart",function(r){e.dispatchEvent(new CustomEvent("pinchstart",{detail:r}))}),{destroy(){t.off("pinchmove"),t.off("pinchstart"),t.destroy()}}}function Lc(e){const t=new Ta.Manager(e),n=new Ta.Pan;return t.add(n),t.on("panstart",function(r){e.dispatchEvent(new CustomEvent("panstart",{detail:r}))}),t.on("panmove",function(r){e.dispatchEvent(new CustomEvent("panmove",{detail:r}))}),t.on("panend",function(r){e.dispatchEvent(new CustomEvent("panend",{detail:r}))}),{destroy(){t.off("panstart"),t.off("panmove"),t.off("panend"),t.destroy()}}}const _f={mouseWheelStep:.5,keyboardStep:.5,keyboardJumpStep:10};function _8(){if(typeof window<"u"){const e=localStorage.getItem("frequencySteps");if(e)try{return{..._f,...JSON.parse(e)}}catch(t){console.warn("Failed to load frequency step settings from localStorage:",t)}}return _f}const Ur=Is(_8());Ur.subscribe(e=>{typeof window<"u"&&localStorage.setItem("frequencySteps",JSON.stringify(e))});const{window:Ea}=_s;function S8(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w;return{c(){t=b("div"),n=b("div"),r=b("div"),o=Re("svg"),i=Re("line"),s=Re("line"),a=B(),l=b("div"),c=B(),h=Re("svg"),p=Re("line"),f=Re("line"),u(i,"x1","100%"),u(i,"y1","20%"),u(i,"x2","20%"),u(i,"y2","100%"),u(i,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),u(s,"x1","0%"),u(s,"y1","100%"),u(s,"x2","20%"),u(s,"y2","100%"),u(s,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),u(o,"class","h-5 w-2 inline absolute group cursor-w-resize z-0"),Et(o,"right","100%"),u(o,"role","slider"),u(o,"aria-valuenow",e[5]),u(o,"tabindex","-1"),u(l,"class","w-full h-full border-t border-yellow-500 align-middle absolute z-10"),Et(l,"top","20%"),u(l,"role","slider"),u(l,"tabindex","-1"),u(p,"x1","0%"),u(p,"y1","20%"),u(p,"x2","80%"),u(p,"y2","100%"),u(p,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),u(f,"x1","80%"),u(f,"y1","100%"),u(f,"x2","100%"),u(f,"y2","100%"),u(f,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),u(h,"class","h-5 w-2 inline absolute group cursor-e-resize z-0"),Et(h,"left","100%"),u(h,"role","slider"),u(h,"aria-valuenow",e[6]),u(h,"tabindex","-1"),u(r,"class","h-full absolute cursor-grab z-10"),u(r,"style",e[9]),u(n,"class","h-full w-px bg-yellow-500"),u(n,"style",e[8]),u(t,"class","w-full h-5 bg-black"),_t(()=>e[26].call(t))},m(_,L){ie(_,t,L),d(t,n),d(n,r),d(r,o),d(o,i),d(o,s),d(r,a),d(r,l),d(r,c),d(r,h),d(h,p),d(h,f),e[25](t),y=Pm(t,e[26].bind(t)),m||(w=[Y(Ea,"mouseup",e[12]),Y(Ea,"mousemove",e[11]),Y(Ea,"touchmove",e[2]),Y(Ea,"touchend",e[3]),Y(o,"mousedown",e[21]),gi(Lc.call(null,o)),Y(o,"panstart",e[22]),Y(o,"panmove",e[11]),Y(o,"panend",e[12]),Y(h,"mousedown",e[23]),gi(Lc.call(null,h)),Y(h,"panstart",e[24]),Y(h,"panmove",e[11]),Y(h,"panend",e[12]),Y(t,"wheel",e[10]),Y(t,"mousedown",e[27]),Y(t,"click",e[13]),Y(t,"touchstart",e[1])],m=!0)},p(_,L){L[0]&32&&u(o,"aria-valuenow",_[5]),L[0]&64&&u(h,"aria-valuenow",_[6]),L[0]&512&&u(r,"style",_[9]),L[0]&256&&u(n,"style",_[8])},i:He,o:He,d(_){_&&oe(t),e[25](null),y(),m=!1,lt(w)}}}const Fa=0,Oa=1,ss=2,as=3,qc=4;function Sf(e){if(e.clientX)return e.clientX;if(e.detail.center.x)return e.detail.center.x}function M8(e,t,n){let r;dr(e,Ur,G=>n(37,r=G));const o=bi();let i=!1,s=!1,a=Fa,l,c,h,p,f=-1e3,y,m,w,_,L;function O(G){G.preventDefault();const K=G.deltaY>0?-1:1,te=G.shiftKey?r.mouseWheelStep*2:r.mouseWheelStep,fe=yp(f)+te*K,Z=Sc(fe);n(19,f=Math.max(0,Math.min(1,Z))),N()}function T(G,K){s=!0,(K==ss||K==as)&&!i&&(i=!0,console.log("Normal Drag for "+a));const te=Sf(G);a=K,c=0;const fe=p.getBoundingClientRect(),Z=fe.x+fe.width/2;a===Oa?l=te-Z-f*h:a===ss?l=te-Z-(f+y)*h:a===as&&(l=te-Z-(f+m)*h),q()}function P(G){const K=Sf(G);if(a===qc)c+=G.detail.srcEvent.movementX;else if(a!==Fa){const te=window.getComputedStyle(G.target).cursor,fe=p.getBoundingClientRect(),Z=fe.x+fe.width/2,he=K-Z-l;if(a===Oa&&!i&&!te.includes("ew-resize")){const ve=p.getBoundingClientRect().x,De=G.clientX-ve;n(19,f=De/h-(m+y)/2)}a===ss?n(5,y=(he-f*h)/h):a===as&&n(6,m=(he-f*h)/h),N()}}function E(G){a===qc&&c<5&&v(G),a=Fa,n(19,f),i=!1,s=!1}function F(G){}function S(G){if(a===Fa&&window.getComputedStyle(G.target).cursor!="resize"){if(a===qc&&c<5&&!i)v(G);else if(!i&&s){const K=p.getBoundingClientRect().x,te=G.clientX-K;n(19,f=te/h-(y+m)/2),N()}}}function R(G){if(G.touches.length===1){const K=G.touches[0];T(K,Oa)}}function C(G){if(G.touches.length===1){const K=G.touches[0];P(K)}}function M(G){E(G)}function v(G){const K=p.getBoundingClientRect().x,te=G.clientX-K;n(19,f=te/h-(m+y)/2),N()}function x(G){const K=p.getBoundingClientRect().x;return(G.clientX-K)/h}let A=0;function N(){const G=[f+y,f,f+m],K=Date.now();K-A>50&&(o("change",G),A=K)}function I(G){const[K,te,fe]=G;n(19,f=te),n(5,y=K-te),n(6,m=fe-te)}function q(){n(20,w=dx(Vi()))}zn(()=>{});const H=G=>T(G,ss),z=G=>T(G,ss),D=G=>T(G,as),j=G=>T(G,as);function W(G){vt[G?"unshift":"push"](()=>{p=G,n(7,p)})}function $(){h=this.clientWidth,n(4,h)}const J=G=>T(G,Oa);return e.$$.update=()=>{e.$$.dirty[0]&1048592,e.$$.dirty[0]&524304&&n(8,_="transform: translate3d(".concat(f*h-.5,"px, 0, 0)")),e.$$.dirty[0]&112&&n(9,L="transform: translate3d(".concat(y*h+.5,"px, 0, 0); width: ").concat((m-y)*h,"px"))},[T,R,C,M,h,y,m,p,_,L,O,P,E,S,F,v,x,I,q,f,w,H,z,D,j,W,$,J]}class A8 extends on{constructor(t){super(),rn(this,t,M8,S8,Xt,{handleMoveStart:0,setMode:14,handleTouchStart:1,handleTouchMove:2,handleTouchEnd:3,handlePassbandClick:15,getOffsetFromEvent:16,changePassband:17,updatePassbandLimits:18},null,[-1,-1])}get handleMoveStart(){return this.$$.ctx[0]}get setMode(){return this.$$.ctx[14]}get handleTouchStart(){return this.$$.ctx[1]}get handleTouchMove(){return this.$$.ctx[2]}get handleTouchEnd(){return this.$$.ctx[3]}get handlePassbandClick(){return this.$$.ctx[15]}get getOffsetFromEvent(){return this.$$.ctx[16]}get changePassband(){return this.$$.ctx[17]}get updatePassbandLimits(){return this.$$.ctx[18]}}var T8=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};const Mf=eo(T8);function E8(e){let t,n,r,o,i,s,a;return{c(){t=b("div"),n=b("div"),r=b("input"),o=B(),i=b("span"),i.textContent="".concat(Af),u(r,"type","number"),u(r,"class","text-3xl font-mono text-white outline-none bg-transparent text-center appearance-none p-0 m-0 inline-block svelte-1n8n5wk"),u(i,"class","text-white font-mono p-1 m-1 text-3xl"),u(n,"class","m-0 p-0"),n.hidden=!0,u(t,"class","w-full md-2 items-center bg-black pt-1")},m(l,c){ie(l,t,c),d(t,n),d(n,r),mt(r,e[0]),d(n,o),d(n,i),e[11](n),s||(a=[Y(r,"input",e[9]),Y(r,"change",e[2]),Y(r,"keydown",e[10])],s=!0)},p(l,c){c[0]&1&&pr(r.value)!==l[0]&&mt(r,l[0])},i:He,o:He,d(l){l&&oe(t),e[11](null),s=!1,lt(a)}}}const Af="MHz";function F8(e,t,n){const r=bi();let o=0,i=0,s,a,l,c=0;const h={Hz:0,kHz:3,MHz:6,GHz:9},p={3:"k",6:"M",9:"G"};let f=[];function y(C){n(8,o=C),r("change",C+i)}function m(C){if(!Mf(a)){w();return}let M=parseFloat(a);M*=Math.pow(10,s),_(M)&&y(M),w()}function w(C){n(0,a=(o/Math.pow(10,s)).toFixed(s));let M=!0;for(let v=0;v<f.length;v++){let x=Math.floor(o/f[v].multiplier)%10;x!==0&&(M=!1),M&&x==0?f[v].value=" ":f[v].value=Math.round(x)}f=f}function _(C){const M=le.baseFreq,v=M+le.totalBandwidth;return C>=M&&C<v}function L(C){_(C)&&n(8,o=C)}function O(){return o}function T(C){i=C}function P(){return i}function E(C,M){c=M;let v=Math.ceil(Math.log10(c+1));for(let x=0;x<v;x++){let A=v-x-1;f.push({element:null,multiplier:Math.pow(10,v-x-1),separator:A%3===0?p[A]:null,value:0})}f=f}w();function F(){a=pr(this.value),n(0,a)}const S=C=>{C.key==="Enter"&&m()};function R(C){vt[C?"unshift":"push"](()=>{l=C,n(1,l)})}return e.$$.update=()=>{e.$$.dirty[0]&256&&w()},s=h[Af],[a,l,m,L,O,T,P,E,o,F,S,R]}class O8 extends on{constructor(t){super(),rn(this,t,F8,E8,Xt,{setFrequency:3,getFrequency:4,setBFO:5,getBFO:6,updateFrequencyLimits:7},null,[-1,-1])}get setFrequency(){return this.$$.ctx[3]}get getFrequency(){return this.$$.ctx[4]}get setBFO(){return this.$$.ctx[5]}get getBFO(){return this.$$.ctx[6]}get updateFrequencyLimits(){return this.$$.ctx[7]}}function R8(e,t,n,r,o){for(var i=o+1;r<=o;){var s=r+o>>>1,a=e[s],l=n!==void 0?n(a,t):a-t;l>=0?(i=s,o=s-1):r=s+1}return i}function I8(e,t,n,r,o){for(var i=o+1;r<=o;){var s=r+o>>>1,a=e[s],l=n!==void 0?n(a,t):a-t;l>0?(i=s,o=s-1):r=s+1}return i}function P8(e,t,n,r,o){for(var i=r-1;r<=o;){var s=r+o>>>1,a=e[s],l=n!==void 0?n(a,t):a-t;l<0?(i=s,r=s+1):o=s-1}return i}function N8(e,t,n,r,o){for(var i=r-1;r<=o;){var s=r+o>>>1,a=e[s],l=n!==void 0?n(a,t):a-t;l<=0?(i=s,r=s+1):o=s-1}return i}function D8(e,t,n,r,o){for(;r<=o;){var i=r+o>>>1,s=e[i],a=n!==void 0?n(s,t):s-t;if(a===0)return i;a<=0?r=i+1:o=i-1}return-1}function ls(e,t,n,r,o,i){return typeof n=="function"?i(e,t,n,r===void 0?0:r|0,o===void 0?e.length-1:o|0):i(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}var L8={ge:function(e,t,n,r,o){return ls(e,t,n,r,o,R8)},gt:function(e,t,n,r,o){return ls(e,t,n,r,o,I8)},lt:function(e,t,n,r,o){return ls(e,t,n,r,o,P8)},le:function(e,t,n,r,o){return ls(e,t,n,r,o,N8)},eq:function(e,t,n,r,o){return ls(e,t,n,r,o,D8)}};const Tf=eo(L8);function Ef(e,t,n){const r=e.slice();return r[16]=t[n],r}function Ff(e,t){let n,r,o,i,s=t[16].description+"",a,l,c,h;function p(){return t[8](t[16])}return{key:e,first:null,c(){n=b("div"),r=b("div"),r.innerHTML="",o=B(),i=b("div"),a=ne(s),l=B(),u(r,"class","top-0 w-px h-8 z-0 peer bg-yellow-500 absolute shadow-[0_0_3px_rgba(250,204,21,0.6)] group-hover:shadow-[0_0_6px_rgba(250,204,21,0.8)] transition-shadow duration-300"),u(i,"class","outline-1 outline-black outline-offset-0 outline p-px bg-gray-900/90 backdrop-blur-sm absolute bottom-0 z-10 group-hover:z-20 hover:z-20 peer-hover:z-20 text-left whitespace-pre whitespace-nowrap text-yellow-300 text-xs align-middle border border-yellow-600/50 transform origin-bottom-left overflow-hidden h-auto max-h-full hover:max-h-screen peer-hover:max-h-screen transition-all ease-linear duration-1000 shadow-lg hover:shadow-xl hover:shadow-yellow-500/20"),u(n,"class","h-4 absolute p-0 group"),Et(n,"left",t[16].left*100+"%"),this.first=n},m(f,y){ie(f,n,y),d(n,r),d(n,o),d(n,i),d(i,a),d(n,l),c||(h=Y(n,"click",p),c=!0)},p(f,y){t=f,y&2&&s!==(s=t[16].description+"")&&we(a,s),y&2&&Et(n,"left",t[16].left*100+"%")},d(f){f&&oe(n),c=!1,h()}}}function q8(e){let t,n=[],r=new Map,o,i,s=Xe(e[1]);const a=l=>l[16].id;for(let l=0;l<s.length;l+=1){let c=Ef(e,s,l),h=a(c);r.set(h,n[l]=Ff(h,c))}return{c(){t=b("div");for(let l=0;l<n.length;l+=1)n[l].c();u(t,"class","w-full h-4 bg-black relative"),u(t,"role","button")},m(l,c){ie(l,t,c);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(t,null);e[9](t),o||(i=[Y(t,"click",Wa(e[6])),Y(t,"wheel",Wa(e[7]))],o=!0)},p(l,[c]){c&6&&(s=Xe(l[1]),n=Rs(n,c,a,1,l,s,r,t,Qa,Ff,null,Ef))},i:He,o:He,d(l){l&&oe(t);for(let c=0;c<n.length;c+=1)n[c].d();e[9](null),o=!1,lt(i)}}}function Bc(e,t){return e[0]-t[0]}function B8(e,t,n){const r=bi();let o;var i=[];function s(T){for(const P of T)i.push([P.f||P.frequency,P.d||P.description,P.m||P.modulation]);i=[...i]}function a(){i.sort(Bc),i.length===0&&n(0,o.style.display="none",o)}function l(T,P){return[Tf.ge(i,[T],Bc),Tf.ge(i,[P],Bc)]}let c=0;function h(T,P){return i.slice(T,P).map(E=>({id:c++,frequency:E[0],description:E[1],modulation:E[2],left:0}))}let p=[],f=-1,y=-1;function m(){const[T,P]=hx(),[E,F]=l(T,P);P-T<=35e5?(E!==f||F!==y)&&(f=E,y=F,n(1,p=h(f,y))):(n(1,p=[]),y=-1,f=-1),n(1,p=p.map(S=>({...S,left:Sc(S.frequency)}))),n(1,p=[...p])}zn(()=>{});function w(T){Fs.call(this,e,T)}function _(T){Fs.call(this,e,T)}const L=T=>r("markerclick",T);function O(T){vt[T?"unshift":"push"](()=>{o=T,n(0,o)})}return[o,p,r,s,a,m,w,_,L,O]}class j8 extends on{constructor(t){super(),rn(this,t,B8,q8,Xt,{insertAll:3,finalizeList:4,updateFrequencyMarkerPositions:5})}get insertAll(){return this.$$.ctx[3]}get finalizeList(){return this.$$.ctx[4]}get updateFrequencyMarkerPositions(){return this.$$.ctx[5]}}function $8(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F={};h=new O8({props:F}),e[24](h),h.$on("change",e[25]);let S={};f=new j8({props:S}),e[26](f),f.$on("click",function(){Ht(e[1].handlePassbandClick)&&e[1].handlePassbandClick.apply(this,arguments)}),f.$on("wheel",e[9]),f.$on("markerclick",e[17]);let R={};return _=new A8({props:R}),e[29](_),_.$on("change",e[16]),_.$on("wheel",e[9]),{c(){t=b("div"),n=b("div"),r=b("canvas"),i=B(),s=b("canvas"),a=B(),l=b("canvas"),c=B(),dn(h.$$.fragment),p=B(),dn(f.$$.fragment),y=B(),m=b("canvas"),w=B(),dn(_.$$.fragment),L=B(),O=b("canvas"),u(r,"class",o="spectrum-canvas "+(e[8]?"active":"")+" svelte-lqcjmu"),u(r,"width","1024"),u(r,"height","128"),u(s,"class","waterfall-canvas svelte-lqcjmu"),u(s,"width","1024"),u(l,"class","temp-canvas svelte-lqcjmu"),u(l,"width","1024"),u(l,"height","1024"),u(m,"class","graduation-canvas svelte-lqcjmu"),u(m,"width","1024"),u(m,"height","20"),u(O,"class","band-plan-canvas svelte-lqcjmu"),u(O,"width","1024"),u(O,"height","20"),u(n,"class","waterfall-display svelte-lqcjmu"),u(n,"id","waterfall"),u(t,"class","waterfall-container svelte-lqcjmu"),u(t,"id","outer-waterfall-container")},m(C,M){ie(C,t,M),d(t,n),d(n,r),e[21](r),d(n,i),d(n,s),e[22](s),d(n,a),d(n,l),e[23](l),d(n,c),tn(h,n,null),d(n,p),tn(f,n,null),d(n,y),d(n,m),e[27](m),d(n,w),tn(_,n,null),d(n,L),d(n,O),e[30](O),T=!0,P||(E=[Y(r,"wheel",e[9]),Y(r,"click",function(){Ht(e[1].handlePassbandClick)&&e[1].handlePassbandClick.apply(this,arguments)}),gi(C8.call(null,s)),Y(s,"pinchstart",e[13]),Y(s,"pinchmove",e[14]),gi(Lc.call(null,s)),Y(s,"panmove",e[15]),Y(s,"wheel",e[9]),Y(s,"mousedown",e[12]),Y(m,"wheel",e[9]),Y(m,"click",function(){Ht(e[1].handlePassbandClick)&&e[1].handlePassbandClick.apply(this,arguments)}),Y(m,"mousedown",e[28]),Y(m,"touchstart",function(){Ht(e[1].handleTouchStart)&&e[1].handleTouchStart.apply(this,arguments)}),Y(m,"touchmove",function(){Ht(e[1].handleTouchMove)&&e[1].handleTouchMove.apply(this,arguments)}),Y(m,"touchend",function(){Ht(e[1].handleTouchEnd)&&e[1].handleTouchEnd.apply(this,arguments)}),Y(O,"wheel",e[9]),Y(O,"click",e[10]),Y(O,"mousemove",e[11]),Y(O,"mousedown",e[31]),Y(O,"touchstart",function(){Ht(e[1].handleTouchStart)&&e[1].handleTouchStart.apply(this,arguments)}),Y(O,"touchmove",function(){Ht(e[1].handleTouchMove)&&e[1].handleTouchMove.apply(this,arguments)}),Y(O,"touchend",function(){Ht(e[1].handleTouchEnd)&&e[1].handleTouchEnd.apply(this,arguments)})],P=!0)},p(C,M){e=C,(!T||M[0]&256&&o!==(o="spectrum-canvas "+(e[8]?"active":"")+" svelte-lqcjmu"))&&u(r,"class",o);const v={};h.$set(v);const x={};f.$set(x);const A={};_.$set(A)},i(C){T||($e(h.$$.fragment,C),$e(f.$$.fragment,C),$e(_.$$.fragment,C),T=!0)},o(C){st(h.$$.fragment,C),st(f.$$.fragment,C),st(_.$$.fragment,C),T=!1},d(C){C&&oe(t),e[21](null),e[22](null),e[23](null),e[24](null),nn(h),e[26](null),nn(f),e[27](null),e[29](null),nn(_),e[30](null),P=!1,lt(E)}}}function U8(e,t,n){let{frequencyInputComponent:r}=t,{passbandTunerComponent:o}=t,{frequencyMarkerComponent:i}=t,s,a,l,c,h,p=!1,f=0,y=!1;Ve.subscribe("spectrumDisplayChange",$=>{n(8,y=$)});function m($){$=$||le.getAudioRange();const J=$.map(jr).map(Sc);o.changePassband(J)}function w($){qe.canvasWheel($),o.updatePassbandLimits(),m(),i.updateFrequencyMarkerPositions()}function _($){const J=$.target.getBoundingClientRect(),G=$.clientX-J.left;qe.handleMarkerClick&&qe.handleMarkerClick(G)||o.handlePassbandClick($)}function L($){const J=$.target.getBoundingClientRect(),G=$.clientX-J.left,K=$.clientY-J.top;qe.handleMarkerHover&&qe.handleMarkerHover(G,K)?$.target.style.cursor="pointer":($.target.style.cursor="default",qe.updateBandPlan())}function O($){f=0,p=!0,$.clientX}function T($){p&&(f+=Math.abs($.movementX)+Math.abs($.movementY),qe.mouseMove($),m(),i.updateFrequencyMarkerPositions())}function P($){p&&(f<2&&o.handlePassbandClick($),p=!1)}let E=0;function F($){E=0}function S($){const J=$.detail.scale-E;E=$.detail.scale;const G=1-Math.abs($.detail.srcEvent.movementX)/s.getBoundingClientRect().width,K=$.detail.srcEvent;K.coords={x:$.detail.center.x},K.deltaY=-Math.sign(J),K.scaleAmount=G,qe.canvasWheel(K),m(),f+=2}function R($){$.detail.srcEvent.pointerType==="touch"&&(qe.mouseMove($.detail.srcEvent),m())}function C($){let[J,G,K]=$.detail.map(yp),te=r.getBFO();te=0,J+=te,G+=te,K+=te;const fe=J-200,Z=G-750,he=K-200;Ve.publish("passbandChange",{frequencies:[J,G,K],offsets:[fe,Z,he]})}function M($){Ve.publish("frequencyMarkerClick",{frequency:$.detail.frequency,modulation:$.detail.modulation})}zn(()=>{qe.initCanvas({canvasElem:s,spectrumCanvasElem:a,graduationCanvasElem:l,bandPlanCanvasElem:c,tempCanvasElem:h}),qe.setFrequencyMarkerComponent(i)});function v($){vt[$?"unshift":"push"](()=>{a=$,n(4,a)})}function x($){vt[$?"unshift":"push"](()=>{s=$,n(3,s)})}function A($){vt[$?"unshift":"push"](()=>{h=$,n(7,h)})}function N($){vt[$?"unshift":"push"](()=>{r=$,n(0,r)})}function I($){Fs.call(this,e,$)}function q($){vt[$?"unshift":"push"](()=>{i=$,n(2,i)})}function H($){vt[$?"unshift":"push"](()=>{l=$,n(5,l)})}const z=$=>o.handleMoveStart($,1);function D($){vt[$?"unshift":"push"](()=>{o=$,n(1,o)})}function j($){vt[$?"unshift":"push"](()=>{c=$,n(6,c)})}const W=$=>o.handleMoveStart($,1);return e.$$set=$=>{"frequencyInputComponent"in $&&n(0,r=$.frequencyInputComponent),"passbandTunerComponent"in $&&n(1,o=$.passbandTunerComponent),"frequencyMarkerComponent"in $&&n(2,i=$.frequencyMarkerComponent)},[r,o,i,s,a,l,c,h,y,w,_,L,O,F,S,R,C,M,m,T,P,v,x,A,N,I,q,H,z,D,j,W]}class z8 extends on{constructor(t){super(),rn(this,t,U8,$8,Xt,{frequencyInputComponent:0,passbandTunerComponent:1,frequencyMarkerComponent:2,updatePassband:18,handleWindowMouseMove:19,handleWindowMouseUp:20},null,[-1,-1])}get updatePassband(){return this.$$.ctx[18]}get handleWindowMouseMove(){return this.$$.ctx[19]}get handleWindowMouseUp(){return this.$$.ctx[20]}}const{window:W8}=_s;function Of(e,t,n){const r=e.slice();return r[57]=t[n],r}function Rf(e,t,n){const r=e.slice();return r[57]=t[n],r}function If(e,t,n){const r=e.slice();return r[57]=t[n],r}function Pf(e,t,n){const r=e.slice();return r[64]=t[n],r}function Nf(e,t,n){const r=e.slice();return r[67]=t[n],r}function jc(e){const t=e.slice(),n=t[15][t[15].length-1];return t[56]=n,t}function Df(e,t,n){const r=e.slice();return r[70]=t[n],r}function Lf(e,t,n){const r=e.slice();return r[73]=t[n],r[75]=n,r}function qf(e){let t=" & ",n;return{c(){n=ne(t)},m(r,o){ie(r,n,o)},d(r){r&&oe(n)}}}function Bf(e){let t,n=e[73].name+"",r,o,i=e[75]<e[21].operators.length-1&&qf();return{c(){t=b("span"),r=ne(n),i&&i.c(),o=Cn(),u(t,"class","operator-name svelte-13l1luc")},m(s,a){ie(s,t,a),d(t,r),i&&i.m(s,a),ie(s,o,a)},p(s,a){a[0]&2097152&&n!==(n=s[73].name+"")&&we(r,n),s[75]<s[21].operators.length-1?i||(i=qf(),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(s){s&&(oe(t),oe(o)),i&&i.d(s)}}}function jf(e){let t,n=e[70].name+"",r,o,i,s,a,l;return{c(){t=b("a"),r=ne(n),o=B(),i=Re("svg"),s=Re("path"),a=B(),u(s,"d","M4.5 1H2C1.44772 1 1 1.44772 1 2V10C1 10.5523 1.44772 11 2 11H10C10.5523 11 11 10.5523 11 10V7.5M8 1H11V4M11 1L6 6"),u(s,"stroke","currentColor"),u(s,"stroke-width","1.5"),u(s,"stroke-linecap","round"),u(s,"stroke-linejoin","round"),u(i,"width","12"),u(i,"height","12"),u(i,"viewBox","0 0 12 12"),u(i,"fill","none"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(t,"href",l=e[70].url+(e[0]/1e3).toFixed(0)),u(t,"target","_blank"),u(t,"rel","noopener noreferrer"),u(t,"class","lookup-link svelte-13l1luc")},m(c,h){ie(c,t,h),d(t,r),d(t,o),d(t,i),d(i,s),d(t,a)},p(c,h){h[0]&2097152&&n!==(n=c[70].name+"")&&we(r,n),h[0]&2097153&&l!==(l=c[70].url+(c[0]/1e3).toFixed(0))&&u(t,"href",l)},d(c){c&&oe(t)}}}function $f(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x;function A(q,H){if(q[4]==="debug")return G8;if(q[4]==="config")return V8;if(q[4]==="general")return H8}let N=A(e),I=N&&N(e);return{c(){t=b("div"),n=b("div"),o=B(),i=b("div"),s=b("div"),a=b("h2"),a.textContent="Settings",l=B(),c=b("button"),c.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',h=B(),p=b("div"),f=b("button"),y=ne("General"),w=B(),_=b("button"),L=ne("Debug"),T=B(),P=b("button"),E=ne("Config"),S=B(),R=b("div"),I&&I.c(),u(n,"class","modal-backdrop svelte-13l1luc"),u(a,"class","modal-title svelte-13l1luc"),u(c,"class","close-button svelte-13l1luc"),u(s,"class","modal-header svelte-13l1luc"),u(f,"class",m="tab-button "+(e[4]==="general"?"active":"")+" svelte-13l1luc"),u(_,"class",O="tab-button "+(e[4]==="debug"?"active":"")+" svelte-13l1luc"),u(P,"class",F="tab-button "+(e[4]==="config"?"active":"")+" svelte-13l1luc"),u(p,"class","tab-bar svelte-13l1luc"),u(R,"class","modal-body svelte-13l1luc"),u(i,"class","modal-content settings-modal svelte-13l1luc"),u(t,"class","modal-container svelte-13l1luc")},m(q,H){ie(q,t,H),d(t,n),d(t,o),d(t,i),d(i,s),d(s,a),d(s,l),d(s,c),d(i,h),d(i,p),d(p,f),d(f,y),d(p,w),d(p,_),d(_,L),d(p,T),d(p,P),d(P,E),d(i,S),d(i,R),I&&I.m(R,null),M=!0,v||(x=[Y(n,"click",e[24]),Y(c,"click",e[24]),Y(f,"click",e[32]),Y(_,"click",e[33]),Y(P,"click",e[34])],v=!0)},p(q,H){(!M||H[0]&16&&m!==(m="tab-button "+(q[4]==="general"?"active":"")+" svelte-13l1luc"))&&u(f,"class",m),(!M||H[0]&16&&O!==(O="tab-button "+(q[4]==="debug"?"active":"")+" svelte-13l1luc"))&&u(_,"class",O),(!M||H[0]&16&&F!==(F="tab-button "+(q[4]==="config"?"active":"")+" svelte-13l1luc"))&&u(P,"class",F),N===(N=A(q))&&I?I.p(q,H):(I&&I.d(1),I=N&&N(q),I&&(I.c(),I.m(R,null)))},i(q){M||(q&&_t(()=>{M&&(r||(r=Ft(n,bn,{duration:150},!0)),r.run(1))}),q&&_t(()=>{M&&(C||(C=Ft(i,fr,{duration:200,easing:Rn,start:.95},!0)),C.run(1))}),M=!0)},o(q){q&&(r||(r=Ft(n,bn,{duration:150},!1)),r.run(0)),q&&(C||(C=Ft(i,fr,{duration:200,easing:Rn,start:.95},!1)),C.run(0)),M=!1},d(q){q&&oe(t),q&&r&&r.end(),I&&I.d(),q&&C&&C.end(),v=!1,lt(x)}}}function H8(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I,q,H,z,D,j,W,$,J,G,K,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke=Xe(["slow","medium","fast","default","custom"]),ye=[];for(let ae=0;ae<5;ae+=1)ye[ae]=Uf(Nf(e,Ke,ae));let be=e[5]==="custom"&&zf(e),rt=Xe(["small","medium","large"]),pe=[];for(let ae=0;ae<3;ae+=1)pe[ae]=Wf(Pf(e,rt,ae));let Se=e[9]&&Hf(e),Te=e[10]&&Gf(e),ce=e[11]&&Yf(e);return{c(){t=b("div"),n=b("div"),r=b("h4"),r.textContent="AGC Speed",o=B(),i=b("div");for(let ae=0;ae<5;ae+=1)ye[ae].c();s=B(),be&&be.c(),a=B(),l=b("div"),c=b("h4"),c.textContent="Buffer Size",h=B(),p=b("div");for(let ae=0;ae<3;ae+=1)pe[ae].c();f=B(),y=b("p"),y.textContent="Small: Lower latency \u2022 Large: More stable",m=B(),w=b("div"),_=b("h4"),_.textContent="Frequency Step Settings",L=B(),O=b("div"),T=b("div"),P=b("label"),P.textContent="Mouse Wheel Step (Hz)",E=B(),F=b("div"),S=b("button"),R=b("span"),C=ne(e[20]),M=B(),v=b("div"),v.innerHTML='<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',x=B(),Se&&Se.c(),A=B(),N=b("div"),I=b("label"),I.textContent="Keyboard Arrow Step (Hz)",q=B(),H=b("div"),z=b("button"),D=b("span"),j=ne(e[19]),W=B(),$=b("div"),$.innerHTML='<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',J=B(),Te&&Te.c(),G=B(),K=b("div"),te=b("label"),te.textContent="Keyboard Jump Step (Hz)",fe=B(),Z=b("div"),he=b("button"),ve=b("span"),De=ne(e[18]),Ie=B(),We=b("div"),We.innerHTML='<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Le=B(),ce&&ce.c(),ge=B(),ue=b("p"),ue.textContent="Mouse wheel: normal scroll \u2022 Keyboard: Up/Down arrows \u2022 Jump: Left/Right arrows",u(r,"class","setting-title svelte-13l1luc"),u(i,"class","button-group svelte-13l1luc"),u(n,"class","setting-card svelte-13l1luc"),u(c,"class","setting-title svelte-13l1luc"),u(p,"class","button-group svelte-13l1luc"),u(y,"class","setting-hint svelte-13l1luc"),u(l,"class","setting-card svelte-13l1luc"),u(_,"class","setting-title svelte-13l1luc"),u(P,"class","step-label svelte-13l1luc"),u(R,"class","select-value svelte-13l1luc"),u(v,"class","select-icon svelte-13l1luc"),Or(v,"rotated",e[9]),u(S,"class","custom-select-trigger svelte-13l1luc"),u(S,"aria-expanded",e[9]),u(S,"aria-haspopup","listbox"),u(F,"class","dropdown-container svelte-13l1luc"),u(T,"class","step-control svelte-13l1luc"),u(I,"class","step-label svelte-13l1luc"),u(D,"class","select-value svelte-13l1luc"),u($,"class","select-icon svelte-13l1luc"),Or($,"rotated",e[10]),u(z,"class","custom-select-trigger svelte-13l1luc"),u(z,"aria-expanded",e[10]),u(z,"aria-haspopup","listbox"),u(H,"class","dropdown-container svelte-13l1luc"),u(N,"class","step-control svelte-13l1luc"),u(te,"class","step-label svelte-13l1luc"),u(ve,"class","select-value svelte-13l1luc"),u(We,"class","select-icon svelte-13l1luc"),Or(We,"rotated",e[11]),u(he,"class","custom-select-trigger svelte-13l1luc"),u(he,"aria-expanded",e[11]),u(he,"aria-haspopup","listbox"),u(Z,"class","dropdown-container svelte-13l1luc"),u(K,"class","step-control svelte-13l1luc"),u(O,"class","step-controls svelte-13l1luc"),u(ue,"class","setting-hint svelte-13l1luc"),u(w,"class","setting-card svelte-13l1luc"),u(t,"class","general-content")},m(ae,de){ie(ae,t,de),d(t,n),d(n,r),d(n,o),d(n,i);for(let X=0;X<5;X+=1)ye[X]&&ye[X].m(i,null);d(n,s),be&&be.m(n,null),d(t,a),d(t,l),d(l,c),d(l,h),d(l,p);for(let X=0;X<3;X+=1)pe[X]&&pe[X].m(p,null);d(l,f),d(l,y),d(t,m),d(t,w),d(w,_),d(w,L),d(w,O),d(O,T),d(T,P),d(T,E),d(T,F),d(F,S),d(S,R),d(R,C),d(S,M),d(S,v),d(F,x),Se&&Se.m(F,null),d(O,A),d(O,N),d(N,I),d(N,q),d(N,H),d(H,z),d(z,D),d(D,j),d(z,W),d(z,$),d(H,J),Te&&Te.m(H,null),d(O,G),d(O,K),d(K,te),d(K,fe),d(K,Z),d(Z,he),d(he,ve),d(ve,De),d(he,Ie),d(he,We),d(Z,Le),ce&&ce.m(Z,null),d(w,ge),d(w,ue),Ce||(Ue=[Y(S,"click",hr(e[42])),Y(z,"click",hr(e[44])),Y(he,"click",hr(e[46]))],Ce=!0)},p(ae,de){if(de[0]&416){Ke=Xe(["slow","medium","fast","default","custom"]);let X;for(X=0;X<5;X+=1){const ke=Nf(ae,Ke,X);ye[X]?ye[X].p(ke,de):(ye[X]=Uf(ke),ye[X].c(),ye[X].m(i,null))}for(;X<5;X+=1)ye[X].d(1)}if(ae[5]==="custom"?be?be.p(ae,de):(be=zf(ae),be.c(),be.m(n,null)):be&&(be.d(1),be=null),de[0]&64){rt=Xe(["small","medium","large"]);let X;for(X=0;X<3;X+=1){const ke=Pf(ae,rt,X);pe[X]?pe[X].p(ke,de):(pe[X]=Wf(ke),pe[X].c(),pe[X].m(p,null))}for(;X<3;X+=1)pe[X].d(1)}de[0]&1048576&&we(C,ae[20]),de[0]&512&&Or(v,"rotated",ae[9]),de[0]&512&&u(S,"aria-expanded",ae[9]),ae[9]?Se?Se.p(ae,de):(Se=Hf(ae),Se.c(),Se.m(F,null)):Se&&(Se.d(1),Se=null),de[0]&524288&&we(j,ae[19]),de[0]&1024&&Or($,"rotated",ae[10]),de[0]&1024&&u(z,"aria-expanded",ae[10]),ae[10]?Te?Te.p(ae,de):(Te=Gf(ae),Te.c(),Te.m(H,null)):Te&&(Te.d(1),Te=null),de[0]&262144&&we(De,ae[18]),de[0]&2048&&Or(We,"rotated",ae[11]),de[0]&2048&&u(he,"aria-expanded",ae[11]),ae[11]?ce?ce.p(ae,de):(ce=Yf(ae),ce.c(),ce.m(Z,null)):ce&&(ce.d(1),ce=null)},d(ae){ae&&oe(t),Yt(ye,ae),be&&be.d(),Yt(pe,ae),Se&&Se.d(),Te&&Te.d(),ce&&ce.d(),Ce=!1,lt(Ue)}}}function V8(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m=e[14]&&Jf(e),w=e[13]&&Kf(e);return{c(){t=b("div"),n=b("h3"),n.textContent="Configuration Management",r=B(),o=b("div"),i=b("button"),i.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1V11M8 1L5 4M8 1L11 4M2 11V13C2 13.5523 2.44772 14 3 14H13C13.5523 14 14 13.5523 14 13V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>\n                Export Config',s=B(),a=b("button"),a.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 15V5M8 15L5 12M8 15L11 12M2 5V3C2 2.44772 2.44772 2 3 2H13C13.5523 2 14 2.44772 14 3V5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>\n                Import Config',l=B(),m&&m.c(),c=B(),w&&w.c(),h=B(),p=b("div"),p.innerHTML='<p class="config-desc-text svelte-13l1luc">Export your current settings to a file, or import settings from a previously saved configuration file.</p>',u(n,"class","content-title svelte-13l1luc"),u(i,"class","action-button export-button svelte-13l1luc"),u(a,"class","action-button import-button svelte-13l1luc"),u(o,"class","config-actions svelte-13l1luc"),u(p,"class","config-description svelte-13l1luc"),u(t,"class","config-content svelte-13l1luc")},m(_,L){ie(_,t,L),d(t,n),d(t,r),d(t,o),d(o,i),d(o,s),d(o,a),d(t,l),m&&m.m(t,null),d(t,c),w&&w.m(t,null),d(t,h),d(t,p),f||(y=[Y(i,"click",e[27]),Y(a,"click",e[28])],f=!0)},p(_,L){_[14]?m?m.p(_,L):(m=Jf(_),m.c(),m.m(t,c)):m&&(m.d(1),m=null),_[13]?w?w.p(_,L):(w=Kf(_),w.c(),w.m(t,h)):w&&(w.d(1),w=null)},d(_){_&&oe(t),m&&m.d(),w&&w.d(),f=!1,lt(y)}}}function G8(e){let t,n,r,o,i,s,a,l,c=(e[12].sampleRate/1e3).toFixed(1)+"",h,p,f,y,m,w,_,L=(e[12].powerDb?e[12].powerDb.toFixed(1):"0.0")+"",O,T,P,E,F,S,R,C,M=e[12].demodulation+"",v,x,A,N,I,q,H=(e[12].gain*35).toFixed(0)+"",z,D,j,W,$,J,G=e[12].squelchEnabled?"ON":"OFF",K,te,fe,Z,he,ve,De,Ie,We=e[12].muted?"MUTED":"ACTIVE",Le,ge,ue,Ce,Ue,Ke,ye,be=e[12].ctcssEnabled?"ON":"OFF",rt,pe,Se,Te,ce,ae,de,X=e[12].audioDelay.toFixed(0)+"",ke,je,Qe,Pe,ze,Ae,Ne,Be,Ze,Me,ot,wt,pt,et,Ge,Je,Jn,Ar,Zt,gn,Tr,jn,cn,un,At=(e[12].powerDb?e[12].powerDb.toFixed(1):"0.0")+"",En,$n,Jt,ht=e[12].squelchEnabled&&Qf(e),It=e[15].length>1&&e0(e);return{c(){t=b("div"),n=b("h3"),n.textContent="Audio Statistics",r=B(),o=b("div"),i=b("div"),s=b("div"),s.textContent="Sample Rate",a=B(),l=b("div"),h=ne(c),p=ne(" kHz"),f=B(),y=b("div"),m=b("div"),m.textContent="Signal Power",w=B(),_=b("div"),O=ne(L),T=ne(" dB"),E=B(),F=b("div"),S=b("div"),S.textContent="Demodulation",R=B(),C=b("div"),v=ne(M),x=B(),A=b("div"),N=b("div"),N.textContent="Audio Gain",I=B(),q=b("div"),z=ne(H),D=B(),j=b("div"),W=b("div"),W.textContent="Squelch",$=B(),J=b("div"),K=ne(G),te=B(),ht&&ht.c(),Z=B(),he=b("div"),ve=b("div"),ve.textContent="Mute",De=B(),Ie=b("div"),Le=ne(We),ue=B(),Ce=b("div"),Ue=b("div"),Ue.textContent="CTCSS Filter",Ke=B(),ye=b("div"),rt=ne(be),Se=B(),Te=b("div"),ce=b("div"),ce.textContent="Audio Delay",ae=B(),de=b("div"),ke=ne(X),je=ne(" ms"),Pe=B(),ze=b("div"),Ae=b("div"),Ae.textContent="Signal Strength History",Ne=B(),Be=b("div"),Ze=Re("svg"),It&&It.c(),Me=B(),ot=b("div"),wt=b("span"),pt=ne(e[17]),et=ne(" dB"),Ge=B(),Je=b("span"),Jn=ne(e[16]),Ar=ne(" dB"),Zt=B(),gn=b("div"),gn.innerHTML="<span>5s ago</span> <span>Now</span>",Tr=B(),jn=b("div"),cn=ne("Current: "),un=b("span"),En=ne(At),$n=ne(" dB"),u(n,"class","content-title svelte-13l1luc"),u(s,"class","stat-label svelte-13l1luc"),u(l,"class","stat-value text-blue-500 svelte-13l1luc"),u(i,"class","stat-card svelte-13l1luc"),u(m,"class","stat-label svelte-13l1luc"),u(_,"class",P="stat-value "+(e[12].powerDb>-20?"text-green-500":e[12].powerDb>-40?"text-yellow-500":"text-red-500")+" svelte-13l1luc"),u(y,"class","stat-card svelte-13l1luc"),u(S,"class","stat-label svelte-13l1luc"),u(C,"class","stat-value text-blue-500 svelte-13l1luc"),u(F,"class","stat-card svelte-13l1luc"),u(N,"class","stat-label svelte-13l1luc"),u(q,"class","stat-value text-purple-500 svelte-13l1luc"),u(A,"class","stat-card svelte-13l1luc"),u(W,"class","stat-label svelte-13l1luc"),u(J,"class",fe="stat-value "+(e[12].squelchEnabled?"text-green-500":"text-gray-500")+" svelte-13l1luc"),u(j,"class","stat-card svelte-13l1luc"),u(ve,"class","stat-label svelte-13l1luc"),u(Ie,"class",ge="stat-value "+(e[12].muted?"text-red-500":"text-gray-500")+" svelte-13l1luc"),u(he,"class","stat-card svelte-13l1luc"),u(Ue,"class","stat-label svelte-13l1luc"),u(ye,"class",pe="stat-value "+(e[12].ctcssEnabled?"text-green-500":"text-gray-500")+" svelte-13l1luc"),u(Ce,"class","stat-card svelte-13l1luc"),u(ce,"class","stat-label svelte-13l1luc"),u(de,"class",Qe="stat-value "+(e[12].audioDelay<100?"text-green-500":e[12].audioDelay<200?"text-yellow-500":"text-red-500")+" svelte-13l1luc"),u(Te,"class","stat-card svelte-13l1luc"),u(o,"class","stats-grid svelte-13l1luc"),u(Ae,"class","graph-label svelte-13l1luc"),u(Ze,"class","graph-svg svelte-13l1luc"),u(Ze,"viewBox","0 0 200 100"),u(Ze,"preserveAspectRatio","none"),u(ot,"class","graph-y-labels svelte-13l1luc"),u(gn,"class","graph-x-labels svelte-13l1luc"),u(Be,"class","graph-container svelte-13l1luc"),u(un,"class",Jt=Iu(e[12].powerDb>-20?"text-green-500":e[12].powerDb>-40?"text-yellow-500":"text-red-500")+" svelte-13l1luc"),u(jn,"class","current-value svelte-13l1luc"),u(ze,"class","graph-card svelte-13l1luc"),u(t,"class","debug-content")},m(tt,ft){ie(tt,t,ft),d(t,n),d(t,r),d(t,o),d(o,i),d(i,s),d(i,a),d(i,l),d(l,h),d(l,p),d(o,f),d(o,y),d(y,m),d(y,w),d(y,_),d(_,O),d(_,T),d(o,E),d(o,F),d(F,S),d(F,R),d(F,C),d(C,v),d(o,x),d(o,A),d(A,N),d(A,I),d(A,q),d(q,z),d(o,D),d(o,j),d(j,W),d(j,$),d(j,J),d(J,K),d(J,te),ht&&ht.m(J,null),d(o,Z),d(o,he),d(he,ve),d(he,De),d(he,Ie),d(Ie,Le),d(o,ue),d(o,Ce),d(Ce,Ue),d(Ce,Ke),d(Ce,ye),d(ye,rt),d(o,Se),d(o,Te),d(Te,ce),d(Te,ae),d(Te,de),d(de,ke),d(de,je),d(t,Pe),d(t,ze),d(ze,Ae),d(ze,Ne),d(ze,Be),d(Be,Ze),It&&It.m(Ze,null),d(Be,Me),d(Be,ot),d(ot,wt),d(wt,pt),d(wt,et),d(ot,Ge),d(ot,Je),d(Je,Jn),d(Je,Ar),d(Be,Zt),d(Be,gn),d(ze,Tr),d(ze,jn),d(jn,cn),d(jn,un),d(un,En),d(un,$n)},p(tt,ft){ft[0]&4096&&c!==(c=(tt[12].sampleRate/1e3).toFixed(1)+"")&&we(h,c),ft[0]&4096&&L!==(L=(tt[12].powerDb?tt[12].powerDb.toFixed(1):"0.0")+"")&&we(O,L),ft[0]&4096&&P!==(P="stat-value "+(tt[12].powerDb>-20?"text-green-500":tt[12].powerDb>-40?"text-yellow-500":"text-red-500")+" svelte-13l1luc")&&u(_,"class",P),ft[0]&4096&&M!==(M=tt[12].demodulation+"")&&we(v,M),ft[0]&4096&&H!==(H=(tt[12].gain*35).toFixed(0)+"")&&we(z,H),ft[0]&4096&&G!==(G=tt[12].squelchEnabled?"ON":"OFF")&&we(K,G),tt[12].squelchEnabled?ht?ht.p(tt,ft):(ht=Qf(tt),ht.c(),ht.m(J,null)):ht&&(ht.d(1),ht=null),ft[0]&4096&&fe!==(fe="stat-value "+(tt[12].squelchEnabled?"text-green-500":"text-gray-500")+" svelte-13l1luc")&&u(J,"class",fe),ft[0]&4096&&We!==(We=tt[12].muted?"MUTED":"ACTIVE")&&we(Le,We),ft[0]&4096&&ge!==(ge="stat-value "+(tt[12].muted?"text-red-500":"text-gray-500")+" svelte-13l1luc")&&u(Ie,"class",ge),ft[0]&4096&&be!==(be=tt[12].ctcssEnabled?"ON":"OFF")&&we(rt,be),ft[0]&4096&&pe!==(pe="stat-value "+(tt[12].ctcssEnabled?"text-green-500":"text-gray-500")+" svelte-13l1luc")&&u(ye,"class",pe),ft[0]&4096&&X!==(X=tt[12].audioDelay.toFixed(0)+"")&&we(ke,X),ft[0]&4096&&Qe!==(Qe="stat-value "+(tt[12].audioDelay<100?"text-green-500":tt[12].audioDelay<200?"text-yellow-500":"text-red-500")+" svelte-13l1luc")&&u(de,"class",Qe),tt[15].length>1?It?It.p(tt,ft):(It=e0(tt),It.c(),It.m(Ze,null)):It&&(It.d(1),It=null),ft[0]&131072&&we(pt,tt[17]),ft[0]&65536&&we(Jn,tt[16]),ft[0]&4096&&At!==(At=(tt[12].powerDb?tt[12].powerDb.toFixed(1):"0.0")+"")&&we(En,At),ft[0]&4096&&Jt!==(Jt=Iu(tt[12].powerDb>-20?"text-green-500":tt[12].powerDb>-40?"text-yellow-500":"text-red-500")+" svelte-13l1luc")&&u(un,"class",Jt)},d(tt){tt&&oe(t),ht&&ht.d(),It&&It.d()}}}function Uf(e){let t,n=e[67].charAt(0).toUpperCase()+e[67].slice(1)+"",r,o,i,s,a;function l(){return e[36](e[67])}return{c(){t=b("button"),r=ne(n),o=B(),u(t,"class",i="option-button "+(e[5]===e[67]?"active":"")+" svelte-13l1luc")},m(c,h){ie(c,t,h),d(t,r),d(t,o),s||(a=Y(t,"click",l),s=!0)},p(c,h){e=c,h[0]&32&&i!==(i="option-button "+(e[5]===e[67]?"active":"")+" svelte-13l1luc")&&u(t,"class",i)},d(c){c&&oe(t),s=!1,a()}}}function zf(e){let t,n,r,o,i,s,a,l=e[7].toFixed(1)+"",c,h,p,f,y,m,w,_,L=e[8].toFixed(0)+"",O,T,P;return{c(){t=b("div"),n=b("div"),r=b("label"),r.textContent="Attack (ms)",o=B(),i=b("input"),s=B(),a=b("span"),c=ne(l),h=B(),p=b("div"),f=b("label"),f.textContent="Release (ms)",y=B(),m=b("input"),w=B(),_=b("span"),O=ne(L),u(r,"class","custom-label svelte-13l1luc"),u(i,"type","range"),u(i,"min","0.1"),u(i,"max","100"),u(i,"step","0.1"),u(i,"class","custom-slider svelte-13l1luc"),u(a,"class","custom-value svelte-13l1luc"),u(n,"class","custom-control svelte-13l1luc"),u(f,"class","custom-label svelte-13l1luc"),u(m,"type","range"),u(m,"min","10"),u(m,"max","1000"),u(m,"step","10"),u(m,"class","custom-slider svelte-13l1luc"),u(_,"class","custom-value svelte-13l1luc"),u(p,"class","custom-control svelte-13l1luc"),u(t,"class","custom-agc-controls svelte-13l1luc")},m(E,F){ie(E,t,F),d(t,n),d(n,r),d(n,o),d(n,i),mt(i,e[7]),d(n,s),d(n,a),d(a,c),d(t,h),d(t,p),d(p,f),d(p,y),d(p,m),mt(m,e[8]),d(p,w),d(p,_),d(_,O),T||(P=[Y(i,"change",e[37]),Y(i,"input",e[37]),Y(i,"input",e[38]),Y(m,"change",e[39]),Y(m,"input",e[39]),Y(m,"input",e[40])],T=!0)},p(E,F){F[0]&128&&mt(i,E[7]),F[0]&128&&l!==(l=E[7].toFixed(1)+"")&&we(c,l),F[0]&256&&mt(m,E[8]),F[0]&256&&L!==(L=E[8].toFixed(0)+"")&&we(O,L)},d(E){E&&oe(t),T=!1,lt(P)}}}function Wf(e){let t,n=e[64].charAt(0).toUpperCase()+e[64].slice(1)+"",r,o,i,s,a;function l(){return e[41](e[64])}return{c(){t=b("button"),r=ne(n),o=B(),u(t,"class",i="option-button "+(e[6]===e[64]?"active":"")+" svelte-13l1luc")},m(c,h){ie(c,t,h),d(t,r),d(t,o),s||(a=Y(t,"click",l),s=!0)},p(c,h){e=c,h[0]&64&&i!==(i="option-button "+(e[6]===e[64]?"active":"")+" svelte-13l1luc")&&u(t,"class",i)},d(c){c&&oe(t),s=!1,a()}}}function Hf(e){let t,n,r=Xe([.5,1,5,10,12.5,25]),o=[];for(let i=0;i<6;i+=1)o[i]=Vf(If(e,r,i));return{c(){t=b("div"),n=b("div");for(let i=0;i<6;i+=1)o[i].c();u(n,"class","dropdown-inner svelte-13l1luc"),u(t,"class","custom-dropdown svelte-13l1luc")},m(i,s){ie(i,t,s),d(t,n);for(let a=0;a<6;a+=1)o[a]&&o[a].m(n,null)},p(i,s){if(s[0]&1049088){r=Xe([.5,1,5,10,12.5,25]);let a;for(a=0;a<6;a+=1){const l=If(i,r,a);o[a]?o[a].p(l,s):(o[a]=Vf(l),o[a].c(),o[a].m(n,null))}for(;a<6;a+=1)o[a].d(1)}},d(i){i&&oe(t),Yt(o,i)}}}function Vf(e){let t,n,r,o,i,s;function a(){return e[43](e[57])}return{c(){t=b("button"),n=ne(e[57]),r=B(),u(t,"class",o="dropdown-option "+(e[20]===e[57]?"active":"")+" svelte-13l1luc")},m(l,c){ie(l,t,c),d(t,n),d(t,r),i||(s=Y(t,"click",hr(a)),i=!0)},p(l,c){e=l,c[0]&1048576&&o!==(o="dropdown-option "+(e[20]===e[57]?"active":"")+" svelte-13l1luc")&&u(t,"class",o)},d(l){l&&oe(t),i=!1,s()}}}function Gf(e){let t,n,r=Xe([.5,1,5,10,12.5,25]),o=[];for(let i=0;i<6;i+=1)o[i]=Xf(Rf(e,r,i));return{c(){t=b("div"),n=b("div");for(let i=0;i<6;i+=1)o[i].c();u(n,"class","dropdown-inner svelte-13l1luc"),u(t,"class","custom-dropdown svelte-13l1luc")},m(i,s){ie(i,t,s),d(t,n);for(let a=0;a<6;a+=1)o[a]&&o[a].m(n,null)},p(i,s){if(s[0]&525312){r=Xe([.5,1,5,10,12.5,25]);let a;for(a=0;a<6;a+=1){const l=Rf(i,r,a);o[a]?o[a].p(l,s):(o[a]=Xf(l),o[a].c(),o[a].m(n,null))}for(;a<6;a+=1)o[a].d(1)}},d(i){i&&oe(t),Yt(o,i)}}}function Xf(e){let t,n,r,o,i,s;function a(){return e[45](e[57])}return{c(){t=b("button"),n=ne(e[57]),r=B(),u(t,"class",o="dropdown-option "+(e[19]===e[57]?"active":"")+" svelte-13l1luc")},m(l,c){ie(l,t,c),d(t,n),d(t,r),i||(s=Y(t,"click",hr(a)),i=!0)},p(l,c){e=l,c[0]&524288&&o!==(o="dropdown-option "+(e[19]===e[57]?"active":"")+" svelte-13l1luc")&&u(t,"class",o)},d(l){l&&oe(t),i=!1,s()}}}function Yf(e){let t,n,r=Xe([10,25,50,100,250,500]),o=[];for(let i=0;i<6;i+=1)o[i]=Zf(Of(e,r,i));return{c(){t=b("div"),n=b("div");for(let i=0;i<6;i+=1)o[i].c();u(n,"class","dropdown-inner svelte-13l1luc"),u(t,"class","custom-dropdown svelte-13l1luc")},m(i,s){ie(i,t,s),d(t,n);for(let a=0;a<6;a+=1)o[a]&&o[a].m(n,null)},p(i,s){if(s[0]&264192){r=Xe([10,25,50,100,250,500]);let a;for(a=0;a<6;a+=1){const l=Of(i,r,a);o[a]?o[a].p(l,s):(o[a]=Zf(l),o[a].c(),o[a].m(n,null))}for(;a<6;a+=1)o[a].d(1)}},d(i){i&&oe(t),Yt(o,i)}}}function Zf(e){let t,n,r,o,i,s;function a(){return e[47](e[57])}return{c(){t=b("button"),n=ne(e[57]),r=B(),u(t,"class",o="dropdown-option "+(e[18]===e[57]?"active":"")+" svelte-13l1luc")},m(l,c){ie(l,t,c),d(t,n),d(t,r),i||(s=Y(t,"click",hr(a)),i=!0)},p(l,c){e=l,c[0]&262144&&o!==(o="dropdown-option "+(e[18]===e[57]?"active":"")+" svelte-13l1luc")&&u(t,"class",o)},d(l){l&&oe(t),i=!1,s()}}}function Jf(e){let t,n,r,o,i;return{c(){t=b("div"),n=Re("svg"),r=Re("path"),o=B(),i=ne(e[14]),u(r,"d","M13 4L6 11L3 8"),u(r,"stroke","currentColor"),u(r,"stroke-width","2"),u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(n,"width","16"),u(n,"height","16"),u(n,"viewBox","0 0 16 16"),u(n,"fill","none"),u(n,"xmlns","http://www.w3.org/2000/svg"),u(t,"class","message success-message svelte-13l1luc")},m(s,a){ie(s,t,a),d(t,n),d(n,r),d(t,o),d(t,i)},p(s,a){a[0]&16384&&we(i,s[14])},d(s){s&&oe(t)}}}function Kf(e){let t,n,r,o,i;return{c(){t=b("div"),n=Re("svg"),r=Re("path"),o=B(),i=ne(e[13]),u(r,"d","M8 1C4.134 1 1 4.134 1 8s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM8 11V8M8 5V5.5"),u(r,"stroke","currentColor"),u(r,"stroke-width","1.5"),u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(n,"width","16"),u(n,"height","16"),u(n,"viewBox","0 0 16 16"),u(n,"fill","none"),u(n,"xmlns","http://www.w3.org/2000/svg"),u(t,"class","message error-message svelte-13l1luc")},m(s,a){ie(s,t,a),d(t,n),d(n,r),d(t,o),d(t,i)},p(s,a){a[0]&8192&&we(i,s[13])},d(s){s&&oe(t)}}}function Qf(e){let t,n,r=e[12].squelchThreshold+"",o,i;return{c(){t=b("span"),n=ne("("),o=ne(r),i=ne(" dB)"),u(t,"class","stat-detail svelte-13l1luc")},m(s,a){ie(s,t,a),d(t,n),d(t,o),d(t,i)},p(s,a){a[0]&4096&&r!==(r=s[12].squelchThreshold+"")&&we(o,r)},d(s){s&&oe(t)}}}function e0(e){let t,n,r,o=e[15].length>0&&t0(jc(e));return{c(){t=Re("polyline"),o&&o.c(),r=Cn(),u(t,"fill","none"),u(t,"stroke","#0071e3"),u(t,"stroke-width","2"),u(t,"points",n=e[15].map(e[35]).join(" "))},m(i,s){ie(i,t,s),o&&o.m(i,s),ie(i,r,s)},p(i,s){s[0]&229376&&n!==(n=i[15].map(i[35]).join(" "))&&u(t,"points",n),i[15].length>0?o?o.p(jc(i),s):(o=t0(jc(i)),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(i){i&&(oe(t),oe(r)),o&&o.d(i)}}}function t0(e){let t,n,r;return{c(){t=Re("circle"),u(t,"cx",n=(e[15].length-1)/(cs-1)*200),u(t,"cy",r=100-(e[56]-e[16])/(e[17]-e[16])*100),u(t,"r","3"),u(t,"fill","#0071e3")},m(o,i){ie(o,t,i)},p(o,i){i[0]&32768&&n!==(n=(o[15].length-1)/(cs-1)*200)&&u(t,"cx",n),i[0]&229376&&r!==(r=100-(o[56]-o[16])/(o[17]-o[16])*100)&&u(t,"cy",r)},d(o){o&&oe(t)}}}function n0(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P;return{c(){t=b("div"),n=b("div"),o=B(),i=b("div"),s=b("div"),a=b("h2"),a.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-icon svelte-13l1luc"><rect x="3" y="5" width="14" height="10" rx="1" stroke="currentColor" stroke-width="1.5"></rect><rect x="5" y="7" width="2" height="2" fill="currentColor"></rect><rect x="9" y="7" width="2" height="2" fill="currentColor"></rect><rect x="13" y="7" width="2" height="2" fill="currentColor"></rect><rect x="5" y="11" width="2" height="2" fill="currentColor"></rect><rect x="9" y="11" width="2" height="2" fill="currentColor"></rect><rect x="13" y="11" width="2" height="2" fill="currentColor"></rect></svg>\n          Keyboard Shortcuts',l=B(),c=b("button"),c.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',h=B(),p=b("div"),p.innerHTML='<div class="keybind-section svelte-13l1luc"><h3 class="keybind-category svelte-13l1luc">Frequency Control</h3> <div class="keybind-list svelte-13l1luc"><div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Tune up 50 Hz</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">\u2191</kbd> <span class="key-separator svelte-13l1luc">or</span> <kbd class="svelte-13l1luc">Scroll Up</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Tune down 50 Hz</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">\u2193</kbd> <span class="key-separator svelte-13l1luc">or</span> <kbd class="svelte-13l1luc">Scroll Down</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Tune up/down 100 Hz</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">Shift</kbd> <span class="key-plus svelte-13l1luc">+</span> <kbd class="svelte-13l1luc">\u2191/\u2193</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Tune up/down 1 kHz</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">\u2190</kbd> <span class="key-separator svelte-13l1luc">/</span> <kbd class="svelte-13l1luc">\u2192</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Tune up/down 10 kHz</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">Shift</kbd> <span class="key-plus svelte-13l1luc">+</span> <kbd class="svelte-13l1luc">\u2190/\u2192</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Switch VFO A/B</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">V</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Set frequency input</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">Enter</kbd></div></div></div></div> <div class="keybind-section svelte-13l1luc"><h3 class="keybind-category svelte-13l1luc">Waterfall Display</h3> <div class="keybind-list svelte-13l1luc"><div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Zoom in waterfall</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">+</kbd> <span class="key-separator svelte-13l1luc">or</span> <kbd class="svelte-13l1luc">=</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Zoom out waterfall</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">-</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Maximum zoom</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">0</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Reset zoom</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">9</kbd></div></div></div></div> <div class="keybind-section svelte-13l1luc"><h3 class="keybind-category svelte-13l1luc">Mode Selection</h3> <div class="keybind-list svelte-13l1luc"><div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">USB mode</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">U</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">LSB mode</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">L</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">AM mode</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">A</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">FM mode</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">F</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">CW mode</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">C</kbd></div></div></div></div> <div class="keybind-section svelte-13l1luc"><h3 class="keybind-category svelte-13l1luc">Audio Control</h3> <div class="keybind-list svelte-13l1luc"><div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Mute/Unmute</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">Space</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Toggle squelch</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">S</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Start/stop recording</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">R</kbd></div></div></div></div> <div class="keybind-section svelte-13l1luc"><h3 class="keybind-category svelte-13l1luc">Other Controls</h3> <div class="keybind-list svelte-13l1luc"><div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Open band selection</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">G</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Open bookmarks</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">B</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Toggle noise reduction</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">N</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Toggle auto notch</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">T</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Show keyboard shortcuts</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">?</kbd></div></div> <div class="keybind-item svelte-13l1luc"><span class="keybind-description svelte-13l1luc">Close dialog/modal</span> <div class="keybind-keys svelte-13l1luc"><kbd class="svelte-13l1luc">Esc</kbd></div></div></div></div>',f=B(),y=b("div"),m=b("span"),m.textContent="Press any key combination to see its function",w=B(),_=b("button"),_.textContent="Done",u(n,"class","modal-backdrop svelte-13l1luc"),u(a,"class","modal-title svelte-13l1luc"),u(c,"class","close-button svelte-13l1luc"),u(s,"class","modal-header svelte-13l1luc"),u(p,"class","modal-body keybinds-body svelte-13l1luc"),u(m,"class","footer-hint svelte-13l1luc"),u(_,"class","action-button svelte-13l1luc"),u(y,"class","modal-footer svelte-13l1luc"),u(i,"class","modal-content keybinds-modal svelte-13l1luc"),u(t,"class","modal-container svelte-13l1luc")},m(E,F){ie(E,t,F),d(t,n),d(t,o),d(t,i),d(i,s),d(s,a),d(s,l),d(s,c),d(i,h),d(i,p),d(i,f),d(i,y),d(y,m),d(y,w),d(y,_),O=!0,T||(P=[Y(n,"click",e[48]),Y(c,"click",e[49]),Y(_,"click",e[50])],T=!0)},p:He,i(E){O||(E&&_t(()=>{O&&(r||(r=Ft(n,bn,{duration:150},!0)),r.run(1))}),E&&_t(()=>{O&&(L||(L=Ft(i,fr,{duration:200,easing:Rn,start:.95},!0)),L.run(1))}),O=!0)},o(E){E&&(r||(r=Ft(n,bn,{duration:150},!1)),r.run(0)),E&&(L||(L=Ft(i,fr,{duration:200,easing:Rn,start:.95},!1)),L.run(0)),O=!1},d(E){E&&oe(t),E&&r&&r.end(),E&&L&&L.end(),T=!1,lt(P)}}}function X8(e){let t,n,r,o,i,s,a,l,c=e[21].location+"",h,p,f,y,m=e[21].serverName+"",w,_,L,O=e[21].location+"",T,P,E,F,S,R,C,M=e[21].email+"",v,x,A,N,I,q,H,z,D,j,W,$,J,G,K,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke,ye=Xe(e[21].operators),be=[];for(let ce=0;ce<ye.length;ce+=1)be[ce]=Bf(Lf(e,ye,ce));let rt=Xe(e[21].frequencyLookup),pe=[];for(let ce=0;ce<rt.length;ce+=1)pe[ce]=jf(Df(e,rt,ce));let Se=e[2]&&$f(e),Te=e[3]&&n0(e);return{c(){t=b("div"),n=b("div"),r=b("div"),o=b("button"),o.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-13l1luc"><rect x="3" y="5" width="14" height="10" rx="1" stroke="currentColor" stroke-width="1.5"></rect><rect x="5" y="7" width="2" height="2" fill="currentColor"></rect><rect x="9" y="7" width="2" height="2" fill="currentColor"></rect><rect x="13" y="7" width="2" height="2" fill="currentColor"></rect><rect x="5" y="11" width="2" height="2" fill="currentColor"></rect><rect x="9" y="11" width="2" height="2" fill="currentColor"></rect><rect x="13" y="11" width="2" height="2" fill="currentColor"></rect></svg>',i=B(),s=b("button"),s.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-13l1luc"><path d="M11.078 1.82a1 1 0 00-2.156 0l-.123.556a7.92 7.92 0 00-.924.383l-.483-.289a1 1 0 00-1.54 1.26l.36.43a7.92 7.92 0 00-.531.863l-.559-.083a1 1 0 00-1.13 1.776l.436.355a7.92 7.92 0 00-.002 1.016l-.437.355a1 1 0 001.13 1.776l.56-.083c.139.301.312.585.516.847l-.345.412a1 1 0 001.54 1.26l.466-.279c.305.158.628.284.963.373l.122.551a1 1 0 002.156 0l.122-.551a7.92 7.92 0 00.963-.373l.466.279a1 1 0 001.54-1.26l-.345-.412c.204-.262.377-.546.516-.847l.56.083a1 1 0 001.13-1.776l-.437-.355a7.92 7.92 0 00-.002-1.016l.437-.355a1 1 0 00-1.13-1.776l-.56.083a7.92 7.92 0 00-.516-.847l.345-.412a1 1 0 00-1.54-1.26l-.466.279a7.92 7.92 0 00-.963-.373l-.122-.551z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"></path><circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="1.5"></circle></svg>',a=B(),l=b("div"),h=ne(c),p=B(),f=b("div"),y=b("h1"),w=ne(m),_=B(),L=b("span"),T=ne(O),P=B(),E=b("div"),F=ne("Operated by\n        ");for(let ce=0;ce<be.length;ce+=1)be[ce].c();S=B(),R=b("div"),C=b("a"),v=ne(M),A=B(),N=b("a"),I=ne("Visit PhantomSDR+ Network\n        "),q=Re("svg"),H=Re("path"),D=B(),j=b("div"),W=b("div"),$=b("h3"),$.textContent="Frequency Lookup",J=B(),G=b("div");for(let ce=0;ce<pe.length;ce+=1)pe[ce].c();K=B(),te=b("div"),fe=b("h3"),fe.textContent="Callsign Lookup",Z=B(),he=b("form"),ve=b("input"),De=B(),Ie=b("button"),We=ne("Lookup"),ge=B(),Se&&Se.c(),ue=B(),Te&&Te.c(),Ce=Cn(),u(o,"class","icon-button svelte-13l1luc"),u(o,"title","Keyboard Shortcuts"),u(s,"class","icon-button svelte-13l1luc"),u(s,"title","Settings"),u(r,"class","action-buttons svelte-13l1luc"),u(l,"class","mobile-location-badge svelte-13l1luc"),u(L,"class","location-badge desktop-only svelte-13l1luc"),u(y,"class","server-name svelte-13l1luc"),u(E,"class","operator-info svelte-13l1luc"),u(C,"href",x="mailto:"+e[21].email),u(C,"class","email-link svelte-13l1luc"),u(R,"class","email-wrapper svelte-13l1luc"),u(H,"d","M5 1H2C1.44772 1 1 1.44772 1 2V12C1 12.5523 1.44772 13 2 13H12C12.5523 13 13 12.5523 13 12V9M9 1H13V5M13 1L7 7"),u(H,"stroke","currentColor"),u(H,"stroke-width","1.5"),u(H,"stroke-linecap","round"),u(H,"stroke-linejoin","round"),u(q,"width","14"),u(q,"height","14"),u(q,"viewBox","0 0 14 14"),u(q,"fill","none"),u(q,"xmlns","http://www.w3.org/2000/svg"),u(N,"href",z=e[21].sdrListUrl),u(N,"target","_blank"),u(N,"rel","noopener noreferrer"),u(N,"class","network-button svelte-13l1luc"),u(f,"class","header-section svelte-13l1luc"),u($,"class","section-title svelte-13l1luc"),u(G,"class","lookup-links svelte-13l1luc"),u(W,"class","lookup-section svelte-13l1luc"),u(fe,"class","section-title svelte-13l1luc"),u(ve,"type","text"),u(ve,"placeholder","Enter callsign..."),u(ve,"class","callsign-input svelte-13l1luc"),u(Ie,"type","submit"),u(Ie,"class","lookup-button svelte-13l1luc"),Ie.disabled=Le=!e[1].trim(),u(he,"class","callsign-form svelte-13l1luc"),u(te,"class","lookup-section svelte-13l1luc"),u(j,"class","lookup-grid svelte-13l1luc"),u(n,"class","server-info-card svelte-13l1luc"),u(t,"class","server-info-container svelte-13l1luc")},m(ce,ae){ie(ce,t,ae),d(t,n),d(n,r),d(r,o),d(r,i),d(r,s),d(n,a),d(n,l),d(l,h),d(n,p),d(n,f),d(f,y),d(y,w),d(y,_),d(y,L),d(L,T),d(f,P),d(f,E),d(E,F);for(let de=0;de<be.length;de+=1)be[de]&&be[de].m(E,null);d(f,S),d(f,R),d(R,C),d(C,v),d(f,A),d(f,N),d(N,I),d(N,q),d(q,H),d(n,D),d(n,j),d(j,W),d(W,$),d(W,J),d(W,G);for(let de=0;de<pe.length;de+=1)pe[de]&&pe[de].m(G,null);d(j,K),d(j,te),d(te,fe),d(te,Z),d(te,he),d(he,ve),mt(ve,e[1]),d(he,De),d(he,Ie),d(Ie,We),ie(ce,ge,ae),Se&&Se.m(ce,ae),ie(ce,ue,ae),Te&&Te.m(ce,ae),ie(ce,Ce,ae),Ue||(Ke=[Y(W8,"keydown",e[25]),Y(o,"click",e[30]),Y(s,"click",e[23]),Y(ve,"input",e[31]),Y(he,"submit",e[22])],Ue=!0)},p(ce,ae){if(ae[0]&2097152&&c!==(c=ce[21].location+"")&&we(h,c),ae[0]&2097152&&m!==(m=ce[21].serverName+"")&&we(w,m),ae[0]&2097152&&O!==(O=ce[21].location+"")&&we(T,O),ae[0]&2097152){ye=Xe(ce[21].operators);let de;for(de=0;de<ye.length;de+=1){const X=Lf(ce,ye,de);be[de]?be[de].p(X,ae):(be[de]=Bf(X),be[de].c(),be[de].m(E,null))}for(;de<be.length;de+=1)be[de].d(1);be.length=ye.length}if(ae[0]&2097152&&M!==(M=ce[21].email+"")&&we(v,M),ae[0]&2097152&&x!==(x="mailto:"+ce[21].email)&&u(C,"href",x),ae[0]&2097152&&z!==(z=ce[21].sdrListUrl)&&u(N,"href",z),ae[0]&2097153){rt=Xe(ce[21].frequencyLookup);let de;for(de=0;de<rt.length;de+=1){const X=Df(ce,rt,de);pe[de]?pe[de].p(X,ae):(pe[de]=jf(X),pe[de].c(),pe[de].m(G,null))}for(;de<pe.length;de+=1)pe[de].d(1);pe.length=rt.length}ae[0]&2&&ve.value!==ce[1]&&mt(ve,ce[1]),ae[0]&2&&Le!==(Le=!ce[1].trim())&&(Ie.disabled=Le),ce[2]?Se?(Se.p(ce,ae),ae[0]&4&&$e(Se,1)):(Se=$f(ce),Se.c(),$e(Se,1),Se.m(ue.parentNode,ue)):Se&&(Wn(),st(Se,1,1,()=>{Se=null}),Hn()),ce[3]?Te?(Te.p(ce,ae),ae[0]&8&&$e(Te,1)):(Te=n0(ce),Te.c(),$e(Te,1),Te.m(Ce.parentNode,Ce)):Te&&(Wn(),st(Te,1,1,()=>{Te=null}),Hn())},i(ce){$e(Se),$e(Te)},o(ce){st(Se),st(Te)},d(ce){ce&&(oe(t),oe(ge),oe(ue),oe(Ce)),Yt(be,ce),Yt(pe,ce),Se&&Se.d(ce),Te&&Te.d(ce),Ue=!1,lt(Ke)}}}const cs=50;function Y8(e,t,n){let r,o,i,s,a;dr(e,Ur,pe=>n(29,s=pe)),dr(e,Gi,pe=>n(21,a=pe));let{currentFrequency:l=0}=t,c="",h=!1,p=!1,f="general",y="default",m="medium",w=3,_=250,L=!1,O=!1,T=!1,P={sampleRate:0,powerDb:0,squelchEnabled:!1,squelchThreshold:0,muted:!1,gain:0,demodulation:"",ctcssEnabled:!1,audioDelay:0},E="",F="",S=[],R=-60,C=0,M;function v(pe){pe.preventDefault(),c.trim()&&(a!=null&&a.callsignLookupUrl)&&window.open(a.callsignLookupUrl+c.trim(),"_blank")}function x(){n(2,h=!0),N()}function A(){n(2,h=!1),I()}function N(){q(),M=setInterval(q,100)}function I(){M&&clearInterval(M)}function q(){le&&(n(12,P.sampleRate=le.trueAudioSps||0,P),n(12,P.powerDb=le.getPowerDb?le.getPowerDb():0,P),n(12,P.squelchEnabled=le.squelch||!1,P),n(12,P.squelchThreshold=le.squelchThreshold||0,P),n(12,P.muted=le.mute||!1,P),n(12,P.gain=le.gain||0,P),n(12,P.demodulation=le.demodulation||"USB",P),n(12,P.ctcssEnabled=le.ctcss||!1,P),n(12,P.audioDelay=le.getAudioDelay?le.getAudioDelay():0,P),n(15,S=[...S,P.powerDb]),S.length>cs&&n(15,S=S.slice(-cs)),P.powerDb<R&&n(16,R=Math.floor(P.powerDb/10)*10),P.powerDb>C&&n(17,C=Math.ceil(P.powerDb/10)*10))}function H(pe){pe.key==="Escape"&&(h&&A(),p&&n(3,p=!1))}function z(pe){const Se=pe==="mouseWheel"&&L||pe==="keyboard"&&O||pe==="jump"&&T;n(9,L=!1),n(10,O=!1),n(11,T=!1),Se||(pe==="mouseWheel"?n(9,L=!0):pe==="keyboard"?n(10,O=!0):pe==="jump"&&n(11,T=!0))}function D(pe){pe.target.closest(".dropdown-container")||(n(9,L=!1),n(10,O=!1),n(11,T=!1))}function j(){try{const pe={version:"1.0",settings:{agcSpeed:y,bufferSize:m,customAttack:w,customRelease:_,frequencySteps:s,amMode:localStorage.getItem("amMode")||"AM"},timestamp:new Date().toISOString()},Se=new Blob([JSON.stringify(pe,null,2)],{type:"application/json"}),Te=URL.createObjectURL(Se),ce=document.createElement("a");ce.href=Te,ce.download="phantom-sdr-config.json",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(Te),n(14,F="Config exported successfully!"),n(13,E=""),setTimeout(()=>{n(14,F="")},3e3)}catch(pe){n(13,E="Error exporting config: "+pe.message),n(14,F="")}}function W(){const pe=document.createElement("input");pe.type="file",pe.accept=".json",pe.onchange=Se=>{const Te=Se.target.files[0];if(!Te)return;const ce=new FileReader;ce.onload=ae=>{try{n(13,E=""),n(14,F="");const de=JSON.parse(ae.target.result);if(!de.version||!de.settings){n(13,E="Invalid config format");return}de.settings.agcSpeed&&(n(5,y=de.settings.agcSpeed),le&&le.setAGCSpeed&&(y==="custom"?le.setAGCSpeed(y,w,_):le.setAGCSpeed(y))),de.settings.bufferSize&&(n(6,m=de.settings.bufferSize),le&&le.setBufferSize&&le.setBufferSize(m)),de.settings.customAttack&&n(7,w=de.settings.customAttack),de.settings.customRelease&&n(8,_=de.settings.customRelease),de.settings.frequencySteps&&Ur.set(de.settings.frequencySteps),de.settings.amMode&&localStorage.setItem("amMode",de.settings.amMode),n(14,F="Config imported successfully!"),setTimeout(()=>{n(14,F="")},3e3)}catch(de){n(13,E="Error importing config: "+de.message),n(14,F="")}},ce.readAsText(Te)},pe.click()}zn(()=>{window.addEventListener("click",D)}),Eo(()=>{I(),window.removeEventListener("click",D)});const $=()=>n(3,p=!0);function J(){c=this.value,n(1,c)}const G=()=>n(4,f="general"),K=()=>n(4,f="debug"),te=()=>n(4,f="config"),fe=(pe,Se)=>{const Te=Se/(cs-1)*200,ce=100-(pe-R)/(C-R)*100;return"".concat(Te,",").concat(ce)},Z=pe=>{n(5,y=pe),le&&le.setAGCSpeed&&(pe==="custom"?le.setAGCSpeed(pe,w,_):le.setAGCSpeed(pe))};function he(){w=pr(this.value),n(7,w)}const ve=()=>{le&&le.setAGCSpeed&&le.setAGCSpeed("custom",w,_)};function De(){_=pr(this.value),n(8,_)}const Ie=()=>{le&&le.setAGCSpeed&&le.setAGCSpeed("custom",w,_)},We=pe=>{n(6,m=pe),le&&le.setBufferSize&&le.setBufferSize(pe)},Le=()=>z("mouseWheel"),ge=pe=>{Ur.update(Se=>({...Se,mouseWheelStep:pe})),n(9,L=!1)},ue=()=>z("keyboard"),Ce=pe=>{Ur.update(Se=>({...Se,keyboardStep:pe})),n(10,O=!1)},Ue=()=>z("jump"),Ke=pe=>{Ur.update(Se=>({...Se,keyboardJumpStep:pe})),n(11,T=!1)},ye=()=>n(3,p=!1),be=()=>n(3,p=!1),rt=()=>n(3,p=!1);return e.$$set=pe=>{"currentFrequency"in pe&&n(0,l=pe.currentFrequency)},e.$$.update=()=>{e.$$.dirty[0]&536870912&&n(20,{mouseWheelStep:r,keyboardStep:o,keyboardJumpStep:i}=s,r,(n(19,o),n(29,s)),(n(18,i),n(29,s)))},[l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,i,o,r,a,v,x,A,H,z,j,W,s,$,J,G,K,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke,ye,be,rt]}class Z8 extends on{constructor(t){super(),rn(this,t,Y8,X8,Xt,{currentFrequency:0},null,[-1,-1,-1])}}function r0(e,t,n){const r=e.slice();return r[26]=t[n],r}function o0(e,t,n){const r=e.slice();return r[26]=t[n],r}function i0(e,t,n){const r=e.slice();return r[26]=t[n],r}function s0(e,t,n){const r=e.slice();return r[26]=t[n],r}function J8(e){const t=e.slice(),n=t[3].filter(s=>t[5].includes(s));t[22]=n;const r=t[3].filter(s=>t[6].includes(s));t[23]=r;const o=t[3].filter(s=>t[7].includes(s));t[24]=o;const i=t[3].filter(s=>t[8].includes(s));return t[25]=i,t}function a0(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m=e[1].toFixed(1)+"",w,_,L=e[2].toFixed(1)+"",O,T,P,E,F,S,R,C,M,v,x,A;function N(z,D){return z[3].length===0?K8:l0}function I(z,D){return D===l0?J8(z):z}let q=N(e),H=q(I(e,q));return{c(){t=b("div"),n=b("div"),o=B(),i=b("div"),s=b("div"),a=b("h2"),a.innerHTML='<svg class="header-icon svelte-18uhl78" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" fill="currentColor"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 1 1 0 000 2H6a2 2 0 00-2 2v6a2 2 0 002 2h2a1 1 0 100 2H6a4 4 0 01-4-4V5z" clip-rule="evenodd" fill="currentColor"></path><path fill-rule="evenodd" d="M16 5a2 2 0 00-2-2 1 1 0 100 2h0a2 2 0 012 2v6a2 2 0 01-2 2h-2a1 1 0 100 2h2a4 4 0 004-4V5z" clip-rule="evenodd" fill="currentColor"></path></svg>\n          Band Selection',l=B(),c=b("button"),c.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',h=B(),p=b("div"),f=b("div"),y=ne("SDR Coverage: "),w=ne(m),_=ne(" - "),O=ne(L),T=ne(" kHz"),P=B(),H.c(),E=B(),F=b("div"),S=b("span"),S.textContent="ITU Region ".concat(e[4]),R=B(),C=b("button"),C.textContent="Done",u(n,"class","modal-backdrop svelte-18uhl78"),u(a,"class","modal-title svelte-18uhl78"),u(c,"class","close-button svelte-18uhl78"),u(s,"class","modal-header svelte-18uhl78"),u(f,"class","coverage-info svelte-18uhl78"),u(p,"class","modal-body svelte-18uhl78"),u(S,"class","footer-info svelte-18uhl78"),u(C,"class","action-button svelte-18uhl78"),u(F,"class","modal-footer svelte-18uhl78"),u(i,"class","modal-content svelte-18uhl78"),u(t,"class","modal-container svelte-18uhl78")},m(z,D){ie(z,t,D),d(t,n),d(t,o),d(t,i),d(i,s),d(s,a),d(s,l),d(s,c),d(i,h),d(i,p),d(p,f),d(f,y),d(f,w),d(f,_),d(f,O),d(f,T),d(p,P),H.m(p,null),d(i,E),d(i,F),d(F,S),d(F,R),d(F,C),v=!0,x||(A=[Y(n,"click",e[11]),Y(c,"click",e[12]),Y(C,"click",e[17])],x=!0)},p(z,D){(!v||D[0]&2)&&m!==(m=z[1].toFixed(1)+"")&&we(w,m),(!v||D[0]&4)&&L!==(L=z[2].toFixed(1)+"")&&we(O,L),q===(q=N(z))&&H?H.p(I(z,q),D):(H.d(1),H=q(I(z,q)),H&&(H.c(),H.m(p,null)))},i(z){v||(z&&_t(()=>{v&&(r||(r=Ft(n,bn,{duration:150},!0)),r.run(1))}),z&&_t(()=>{v&&(M||(M=Ft(i,fr,{duration:200,opacity:0,start:.95,easing:Rn},!0)),M.run(1))}),v=!0)},o(z){z&&(r||(r=Ft(n,bn,{duration:150},!1)),r.run(0)),z&&(M||(M=Ft(i,fr,{duration:200,opacity:0,start:.95,easing:Rn},!1)),M.run(0)),v=!1},d(z){z&&oe(t),z&&r&&r.end(),H.d(),z&&M&&M.end(),x=!1,lt(A)}}}function l0(e){let t,n,r,o,i=e[22].length>0&&c0(e),s=e[23].length>0&&d0(e),a=e[24].length>0&&p0(e),l=e[25].length>0&&m0(e);return{c(){i&&i.c(),t=B(),s&&s.c(),n=B(),a&&a.c(),r=B(),l&&l.c(),o=Cn()},m(c,h){i&&i.m(c,h),ie(c,t,h),s&&s.m(c,h),ie(c,n,h),a&&a.m(c,h),ie(c,r,h),l&&l.m(c,h),ie(c,o,h)},p(c,h){c[22].length>0?i?i.p(c,h):(i=c0(c),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),c[23].length>0?s?s.p(c,h):(s=d0(c),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),c[24].length>0?a?a.p(c,h):(a=p0(c),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),c[25].length>0?l?l.p(c,h):(l=m0(c),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(c){c&&(oe(t),oe(n),oe(r),oe(o)),i&&i.d(c),s&&s.d(c),a&&a.d(c),l&&l.d(c)}}}function K8(e){let t;return{c(){t=b("p"),t.textContent="No bands available in the current SDR range",u(t,"class","empty-state svelte-18uhl78")},m(n,r){ie(n,t,r)},p:He,d(n){n&&oe(t)}}}function c0(e){let t,n,r,o,i=Xe(e[22]),s=[];for(let a=0;a<i.length;a+=1)s[a]=u0(s0(e,i,a));return{c(){t=b("div"),n=b("h3"),n.textContent="Amateur Radio",r=B(),o=b("div");for(let a=0;a<s.length;a+=1)s[a].c();u(n,"class","section-label svelte-18uhl78"),u(o,"class","band-grid svelte-18uhl78"),u(t,"class","band-section svelte-18uhl78")},m(a,l){ie(a,t,l),d(t,n),d(t,r),d(t,o);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,null)},p(a,l){if(l[0]&552){i=Xe(a[22]);let c;for(c=0;c<i.length;c+=1){const h=s0(a,i,c);s[c]?s[c].p(h,l):(s[c]=u0(h),s[c].c(),s[c].m(o,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}},d(a){a&&oe(t),Yt(s,a)}}}function u0(e){let t,n,r=e[26].name+"",o,i,s,a=e[26].start+"",l,c,h=e[26].end+"",p,f,y,m=e[26].mode+"",w,_,L,O;function T(){return e[13](e[26])}return{c(){t=b("button"),n=b("div"),o=ne(r),i=B(),s=b("div"),l=ne(a),c=ne(" - "),p=ne(h),f=B(),y=b("div"),w=ne(m),_=B(),u(n,"class","band-name svelte-18uhl78"),u(s,"class","band-freq svelte-18uhl78"),u(y,"class","band-mode svelte-18uhl78"),u(t,"class","band-button amateur svelte-18uhl78")},m(P,E){ie(P,t,E),d(t,n),d(n,o),d(t,i),d(t,s),d(s,l),d(s,c),d(s,p),d(t,f),d(t,y),d(y,w),d(t,_),L||(O=Y(t,"click",T),L=!0)},p(P,E){e=P,E[0]&8&&r!==(r=e[26].name+"")&&we(o,r),E[0]&8&&a!==(a=e[26].start+"")&&we(l,a),E[0]&8&&h!==(h=e[26].end+"")&&we(p,h),E[0]&8&&m!==(m=e[26].mode+"")&&we(w,m)},d(P){P&&oe(t),L=!1,O()}}}function d0(e){let t,n,r,o,i=Xe(e[23]),s=[];for(let a=0;a<i.length;a+=1)s[a]=h0(i0(e,i,a));return{c(){t=b("div"),n=b("h3"),n.textContent="Broadcast",r=B(),o=b("div");for(let a=0;a<s.length;a+=1)s[a].c();u(n,"class","section-label svelte-18uhl78"),u(o,"class","band-grid svelte-18uhl78"),u(t,"class","band-section svelte-18uhl78")},m(a,l){ie(a,t,l),d(t,n),d(t,r),d(t,o);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,null)},p(a,l){if(l[0]&584){i=Xe(a[23]);let c;for(c=0;c<i.length;c+=1){const h=i0(a,i,c);s[c]?s[c].p(h,l):(s[c]=h0(h),s[c].c(),s[c].m(o,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}},d(a){a&&oe(t),Yt(s,a)}}}function h0(e){let t,n,r=e[26].name+"",o,i,s,a=e[26].start+"",l,c,h=e[26].end+"",p,f,y,m=e[26].mode+"",w,_,L,O;function T(){return e[14](e[26])}return{c(){t=b("button"),n=b("div"),o=ne(r),i=B(),s=b("div"),l=ne(a),c=ne(" - "),p=ne(h),f=B(),y=b("div"),w=ne(m),_=B(),u(n,"class","band-name svelte-18uhl78"),u(s,"class","band-freq svelte-18uhl78"),u(y,"class","band-mode svelte-18uhl78"),u(t,"class","band-button broadcast svelte-18uhl78")},m(P,E){ie(P,t,E),d(t,n),d(n,o),d(t,i),d(t,s),d(s,l),d(s,c),d(s,p),d(t,f),d(t,y),d(y,w),d(t,_),L||(O=Y(t,"click",T),L=!0)},p(P,E){e=P,E[0]&8&&r!==(r=e[26].name+"")&&we(o,r),E[0]&8&&a!==(a=e[26].start+"")&&we(l,a),E[0]&8&&h!==(h=e[26].end+"")&&we(p,h),E[0]&8&&m!==(m=e[26].mode+"")&&we(w,m)},d(P){P&&oe(t),L=!1,O()}}}function p0(e){let t,n,r,o,i=Xe(e[24]),s=[];for(let a=0;a<i.length;a+=1)s[a]=f0(o0(e,i,a));return{c(){t=b("div"),n=b("h3"),n.textContent="Other",r=B(),o=b("div");for(let a=0;a<s.length;a+=1)s[a].c();u(n,"class","section-label svelte-18uhl78"),u(o,"class","band-grid svelte-18uhl78"),u(t,"class","band-section svelte-18uhl78")},m(a,l){ie(a,t,l),d(t,n),d(t,r),d(t,o);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,null)},p(a,l){if(l[0]&648){i=Xe(a[24]);let c;for(c=0;c<i.length;c+=1){const h=o0(a,i,c);s[c]?s[c].p(h,l):(s[c]=f0(h),s[c].c(),s[c].m(o,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}},d(a){a&&oe(t),Yt(s,a)}}}function f0(e){let t,n,r=e[26].name+"",o,i,s,a=e[26].start+"",l,c,h=e[26].end+"",p,f,y,m=e[26].mode+"",w,_,L,O;function T(){return e[15](e[26])}return{c(){t=b("button"),n=b("div"),o=ne(r),i=B(),s=b("div"),l=ne(a),c=ne(" - "),p=ne(h),f=B(),y=b("div"),w=ne(m),_=B(),u(n,"class","band-name svelte-18uhl78"),u(s,"class","band-freq svelte-18uhl78"),u(y,"class","band-mode svelte-18uhl78"),u(t,"class","band-button other svelte-18uhl78")},m(P,E){ie(P,t,E),d(t,n),d(n,o),d(t,i),d(t,s),d(s,l),d(s,c),d(s,p),d(t,f),d(t,y),d(y,w),d(t,_),L||(O=Y(t,"click",T),L=!0)},p(P,E){e=P,E[0]&8&&r!==(r=e[26].name+"")&&we(o,r),E[0]&8&&a!==(a=e[26].start+"")&&we(l,a),E[0]&8&&h!==(h=e[26].end+"")&&we(p,h),E[0]&8&&m!==(m=e[26].mode+"")&&we(w,m)},d(P){P&&oe(t),L=!1,O()}}}function m0(e){let t,n,r,o,i=Xe(e[25]),s=[];for(let a=0;a<i.length;a+=1)s[a]=g0(r0(e,i,a));return{c(){t=b("div"),n=b("h3"),n.textContent="Custom",r=B(),o=b("div");for(let a=0;a<s.length;a+=1)s[a].c();u(n,"class","section-label svelte-18uhl78"),u(o,"class","band-grid svelte-18uhl78"),u(t,"class","band-section svelte-18uhl78")},m(a,l){ie(a,t,l),d(t,n),d(t,r),d(t,o);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,null)},p(a,l){if(l[0]&776){i=Xe(a[25]);let c;for(c=0;c<i.length;c+=1){const h=r0(a,i,c);s[c]?s[c].p(h,l):(s[c]=g0(h),s[c].c(),s[c].m(o,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}},d(a){a&&oe(t),Yt(s,a)}}}function g0(e){let t,n,r=e[26].name+"",o,i,s,a=e[26].start+"",l,c,h=e[26].end+"",p,f,y,m=e[26].mode+"",w,_,L,O;function T(){return e[16](e[26])}return{c(){t=b("button"),n=b("div"),o=ne(r),i=B(),s=b("div"),l=ne(a),c=ne(" - "),p=ne(h),f=B(),y=b("div"),w=ne(m),_=B(),u(n,"class","band-name svelte-18uhl78"),u(s,"class","band-freq svelte-18uhl78"),u(y,"class","band-mode svelte-18uhl78"),u(t,"class","band-button custom svelte-18uhl78")},m(P,E){ie(P,t,E),d(t,n),d(n,o),d(t,i),d(t,s),d(s,l),d(s,c),d(s,p),d(t,f),d(t,y),d(y,w),d(t,_),L||(O=Y(t,"click",T),L=!0)},p(P,E){e=P,E[0]&8&&r!==(r=e[26].name+"")&&we(o,r),E[0]&8&&a!==(a=e[26].start+"")&&we(l,a),E[0]&8&&h!==(h=e[26].end+"")&&we(p,h),E[0]&8&&m!==(m=e[26].mode+"")&&we(w,m)},d(P){P&&oe(t),L=!1,O()}}}function Q8(e){let t,n,r,o=e[0]&&a0(e);return{c(){o&&o.c(),t=Cn()},m(i,s){o&&o.m(i,s),ie(i,t,s),n||(r=Y(window,"keydown",e[10]),n=!0)},p(i,s){i[0]?o?(o.p(i,s),s[0]&1&&$e(o,1)):(o=a0(i),o.c(),$e(o,1),o.m(t.parentNode,t)):o&&(Wn(),st(o,1,1,()=>{o=null}),Hn())},i(i){$e(o)},o(i){st(o)},d(i){i&&oe(t),o&&o.d(i),n=!1,r()}}}function ek(e){if(!e||e.length<2)return null;const t=e.toUpperCase().split("");let n=(t[0].charCodeAt(0)-65)*20-180,r=(t[1].charCodeAt(0)-65)*10-90;return e.length>=4&&(n+=parseInt(t[2])*2,r+=parseInt(t[3])),{lat:r,lon:n}}function tk(e,t){return t>=-170&&t<=-30?2:t>=60&&t<=170?e>30&&t<75?1:3:1}function nk(e,t,n){let r;dr(e,Gi,C=>n(18,r=C));let{showBandsMenu:o=!1}=t;function i(){const C=ek(r.location);return console.log(C),C?tk(C.lat,C.lon):1}const s=i();console.log("itu"+s);const a={1:[{name:"2200m",start:135.7,end:137.8,mode:"CW"},{name:"630m",start:472,end:479,mode:"CW"},{name:"160m",start:1810,end:2e3,mode:"LSB"},{name:"80m",start:3500,end:3800,mode:"LSB"},{name:"60m",start:5351.5,end:5366.5,mode:"USB"},{name:"40m",start:7e3,end:7200,mode:"LSB"},{name:"30m",start:10100,end:10150,mode:"CW"},{name:"20m",start:14e3,end:14350,mode:"USB"},{name:"17m",start:18068,end:18168,mode:"USB"},{name:"15m",start:21e3,end:21450,mode:"USB"},{name:"12m",start:24890,end:24990,mode:"USB"},{name:"10m",start:28e3,end:29700,mode:"USB"},{name:"6m",start:5e4,end:54e3,mode:"USB"},{name:"4m",start:7e4,end:70500,mode:"USB"},{name:"2m",start:144e3,end:146e3,mode:"USB"},{name:"70cm",start:43e4,end:44e4,mode:"USB"}],2:[{name:"2200m",start:135.7,end:137.8,mode:"CW"},{name:"630m",start:472,end:479,mode:"CW"},{name:"160m",start:1800,end:2e3,mode:"LSB"},{name:"80m",start:3500,end:4e3,mode:"LSB"},{name:"60m",start:5330.5,end:5406.4,mode:"USB"},{name:"40m",start:7e3,end:7300,mode:"LSB"},{name:"30m",start:10100,end:10150,mode:"CW"},{name:"20m",start:14e3,end:14350,mode:"USB"},{name:"17m",start:18068,end:18168,mode:"USB"},{name:"15m",start:21e3,end:21450,mode:"USB"},{name:"12m",start:24890,end:24990,mode:"USB"},{name:"10m",start:28e3,end:29700,mode:"USB"},{name:"6m",start:5e4,end:54e3,mode:"USB"},{name:"2m",start:144e3,end:148e3,mode:"USB"},{name:"1.25m",start:222e3,end:225e3,mode:"USB"},{name:"70cm",start:42e4,end:45e4,mode:"USB"}],3:[{name:"2200m",start:135.7,end:137.8,mode:"CW"},{name:"630m",start:472,end:479,mode:"CW"},{name:"160m",start:1800,end:2e3,mode:"LSB"},{name:"80m",start:3500,end:3900,mode:"LSB"},{name:"60m",start:5351.5,end:5366.5,mode:"USB"},{name:"40m",start:7e3,end:7200,mode:"LSB"},{name:"30m",start:10100,end:10150,mode:"CW"},{name:"20m",start:14e3,end:14350,mode:"USB"},{name:"17m",start:18068,end:18168,mode:"USB"},{name:"15m",start:21e3,end:21450,mode:"USB"},{name:"12m",start:24890,end:24990,mode:"USB"},{name:"10m",start:28e3,end:29700,mode:"USB"},{name:"6m",start:5e4,end:54e3,mode:"USB"},{name:"2m",start:144e3,end:146e3,mode:"USB"},{name:"70cm",start:43e4,end:44e4,mode:"USB"}]},l=a[s]||a[1],c=[{name:"LW",start:148.5,end:283.5,mode:"AM"},{name:"MW",start:526.5,end:1606.5,mode:"AM"},{name:"120m",start:2300,end:2495,mode:"AM"},{name:"90m",start:3200,end:3400,mode:"AM"},{name:"75m",start:3900,end:4e3,mode:"AM"},{name:"60m BC",start:4750,end:5060,mode:"AM"},{name:"49m",start:5900,end:6200,mode:"AM"},{name:"41m",start:7200,end:7450,mode:"AM"},{name:"31m",start:9400,end:9900,mode:"AM"},{name:"25m",start:11600,end:12100,mode:"AM"},{name:"22m",start:13570,end:13870,mode:"AM"},{name:"19m",start:15100,end:15800,mode:"AM"},{name:"16m",start:17480,end:17900,mode:"AM"},{name:"15m BC",start:18900,end:19020,mode:"AM"},{name:"13m",start:21450,end:21850,mode:"AM"},{name:"11m",start:25670,end:26100,mode:"AM"}],h=[{name:"CB",start:26965,end:27405,mode:"AM"},{name:"ISM 6.78",start:6765,end:6795,mode:"USB"},{name:"ISM 13.56",start:13553,end:13567,mode:"USB"},{name:"ISM 27.12",start:26957,end:27283,mode:"USB"}],p=[{name:"Band A",start:14200,end:14200,mode:"USB"},{name:"Band B",start:7200,end:7200,mode:"LSB"}];let f=0,y=3e4,m=[];function w(){le&&le.settings&&(n(1,f=le.settings.basefreq/1e3),n(2,y=(le.settings.basefreq+le.settings.total_bandwidth)/1e3));const C=[...p,...l,...c,...h];n(3,m=C.filter(M=>M.start>=f&&M.start<=y||M.end>=f&&M.end<=y||M.start<=f&&M.end>=y))}function _(C){const M=(C.start+C.end)/2*1e3;if(Ve.publish("frequencyChange",{detail:M}),Ve.publish("setMode",C.mode),qe&&le&&le.settings){const v=(C.end-C.start)*1e3*1.5,x=(M-le.settings.basefreq)/le.settings.total_bandwidth*le.settings.fft_result_size,A=Math.min(v/le.settings.total_bandwidth*le.settings.fft_result_size,le.settings.fft_result_size),N=Math.max(0,Math.floor(x-A/2)),I=Math.min(le.settings.fft_result_size,Math.ceil(x+A/2));qe.setWaterfallRange(N,I)}n(0,o=!1)}function L(C){C.key==="Escape"&&o&&n(0,o=!1)}const O=()=>n(0,o=!1),T=()=>n(0,o=!1),P=C=>_(C),E=C=>_(C),F=C=>_(C),S=C=>_(C),R=()=>n(0,o=!1);return e.$$set=C=>{"showBandsMenu"in C&&n(0,o=C.showBandsMenu)},e.$$.update=()=>{e.$$.dirty[0]&1&&o&&w()},[o,f,y,m,s,l,c,h,p,_,L,O,T,P,E,F,S,R]}class rk extends on{constructor(t){super(),rn(this,t,nk,Q8,Xt,{showBandsMenu:0},null,[-1,-1])}}function v0(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F=e[5]?"Unmute":"Mute",S,R,C,M,v,x,A,N,I,q,H,z,D,j,W=e[1]&&y0(e);function $(K,te){return K[5]?ik:ok}let J=$(e),G=J(e);return{c(){t=b("div"),W&&W.c(),n=B(),r=b("div"),o=b("button"),i=Re("svg"),s=Re("path"),a=B(),l=b("span"),l.textContent="Bands",h=B(),p=b("button"),f=Re("svg"),y=Re("path"),m=B(),w=b("span"),w.textContent="Bookmarks",L=B(),O=b("button"),T=Re("svg"),G.c(),P=B(),E=b("span"),S=ne(F),M=B(),v=b("button"),x=Re("svg"),A=Re("circle"),N=Re("path"),I=Re("path"),q=B(),H=b("span"),H.textContent="Zoom",u(s,"d","M3 7H21M3 12H21M3 17H21"),u(s,"stroke","currentColor"),u(s,"stroke-width","2"),u(s,"stroke-linecap","round"),u(i,"width","24"),u(i,"height","24"),u(i,"viewBox","0 0 24 24"),u(i,"fill","none"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(l,"class","bar-label svelte-o4vm8s"),u(o,"class",c="bar-button "+(e[3]?"active":"")+" svelte-o4vm8s"),u(o,"title","Band Selection"),u(y,"d","M19 21L12 16L5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21Z"),u(y,"stroke","currentColor"),u(y,"stroke-width","2"),u(y,"stroke-linejoin","round"),u(f,"width","24"),u(f,"height","24"),u(f,"viewBox","0 0 24 24"),u(f,"fill","none"),u(f,"xmlns","http://www.w3.org/2000/svg"),u(w,"class","bar-label svelte-o4vm8s"),u(p,"class",_="bar-button "+(e[4]?"active":"")+" svelte-o4vm8s"),u(p,"title","Bookmarks"),u(T,"width","24"),u(T,"height","24"),u(T,"viewBox","0 0 24 24"),u(T,"fill","none"),u(T,"xmlns","http://www.w3.org/2000/svg"),u(E,"class","bar-label svelte-o4vm8s"),u(O,"class",R="bar-button "+(e[5]?"active":"")+" svelte-o4vm8s"),u(O,"title",C=e[5]?"Unmute":"Mute"),u(A,"cx","11"),u(A,"cy","11"),u(A,"r","8"),u(A,"stroke","currentColor"),u(A,"stroke-width","2"),u(N,"d","M21 21L16.65 16.65"),u(N,"stroke","currentColor"),u(N,"stroke-width","2"),u(N,"stroke-linecap","round"),u(I,"d","M11 8V14M8 11H14"),u(I,"stroke","currentColor"),u(I,"stroke-width","2"),u(I,"stroke-linecap","round"),u(x,"width","24"),u(x,"height","24"),u(x,"viewBox","0 0 24 24"),u(x,"fill","none"),u(x,"xmlns","http://www.w3.org/2000/svg"),u(H,"class","bar-label svelte-o4vm8s"),u(v,"class",z="bar-button "+(e[1]?"active":"")+" svelte-o4vm8s"),u(v,"title","Waterfall Zoom"),u(r,"class","bottom-bar-buttons svelte-o4vm8s"),u(t,"class","mobile-bottom-bar svelte-o4vm8s")},m(K,te){ie(K,t,te),W&&W.m(t,null),d(t,n),d(t,r),d(r,o),d(o,i),d(i,s),d(o,a),d(o,l),d(r,h),d(r,p),d(p,f),d(f,y),d(p,m),d(p,w),d(r,L),d(r,O),d(O,T),G.m(T,null),d(O,P),d(O,E),d(E,S),d(r,M),d(r,v),d(v,x),d(x,A),d(x,N),d(x,I),d(v,q),d(v,H),D||(j=[Y(o,"click",e[6]),Y(p,"click",e[7]),Y(O,"click",ak),Y(v,"click",e[8])],D=!0)},p(K,te){K[1]?W?(W.p(K,te),te&2&&$e(W,1)):(W=y0(K),W.c(),$e(W,1),W.m(t,n)):W&&(Wn(),st(W,1,1,()=>{W=null}),Hn()),te&8&&c!==(c="bar-button "+(K[3]?"active":"")+" svelte-o4vm8s")&&u(o,"class",c),te&16&&_!==(_="bar-button "+(K[4]?"active":"")+" svelte-o4vm8s")&&u(p,"class",_),J!==(J=$(K))&&(G.d(1),G=J(K),G&&(G.c(),G.m(T,null))),te&32&&F!==(F=K[5]?"Unmute":"Mute")&&we(S,F),te&32&&R!==(R="bar-button "+(K[5]?"active":"")+" svelte-o4vm8s")&&u(O,"class",R),te&32&&C!==(C=K[5]?"Unmute":"Mute")&&u(O,"title",C),te&2&&z!==(z="bar-button "+(K[1]?"active":"")+" svelte-o4vm8s")&&u(v,"class",z)},d(K){K&&oe(t),W&&W.d(),G.d(),D=!1,lt(j)}}}function y0(e){let t,n,r,o,i,s,a,l=(e[2]/100).toFixed(1)+"",c,h,p,f,y,m;return{c(){t=b("div"),n=b("div"),r=b("span"),r.textContent="Zoom",o=B(),i=b("input"),s=B(),a=b("span"),c=ne(l),h=ne("x"),u(r,"class","zoom-label svelte-o4vm8s"),u(i,"type","range"),u(i,"min","100"),u(i,"max","100000"),u(i,"step","100"),u(i,"class","zoom-slider svelte-o4vm8s"),u(a,"class","zoom-value svelte-o4vm8s"),u(n,"class","zoom-slider-container svelte-o4vm8s"),u(t,"class","zoom-slider-popup svelte-o4vm8s")},m(w,_){ie(w,t,_),d(t,n),d(n,r),d(n,o),d(n,i),mt(i,e[2]),d(n,s),d(n,a),d(a,c),d(a,h),f=!0,y||(m=[Y(i,"change",e[11]),Y(i,"input",e[11]),Y(i,"input",e[9])],y=!0)},p(w,_){_&4&&mt(i,w[2]),(!f||_&4)&&l!==(l=(w[2]/100).toFixed(1)+"")&&we(c,l)},i(w){f||(w&&_t(()=>{f&&(p||(p=Ft(t,Qr,{y:50,duration:200},!0)),p.run(1))}),f=!0)},o(w){w&&(p||(p=Ft(t,Qr,{y:50,duration:200},!1)),p.run(0)),f=!1},d(w){w&&oe(t),w&&p&&p.end(),y=!1,lt(m)}}}function ok(e){let t,n;return{c(){t=Re("path"),n=Re("path"),u(t,"d","M11 5L6 9H2V15H6L11 19V5Z"),u(t,"stroke","currentColor"),u(t,"stroke-width","2"),u(t,"stroke-linejoin","round"),u(n,"d","M15.54 8.46C16.4738 9.39379 17.0081 10.6692 17.0081 12C17.0081 13.3308 16.4738 14.6062 15.54 15.54M18.07 5.93C19.9447 7.80528 20.9979 10.3576 20.9979 13.005C20.9979 15.6524 19.9447 18.2047 18.07 20.08"),u(n,"stroke","currentColor"),u(n,"stroke-width","2"),u(n,"stroke-linecap","round")},m(r,o){ie(r,t,o),ie(r,n,o)},d(r){r&&(oe(t),oe(n))}}}function ik(e){let t,n;return{c(){t=Re("path"),n=Re("path"),u(t,"d","M11 5L6 9H2V15H6L11 19V5Z"),u(t,"stroke","currentColor"),u(t,"stroke-width","2"),u(t,"stroke-linejoin","round"),u(n,"d","M23 9L17 15M17 9L23 15"),u(n,"stroke","currentColor"),u(n,"stroke-width","2"),u(n,"stroke-linecap","round")},m(r,o){ie(r,t,o),ie(r,n,o)},d(r){r&&(oe(t),oe(n))}}}function sk(e){let t,n=e[0]&&v0(e);return{c(){n&&n.c(),t=Cn()},m(r,o){n&&n.m(r,o),ie(r,t,o)},p(r,[o]){r[0]?n?n.p(r,o):(n=v0(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:He,o:He,d(r){r&&oe(t),n&&n.d(r)}}}function ak(){const e=new KeyboardEvent("keydown",{key:" "});window.dispatchEvent(e)}function lk(e,t,n){let r=!1,o=!1,i=100,s=!1,a=!1,l=!1,c=null;function h(){n(0,r=window.innerWidth<=768)}function p(){s?Ve.publish("hideBands"):Ve.publish("showBands"),n(3,s=!s)}function f(){a?Ve.publish("hideBookmarks"):Ve.publish("showBookmarks"),n(4,a=!a)}function y(){n(1,o=!o),o&&m()}function m(){if(!le||!le.audioMaxSize){n(2,i=100);return}const[O,T]=qe.getWaterfallRange(),P=le.audioMaxSize,E=T-O;if(E<=0||!P||P<=0){n(2,i=100);return}if(E>=P)n(2,i=100);else{const F=P/E*100;n(2,i=Math.round(Math.min(F,1e5)))}isNaN(i)?n(2,i=100):n(2,i=Math.max(100,Math.min(1e5,i)))}function w(){if(!le||!le.audioMaxSize){console.warn("Audio not initialized");return}if(isNaN(i)||i<100||i>1e5){n(2,i=Math.max(100,Math.min(1e5,i||100)));return}const[O,T,P]=le.getAudioRange(),E=T,F=le.audioMaxSize;if(!F||F<=0){console.warn("Invalid FFT size:",F);return}const S=i/100,R=Math.round(F/S),C=Math.max(10,Math.round(F/1e3)),M=Math.max(C,R);let v=Math.round(E-M/2),x=Math.round(E+M/2);if(v<0){const A=-v;v=0,x=Math.min(F,x+A)}if(x>F){const A=x-F;x=F,v=Math.max(0,v-A)}if(x<=v||v<0||x>F){console.warn("Invalid zoom range calculated:",{newL:v,newR:x,fftSize:F});return}qe.setWaterfallRange(v,x),c&&typeof c.setZoomLevel=="function"&&c.setZoomLevel(S)}zn(()=>{h(),window.addEventListener("resize",h),Ve.subscribe("bandsMenuClosed",()=>{n(3,s=!1)}),Ve.subscribe("bookmarksDialogClosed",()=>{n(4,a=!1)}),Ve.subscribe("waterfallRangeChanged",()=>{o&&m()}),Ve.subscribe("muteStateChanged",O=>{n(5,l=O)}),le&&n(5,l=le.mute||!1)}),Eo(()=>{window.removeEventListener("resize",h)});function _(O){c=O}function L(){i=pr(this.value),n(2,i)}return[r,o,i,s,a,l,p,f,y,w,_,L]}class ck extends on{constructor(t){super(),rn(this,t,lk,sk,Xt,{setPassbandTuner:10})}get setPassbandTuner(){return this.$$.ctx[10]}}var uk=Error,dk=EvalError,hk=RangeError,pk=ReferenceError,b0=SyntaxError,us=TypeError,fk=URIError,mk=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0},w0=typeof Symbol<"u"&&Symbol,gk=mk,vk=function(){return typeof w0!="function"||typeof Symbol!="function"||typeof w0("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gk()},$c={__proto__:null,foo:{}},yk=Object,bk=function(){return{__proto__:$c}.foo===$c.foo&&!($c instanceof yk)},wk="Function.prototype.bind called on incompatible ",xk=Object.prototype.toString,kk=Math.max,Ck="[object Function]",x0=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},_k=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},Sk=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},Mk=function(e){var t=this;if(typeof t!="function"||xk.apply(t)!==Ck)throw new TypeError(wk+t);for(var n=_k(arguments,1),r,o=function(){if(this instanceof r){var c=t.apply(this,x0(n,arguments));return Object(c)===c?c:this}return t.apply(e,x0(n,arguments))},i=kk(0,t.length-n.length),s=[],a=0;a<i;a++)s[a]="$"+a;if(r=Function("binder","return function ("+Sk(s,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},Ak=Mk,Uc=Function.prototype.bind||Ak,Tk=Function.prototype.call,Ek=Object.prototype.hasOwnProperty,Fk=Uc,Ok=Fk.call(Tk,Ek),ut,Rk=uk,Ik=dk,Pk=hk,Nk=pk,oi=b0,ii=us,Dk=fk,k0=Function,zc=function(e){try{return k0('"use strict"; return ('+e+").constructor;")()}catch(t){}},wo=Object.getOwnPropertyDescriptor;if(wo)try{wo({},"")}catch(e){wo=null}var Wc=function(){throw new ii},Lk=wo?function(){try{return arguments.callee,Wc}catch(e){try{return wo(arguments,"callee").get}catch(t){return Wc}}}():Wc,si=vk(),qk=bk(),Gt=Object.getPrototypeOf||(qk?function(e){return e.__proto__}:null),ai={},Bk=typeof Uint8Array>"u"||!Gt?ut:Gt(Uint8Array),xo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ut:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ut:ArrayBuffer,"%ArrayIteratorPrototype%":si&&Gt?Gt([][Symbol.iterator]()):ut,"%AsyncFromSyncIteratorPrototype%":ut,"%AsyncFunction%":ai,"%AsyncGenerator%":ai,"%AsyncGeneratorFunction%":ai,"%AsyncIteratorPrototype%":ai,"%Atomics%":typeof Atomics>"u"?ut:Atomics,"%BigInt%":typeof BigInt>"u"?ut:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ut:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ut:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ut:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Rk,"%eval%":eval,"%EvalError%":Ik,"%Float32Array%":typeof Float32Array>"u"?ut:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ut:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ut:FinalizationRegistry,"%Function%":k0,"%GeneratorFunction%":ai,"%Int8Array%":typeof Int8Array>"u"?ut:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ut:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ut:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":si&&Gt?Gt(Gt([][Symbol.iterator]())):ut,"%JSON%":typeof JSON=="object"?JSON:ut,"%Map%":typeof Map>"u"?ut:Map,"%MapIteratorPrototype%":typeof Map>"u"||!si||!Gt?ut:Gt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ut:Promise,"%Proxy%":typeof Proxy>"u"?ut:Proxy,"%RangeError%":Pk,"%ReferenceError%":Nk,"%Reflect%":typeof Reflect>"u"?ut:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ut:Set,"%SetIteratorPrototype%":typeof Set>"u"||!si||!Gt?ut:Gt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ut:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":si&&Gt?Gt(""[Symbol.iterator]()):ut,"%Symbol%":si?Symbol:ut,"%SyntaxError%":oi,"%ThrowTypeError%":Lk,"%TypedArray%":Bk,"%TypeError%":ii,"%Uint8Array%":typeof Uint8Array>"u"?ut:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ut:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ut:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ut:Uint32Array,"%URIError%":Dk,"%WeakMap%":typeof WeakMap>"u"?ut:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ut:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ut:WeakSet};if(Gt)try{null.error}catch(e){var jk=Gt(Gt(e));xo["%Error.prototype%"]=jk}var $k=function e(t){var n;if(t==="%AsyncFunction%")n=zc("async function () {}");else if(t==="%GeneratorFunction%")n=zc("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=zc("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&Gt&&(n=Gt(o.prototype))}return xo[t]=n,n},C0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ds=Uc,Ra=Ok,Uk=ds.call(Function.call,Array.prototype.concat),zk=ds.call(Function.apply,Array.prototype.splice),_0=ds.call(Function.call,String.prototype.replace),Ia=ds.call(Function.call,String.prototype.slice),Wk=ds.call(Function.call,RegExp.prototype.exec),Hk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Vk=/\\(\\)?/g,Gk=function(e){var t=Ia(e,0,1),n=Ia(e,-1);if(t==="%"&&n!=="%")throw new oi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new oi("invalid intrinsic syntax, expected opening `%`");var r=[];return _0(e,Hk,function(o,i,s,a){r[r.length]=s?_0(a,Vk,"$1"):i||o}),r},Xk=function(e,t){var n=e,r;if(Ra(C0,n)&&(r=C0[n],n="%"+r[0]+"%"),Ra(xo,n)){var o=xo[n];if(o===ai&&(o=$k(n)),typeof o>"u"&&!t)throw new ii("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new oi("intrinsic "+e+" does not exist!")},li=function(e,t){if(typeof e!="string"||e.length===0)throw new ii("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new ii('"allowMissing" argument must be a boolean');if(Wk(/^%?[^%]*%?$/,e)===null)throw new oi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Gk(e),r=n.length>0?n[0]:"",o=Xk("%"+r+"%",t),i=o.name,s=o.value,a=!1,l=o.alias;l&&(r=l[0],zk(n,Uk([0,1],l)));for(var c=1,h=!0;c<n.length;c+=1){var p=n[c],f=Ia(p,0,1),y=Ia(p,-1);if((f==='"'||f==="'"||f==="`"||y==='"'||y==="'"||y==="`")&&f!==y)throw new oi("property names with quotes must have matching quotes");if((p==="constructor"||!h)&&(a=!0),r+="."+p,i="%"+r+"%",Ra(xo,i))s=xo[i];else if(s!=null){if(!(p in s)){if(!t)throw new ii("base intrinsic for "+e+" exists, but the property is not available.");return}if(wo&&c+1>=n.length){var m=wo(s,p);h=!!m,h&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[p]}else h=Ra(s,p),s=s[p];h&&!a&&(xo[i]=s)}}return s},S0={exports:{}},Hc,M0;function Vc(){if(M0)return Hc;M0=1;var e=li,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}return Hc=t,Hc}var Yk=li,Pa=Yk("%Object.getOwnPropertyDescriptor%",!0);if(Pa)try{Pa([],"length")}catch(e){Pa=null}var A0=Pa,T0=Vc(),Zk=b0,ci=us,E0=A0,Jk=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ci("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new ci("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ci("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ci("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ci("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ci("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,a=!!E0&&E0(e,t);if(T0)T0(e,t,{configurable:i===null&&a?a.configurable:!i,enumerable:r===null&&a?a.enumerable:!r,value:n,writable:o===null&&a?a.writable:!o});else if(s||!r&&!o&&!i)e[t]=n;else throw new Zk("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Gc=Vc(),F0=function(){return!!Gc};F0.hasArrayLengthDefineBug=function(){if(!Gc)return null;try{return Gc([],"length",{value:1}).length!==1}catch(e){return!0}};var Kk=F0,Qk=li,O0=Jk,eC=Kk(),R0=A0,I0=us,tC=Qk("%Math.floor%"),nC=function(e,t){if(typeof e!="function")throw new I0("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||tC(t)!==t)throw new I0("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,o=!0;if("length"in e&&R0){var i=R0(e,"length");i&&!i.configurable&&(r=!1),i&&!i.writable&&(o=!1)}return(r||o||!n)&&(eC?O0(e,"length",t,!0,!0):O0(e,"length",t)),e};(function(e){var t=Uc,n=li,r=nC,o=us,i=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||t.call(s,i),l=Vc(),c=n("%Math.max%");e.exports=function(p){if(typeof p!="function")throw new o("a function is required");var f=a(t,s,arguments);return r(f,1+c(0,p.length-(arguments.length-1)),!0)};var h=function(){return a(t,i,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h})(S0);var rC=S0.exports,P0=li,N0=rC,oC=N0(P0("String.prototype.indexOf")),iC=function(e,t){var n=P0(e,!!t);return typeof n=="function"&&oC(e,".prototype.")>-1?N0(n):n};const sC={},Xc=Object.freeze(Object.defineProperty({__proto__:null,default:sC},Symbol.toStringTag,{value:"Module"})),aC=rg(Xc);var Yc=typeof Map=="function"&&Map.prototype,Zc=Object.getOwnPropertyDescriptor&&Yc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Na=Yc&&Zc&&typeof Zc.get=="function"?Zc.get:null,D0=Yc&&Map.prototype.forEach,Jc=typeof Set=="function"&&Set.prototype,Kc=Object.getOwnPropertyDescriptor&&Jc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Da=Jc&&Kc&&typeof Kc.get=="function"?Kc.get:null,L0=Jc&&Set.prototype.forEach,lC=typeof WeakMap=="function"&&WeakMap.prototype,hs=lC?WeakMap.prototype.has:null,cC=typeof WeakSet=="function"&&WeakSet.prototype,ps=cC?WeakSet.prototype.has:null,uC=typeof WeakRef=="function"&&WeakRef.prototype,q0=uC?WeakRef.prototype.deref:null,dC=Boolean.prototype.valueOf,hC=Object.prototype.toString,pC=Function.prototype.toString,fC=String.prototype.match,Qc=String.prototype.slice,zr=String.prototype.replace,mC=String.prototype.toUpperCase,B0=String.prototype.toLowerCase,j0=RegExp.prototype.test,$0=Array.prototype.concat,ar=Array.prototype.join,gC=Array.prototype.slice,U0=Math.floor,eu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,tu=Object.getOwnPropertySymbols,nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ui=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ln=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ui||!0)?Symbol.toStringTag:null,z0=Object.prototype.propertyIsEnumerable,W0=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function H0(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||j0.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-U0(-e):U0(e);if(r!==e){var o=String(r),i=Qc.call(t,o.length+1);return zr.call(o,n,"$&_")+"."+zr.call(zr.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return zr.call(t,n,"$&_")}var ru=aC,V0=ru.custom,G0=Z0(V0)?V0:null,vC=function e(t,n,r,o){var i=n||{};if(Wr(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Wr(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Wr(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Wr(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Wr(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return K0(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?H0(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return a?H0(t,c):c}var h=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=h&&h>0&&typeof t=="object")return ou(t)?"[Array]":"[Object]";var p=NC(i,r);if(typeof o>"u")o=[];else if(J0(o,t)>=0)return"[Circular]";function f(A,N,I){if(N&&(o=gC.call(o),o.push(N)),I){var q={depth:i.depth};return Wr(i,"quoteStyle")&&(q.quoteStyle=i.quoteStyle),e(A,q,r+1,o)}return e(A,i,r+1,o)}if(typeof t=="function"&&!Y0(t)){var y=MC(t),m=La(t,f);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(m.length>0?" { "+ar.call(m,", ")+" }":"")}if(Z0(t)){var w=ui?zr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):nu.call(t);return typeof t=="object"&&!ui?fs(w):w}if(RC(t)){for(var _="<"+B0.call(String(t.nodeName)),L=t.attributes||[],O=0;O<L.length;O++)_+=" "+L[O].name+"="+X0(yC(L[O].value),"double",i);return _+=">",t.childNodes&&t.childNodes.length&&(_+="..."),_+="</"+B0.call(String(t.nodeName))+">",_}if(ou(t)){if(t.length===0)return"[]";var T=La(t,f);return p&&!PC(T)?"["+su(T,p)+"]":"[ "+ar.call(T,", ")+" ]"}if(wC(t)){var P=La(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!z0.call(t,"cause")?"{ ["+String(t)+"] "+ar.call($0.call("[cause]: "+f(t.cause),P),", ")+" }":P.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ar.call(P,", ")+" }"}if(typeof t=="object"&&s){if(G0&&typeof t[G0]=="function"&&ru)return ru(t,{depth:h-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(AC(t)){var E=[];return D0&&D0.call(t,function(A,N){E.push(f(N,t,!0)+" => "+f(A,t))}),Q0("Map",Na.call(t),E,p)}if(FC(t)){var F=[];return L0&&L0.call(t,function(A){F.push(f(A,t))}),Q0("Set",Da.call(t),F,p)}if(TC(t))return iu("WeakMap");if(OC(t))return iu("WeakSet");if(EC(t))return iu("WeakRef");if(kC(t))return fs(f(Number(t)));if(_C(t))return fs(f(eu.call(t)));if(CC(t))return fs(dC.call(t));if(xC(t))return fs(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===ki)return"{ [object globalThis] }";if(!bC(t)&&!Y0(t)){var S=La(t,f),R=W0?W0(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",M=!R&&ln&&Object(t)===t&&ln in t?Qc.call(Hr(t),8,-1):C?"Object":"",v=R||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",x=v+(M||C?"["+ar.call($0.call([],M||[],C||[]),": ")+"] ":"");return S.length===0?x+"{}":p?x+"{"+su(S,p)+"}":x+"{ "+ar.call(S,", ")+" }"}return String(t)};function X0(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function yC(e){return zr.call(String(e),/"/g,"&quot;")}function ou(e){return Hr(e)==="[object Array]"&&(!ln||!(typeof e=="object"&&ln in e))}function bC(e){return Hr(e)==="[object Date]"&&(!ln||!(typeof e=="object"&&ln in e))}function Y0(e){return Hr(e)==="[object RegExp]"&&(!ln||!(typeof e=="object"&&ln in e))}function wC(e){return Hr(e)==="[object Error]"&&(!ln||!(typeof e=="object"&&ln in e))}function xC(e){return Hr(e)==="[object String]"&&(!ln||!(typeof e=="object"&&ln in e))}function kC(e){return Hr(e)==="[object Number]"&&(!ln||!(typeof e=="object"&&ln in e))}function CC(e){return Hr(e)==="[object Boolean]"&&(!ln||!(typeof e=="object"&&ln in e))}function Z0(e){if(ui)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!nu)return!1;try{return nu.call(e),!0}catch(t){}return!1}function _C(e){if(!e||typeof e!="object"||!eu)return!1;try{return eu.call(e),!0}catch(t){}return!1}var SC=Object.prototype.hasOwnProperty||function(e){return e in this};function Wr(e,t){return SC.call(e,t)}function Hr(e){return hC.call(e)}function MC(e){if(e.name)return e.name;var t=fC.call(pC.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function J0(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function AC(e){if(!Na||!e||typeof e!="object")return!1;try{Na.call(e);try{Da.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function TC(e){if(!hs||!e||typeof e!="object")return!1;try{hs.call(e,hs);try{ps.call(e,ps)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function EC(e){if(!q0||!e||typeof e!="object")return!1;try{return q0.call(e),!0}catch(t){}return!1}function FC(e){if(!Da||!e||typeof e!="object")return!1;try{Da.call(e);try{Na.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function OC(e){if(!ps||!e||typeof e!="object")return!1;try{ps.call(e,ps);try{hs.call(e,hs)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function RC(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function K0(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return K0(Qc.call(e,0,t.maxStringLength),t)+r}var o=zr.call(zr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,IC);return X0(o,"single",t)}function IC(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+mC.call(t.toString(16))}function fs(e){return"Object("+e+")"}function iu(e){return e+" { ? }"}function Q0(e,t,n,r){var o=r?su(n,r):ar.call(n,", ");return e+" ("+t+") {"+o+"}"}function PC(e){for(var t=0;t<e.length;t++)if(J0(e[t],"\n")>=0)return!1;return!0}function NC(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=ar.call(Array(e.indent+1)," ");else return null;return{base:n,prev:ar.call(Array(t+1),n)}}function su(e,t){if(e.length===0)return"";var n="\n"+t.prev+t.base;return n+ar.call(e,","+n)+"\n"+t.prev}function La(e,t){var n=ou(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Wr(e,o)?t(e[o],e):""}var i=typeof tu=="function"?tu(e):[],s;if(ui){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var l in e)Wr(e,l)&&(n&&String(Number(l))===l&&l<e.length||ui&&s["$"+l]instanceof Symbol||(j0.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof tu=="function")for(var c=0;c<i.length;c++)z0.call(e,i[c])&&r.push("["+t(i[c])+"]: "+t(e[i[c]],e));return r}var em=li,di=iC,DC=vC,LC=us,qa=em("%WeakMap%",!0),Ba=em("%Map%",!0),qC=di("WeakMap.prototype.get",!0),BC=di("WeakMap.prototype.set",!0),jC=di("WeakMap.prototype.has",!0),$C=di("Map.prototype.get",!0),UC=di("Map.prototype.set",!0),zC=di("Map.prototype.has",!0),au=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},WC=function(e,t){var n=au(e,t);return n&&n.value},HC=function(e,t,n){var r=au(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},VC=function(e,t){return!!au(e,t)},GC=function(){var e,t,n,r={assert:function(o){if(!r.has(o))throw new LC("Side channel does not contain "+DC(o))},get:function(o){if(qa&&o&&(typeof o=="object"||typeof o=="function")){if(e)return qC(e,o)}else if(Ba){if(t)return $C(t,o)}else if(n)return WC(n,o)},has:function(o){if(qa&&o&&(typeof o=="object"||typeof o=="function")){if(e)return jC(e,o)}else if(Ba){if(t)return zC(t,o)}else if(n)return VC(n,o);return!1},set:function(o,i){qa&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new qa),BC(e,o,i)):Ba?(t||(t=new Ba),UC(t,o,i)):(n||(n={key:{},next:null}),HC(n,o,i))}};return r},XC=String.prototype.replace,YC=/%20/g,lu={RFC1738:"RFC1738",RFC3986:"RFC3986"},cu={default:lu.RFC3986,formatters:{RFC1738:function(e){return XC.call(e,YC,"+")},RFC3986:function(e){return String(e)}},RFC1738:lu.RFC1738,RFC3986:lu.RFC3986},ZC=cu,uu=Object.prototype.hasOwnProperty,ko=Array.isArray,lr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),JC=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(ko(n)){for(var r=[],o=0;o<n.length;++o)typeof n[o]<"u"&&r.push(n[o]);t.obj[t.prop]=r}}},tm=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},KC=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(ko(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!uu.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return ko(t)&&!ko(n)&&(o=tm(t,r)),ko(t)&&ko(n)?(n.forEach(function(i,s){if(uu.call(t,s)){var a=t[s];a&&typeof a=="object"&&i&&typeof i=="object"?t[s]=e(a,i,r):t.push(i)}else t[s]=i}),t):Object.keys(n).reduce(function(i,s){var a=n[s];return uu.call(i,s)?i[s]=e(i[s],a,r):i[s]=a,i},o)},QC=function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},e_=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},t_=function(e,t,n,r,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",a=0;a<i.length;++a){var l=i.charCodeAt(a);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===ZC.RFC1738&&(l===40||l===41)){s+=i.charAt(a);continue}if(l<128){s=s+lr[l];continue}if(l<2048){s=s+(lr[192|l>>6]+lr[128|l&63]);continue}if(l<55296||l>=57344){s=s+(lr[224|l>>12]+lr[128|l>>6&63]+lr[128|l&63]);continue}a+=1,l=65536+((l&1023)<<10|i.charCodeAt(a)&1023),s+=lr[240|l>>18]+lr[128|l>>12&63]+lr[128|l>>6&63]+lr[128|l&63]}return s},n_=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],s=Object.keys(i),a=0;a<s.length;++a){var l=s[a],c=i[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(t.push({obj:i,prop:l}),n.push(c))}return JC(t),e},r_=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},o_=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},i_=function(e,t){return[].concat(e,t)},s_=function(e,t){if(ko(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},nm={arrayToObject:tm,assign:QC,combine:i_,compact:n_,decode:e_,encode:t_,isBuffer:o_,isRegExp:r_,maybeMap:s_,merge:KC},rm=GC,ja=nm,ms=cu,a_=Object.prototype.hasOwnProperty,om={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},cr=Array.isArray,l_=Array.prototype.push,im=function(e,t){l_.apply(e,cr(t)?t:[t])},c_=Date.prototype.toISOString,sm=ms.default,zt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ja.encode,encodeValuesOnly:!1,format:sm,formatter:ms.formatters[sm],indices:!1,serializeDate:function(e){return c_.call(e)},skipNulls:!1,strictNullHandling:!1},u_=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},du={},d_=function e(t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O){for(var T=t,P=O,E=0,F=!1;(P=P.get(du))!==void 0&&!F;){var S=P.get(t);if(E+=1,typeof S<"u"){if(S===E)throw new RangeError("Cyclic object value");F=!0}typeof P.get(du)>"u"&&(E=0)}if(typeof h=="function"?T=h(n,T):T instanceof Date?T=y(T):r==="comma"&&cr(T)&&(T=ja.maybeMap(T,function(j){return j instanceof Date?y(j):j})),T===null){if(s)return c&&!_?c(n,zt.encoder,L,"key",m):n;T=""}if(u_(T)||ja.isBuffer(T)){if(c){var R=_?n:c(n,zt.encoder,L,"key",m);return[w(R)+"="+w(c(T,zt.encoder,L,"value",m))]}return[w(n)+"="+w(String(T))]}var C=[];if(typeof T>"u")return C;var M;if(r==="comma"&&cr(T))_&&c&&(T=ja.maybeMap(T,c)),M=[{value:T.length>0?T.join(",")||null:void 0}];else if(cr(h))M=h;else{var v=Object.keys(T);M=p?v.sort(p):v}var x=l?n.replace(/\./g,"%2E"):n,A=o&&cr(T)&&T.length===1?x+"[]":x;if(i&&cr(T)&&T.length===0)return A+"[]";for(var N=0;N<M.length;++N){var I=M[N],q=typeof I=="object"&&typeof I.value<"u"?I.value:T[I];if(!(a&&q===null)){var H=f&&l?I.replace(/\./g,"%2E"):I,z=cr(T)?typeof r=="function"?r(A,H):A:A+(f?"."+H:"["+H+"]");O.set(t,E);var D=rm();D.set(du,O),im(C,e(q,z,r,o,i,s,a,l,r==="comma"&&_&&cr(T)?null:c,h,p,f,y,m,w,_,L,D))}}return C},h_=function(e){if(!e)return zt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||zt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ms.default;if(typeof e.format<"u"){if(!a_.call(ms.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=ms.formatters[n],o=zt.filter;(typeof e.filter=="function"||cr(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in om?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=zt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:zt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:zt.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:zt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:zt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?zt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:zt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:zt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:zt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:zt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:zt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:zt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:zt.strictNullHandling}},p_=function(e,t){var n=e,r=h_(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):cr(r.filter)&&(i=r.filter,o=i);var s=[];if(typeof n!="object"||n===null)return"";var a=om[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var c=rm(),h=0;h<o.length;++h){var p=o[h];r.skipNulls&&n[p]===null||im(s,d_(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var f=s.join(r.delimiter),y=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),f.length>0?y+f:""},hi=nm,hu=Object.prototype.hasOwnProperty,f_=Array.isArray,Dt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:hi.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},m_=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},am=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},g_="utf8=%26%2310003%3B",v_="utf8=%E2%9C%93",y_=function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),s=-1,a,l=t.charset;if(t.charsetSentinel)for(a=0;a<i.length;++a)i[a].indexOf("utf8=")===0&&(i[a]===v_?l="utf-8":i[a]===g_&&(l="iso-8859-1"),s=a,a=i.length);for(a=0;a<i.length;++a)if(a!==s){var c=i[a],h=c.indexOf("]="),p=h===-1?c.indexOf("="):h+1,f,y;p===-1?(f=t.decoder(c,Dt.decoder,l,"key"),y=t.strictNullHandling?null:""):(f=t.decoder(c.slice(0,p),Dt.decoder,l,"key"),y=hi.maybeMap(am(c.slice(p+1),t),function(w){return t.decoder(w,Dt.decoder,l,"value")})),y&&t.interpretNumericEntities&&l==="iso-8859-1"&&(y=m_(y)),c.indexOf("[]=")>-1&&(y=f_(y)?[y]:y);var m=hu.call(n,f);m&&t.duplicates==="combine"?n[f]=hi.combine(n[f],y):(!m||t.duplicates==="last")&&(n[f]=y)}return n},b_=function(e,t,n,r){for(var o=r?t:am(t,n),i=e.length-1;i>=0;--i){var s,a=e[i];if(a==="[]"&&n.parseArrays)s=n.allowEmptyArrays&&o===""?[]:[].concat(o);else{s=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,h=parseInt(c,10);!n.parseArrays&&c===""?s={0:o}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(s=[],s[h]=o):c!=="__proto__"&&(s[c]=o)}o=s}return o},w_=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,a=n.depth>0&&i.exec(o),l=a?o.slice(0,a.index):o,c=[];if(l){if(!n.plainObjects&&hu.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var h=0;n.depth>0&&(a=s.exec(o))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&hu.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),b_(c,t,n,r)}},x_=function(e){if(!e)return Dt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Dt.charset:e.charset,n=typeof e.duplicates>"u"?Dt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Dt.allowDots:!!e.allowDots;return{allowDots:r,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Dt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Dt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Dt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Dt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Dt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Dt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Dt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Dt.decoder,delimiter:typeof e.delimiter=="string"||hi.isRegExp(e.delimiter)?e.delimiter:Dt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Dt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Dt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Dt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Dt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Dt.strictNullHandling}},k_=function(e,t){var n=x_(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?y_(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),s=0;s<i.length;++s){var a=i[s],l=w_(a,r[a],n,typeof e=="string");o=hi.merge(o,l,n)}return n.allowSparse===!0?o:hi.compact(o)},C_=p_,__=k_,S_=cu,M_={formats:S_,parse:__,stringify:C_};const lm=eo(M_);function A_(e){return lm.stringify(e)}function T_(e){const t=lm.parse(e);return F_(t)}function E_(e){Object.entries(e).forEach(([t,n])=>{localStorage.setItem(t,n)})}function F_(e){const t={};return"frequency"in e&&Mf(e.frequency)&&(t.frequency=parseFloat(e.frequency)),"modulation"in e&&(t.modulation=e.modulation.toUpperCase()),t}const{document:cm,window:pu}=_s;function um(e,t,n){const r=e.slice();return r[62]=t[n].action,r[63]=t[n].title,r[64]=t[n].text,r}function dm(e,t,n){const r=e.slice();return r[67]=t[n],r}function hm(e){let t,n,r,o,i,s,a,l,c;return{c(){t=b("div"),n=b("div"),r=b("div"),r.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="vfo-icon svelte-o67o2a"><path d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" fill="currentColor"></path></svg>',o=B(),i=b("span"),s=ne(e[15]),u(r,"class","vfo-icon-wrapper svelte-o67o2a"),u(i,"class","notification-text svelte-o67o2a"),u(n,"class","notification-content svelte-o67o2a"),u(t,"class","vfo-notification svelte-o67o2a")},m(h,p){ie(h,t,p),d(t,n),d(n,r),d(n,o),d(n,i),d(i,s),c=!0},p(h,p){(!c||p[0]&32768)&&we(s,h[15])},i(h){c||(h&&_t(()=>{c&&(l&&l.end(1),a=xi(t,Qr,{y:-30,duration:200,easing:Rn}),a.start())}),c=!0)},o(h){a&&a.invalidate(),h&&(l=Ka(t,bn,{duration:150})),c=!1},d(h){h&&oe(t),h&&l&&l.end()}}}function pm(e){let t,n,r=e[67].label+"",o,i,s;return{c(){t=b("div"),n=b("span"),o=ne(r),i=B(),u(n,"class","svelte-o67o2a"),u(t,"class",s="status-indicator "+(e[67].enabled?"active ".concat(e[67].color):"")+" svelte-o67o2a")},m(a,l){ie(a,t,l),d(t,n),d(n,o),d(t,i)},p(a,l){l[0]&3801088&&r!==(r=a[67].label+"")&&we(o,r),l[0]&3801088&&s!==(s="status-indicator "+(a[67].enabled?"active ".concat(a[67].color):"")+" svelte-o67o2a")&&u(t,"class",s)},d(a){a&&oe(t)}}}function fm(e){let t,n,r;function o(...i){return e[41](e[62],...i)}return{c(){t=b("button"),t.textContent="".concat(e[64]," "),u(t,"class","control-button svelte-o67o2a"),u(t,"title",e[63])},m(i,s){ie(i,t,s),n||(r=Y(t,"click",o),n=!0)},p(i,s){e=i},d(i){i&&oe(t),n=!1,r()}}}function mm(e){let t;return{c(){t=b("div"),u(t,"class","active-indicator svelte-o67o2a")},m(n,r){ie(n,t,r)},d(n){n&&oe(t)}}}function gm(e){let t;return{c(){t=b("div"),u(t,"class","active-indicator svelte-o67o2a")},m(n,r){ie(n,t,r)},d(n){n&&oe(t)}}}function vm(e){let t;return{c(){t=b("div"),u(t,"class","active-indicator svelte-o67o2a")},m(n,r){ie(n,t,r)},d(n){n&&oe(t)}}}function ym(e){let t;return{c(){t=b("div"),u(t,"class","active-indicator svelte-o67o2a")},m(n,r){ie(n,t,r)},d(n){n&&oe(t)}}}function O_(e){let t,n,r,o,i,s,a,l,c;return{c(){t=b("div"),n=b("div"),r=b("button"),r.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-o67o2a"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" fill="currentColor"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 1 1 0 000 2H6a2 2 0 00-2 2v6a2 2 0 002 2h2a1 1 0 100 2H6a4 4 0 01-4-4V5z" clip-rule="evenodd" fill="currentColor"></path><path fill-rule="evenodd" d="M16 5a2 2 0 00-2-2 1 1 0 100 2h0a2 2 0 012 2v6a2 2 0 01-2 2h-2a1 1 0 100 2h2a4 4 0 004-4V5z" clip-rule="evenodd" fill="currentColor"></path></svg> <span class="svelte-o67o2a">Bands</span>',o=B(),i=b("button"),i.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-o67o2a"><path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z" fill="currentColor"></path></svg> <span class="svelte-o67o2a">Bookmarks</span>',s=B(),a=b("div"),a.innerHTML='<div id="total_user_count" class="user-count-content svelte-o67o2a"><div class="user-count-header svelte-o67o2a"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-o67o2a"><circle cx="8" cy="5" r="2.5" stroke="currentColor" stroke-width="1.5"></circle><path d="M3 14c0-2.761 2.239-5 5-5s5 2.239 5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><circle cx="12.5" cy="4.5" r="1.5" stroke="currentColor" stroke-width="1.5"></circle><path d="M14 12c0-1.657-1.343-3-3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><circle cx="3.5" cy="4.5" r="1.5" stroke="currentColor" stroke-width="1.5"></circle><path d="M2 12c0-1.657 1.343-3 3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg> <span class="svelte-o67o2a">Active Users</span></div> <div class="divider svelte-o67o2a"></div></div>',u(r,"id","bands-button"),u(r,"class","action-button svelte-o67o2a"),u(i,"id","bookmark-button"),u(i,"class","action-button svelte-o67o2a"),u(n,"class","action-buttons-grid svelte-o67o2a"),u(a,"id","user_count_container"),u(a,"class","user-count-container svelte-o67o2a"),u(t,"slot","extra-controls"),u(t,"class","extra-controls svelte-o67o2a")},m(h,p){ie(h,t,p),d(t,n),d(n,r),d(n,o),d(n,i),d(t,s),d(t,a),l||(c=[Y(r,"click",e[46]),Y(i,"click",e[47])],l=!0)},p:He,d(h){h&&oe(t),l=!1,lt(c)}}}function bm(e){let t,n,r;return n=new ng({props:{currentFrequency:parseFloat(e[9])*1e3,demodulation:e[10]}}),{c(){t=b("div"),dn(n.$$.fragment),u(t,"class","chat-wrapper svelte-o67o2a"),u(t,"id","chat-column")},m(o,i){ie(o,t,i),tn(n,t,null),r=!0},p(o,i){const s={};i[0]&512&&(s.currentFrequency=parseFloat(o[9])*1e3),i[0]&1024&&(s.demodulation=o[10]),n.$set(s)},i(o){r||($e(n.$$.fragment,o),r=!0)},o(o){st(n.$$.fragment,o),r=!1},d(o){o&&oe(t),nn(n)}}}function R_(e){let t,n,r,o,i,s,a,l,c,h,p,f,y,m,w,_,L,O,T,P,E,F,S,R,C,M,v,x,A,N,I,q,H,z,D,j,W,$,J,G,K,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke,ye,be,rt,pe,Se,Te,ce,ae,de,X,ke,je,Qe,Pe,ze,Ae,Ne,Be,Ze,Me,ot,wt,pt,et,Ge,Je,Jn,Ar,Zt,gn,Tr,jn,cn,un,At,En,$n,Jt,ht,It,tt;a=new Z8({props:{currentFrequency:parseFloat(e[9])*1e3}});function ft(Fe){e[30](Fe)}let pi={onComplete:e[29]};e[14]!==void 0&&(pi.showTutorial=e[14]),c=new Px({props:pi}),vt.push(()=>Po(c,"showTutorial",ft));function re(Fe){e[32](Fe)}function gs(Fe){e[33](Fe)}function vs(Fe){e[34](Fe)}let Vr={};e[3]!==void 0&&(Vr.frequencyInputComponent=e[3]),e[4]!==void 0&&(Vr.passbandTunerComponent=e[4]),e[5]!==void 0&&(Vr.frequencyMarkerComponent=e[5]),y=new z8({props:Vr}),e[31](y),vt.push(()=>Po(y,"frequencyInputComponent",re)),vt.push(()=>Po(y,"passbandTunerComponent",gs)),vt.push(()=>Po(y,"frequencyMarkerComponent",vs)),y.$on("change",e[26]),O=new Lx({props:{visible:e[13],onClick:e[23]}});let Pt=e[15]&&hm(e),ys={currentFrequency:parseFloat(e[9])*1e3};F=new Mx({props:ys}),e[35](F),F.$on("stateChange",e[36]);let Co=Xe([{label:"MUTED",enabled:e[17],color:"red"},{label:"NR",enabled:e[21],color:"green"},{label:"NB",enabled:e[20],color:"green"},{label:"AN",enabled:e[19],color:"green"}]),vn=[];for(let Fe=0;Fe<4;Fe+=1)vn[Fe]=pm(dm(e,Co,Fe));let bs={frequencyInputComponent:e[3],passbandTunerComponent:e[4],demodulation:e[10]};ge=new Ex({props:bs}),e[39](ge),ge.$on("modeChange",e[40]);let _o=Xe([{action:"+",title:"Zoom in",text:"+"},{action:"-",title:"Zoom out",text:"-"},{action:"max",title:"Zoom to max",text:"Max"},{action:"min",title:"Zoom to min",text:"Min"}]),Wt=[];for(let Fe=0;Fe<4;Fe+=1)Wt[Fe]=fm(um(e,_o,Fe));let it=e[21]&&mm(),Kt=e[20]&&gm(),Qt=e[19]&&vm(),en=e[18]&&ym();et=new gx({props:{$$slots:{"extra-controls":[O_]},$$scope:{ctx:e}}});function So(Fe){e[48](Fe)}let ur={currentFrequency:parseFloat(e[9])*1e3,demodulation:e[10],link:e[12]};e[1]!==void 0&&(ur.showDialog=e[1]),Je=new mg({props:ur}),vt.push(()=>Po(Je,"showDialog",So));function ws(Fe){e[49](Fe)}let fi={};e[2]!==void 0&&(fi.showBandsMenu=e[2]),Zt=new rk({props:fi}),vt.push(()=>Po(Zt,"showBandsMenu",ws));let Ct=e[22].chatEnabled&&bm(e);cn=new Hm({props:{version:I_}});let Mo={};return At=new ck({props:Mo}),e[50](At),{c(){t=b("main"),n=b("div"),r=b("div"),o=b("div"),i=b("div"),s=b("div"),dn(a.$$.fragment),l=B(),dn(c.$$.fragment),p=B(),f=b("div"),dn(y.$$.fragment),L=B(),dn(O.$$.fragment),T=B(),Pt&&Pt.c(),P=B(),E=b("div"),dn(F.$$.fragment),S=B(),R=b("div"),C=b("div"),M=b("div"),v=b("div"),x=b("input"),A=B(),N=b("div"),I=b("span"),q=ne("VFO "),H=ne(e[16]),z=B(),D=b("span"),D.textContent="\u2022",j=B(),W=b("span"),$=ne(e[10]),J=B(),G=b("span"),G.textContent="\u2022",K=B(),te=b("span"),fe=ne(e[11]),Z=ne(" kHz"),he=B(),ve=b("div"),De=b("div");for(let Fe=0;Fe<4;Fe+=1)vn[Fe].c();Ie=B(),We=b("canvas"),Le=B(),dn(ge.$$.fragment),ue=B(),Ce=b("div"),Ue=b("div"),Ke=b("div"),Ke.innerHTML='<div class="accent-dot bg-purple svelte-o67o2a"></div> <h3 class="section-label svelte-o67o2a">Zoom</h3>',ye=B(),be=b("div");for(let Fe=0;Fe<4;Fe+=1)Wt[Fe].c();rt=B(),pe=b("div"),Se=b("div"),Se.innerHTML='<div class="accent-dot bg-orange svelte-o67o2a"></div> <h3 class="section-label svelte-o67o2a">Processing</h3>',Te=B(),ce=b("div"),ae=b("button"),it&&it.c(),de=ne("\n                                            NR"),ke=B(),je=b("button"),Kt&&Kt.c(),Qe=ne("\n                                            NB"),ze=B(),Ae=b("button"),Qt&&Qt.c(),Ne=ne("\n                                            AN"),Ze=B(),Me=b("button"),en&&en.c(),ot=ne("\n                                            CTCSS"),pt=B(),dn(et.$$.fragment),Ge=B(),dn(Je.$$.fragment),Ar=B(),dn(Zt.$$.fragment),Tr=B(),Ct&&Ct.c(),jn=B(),dn(cn.$$.fragment),un=B(),dn(At.$$.fragment),En=B(),$n=b("link"),Jt=b("link"),u(s,"class","server-info-wrapper svelte-o67o2a"),u(f,"class","display-stack-wrapper svelte-o67o2a"),u(x,"class","frequency-input svelte-o67o2a"),u(x,"type","text"),u(x,"size","3"),u(x,"name","frequency"),u(I,"class","vfo-badge clickable svelte-o67o2a"),u(I,"title","Click to switch VFO (or press V)"),u(D,"class","separator svelte-o67o2a"),u(W,"class","mode-text svelte-o67o2a"),u(G,"class","separator svelte-o67o2a"),u(te,"class","bandwidth-text svelte-o67o2a"),u(N,"class","frequency-info svelte-o67o2a"),u(v,"class","frequency-section svelte-o67o2a"),u(De,"class","status-indicators svelte-o67o2a"),u(We,"id","sMeter"),u(We,"width","250"),u(We,"height","40"),u(We,"class","svelte-o67o2a"),u(ve,"class","status-section svelte-o67o2a"),u(M,"class","frequency-panel svelte-o67o2a"),u(C,"class","frequency-display svelte-o67o2a"),u(C,"id","smeter-tut"),u(Ke,"class","section-header svelte-o67o2a"),u(be,"id","zoom-controls"),u(be,"class","button-grid svelte-o67o2a"),u(Ue,"class","control-section svelte-o67o2a"),u(Se,"class","section-header svelte-o67o2a"),u(ae,"class",X="control-button "+(e[21]?"active":"")+" svelte-o67o2a"),u(ae,"title","Noise Reduction"),u(je,"class",Pe="control-button "+(e[20]?"active":"")+" svelte-o67o2a"),u(je,"title","Noise Blanker"),u(Ae,"class",Be="control-button "+(e[19]?"active":"")+" svelte-o67o2a"),u(Ae,"title","Auto Notch"),u(Me,"class",wt="control-button "+(e[18]?"active":"")+" svelte-o67o2a"),u(Me,"title","CTCSS Filter"),u(ce,"id","moreoptions"),u(ce,"class","button-grid svelte-o67o2a"),u(pe,"class","control-section svelte-o67o2a"),u(Ce,"class","controls-grid svelte-o67o2a"),u(R,"class","center-panel svelte-o67o2a"),u(E,"class","main-panels svelte-o67o2a"),u(E,"id","middle-column"),u(i,"class","content-inner svelte-o67o2a"),u(o,"class","app-content svelte-o67o2a"),u(r,"class","w-full flex-grow overflow-y-auto svelte-o67o2a"),u(n,"class","h-screen overflow-hidden flex flex-col min-h-screen svelte-o67o2a"),u(t,"class","main-container svelte-o67o2a"),u($n,"href","https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"),u($n,"rel","stylesheet"),u(Jt,"href","https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap"),u(Jt,"rel","stylesheet")},m(Fe,Ye){ie(Fe,t,Ye),d(t,n),d(n,r),d(r,o),d(o,i),d(i,s),tn(a,s,null),d(i,l),tn(c,i,null),d(i,p),d(i,f),tn(y,f,null),d(i,L),tn(O,i,null),d(i,T),Pt&&Pt.m(i,null),d(i,P),d(i,E),tn(F,E,null),d(E,S),d(E,R),d(R,C),d(C,M),d(M,v),d(v,x),mt(x,e[9]),d(v,A),d(v,N),d(N,I),d(I,q),d(I,H),d(N,z),d(N,D),d(N,j),d(N,W),d(W,$),d(N,J),d(N,G),d(N,K),d(N,te),d(te,fe),d(te,Z),d(M,he),d(M,ve),d(ve,De);for(let Nt=0;Nt<4;Nt+=1)vn[Nt]&&vn[Nt].m(De,null);d(ve,Ie),d(ve,We),d(R,Le),tn(ge,R,null),d(R,ue),d(R,Ce),d(Ce,Ue),d(Ue,Ke),d(Ue,ye),d(Ue,be);for(let Nt=0;Nt<4;Nt+=1)Wt[Nt]&&Wt[Nt].m(be,null);d(Ce,rt),d(Ce,pe),d(pe,Se),d(pe,Te),d(pe,ce),d(ce,ae),it&&it.m(ae,null),d(ae,de),d(ce,ke),d(ce,je),Kt&&Kt.m(je,null),d(je,Qe),d(ce,ze),d(ce,Ae),Qt&&Qt.m(Ae,null),d(Ae,Ne),d(ce,Ze),d(ce,Me),en&&en.m(Me,null),d(Me,ot),d(E,pt),tn(et,E,null),d(i,Ge),tn(Je,i,null),d(i,Ar),tn(Zt,i,null),d(i,Tr),Ct&&Ct.m(i,null),d(o,jn),tn(cn,o,null),d(o,un),tn(At,o,null),ie(Fe,En,Ye),d(cm.head,$n),d(cm.head,Jt),ht=!0,It||(tt=[Y(pu,"mousemove",function(){var Nt,Fn;Ht((Nt=e[6])==null?void 0:Nt.handleWindowMouseMove)&&((Fn=e[6])==null||Fn.handleWindowMouseMove.apply(this,arguments))}),Y(pu,"mouseup",function(){var Nt,Fn;Ht((Nt=e[6])==null?void 0:Nt.handleWindowMouseUp)&&((Fn=e[6])==null||Fn.handleWindowMouseUp.apply(this,arguments))}),Y(pu,"keydown",e[28]),Y(x,"input",e[37]),Y(x,"keydown",e[38]),gi(e[25].call(null,x)),Y(I,"click",e[24]),Y(ae,"click",e[42]),Y(je,"click",e[43]),Y(Ae,"click",e[44]),Y(Me,"click",e[45])],It=!0)},p(Fe,Ye){e=Fe;const Nt={};Ye[0]&512&&(Nt.currentFrequency=parseFloat(e[9])*1e3),a.$set(Nt);const Fn={};Ye[0]&16384&&(Fn.onComplete=e[29]),!h&&Ye[0]&16384&&(h=!0,Fn.showTutorial=e[14],Ro(()=>h=!1)),c.$set(Fn);const Gr={};!m&&Ye[0]&8&&(m=!0,Gr.frequencyInputComponent=e[3],Ro(()=>m=!1)),!w&&Ye[0]&16&&(w=!0,Gr.passbandTunerComponent=e[4],Ro(()=>w=!1)),!_&&Ye[0]&32&&(_=!0,Gr.frequencyMarkerComponent=e[5],Ro(()=>_=!1)),y.$set(Gr);const mi={};Ye[0]&8192&&(mi.visible=e[13]),O.$set(mi),e[15]?Pt?(Pt.p(e,Ye),Ye[0]&32768&&$e(Pt,1)):(Pt=hm(e),Pt.c(),$e(Pt,1),Pt.m(i,P)):Pt&&(Wn(),st(Pt,1,1,()=>{Pt=null}),Hn());const Un={};if(Ye[0]&512&&(Un.currentFrequency=parseFloat(e[9])*1e3),F.$set(Un),Ye[0]&512&&x.value!==e[9]&&mt(x,e[9]),(!ht||Ye[0]&65536)&&we(H,e[16]),(!ht||Ye[0]&1024)&&we($,e[10]),(!ht||Ye[0]&2048)&&we(fe,e[11]),Ye[0]&3801088){Co=Xe([{label:"MUTED",enabled:e[17],color:"red"},{label:"NR",enabled:e[21],color:"green"},{label:"NB",enabled:e[20],color:"green"},{label:"AN",enabled:e[19],color:"green"}]);let U;for(U=0;U<4;U+=1){const ee=dm(e,Co,U);vn[U]?vn[U].p(ee,Ye):(vn[U]=pm(ee),vn[U].c(),vn[U].m(De,null))}for(;U<4;U+=1)vn[U].d(1)}const Xr={};if(Ye[0]&8&&(Xr.frequencyInputComponent=e[3]),Ye[0]&16&&(Xr.passbandTunerComponent=e[4]),Ye[0]&1024&&(Xr.demodulation=e[10]),ge.$set(Xr),Ye[0]&134217728){_o=Xe([{action:"+",title:"Zoom in",text:"+"},{action:"-",title:"Zoom out",text:"-"},{action:"max",title:"Zoom to max",text:"Max"},{action:"min",title:"Zoom to min",text:"Min"}]);let U;for(U=0;U<4;U+=1){const ee=um(e,_o,U);Wt[U]?Wt[U].p(ee,Ye):(Wt[U]=fm(ee),Wt[U].c(),Wt[U].m(be,null))}for(;U<4;U+=1)Wt[U].d(1)}e[21]?it||(it=mm(),it.c(),it.m(ae,de)):it&&(it.d(1),it=null),(!ht||Ye[0]&2097152&&X!==(X="control-button "+(e[21]?"active":"")+" svelte-o67o2a"))&&u(ae,"class",X),e[20]?Kt||(Kt=gm(),Kt.c(),Kt.m(je,Qe)):Kt&&(Kt.d(1),Kt=null),(!ht||Ye[0]&1048576&&Pe!==(Pe="control-button "+(e[20]?"active":"")+" svelte-o67o2a"))&&u(je,"class",Pe),e[19]?Qt||(Qt=vm(),Qt.c(),Qt.m(Ae,Ne)):Qt&&(Qt.d(1),Qt=null),(!ht||Ye[0]&524288&&Be!==(Be="control-button "+(e[19]?"active":"")+" svelte-o67o2a"))&&u(Ae,"class",Be),e[18]?en||(en=ym(),en.c(),en.m(Me,ot)):en&&(en.d(1),en=null),(!ht||Ye[0]&262144&&wt!==(wt="control-button "+(e[18]?"active":"")+" svelte-o67o2a"))&&u(Me,"class",wt);const Yr={};Ye[0]&6|Ye[2]&256&&(Yr.$$scope={dirty:Ye,ctx:e}),et.$set(Yr);const Er={};Ye[0]&512&&(Er.currentFrequency=parseFloat(e[9])*1e3),Ye[0]&1024&&(Er.demodulation=e[10]),Ye[0]&4096&&(Er.link=e[12]),!Jn&&Ye[0]&2&&(Jn=!0,Er.showDialog=e[1],Ro(()=>Jn=!1)),Je.$set(Er);const g={};!gn&&Ye[0]&4&&(gn=!0,g.showBandsMenu=e[2],Ro(()=>gn=!1)),Zt.$set(g),e[22].chatEnabled?Ct?(Ct.p(e,Ye),Ye[0]&4194304&&$e(Ct,1)):(Ct=bm(e),Ct.c(),$e(Ct,1),Ct.m(i,null)):Ct&&(Wn(),st(Ct,1,1,()=>{Ct=null}),Hn());const k={};At.$set(k)},i(Fe){ht||($e(a.$$.fragment,Fe),$e(c.$$.fragment,Fe),$e(y.$$.fragment,Fe),$e(O.$$.fragment,Fe),$e(Pt),$e(F.$$.fragment,Fe),$e(ge.$$.fragment,Fe),$e(et.$$.fragment,Fe),$e(Je.$$.fragment,Fe),$e(Zt.$$.fragment,Fe),$e(Ct),$e(cn.$$.fragment,Fe),$e(At.$$.fragment,Fe),ht=!0)},o(Fe){st(a.$$.fragment,Fe),st(c.$$.fragment,Fe),st(y.$$.fragment,Fe),st(O.$$.fragment,Fe),st(Pt),st(F.$$.fragment,Fe),st(ge.$$.fragment,Fe),st(et.$$.fragment,Fe),st(Je.$$.fragment,Fe),st(Zt.$$.fragment,Fe),st(Ct),st(cn.$$.fragment,Fe),st(At.$$.fragment,Fe),ht=!1},d(Fe){Fe&&(oe(t),oe(En)),nn(a),nn(c),e[31](null),nn(y),nn(O),Pt&&Pt.d(),e[35](null),nn(F),Yt(vn,Fe),e[39](null),nn(ge),Yt(Wt,Fe),it&&it.d(),Kt&&Kt.d(),Qt&&Qt.d(),en&&en.d(),nn(et),nn(Je),nn(Zt),Ct&&Ct.d(),nn(cn),e[50](null),nn(At),oe($n),oe(Jt),It=!1,lt(tt)}}}const I_="2.0.0";function P_(e,t,n){let r,o,i,s,a,l,c;dr(e,Ur,X=>n(57,l=X)),dr(e,Gi,X=>n(22,c=X));let h,p,f,y,m,w,_,L="14074.00",O="USB",T="2.8",P="",E=!1,F=!1,S=!0,R=!1,C="",M="A",v={frequency:null,demodulation:null,bandwidth:null,audioRange:null,waterfallRange:null,zoom:null},x={frequency:null,demodulation:null,bandwidth:null,audioRange:null,waterfallRange:null,zoom:null},A,N=0,I;function q(){n(13,S=!1),le&&le.enable&&le.enable()}function H(){const X=M==="A"?v:x;X.frequency=(h==null?void 0:h.getFrequency())||parseFloat(L)*1e3,X.demodulation=O,X.bandwidth=parseFloat(T),X.audioRange=le.getAudioRange(),X.waterfallRange=qe.getWaterfallRange()}function z(X){const ke=X==="A"?v:x;ke.frequency&&h&&(h.setFrequency(ke.frequency),J({detail:ke.frequency})),ke.demodulation&&(n(10,O=ke.demodulation),w&&w.SetMode(ke.demodulation)),ke.waterfallRange&&qe.setWaterfallRange(...ke.waterfallRange)}function D(){I&&clearTimeout(I),H(),n(16,M=M==="A"?"B":"A"),z(M),n(15,C="Switched to VFO ".concat(M)),I=setTimeout(()=>{n(15,C="")},1200)}function j(){var je;const X={frequency:((je=h==null?void 0:h.getFrequency())==null?void 0:je.toFixed(0))||0,modulation:O};n(9,L=(((h==null?void 0:h.getFrequency())||0)/1e3).toFixed(2));const ke=A_(X);n(12,P="".concat(location.origin).concat(location.pathname,"?").concat(ke)),history.replaceState(null,"",P),E_(X)}function W(){if(m&&m.updateSignalMeter(),Hi.getLastModified()>N){const X=le.getAudioRange(),ke=Hi.getSignalClients(),je=Object.keys(ke).reduce((Qe,Pe)=>{const ze=ke[Qe],Ae=ke[Pe],Ne=Math.abs(ze[1]-X[1]),Be=Math.abs(Ae[1]-X[1]);return Ne<Be?Qe:Pe});delete ke[je],qe.setClients(ke),requestAnimationFrame(()=>{qe.updateGraduation(),qe.drawClients()}),N=Hi.getLastModified()}}function $(X){function ke(je){je.preventDefault();const Qe=je.deltaY>0?-1:1,Pe=je.shiftKey;let ze=Math.round(parseFloat(L)*1e3);function Ae(Ne,Be,Ze){const Me=Ze?l.mouseWheelStep*2:l.mouseWheelStep;return Ne%Me===0?Ne+Be*Me:Be>0?Math.ceil(Ne/Me)*Me:Math.floor(Ne/Me)*Me}ze=Ae(ze,Qe,Pe),n(9,L=(ze/1e3).toFixed(2)),h.setFrequency(ze),Ve.publish("frequencyChange",{detail:ze})}return X.addEventListener("wheel",ke),{destroy(){X.removeEventListener("wheel",ke)}}}function J(X){const ke=X.detail,je=le.getAudioRange(),[Qe,Pe,ze]=je.map(jr);let Ae=[ke-(Pe-Qe),ke,ke+(ze-Pe)].map(Br);const Ne=Ae[1],Be=ke-(Pe-Qe)-200,Ze=ke-750,Me=ke+(ze-Pe)-200,ot=[Be,Ze,Me].map(Br);let[wt,pt]=qe.getWaterfallRange();if(Ne<wt||Ne>=pt){const et=Math.floor((pt-wt)/2);let Ge;je[1]>=wt&&je[1]<pt?Ge=je[1]-wt:Ge=et;const Je=Math.min(qe.waterfallMaxSize-et,Math.max(et,Ne-Ge+et));wt=Math.floor(Je-et),pt=Math.floor(Je+et),qe.setWaterfallRange(wt,pt)}le.setAudioRange(...Ae,...ot),y.updatePassband(),j(),X.markerclick||qe.checkBandAndSetMode&&qe.checkBandAndSetMode(ke),f.updateFrequencyMarkerPositions()}function G(X,ke){let[je,Qe,Pe]=le.getAudioRange();const[ze,Ae]=qe.getWaterfallRange(),Ne=(Qe-ze)/(Ae-ze)*qe.canvasWidth;switch(ke){case"max":Qe=Math.min(qe.waterfallMaxSize-512,Math.max(512,Qe)),je=Math.floor(Qe-512),Pe=Math.ceil(Qe+512);break;case"+":X.coords={x:Ne},X.scale=-1,qe.canvasWheel(X),y.updatePassband(),f.updateFrequencyMarkerPositions();return;case"-":X.coords={x:Ne},X.scale=1,qe.canvasWheel(X),y.updatePassband(),f.updateFrequencyMarkerPositions();return;case"min":je=0,Pe=qe.waterfallMaxSize;break}qe.setWaterfallRange(je,Pe),f.updateFrequencyMarkerPositions(),y.updatePassband()}let K;zn(async()=>{(()=>{const Ae=new Image;Ae.onload=()=>{document.body.classList.add("background-loaded")},Ae.onerror=()=>{const Ne=new Image;Ne.onload=()=>{document.body.classList.add("background-loaded")},Ne.src="/assets/background.png"},Ae.src="/assets/background.jpg"})(),K=ux(),await K,[...document.getElementsByTagName("button"),...document.getElementsByTagName("input")].forEach(Ae=>{Ae.disabled=!1}),w&&w.initialize(),h.setFrequency(le.settings.defaults.frequency),h.updateFrequencyLimits(le.baseFreq,le.baseFreq+le.totalBandwidth),n(10,O=le.settings.defaults.modulation);const X=le.settings.defaults.frequency,ke=le.settings.defaults.modulation,je=parseFloat(T);v={frequency:X,demodulation:ke,bandwidth:je,audioRange:le.getAudioRange(),waterfallRange:qe.getWaterfallRange(),zoom:null},x={frequency:X,demodulation:ke,bandwidth:je,audioRange:le.getAudioRange(),waterfallRange:qe.getWaterfallRange(),zoom:null};const Qe=Ae=>{Ae.frequency||(Ae.frequency=le.settings.defaults.frequency),Ae.modulation||(Ae.modulation=le.settings.defaults.modulation),h.setFrequency(Ae.frequency),h.getFrequency()===Ae.frequency&&J({detail:Ae.frequency}),Ae.modulation&&(n(10,O=Ae.modulation),w.SetMode(O)),f.updateFrequencyMarkerPositions()},Pe=T_(location.search.slice(1));Qe(Pe),m&&m.initializeAudio(),w&&w.SetMode(O),await Rr(),y.updatePassband(),p.updatePassbandLimits(),j(),_&&p&&_.setPassbandTuner(p),_&&p&&_.setPassbandTuner(p),A=setInterval(()=>requestAnimationFrame(W),200),window.spectrumAudio=le,window.spectrumWaterfall=qe,localStorage.getItem("phantomSDRTutorialCompleted")||(await Rr(),n(14,R=!0)),Ve.subscribe("frequencyChange",J),Ve.subscribe("setMode",Ae=>{n(10,O=Ae),w&&Rr().then(()=>{w.handleDemodulationChange(null,!0)})}),Ve.subscribe("demodulationChange",Ae=>{n(10,O=Ae.demodulation),n(9,L=(Ae.frequency/1e3).toFixed(2)),j()}),Ve.subscribe("passbandChange",Ae=>{const{frequencies:Ne,offsets:Be}=Ae;n(11,T=((Ne[2]-Ne[0])/1e3).toFixed(2)),h.setFrequency(Ne[1]),n(9,L=(h.getFrequency()/1e3).toFixed(2));const Ze=Ne.map(Br),Me=Be.map(Br);le.setAudioRange(...Ze,...Me),j(),y.updatePassband(),qe.checkBandAndSetMode&&qe.checkBandAndSetMode(Ne[1])}),Ve.subscribe("frequencyMarkerClick",Ae=>{J({detail:Ae.frequency,markerclick:!0}),n(9,L=(Ae.frequency/1e3).toFixed(2)),h.setFrequency(Ae.frequency),w.SetMode(Ae.modulation)}),Ve.subscribe("passbandUpdate",()=>{y.updatePassband()}),Ve.subscribe("linkUpdate",j),Ve.subscribe("waterfallRangeChanged",()=>{y.updatePassband(),f.updateFrequencyMarkerPositions()}),Ve.subscribe("showBands",()=>{n(2,F=!0)}),Ve.subscribe("hideBands",()=>{n(2,F=!1)}),Ve.subscribe("showBookmarks",()=>{n(1,E=!0)}),Ve.subscribe("hideBookmarks",()=>{n(1,E=!1)}),document.getElementById("middle-column");function ze(){document.documentElement.style.setProperty("--middle-column-width","1372px")}return ze(),window.addEventListener("resize",ze),()=>{window.removeEventListener("resize",ze)}}),Eo(()=>{clearInterval(A),le.stop(),qe.stop()});const te=X=>{const ke=document.activeElement,je=ke&&(ke.tagName==="INPUT"||ke.tagName==="TEXTAREA"||ke.contentEditable==="true"),Qe=ke instanceof HTMLInputElement&&ke.name==="frequency";if(!(je&&!(Qe&&["Enter","Escape"].includes(X.key)))){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," ","+","-","="].includes(X.key)&&X.preventDefault(),(X.key==="v"||X.key==="V")&&D(),X.key==="ArrowUp"||X.key==="ArrowDown"){const Pe=X.key==="ArrowUp"?1:-1,ze=X.shiftKey?100:50,Ae=parseFloat(L)*1e3+Pe*ze;n(9,L=(Ae/1e3).toFixed(2)),h.setFrequency(Ae),J({detail:Ae})}if(X.key==="ArrowLeft"||X.key==="ArrowRight"){const Pe=X.key==="ArrowRight"?1:-1,ze=X.shiftKey?1e4:1e3,Ae=parseFloat(L)*1e3+Pe*ze;n(9,L=(Ae/1e3).toFixed(2)),h.setFrequency(Ae),J({detail:Ae})}if(!X.ctrlKey&&!X.altKey&&!X.metaKey)switch(X.key.toLowerCase()){case"u":n(10,O="USB"),w==null||w.SetMode("USB");break;case"l":n(10,O="LSB"),w==null||w.SetMode("LSB");break;case"a":O==="AM"?(n(10,O="SAM"),w==null||w.SetMode("SAM")):(n(10,O="AM"),w==null||w.SetMode("AM"));break;case"f":n(10,O="FM"),w==null||w.SetMode("FM");break;case"c":n(10,O="CW"),w==null||w.SetMode("CW");break}if((X.key==="+"||X.key==="=")&&G(X,"+"),X.key==="-"&&G(X,"-"),X.key==="0"&&G(X,"max"),X.key==="9"&&G(X,"min"),X.key===" "&&(m==null||m.handleMuteChange()),(X.key==="s"||X.key==="S")&&(m==null||m.handleSquelchChange()),(X.key==="r"||X.key==="R")&&(m==null||m.handleRecordingChange()),(X.key==="b"||X.key==="B")&&n(1,E=!0),(X.key==="g"||X.key==="G")&&n(2,F=!0),(X.key==="n"||X.key==="N")&&(m==null||m.handleNRChange()),(X.key==="t"||X.key==="T")&&(m==null||m.handleANChange()),X.key==="?"){const Pe=document.querySelector('[title="Keyboard Shortcuts"]');Pe instanceof HTMLElement&&Pe.click()}}},fe=()=>n(14,R=!1);function Z(X){R=X,n(14,R)}function he(X){vt[X?"unshift":"push"](()=>{y=X,n(6,y)})}function ve(X){h=X,n(3,h)}function De(X){p=X,n(4,p)}function Ie(X){f=X,n(5,f)}function We(X){vt[X?"unshift":"push"](()=>{m=X,n(0,m)})}const Le=X=>{n(21,r=X.detail.NREnabled),n(20,o=X.detail.NBEnabled),n(19,i=X.detail.ANEnabled),n(18,s=X.detail.CTCSSSupressEnabled),n(17,a=X.detail.mute)};function ge(){L=this.value,n(9,L)}const ue=X=>{if(X.key==="Enter"){const ke=parseFloat(L)*1e3;h.setFrequency(ke),J({detail:ke})}};function Ce(X){vt[X?"unshift":"push"](()=>{w=X,n(7,w)})}const Ue=X=>{n(10,O=X.detail),Rr().then(()=>{w.handleDemodulationChange(null,!0)})},Ke=(X,ke)=>G(ke,X),ye=()=>m==null?void 0:m.handleNRChange(),be=()=>m==null?void 0:m.handleNBChange(),rt=()=>m==null?void 0:m.handleANChange(),pe=()=>m==null?void 0:m.handleCTCSSChange(),Se=()=>n(2,F=!0),Te=()=>n(1,E=!0);function ce(X){E=X,n(1,E)}function ae(X){F=X,n(2,F)}function de(X){vt[X?"unshift":"push"](()=>{_=X,n(8,_)})}return e.$$.update=()=>{e.$$.dirty[0]&4&&(F||Ve.publish("bandsMenuClosed")),e.$$.dirty[0]&2&&(E||Ve.publish("bookmarksDialogClosed")),e.$$.dirty[0]&1&&n(21,r=(m==null?void 0:m.NREnabled)||!1),e.$$.dirty[0]&1&&n(20,o=(m==null?void 0:m.NBEnabled)||!1),e.$$.dirty[0]&1&&n(19,i=(m==null?void 0:m.ANEnabled)||!1),e.$$.dirty[0]&1&&n(18,s=(m==null?void 0:m.CTCSSSupressEnabled)||!1),e.$$.dirty[0]&1&&n(17,a=(m==null?void 0:m.mute)||!1)},[m,E,F,h,p,f,y,w,_,L,O,T,P,S,R,C,M,a,s,i,o,r,c,q,D,$,J,G,te,fe,Z,he,ve,De,Ie,We,Le,ge,ue,Ce,Ue,Ke,ye,be,rt,pe,Se,Te,ce,ae,de]}class N_ extends on{constructor(t){super(),rn(this,t,P_,R_,Xt,{},null,[-1,-1,-1])}}new N_({target:document.getElementById("app")})})();export{wm as $,fu as _,q_ as __tla,xm as __vite_legacy_guard,mu as a,gu as b,vu as c,yu as d,bu as e,wu as f,xu as g,ku as h,Cu as i,_u as j,Su as k,Mu as l,Au as m,Tu as n};
