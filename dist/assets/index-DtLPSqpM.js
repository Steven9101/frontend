var p7=Object.defineProperty;var m7=($e,Vn,Qr)=>Vn in $e?p7($e,Vn,{enumerable:!0,configurable:!0,writable:!0,value:Qr}):$e[Vn]=Qr;var Co=($e,Vn,Qr)=>(m7($e,typeof Vn!="symbol"?Vn+"":Vn,Qr),Qr);let Nm,od,Lm,id,ad,sd,ld,cd,ud,dd,hd,fd,pd,md,gd,yd,vd,g7=(async()=>{Lm=function(){import.meta.url,import("_").then(async e=>(await e.__tla,e)).catch(()=>1),async function*(){}().next()},function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}}();function $e(){}const Vn=e=>e;function Qr(e){return e()}function wd(){return Object.create(null)}function $t(e){e.forEach(Qr)}function Ht(e){return typeof e=="function"}function Jo(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Bm(e){return Object.keys(e).length===0}function Wm(e,...t){if(e==null){for(const r of t)r(void 0);return $e}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function xd(e,t,n){e.$$.on_destroy.push(Wm(t,n))}function $i(e){return e&&Ht(e.destroy)?e.destroy:$e}function _d(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Sd=typeof window<"u";let Cd=Sd?()=>window.performance.now():()=>Date.now(),Sl=Sd?e=>requestAnimationFrame(e):$e;const Ko=new Set;function Md(e){Ko.forEach(t=>{t.c(e)||(Ko.delete(t),t.f())}),Ko.size!==0&&Sl(Md)}function Ad(e){let t;return Ko.size===0&&Sl(Md),{promise:new Promise(n=>{Ko.add(t={c:e,f:n})}),abort(){Ko.delete(t)}}}const Ed=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function w(e,t){e.appendChild(t)}function Td(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Um(e){const t=q("style");return t.textContent="/* empty */",zm(Td(e),t),t.sheet}function zm(e,t){return w(e.head||e,t),t.sheet}function ge(e,t,n){e.insertBefore(t,n||null)}function fe(e){e.parentNode&&e.parentNode.removeChild(e)}function Qo(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function We(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Te(e){return document.createTextNode(e)}function Z(){return Te(" ")}function Cl(){return Te("")}function ee(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $m(e){return function(t){return t.preventDefault(),e.call(this,t)}}function kd(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Ml(e){return function(t){t.target===this&&e.call(this,t)}}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ei(e){return e===""?null:+e}function Hm(e){return Array.from(e.childNodes)}function at(e,t){t=""+t,e.data!==t&&(e.data=t)}function ht(e,t){e.value=t!=null?t:""}function wt(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Fd(e,t,n){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ym(e){const t=e.querySelector(":checked");return t&&t.__value}let Za;function Vm(){if(Za===void 0){Za=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(e){Za=!0}}return Za}function Gm(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const n=q("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Vm();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=ee(window,"message",i=>{i.source===n.contentWindow&&t()})):(n.src="about:blank",n.onload=()=>{o=ee(n.contentWindow,"resize",t),t()}),w(e,n),()=>{(r||o&&n.contentWindow)&&o(),fe(n)}}function Od(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class Al{constructor(t=!1){Co(this,"is_svg",!1);Co(this,"e");Co(this,"n");Co(this,"t");Co(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=We(n.nodeName):this.e=q(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)ge(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(fe)}}const Ja=new Map;let Ka=0;function Xm(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Zm(e,t){const n={stylesheet:Um(t),rules:{}};return Ja.set(e,n),n}function El(e,t,n,r,o,i,a,s=0){const l=16.666/r;let c="{\n";for(let k=0;k<=1;k+=l){const j=t+(n-t)*i(k);c+=k*100+"%{".concat(a(j,1-j),"}\n")}const d=c+"100% {".concat(a(n,1-n),"}\n}"),h="__svelte_".concat(Xm(d),"_").concat(s),f=Td(e),{stylesheet:m,rules:v}=Ja.get(f)||Zm(f,e);v[h]||(v[h]=!0,m.insertRule("@keyframes ".concat(h," ").concat(d),m.cssRules.length));const C=e.style.animation||"";return e.style.animation="".concat(C?"".concat(C,", "):"").concat(h," ").concat(r,"ms linear ").concat(o,"ms 1 both"),Ka+=1,h}function Tl(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Ka-=o,Ka||Jm())}function Jm(){Sl(()=>{Ka||(Ja.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&fe(t)}),Ja.clear())})}let Hi;function Yi(e){Hi=e}function kl(){if(!Hi)throw new Error("Function called outside component initialization");return Hi}function Fl(e){kl().$$.on_mount.push(e)}function Km(e){kl().$$.on_destroy.push(e)}function Ol(){const e=kl();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=Od(t,n,{cancelable:r});return o.slice().forEach(a=>{a.call(e,i)}),!i.defaultPrevented}return!0}}function Id(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const ti=[],Kt=[];let ni=[];const Rd=[],Pd=Promise.resolve();let Il=!1;function Dd(){Il||(Il=!0,Pd.then(Nd))}function Rl(){return Dd(),Pd}function Gn(e){ni.push(e)}const Pl=new Set;let ri=0;function Nd(){if(ri!==0)return;const e=Hi;do{try{for(;ri<ti.length;){const t=ti[ri];ri++,Yi(t),Qm(t.$$)}}catch(t){throw ti.length=0,ri=0,t}for(Yi(null),ti.length=0,ri=0;Kt.length;)Kt.pop()();for(let t=0;t<ni.length;t+=1){const n=ni[t];Pl.has(n)||(Pl.add(n),n())}ni.length=0}while(ti.length);for(;Rd.length;)Rd.pop()();Il=!1,Pl.clear(),Yi(e)}function Qm(e){if(e.fragment!==null){e.update(),$t(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Gn)}}function eg(e){const t=[],n=[];ni.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),ni=t}let Vi;function Ld(){return Vi||(Vi=Promise.resolve(),Vi.then(()=>{Vi=null})),Vi}function Gi(e,t,n){e.dispatchEvent(Od("".concat(t?"intro":"outro").concat(n)))}const Qa=new Set;let qr;function qd(){qr={r:0,c:[],p:qr}}function jd(){qr.r||$t(qr.c),qr=qr.p}function Xn(e,t){e&&e.i&&(Qa.delete(e),e.i(t))}function oi(e,t,n,r){if(e&&e.o){if(Qa.has(e))return;Qa.add(e),qr.c.push(()=>{Qa.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Bd={duration:0};function tg(e,t,n){const r={direction:"in"};let o=t(e,n,r),i=!1,a,s,l=0;function c(){a&&Tl(e,a)}function d(){const{delay:f=0,duration:m=300,easing:v=Vn,tick:C=$e,css:k}=o||Bd;k&&(a=El(e,0,1,m,f,v,k,l++)),C(0,1);const j=Cd()+f,P=j+m;s&&s.abort(),i=!0,Gn(()=>Gi(e,!0,"start")),s=Ad(T=>{if(i){if(T>=P)return C(1,0),Gi(e,!0,"end"),c(),i=!1;if(T>=j){const L=v((T-j)/m);C(L,1-L)}}return i})}let h=!1;return{start(){h||(h=!0,Tl(e),Ht(o)?(o=o(r),Ld().then(d)):d())},invalidate(){h=!1},end(){i&&(c(),i=!1)}}}function ii(e,t,n,r){let o=t(e,n,{direction:"both"}),i=r?0:1,a=null,s=null,l=null,c;function d(){l&&Tl(e,l)}function h(m,v){const C=m.b-i;return v*=Math.abs(C),{a:i,b:m.b,d:C,duration:v,start:m.start,end:m.start+v,group:m.group}}function f(m){const{delay:v=0,duration:C=300,easing:k=Vn,tick:j=$e,css:P}=o||Bd,T={start:Cd()+v,b:m};m||(T.group=qr,qr.r+=1),"inert"in e&&(m?c!==void 0&&(e.inert=c):(c=e.inert,e.inert=!0)),a||s?s=T:(P&&(d(),l=El(e,i,m,C,v,k,P)),m&&j(0,1),a=h(T,C),Gn(()=>Gi(e,m,"start")),Ad(L=>{if(s&&L>s.start&&(a=h(s,C),s=null,Gi(e,a.b,"start"),P&&(d(),l=El(e,i,a.b,a.duration,0,k,o.css))),a){if(L>=a.end)j(i=a.b,1-i),Gi(e,a.b,"end"),s||(a.b?d():--a.group.r||$t(a.group.c)),a=null;else if(L>=a.start){const N=L-a.start;i=a.a+a.d*k(N/a.duration),j(i,1-i)}}return!!(a||s)}))}return{run(m){Ht(o)?Ld().then(()=>{o=o({direction:m?"in":"out"}),f(m)}):f(m)},end(){d(),a=s=null}}}function Et(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Dl(e,t){e.d(1),t.delete(e.key)}function Nl(e,t,n,r,o,i,a,s,l,c,d,h){let f=e.length,m=i.length,v=f;const C={};for(;v--;)C[e[v].key]=v;const k=[],j=new Map,P=new Map,T=[];for(v=m;v--;){const A=h(o,i,v),S=n(A);let M=a.get(S);M?r&&T.push(()=>M.p(A,t)):(M=c(S,A),M.c()),j.set(S,k[v]=M),S in C&&P.set(S,Math.abs(v-C[S]))}const L=new Set,N=new Set;function R(A){Xn(A,1),A.m(s,d),a.set(A.key,A),d=A.first,m--}for(;f&&m;){const A=k[m-1],S=e[f-1],M=A.key,x=S.key;A===S?(d=A.first,f--,m--):j.has(x)?!a.has(M)||L.has(M)?R(A):N.has(x)?f--:P.get(M)>P.get(x)?(N.add(M),R(A)):(L.add(x),f--):(l(S,a),f--)}for(;f--;){const A=e[f];j.has(A.key)||l(A,a)}for(;m;)R(k[m-1]);return $t(T),k}function Ll(e){e&&e.c()}function es(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),Gn(()=>{const i=e.$$.on_mount.map(Qr).filter(Ht);e.$$.on_destroy?e.$$.on_destroy.push(...i):$t(i),e.$$.on_mount=[]}),o.forEach(Gn)}function ts(e,t){const n=e.$$;n.fragment!==null&&(eg(n.after_update),$t(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ng(e,t){e.$$.dirty[0]===-1&&(ti.push(e),Dd(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ns(e,t,n,r,o,i,a=null,s=[-1]){const l=Hi;Yi(e);const c=e.$$={fragment:null,ctx:[],props:i,update:$e,not_equal:o,bound:wd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:wd(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(h,f,...m)=>{const v=m.length?m[0]:f;return c.ctx&&o(c.ctx[h],c.ctx[h]=v)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](v),d&&ng(e,h)),f}):[],c.update(),d=!0,$t(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const h=Hm(t.target);c.fragment&&c.fragment.l(h),h.forEach(fe)}else c.fragment&&c.fragment.c();t.intro&&Xn(e.$$.fragment),es(e,t.target,t.anchor),Nd()}Yi(l)}class rs{constructor(){Co(this,"$$");Co(this,"$$set")}$destroy(){ts(this,1),this.$destroy=$e}$on(t,n){if(!Ht(n))return $e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Bm(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const rg="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rg);function Wd(e){const t=e-1;return t*t*t+1}function og(e){return--e*e*e*e*e+1}function Ud(e,{delay:t=0,duration:n=400,easing:r=Vn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>"opacity: ".concat(i*o)}}function ql(e,{delay:t=0,duration:n=400,easing:r=Wd,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(e),l=+s.opacity,c=s.transform==="none"?"":s.transform,d=l*(1-a),[h,f]=_d(o),[m,v]=_d(i);return{delay:t,duration:n,easing:r,css:(C,k)=>"\n			transform: ".concat(c," translate(").concat((1-C)*h).concat(f,", ").concat((1-C)*m).concat(v,");\n			opacity: ").concat(l-d*k)}}function zd(e,{delay:t=0,duration:n=400,easing:r=Wd,start:o=0,opacity:i=0}={}){const a=getComputedStyle(e),s=+a.opacity,l=a.transform==="none"?"":a.transform,c=1-o,d=s*(1-i);return{delay:t,duration:n,easing:r,css:(h,f)=>"\n			transform: ".concat(l," scale(").concat(1-c*f,");\n			opacity: ").concat(s-d*f,"\n		")}}var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ig(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var ag=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},sg=ag,$d={"text/plain":"Text","text/html":"Url",default:"Text"},lg="Copy to clipboard: #{key}, Enter";function cg(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function ug(e,t){var n,r,o,i,a,s,l=!1;t||(t={}),n=t.debug||!1;try{o=sg(),i=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=$d[t.format]||$d.default;window.clipboardData.setData(h,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=cg("message"in t?t.message:lg),window.prompt(r,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return l}var dg=ug;const Hd=Mo(dg);var Yd={};(function(e){function t(A){var S=[],M=[],x=0,g=A;function b(_){for(S.length!==0&&S[0]<=x-g&&(S.shift(),M.shift());M.length!==0&&M[M.length-1]>_;)S.pop(),M.pop();return S.push(x),M.push(_),x++,M[0]}return b.setWindowSize=function(_){g=_},b.reset=function(){S.splice(0,S.length),M.splice(0,M.length),x=0},b}function n(A){var S=[],M=[],x=0,g=A;function b(_){for(S.length!==0&&S[0]<=x-g&&(S.shift(),M.shift());M.length!==0&&M[M.length-1]<_;)S.pop(),M.pop();return S.push(x),M.push(_),x++,M[0]}return b.setWindowSize=function(_){g=_},b.reset=function(){S.splice(0,S.length),M.splice(0,M.length),x=0},b}function r(A){var S=[],M=A,x=0,g;function b(_){if(S.length>=M&&(x-=S.shift()),_||_===0)S.push(_),x+=_;else return g;return g=S.length==0?0:x/S.length}return b.setWindowSize=function(_){M=_},b.reset=function(){x=0,S.splice(0,S.length)},b}function o(A){var S=[],M=[],x=A;function g(b,_){for(;S.length!==0&&S[0]<=_-x;)S.shift(),M.shift();for(;M.length!==0&&M[M.length-1]>b;)S.pop(),M.pop();return S.push(_),M.push(b),M[0]}return g.setWindowSize=function(b){x=b},g.reset=function(){S.splice(0,S.length),M.splice(0,M.length)},g}function i(A){var S=[],M=[],x=A;function g(b,_){for(;S.length!==0&&S[0]<=_-x;)S.shift(),M.shift();for(;M.length!==0&&M[M.length-1]<b;)S.pop(),M.pop();return S.push(_),M.push(b),M[0]}return g.setWindowSize=function(b){x=b},g.reset=function(){S.splice(0,S.length),M.splice(0,M.length)},g}function a(A){var S=[],M=[],x=A,g=0;function b(_,E){for(;S.length!==0&&S[0]<=E-x;)S.shift(),g-=M.shift();if(_||_===0)S.push(E),M.push(_),g+=_;else return prev;return prev=M.length==0?0:g/M.length}return b.setWindowSize=function(_){x=_},b.reset=function(){S.splice(0,S.length),M.splice(0,M.length),g=0},b}function s(A,S){for(var M=0,x=A.length;M<x;){var g=M+x>>>1;A[g]<S?M=g+1:x=g}return M}function l(A){var S=[],M=A,x=[],g=s,b,_=null,E=0,F=0,I=0,Y=0,G=null;function W(U){if(S.length>=M){var H=S.shift(),Q=H,ve=Q*Q,J=ve*Q,ie=J*Q;E-=Q,F-=ve,I-=J,Y-=ie;var xe=g(x,H);x[xe]==H&&x.splice(xe,1)}if(U||U===0){S.push(U),x.splice(g(x,U),0,U),_=null,G=null;var Q=U,ve=Q*Q,J=ve*Q,ie=J*Q;E+=Q,F+=ve,I+=J,Y+=ie}else return b;if(x.length==0)return b;if(x.length&1)return b=x[x.length-1>>>1];var me=(x.length>>>1)-1;return b=(x[me]+x[me+1])/2}return W.setWindowSize=function(U){M=U},W.reset=function(){S.splice(0,S.length),x.splice(0,x.length),_=null,E=0,F=0,I=0,Y=0,G=null},W.avg=function(){return E/S.length},W.sum=function(){return E},W.min=function(){return x[0]},W.q1=function(){if(x.length==1)return x[0];if(x.length==2)return x[0]*.75+x[1]*.25;if(x.length==3)return x[0]*.5+x[1]*.5;if((x.length-1)%4==0){var U=x.length-1>>2;return x[U-1]*.25+x[U]*.75}if((x.length-3)%4==0){var U=x.length-3>>2;return x[U]*.75+x[U+1]*.25}},W.moments_avg=function(){return G===null&&(G=W.moments()),G.average},W.variance=function(){return G===null&&(G=W.moments()),G.variance},W.standardDeviation=function(){return G===null&&(G=W.moments()),G.standardDeviation},W.skew=function(){return G===null&&(G=W.moments()),G.skew},W.kurtosis=function(){return G===null&&(G=W.moments()),G.kurtosis},W.exkurtosis=function(){return G===null&&(G=W.moments()),G.exkurtosis},W.moments=function(){var U={};if(this.c>0){var H=S.length,Q=E/H,ve=F/H,J=I/H,ie=Y/H,xe=Q,me=F/H-Q;m3=J-3*ve*Q+2*Q*Q*Q,m4=ie-3*J*Q+6*ve*Q*Q- -3*Q*Q*Q*Q,U.average=xe,U.variance=me,U.standardDeviation=Math.pow(U.variance,.5),H>2&&(U.skew=Math.pow(H*(H-1),.5)/(H-2)*m3/Math.pow(me,1.5)),me>0&&(U.exkurtosis=m4/me/me-3,U.kurtosis=m4/me/me)}return U},W.median=function(){return b},W.q3=function(){if(x.length==1)return x[0];if(x.length==2)return x[0]*.25+x[1]*.75;if(x.length==3)return x[1]*.5+x[2]*.5;if((x.length-1)%4==0){var U=(x.length-1>>2)*3;return x[U]*.75+x[U+1]*.25}if((x.length-3)%4==0){var U=(x.length-3>>2)*3;return x[U+1]*.25+x[U+2]*.75}},W.max=function(){return x[x.length-1]},W.center=function(){return(x[0]+x[x.length-1])/2},W.medianskew=function(){return x[x.length-1]-b-(b-x[0])},W.medianskew_bowleys_coef=function(){return(x[x.length-1]-b)*(b-x[0])/(x[x.length-1]-x[0])},W.mediankurt=function(){var U=Math.round((x.length-1)*.9),H=Math.round((x.length-1)*.1);return(x[x.length-1]-b)*(b-x[0])/(x[U]-x[H])},W.pabovecenter=function(){return _===null&&(_=g(x,(x[0]+x[x.length-1])/2)),(x.length-1-_)/(x.length-1)},W.pbelowcenter=function(){return _===null&&(_=g(x,(x[0]+x[x.length-1])/2)),_/(x.length-1)},W}function c(A){var S=[],M=[],x=A,g=[],b=s,_,E=null,F=0,I=0,Y=0,G=0,W=null;function U(H,Q){for(;M.length!==0&&M[0]<=Q-x;){M.shift();var ve=S.shift(),J=ve,ie=J*J,xe=ie*J,me=xe*J;F-=J,I-=ie,Y-=xe,G-=me;var ae=b(g,ve);g[ae]==ve&&g.splice(ae,1)}if(H||H===0){M.push(Q),S.push(H),g.splice(b(g,H),0,H),E=null,W=null;var J=H,ie=J*J,xe=ie*J,me=xe*J;F+=J,I+=ie,Y+=xe,G+=me}else return _;if(g.length==0)return _;if(g.length&1)return _=g[g.length-1>>>1];var Ee=(g.length>>>1)-1;return _=(g[Ee]+g[Ee+1])/2}return U.setWindowSize=function(H){x=H},U.reset=function(){S.splice(0,S.length),M.splice(0,M.length),g.splice(0,g.length),E=null,F=0,I=0,Y=0,G=0,W=null},U.avg=function(){return F/S.length},U.sum=function(){return F},U.min=function(){return g[0]},U.q1=function(){if(g.length==1)return g[0];if(g.length==2)return g[0]*.75+g[1]*.25;if(g.length==3)return g[0]*.5+g[1]*.5;if((g.length-1)%4==0){var H=g.length-1>>2;return g[H-1]*.25+g[H]*.75}if((g.length-3)%4==0){var H=g.length-3>>2;return g[H]*.75+g[H+1]*.25}},U.moments_avg=function(){return W===null&&(W=U.moments()),W.average},U.variance=function(){return W===null&&(W=U.moments()),W.variance},U.standardDeviation=function(){return W===null&&(W=U.moments()),W.standardDeviation},U.skew=function(){return W===null&&(W=U.moments()),W.skew},U.kurtosis=function(){return W===null&&(W=U.moments()),W.kurtosis},U.exkurtosis=function(){return W===null&&(W=U.moments()),W.exkurtosis},U.moments=function(){var H={};if(this.c>0){var Q=S.length,ve=F/Q,J=I/Q,ie=Y/Q,xe=G/Q,me=ve,ae=I/Q-ve;m3=ie-3*J*ve+2*ve*ve*ve,m4=xe-3*ie*ve+6*J*ve*ve- -3*ve*ve*ve*ve,H.average=me,H.variance=ae,H.standardDeviation=Math.pow(H.variance,.5),Q>2&&(H.skew=Math.pow(Q*(Q-1),.5)/(Q-2)*m3/Math.pow(ae,1.5)),ae>0&&(H.exkurtosis=m4/ae/ae-3,H.kurtosis=m4/ae/ae)}return H},U.median=function(){return _},U.q3=function(){if(g.length==1)return g[0];if(g.length==2)return g[0]*.25+g[1]*.75;if(g.length==3)return g[1]*.5+g[2]*.5;if((g.length-1)%4==0){var H=(g.length-1>>2)*3;return g[H]*.75+g[H+1]*.25}if((g.length-3)%4==0){var H=(g.length-3>>2)*3;return g[H+1]*.25+g[H+2]*.75}},U.max=function(){return g[g.length-1]},U.center=function(){return(g[0]+g[g.length-1])/2},U.medianskew=function(){return g[g.length-1]-_-(_-g[0])},U.medianskew_bowleys_coef=function(){return(g[g.length-1]-_)*(_-g[0])/(g[g.length-1]-g[0])},U.mediankurt=function(){var H=Math.round((g.length-1)*.9),Q=Math.round((g.length-1)*.1);return(g[g.length-1]-_)*(_-g[0])/(g[H]-g[Q])},U.pabovecenter=function(){return E===null&&(E=b(g,(g[0]+g[g.length-1])/2)),(g.length-1-E)/(g.length-1)},U.pbelowcenter=function(){return E===null&&(E=b(g,(g[0]+g[g.length-1])/2)),E/(g.length-1)},U}function d(A,S){var M=[],x=[],g=A,b=0,_=!1,E=S;function F(I,Y){for(;M.length!==0&&M[0]<=Y-g&&M[0]!=Y;)_=M.shift(),b-=x.shift();_===!1&&(_=Y-E),M.push(Y),x.push(I),b+=I;var G=Y-_;return G==0&&(G=E),b/G}return F.setWindowSize=function(I){g=I},F.setUsualIndexSkipBetweenOccations=function(I){E=I},F.reset=function(){M.splice(0,M.length),x.splice(0,x.length),b=0,_=!1},F}function h(A,S){var M=[],x=A,g=S;function b(_){var E=g;return M.length==x&&(E=M.shift()),M.push(_),E}return b.setWindowSize=function(_){x=_},b.setUndefinedValue=function(_){g=S},b.reset=function(_){M.splice(0,M.length)},b}function f(A,S){var M=1,x=A+1,g=S;function b(_){return M==x?_:(M++,g)}return b.setWindowSize=function(_){x=_+1},b.setUndefinedValue=function(_){g=S},b.reset=function(){M=0},b}function m(A,S,M){var x=[],g=[],b=A,_=M;function E(F,I){if(x.push(I),g.push(F),x.length!==0&&x[0]<=I-b)for(x.shift(),_=g.shift();x.length!==0&&x[0]<=I-b;)x.shift(),g.shift();return _}return E.setWindowSize=function(F){b=F},E.setUsualIndexSkipBetweenOccations=function(F){},E.reset=function(){x.splice(0,x.length),g.splice(0,g.length),_=M},E}function v(A){var S=-1;function M(x){return x>0&&(S=0),S>=0&&S++,S>A&&(S=-1),S>0}return M.setWindowSize=function(x){},M.reset=function(){S=-1},M}function C(A){var S=A,M=!1,x=-1;function g(b,_){return b>0&&(M=_,x=0),x>=0&&x++,M!=!1&&M<=_-S&&(x=-1),x>0}return g.setWindowSize=function(b){S=b},g.reset=function(){M=!1,x=-1},g}function k(A){var S=A,M=new Map;function x(g,b=1){var _=parseFloat((Math.round(g*S)/S).toFixed(12));return M.has(_)?M.set(_,parseFloat((M.get(_)+b).toFixed(12))):M.set(_,b),M}return x.hist=M,x.reset=function(){M.clear()},x}function j(A,S){var M=[],x=[],g=A,b=S,_=new Map;function E(F,I=1){if(M.length>=g){var Y=M.shift(),G=x.shift(),W=parseFloat((_.get(Y)-G).toFixed(12));W!==0?_.set(Y,W):_.delete(Y)}var U=parseFloat((Math.round(F*b)/b).toFixed(12));return M.push(U),x.push(I),_.has(U)?_.set(U,parseFloat((_.get(U)+I).toFixed(12))):_.set(U,I),_}return E.hist=_,E.setWindowSize=function(F){g=F},E.reset=function(){Sum=0,M.splice(0,M.length)},E}function P(A,S){var M=[],x=[],g=[],b=A,_=S,E=new Map;function F(I,Y,G=1){if(!G&&G!==0||!I&&I!==0)return E;for(;M.length!==0&&M[0]<=Y-b;){M.shift();var W=x.shift(),U=g.shift();if(!W&&W!==0&&console.log("nana1",{prevamount:U,prevpos:W}),!U&&U!==0&&console.log("nana2",{prevamount:U,prevpos:W}),E.has(W)){var H=parseFloat((E.get(W)-U).toFixed(12));!H&&H!==0&&console.log("nana3",{newamount:H,prevamount:U,prevpos:W}),H!==0?E.set(W,H):E.delete(W)}}var Q=parseFloat((Math.round(I*_)/_).toFixed(12));if(x.push(Q),g.push(G),M.push(Y),E.has(Q)){let ve=parseFloat((E.get(Q)+G).toFixed(12));E.set(Q,ve)}else E.set(Q,G);return E}return F.hist=E,F.setWindowSize=function(I){b=I},F.reset=function(){M.splice(0,M.length),x.splice(0,x.length),Sum=0},F}var T=e;function L(A,S,M,x,g){var b=[],_=function(Re){return b.push(Re),Re},E=_(T.RollingAvg(A)),F=_(T.RollingAvg(A)),I=_(T.RollingAvg(A)),Y=_(T.RollingMedian(A)),G=_(T.RollingAvg(A)),W=_(T.RollingAvg(A)),U=_(T.RollingAvgIndex(M)),H=_(T.RollingAvgIndex(M)),Q=_(T.RollingMedianIndex(M)),ve=_(T.RollingAvgIndex(M)),J=_(T.RollingAvgIndex(M)),ie=_(T.RollingSumPerIndex(M,x)),xe=_(T.Delay(S)),me=_(T.DelayIndex(g,x)),ae=_(T.Delay(S)),Ee=_(T.DelayIndex(g,x)),Se=!1,De=0,Ne=0;function Pn(Re,de){var ne={};ne.median=Y(Re),ne.min=Y.min(),ne.max=Y.max(),ne.q1=Y.q1(),ne.q3=Y.q3(),ne.avg=Y.avg(),ne.stdev=Math.sqrt(F(Math.pow(Re-ne.avg,2))),ne.z=ne.stdev==0?0:(Re-ne.avg)/ne.stdev,ne.zavg=I(ne.z),ne.mstdev=Math.sqrt(G(Math.pow(Re-ne.median,2))),ne.mz=ne.mstdev==0?0:.6745*(Re-ne.median)/ne.mstdev,ne.mzavg=W(ne.mz),ne.tmedian=Q(Re,de),ne.tmin=Q.min(),ne.tmax=Q.max(),ne.tavg=Q.avg(),ne.tcenter=Q.center(),ne.tq1=Q.q1(),ne.tq3=Q.q3(),ne.tsum=ie(Re,de),ne.tstdev=Math.sqrt(H(Math.pow(Re-ne.tavg,2),de)),ne.tz=ne.tstdev==0?0:(Re-ne.tavg)/ne.tstdev,ne.tzavg=U(ne.tz,de),ne.tmstdev=Math.sqrt(J(Math.pow(Re-ne.tmedian,2),de)),ne.tmz=ne.tmstdev==0?0:.6745*(Re-ne.tmedian)/ne.tmstdev,ne.tmzavg=ve(ne.tmz,de),Se===!1&&(Se=de-x);var Tt=de-Se;return Se=de,ne.avgtime=E(Tt),ne.count=De,De++,ne.tcount=Ne,Ne+=Tt,ne.value_delay=xe(Re),ne.tvalue_delay=me(Re,de),ne.index_delay=ae(de),ne.tindex_delay=Ee(de,de),ne}return Pn.reset=function(){for(var Re=0;Re<b.length;Re++)b[Re].reset();Se=!1,De=0},Pn}function N(A,S){var M=T.RollingMin(A),x=T.RollingMax(A),g=T.RollingAvg(A),b=T.Delay(S);function _(E){var F={};return F.min=M(E),F.max=x(E),F.avg=g(E),F.value_delay=b(E),F}return _.reset=function(){M.reset(),x.reset(),g.reset(),b.reset()},_}function R(A){var S=T.RollingMin(A),M=T.RollingMax(A),x=T.RollingAvg(A);function g(b){var _={};return _.min=S(b),_.max=M(b),_.avg=x(b),_}return g.reset=function(){S.reset(),M.reset(),x.reset()},g}e.RollingMin=t,e.RollingMax=n,e.RollingAvg=r,e.RollingMedian=l,e.RollingMinIndex=o,e.RollingMaxIndex=i,e.RollingAvgIndex=a,e.RollingMedianIndex=c,e.RollingSumPerIndex=d,e.Delay=h,e.DelayIndex=m,e.AllStats=L,e.SimpleStats=N,e.SimpleStatsNoDelay=R,e.PositiveLately=v,e.PositiveLatelyIndex=C,e.Histogram=k,e.RollingHistogram=j,e.RollingHistogramIndex=P,e.HideFirst=f})(Yd);const ai=[];function Vd(e,t=$e){let n;const r=new Set;function o(s){if(Jo(e,s)&&(e=s,n)){const l=!ai.length;for(const c of r)c[1](),ai.push(c,e);if(l){for(let c=0;c<ai.length;c+=2)ai[c][0](ai[c+1]);ai.length=0}}}function i(s){o(s(e))}function a(s,l=$e){const c=[s,l];return r.add(c),r.size===1&&(n=t(o,i)||$e),s(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}const hg="modulepreload",fg=function(e){return"/"+e},Gd={},os=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.all(t.map(s=>{if(s=fg(s),s in Gd)return;Gd[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(n)for(let h=o.length-1;h>=0;h--){const f=o[h];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(s,'"]').concat(c)))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":hg,l||(d.as="script",d.crossOrigin=""),d.href=s,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error("Unable to preload CSS for ".concat(s))))})}))}return r.then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};let Pe;function Xd(e){Pe=e}const jr=new Array(128).fill(void 0);jr.push(void 0,null,!0,!1);function Zn(e){return jr[e]}let Zi=jr.length;function pg(e){e<132||(jr[e]=Zi,Zi=e)}function is(e){const t=Zn(e);return pg(e),t}function En(e){Zi===jr.length&&jr.push(jr.length+1);const t=Zi;return Zi=jr[t],jr[t]=e,t}const mg=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Zd=new mg("utf-8",{ignoreBOM:!0,fatal:!0});Zd.decode();let as=null;function Ji(){return(as===null||as.byteLength===0)&&(as=new Uint8Array(Pe.memory.buffer)),as}function jl(e,t){return e=e>>>0,Zd.decode(Ji().subarray(e,e+t))}let si=0;function Jd(e,t){const n=t(e.length*1,1)>>>0;return Ji().set(e,n/1),si=e.length,n}function gg(e){return e==null}let ss=null;function ls(){return(ss===null||ss.byteLength===0)&&(ss=new Int32Array(Pe.memory.buffer)),ss}let cs=null;function yg(){return(cs===null||cs.byteLength===0)&&(cs=new Uint32Array(Pe.memory.buffer)),cs}function vg(e,t){e=e>>>0;const n=yg().subarray(e/4,e/4+t),r=[];for(let o=0;o<n.length;o++)r.push(is(n[o]));return r}function bg(){Pe.greet()}function wg(){Pe.main()}function Kd(e,t,n){const r=Pe.firdes_kaiser_lowpass(e,t,n);return is(r)}const xg=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let us=new xg("utf-8");const _g=typeof us.encodeInto=="function"?function(e,t){return us.encodeInto(e,t)}:function(e,t){const n=us.encode(e);return t.set(n),{read:e.length,written:n.length}};function Sg(e,t,n){if(n===void 0){const s=us.encode(e),l=t(s.length,1)>>>0;return Ji().subarray(l,l+s.length).set(s),si=s.length,l}let r=e.length,o=t(r,1)>>>0;const i=Ji();let a=0;for(;a<r;a++){const s=e.charCodeAt(a);if(s>127)break;i[o+a]=s}if(a!==r){a!==0&&(e=e.slice(a)),o=n(o,r,r=a+e.length*3,1)>>>0;const s=Ji().subarray(o+a,o+r),l=_g(e,s);a+=l.written,o=n(o,r,a,1)>>>0}return si=a,o}function Cg(e,t){try{return e.apply(this,t)}catch(n){Pe.__wbindgen_exn_store(En(n))}}const Bl=Object.freeze({Flac:0,0:"Flac",Opus:1,1:"Opus"}),Mg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>Pe.__wbg_audio_free(e>>>0));class Wl{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Mg.unregister(this),t}free(){const t=this.__destroy_into_raw();Pe.__wbg_audio_free(t)}constructor(t,n,r,o){const i=Pe.audio_new(t,n,r,o);return this.__wbg_ptr=i>>>0,this}decode(t){const n=Jd(t,Pe.__wbindgen_malloc),r=si,o=Pe.audio_decode(this.__wbg_ptr,n,r);return is(o)}set_nr(t){Pe.audio_set_nr(this.__wbg_ptr,t)}set_nb(t){Pe.audio_set_nb(this.__wbg_ptr,t)}set_an(t){Pe.audio_set_an(this.__wbg_ptr,t)}set_decoded_callback(t){Pe.audio_set_decoded_callback(this.__wbg_ptr,gg(t)?0:En(t))}}const Qd=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>Pe.__wbg_foxenflacdecoder_free(e>>>0));class ds{static __wrap(t){t=t>>>0;const n=Object.create(ds.prototype);return n.__wbg_ptr=t,Qd.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Qd.unregister(this),t}free(){const t=this.__destroy_into_raw();Pe.__wbg_foxenflacdecoder_free(t)}static new(){const t=Pe.foxenflacdecoder_new();return ds.__wrap(t)}}const Ag=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>Pe.__wbg_zstdstreamdecoder_free(e>>>0));class eh{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ag.unregister(this),t}free(){const t=this.__destroy_into_raw();Pe.__wbg_zstdstreamdecoder_free(t)}constructor(){const t=Pe.zstdstreamdecoder_new();return this.__wbg_ptr=t>>>0,this}clear(){Pe.zstdstreamdecoder_clear(this.__wbg_ptr)}decode(t){try{const i=Pe.__wbindgen_add_to_stack_pointer(-16),a=Jd(t,Pe.__wbindgen_malloc),s=si;Pe.zstdstreamdecoder_decode(i,this.__wbg_ptr,a,s);var n=ls()[i/4+0],r=ls()[i/4+1],o=vg(n,r).slice();return Pe.__wbindgen_free(n,r*4,4),o}finally{Pe.__wbindgen_add_to_stack_pointer(16)}}}od=function(e){is(e)},id=function(e){const t=Zn(e);return En(t)},ad=function(e,t){alert(jl(e,t))},sd=function(){const e=new Error;return En(e)},ld=function(e,t){const n=Zn(t).stack,r=Sg(n,Pe.__wbindgen_malloc,Pe.__wbindgen_realloc),o=si;ls()[e/4+1]=o,ls()[e/4+0]=r},cd=function(e,t){let n,r;try{n=e,r=t,console.error(jl(e,t))}finally{Pe.__wbindgen_free(n,r,1)}},ud=function(){return Cg(function(e,t,n){const r=Zn(e).call(Zn(t),Zn(n));return En(r)},arguments)},dd=function(e){const t=Zn(e).buffer;return En(t)},hd=function(e,t,n){const r=new Uint8Array(Zn(e),t>>>0,n>>>0);return En(r)},fd=function(e){const t=new Uint8Array(Zn(e));return En(t)},pd=function(e,t,n){const r=new Float32Array(Zn(e),t>>>0,n>>>0);return En(r)},md=function(e){const t=new Float32Array(Zn(e));return En(t)},gd=function(e){const t=new Float32Array(e>>>0);return En(t)},yd=function(e,t){throw new Error(jl(e,t))},vd=function(){const e=Pe.memory;return En(e)},Nm=Object.freeze(Object.defineProperty({__proto__:null,Audio:Wl,AudioCodec:Bl,FoxenFlacDecoder:ds,ZstdStreamDecoder:eh,__wbg_alert_379870a8a3d45260:ad,__wbg_buffer_12d079cc21e14bdb:dd,__wbg_call_b3ca7c6051f9bec1:ud,__wbg_error_f851667af71bcfc6:cd,__wbg_new_63b92bc8671ed464:fd,__wbg_new_9efabd6b6d2ce46d:md,__wbg_new_abda76e883ba8a5f:sd,__wbg_newwithbyteoffsetandlength_4a659d079a1650e0:pd,__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb:hd,__wbg_newwithlength_1e8b839a06de01c5:gd,__wbg_set_wasm:Xd,__wbg_stack_658279fe44541cf6:ld,__wbindgen_memory:vd,__wbindgen_object_clone_ref:id,__wbindgen_object_drop_ref:od,__wbindgen_throw:yd,firdes_kaiser_lowpass:Kd,greet:bg,main:wg},Symbol.toStringTag,{value:"Module"}));let Ul;try{Ul=new TextDecoder}catch(e){}let ue,Ao,X=0;const Eg=105,Tg=57342,kg=57343,th=57337,nh=6,li={};let ke={},nt,hs,fs=0,Ki=0,ft,Tn,st=[],zl=[],Qt,Yt,Qi,rh={useRecords:!1,mapsAsObjects:!0},ea=!1,oh=2;try{new Function("")}catch(e){oh=1/0}let ih=class bd{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,o]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,o);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,o]of Object.entries(this._keyMap))this._mapKey.set(o,r)}let n={};return t.forEach((r,o)=>n[kn(this._mapKey.has(o)?this._mapKey.get(o):o)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(o=>this.decodeKeys(o))}return r}decode(t,n){if(ue)return dh(()=>(Gl(),this?this.decode(t,n):bd.prototype.decode.call(rh,t,n)));Ao=n>-1?n:t.length,X=0,Ki=0,hs=null,ft=null,ue=t;try{Yt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ue=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof bd){if(ke=this,Qt=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return nt=this.structures,ps();(!nt||nt.length>0)&&(nt=[])}else ke=rh,(!nt||nt.length>0)&&(nt=[]),Qt=null;return ps()}decodeMultiple(t,n){let r,o=0;try{let i=t.length;ea=!0;let a=this?this.decode(t,i):Zl.decode(t,i);if(n){if(n(a)===!1)return;for(;X<i;)if(o=X,n(ps())===!1)return}else{for(r=[a];X<i;)o=X,r.push(ps());return r}}catch(i){throw i.lastPosition=o,i.values=r,i}finally{ea=!1,Gl()}}};function ps(){try{let e=Oe();if(ft){if(X>=ft.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}X=ft.postBundlePosition,ft=null}if(X==Ao)nt=null,ue=null,Tn&&(Tn=null);else if(X>Ao){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!ea)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Gl(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function Oe(){let e=ue[X++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=ue[X++];break;case 25:if(t==7)return Rg();e=Yt.getUint16(X),X+=2;break;case 26:if(t==7){let n=Yt.getFloat32(X);if(ke.useFloat32>2){let r=Xl[(ue[X]&127)<<1|ue[X+1]>>7];return X+=4,(r*n+(n>0?.5:-.5)>>0)/r}return X+=4,n}e=Yt.getUint32(X),X+=4;break;case 27:if(t==7){let n=Yt.getFloat64(X);return X+=8,n}if(t>1){if(Yt.getUint32(X)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=Yt.getUint32(X+4)}else ke.int64AsNumber?(e=Yt.getUint32(X)*4294967296,e+=Yt.getUint32(X+4)):e=Yt.getBigUint64(X);X+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,o=0;for(;(r=Oe())!=li;)n[o++]=r;return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let i;if(ke.mapsAsObjects){let a={};if(ke.keyMap)for(;(i=Oe())!=li;)a[kn(ke.decodeKey(i))]=Oe();else for(;(i=Oe())!=li;)a[kn(i)]=Oe();return a}else{Qi&&(ke.mapsAsObjects=!0,Qi=!1);let a=new Map;if(ke.keyMap)for(;(i=Oe())!=li;)a.set(ke.decodeKey(i),Oe());else for(;(i=Oe())!=li;)a.set(i,Oe());return a}case 7:return li;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return Ig(e);case 3:if(Ki>=X)return hs.slice(X-fs,(X+=e)-fs);if(Ki==0&&Ao<140&&e<32){let o=e<16?sh(e):Og(e);if(o!=null)return o}return Fg(e);case 4:let n=new Array(e);for(let o=0;o<e;o++)n[o]=Oe();return n;case 5:if(ke.mapsAsObjects){let o={};if(ke.keyMap)for(let i=0;i<e;i++)o[kn(ke.decodeKey(Oe()))]=Oe();else for(let i=0;i<e;i++)o[kn(Oe())]=Oe();return o}else{Qi&&(ke.mapsAsObjects=!0,Qi=!1);let o=new Map;if(ke.keyMap)for(let i=0;i<e;i++)o.set(ke.decodeKey(Oe()),Oe());else for(let i=0;i<e;i++)o.set(Oe(),Oe());return o}case 6:if(e>=th){let o=nt[e&8191];if(o)return o.read||(o.read=$l(o)),o.read();if(e<65536){if(e==kg){let i=ui(),a=Oe(),s=Oe();Yl(a,s);let l={};if(ke.keyMap)for(let c=2;c<i;c++){let d=ke.decodeKey(s[c-2]);l[kn(d)]=Oe()}else for(let c=2;c<i;c++){let d=s[c-2];l[kn(d)]=Oe()}return l}else if(e==Tg){let i=ui(),a=Oe();for(let s=2;s<i;s++)Yl(a++,Oe());return Oe()}else if(e==th)return jg();if(ke.getShared&&(Vl(),o=nt[e&8191],o))return o.read||(o.read=$l(o)),o.read()}}let r=st[e];if(r)return r.handlesRead?r(Oe):r(Oe());{let o=Oe();for(let i=0;i<zl.length;i++){let a=zl[i](e,o);if(a!==void 0)return a}return new Eo(o,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let o=(Qt||To())[e];if(o!==void 0)return o;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let o=new Error("Unexpected end of CBOR data");throw o.incomplete=!0,o}throw new Error("Unknown CBOR token "+e)}}const ah=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function $l(e){function t(){let n=ue[X++];if(n=n&31,n>23)switch(n){case 24:n=ue[X++];break;case 25:n=Yt.getUint16(X),X+=2;break;case 26:n=Yt.getUint32(X),X+=4;break;default:throw new Error("Expected array header, but got "+ue[X-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(Oe);r=r.next}if(this.slowReads++>=oh){let i=this.length==n?this:this.slice(0,n);return r=ke.keyMap?new Function("r","return {"+i.map(a=>ke.decodeKey(a)).map(a=>ah.test(a)?kn(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(a=>ah.test(a)?kn(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(Oe)}let o={};if(ke.keyMap)for(let i=0;i<n;i++)o[kn(ke.decodeKey(this[i]))]=Oe();else for(let i=0;i<n;i++)o[kn(this[i])]=Oe();return o}return e.slowReads=0,t}function kn(e){if(typeof e=="string")return e==="__proto__"?"__proto_":e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";throw new Error("Invalid property name type "+typeof e)}let Fg=Hl;function Hl(e){let t;if(e<16&&(t=sh(e)))return t;if(e>64&&Ul)return Ul.decode(ue.subarray(X,X+=e));const n=X+e,r=[];for(t="";X<n;){const o=ue[X++];if(!(o&128))r.push(o);else if((o&224)===192){const i=ue[X++]&63;r.push((o&31)<<6|i)}else if((o&240)===224){const i=ue[X++]&63,a=ue[X++]&63;r.push((o&31)<<12|i<<6|a)}else if((o&248)===240){const i=ue[X++]&63,a=ue[X++]&63,s=ue[X++]&63;let l=(o&7)<<18|i<<12|a<<6|s;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(o);r.length>=4096&&(t+=xt.apply(String,r),r.length=0)}return r.length>0&&(t+=xt.apply(String,r)),t}let xt=String.fromCharCode;function Og(e){let t=X,n=new Array(e);for(let r=0;r<e;r++){const o=ue[X++];if((o&128)>0){X=t;return}n[r]=o}return xt.apply(String,n)}function sh(e){if(e<4)if(e<2){if(e===0)return"";{let t=ue[X++];if((t&128)>1){X-=1;return}return xt(t)}}else{let t=ue[X++],n=ue[X++];if((t&128)>0||(n&128)>0){X-=2;return}if(e<3)return xt(t,n);let r=ue[X++];if((r&128)>0){X-=3;return}return xt(t,n,r)}else{let t=ue[X++],n=ue[X++],r=ue[X++],o=ue[X++];if((t&128)>0||(n&128)>0||(r&128)>0||(o&128)>0){X-=4;return}if(e<6){if(e===4)return xt(t,n,r,o);{let i=ue[X++];if((i&128)>0){X-=5;return}return xt(t,n,r,o,i)}}else if(e<8){let i=ue[X++],a=ue[X++];if((i&128)>0||(a&128)>0){X-=6;return}if(e<7)return xt(t,n,r,o,i,a);let s=ue[X++];if((s&128)>0){X-=7;return}return xt(t,n,r,o,i,a,s)}else{let i=ue[X++],a=ue[X++],s=ue[X++],l=ue[X++];if((i&128)>0||(a&128)>0||(s&128)>0||(l&128)>0){X-=8;return}if(e<10){if(e===8)return xt(t,n,r,o,i,a,s,l);{let c=ue[X++];if((c&128)>0){X-=9;return}return xt(t,n,r,o,i,a,s,l,c)}}else if(e<12){let c=ue[X++],d=ue[X++];if((c&128)>0||(d&128)>0){X-=10;return}if(e<11)return xt(t,n,r,o,i,a,s,l,c,d);let h=ue[X++];if((h&128)>0){X-=11;return}return xt(t,n,r,o,i,a,s,l,c,d,h)}else{let c=ue[X++],d=ue[X++],h=ue[X++],f=ue[X++];if((c&128)>0||(d&128)>0||(h&128)>0||(f&128)>0){X-=12;return}if(e<14){if(e===12)return xt(t,n,r,o,i,a,s,l,c,d,h,f);{let m=ue[X++];if((m&128)>0){X-=13;return}return xt(t,n,r,o,i,a,s,l,c,d,h,f,m)}}else{let m=ue[X++],v=ue[X++];if((m&128)>0||(v&128)>0){X-=14;return}if(e<15)return xt(t,n,r,o,i,a,s,l,c,d,h,f,m,v);let C=ue[X++];if((C&128)>0){X-=15;return}return xt(t,n,r,o,i,a,s,l,c,d,h,f,m,v,C)}}}}}function Ig(e){return ke.copyBuffers?Uint8Array.prototype.slice.call(ue,X,X+=e):ue.subarray(X,X+=e)}let lh=new Float32Array(1),ms=new Uint8Array(lh.buffer,0,4);function Rg(){let e=ue[X++],t=ue[X++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return ms[3]=e&128|(n>>1)+56,ms[2]=(e&7)<<5|t>>3,ms[1]=t<<5,ms[0]=0,lh[0]}new Array(4096);class Eo{constructor(t,n){this.value=t,this.tag=n}}st[0]=e=>new Date(e),st[1]=e=>new Date(Math.round(e*1e3)),st[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+t<<BigInt(8);return t},st[3]=e=>BigInt(-1)-st[2](e),st[4]=e=>+(e[1]+"e"+e[0]),st[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const Yl=(e,t)=>{e=e-57344;let n=nt[e];n&&n.isShared&&((nt.restoreStructures||(nt.restoreStructures=[]))[e]=n),nt[e]=t,t.read=$l(t)};st[Eg]=e=>{let t=e.length,n=e[1];Yl(e[0],n);let r={};for(let o=2;o<t;o++){let i=n[o-2];r[kn(i)]=e[o]}return r},st[14]=e=>ft?ft[0].slice(ft.position0,ft.position0+=e):new Eo(e,14),st[15]=e=>ft?ft[1].slice(ft.position1,ft.position1+=e):new Eo(e,15);let Pg={Error,RegExp};st[27]=e=>(Pg[e[0]]||Error)(e[1],e[2]);const ch=e=>{if(ue[X++]!=132){let n=new Error("Packed values structure must be followed by a 4 element array");throw ue.length<X&&(n.incomplete=!0),n}let t=e();if(!t||!t.length){let n=new Error("Packed values structure must be followed by a 4 element array");throw n.incomplete=!0,n}return Qt=Qt?t.concat(Qt.slice(t.length)):t,Qt.prefixes=e(),Qt.suffixes=e(),e()};ch.handlesRead=!0,st[51]=ch,st[nh]=e=>{if(!Qt)if(ke.getShared)Vl();else return new Eo(e,nh);if(typeof e=="number")return Qt[16+(e>=0?2*e:-2*e-1)];let t=new Error("No support for non-integer packed references yet");throw e===void 0&&(t.incomplete=!0),t},st[28]=e=>{Tn||(Tn=new Map,Tn.id=0);let t=Tn.id++,n=X,r=ue[X],o;r>>5==4?o=[]:o={};let i={target:o};Tn.set(t,i);let a=e();return i.used?(Object.getPrototypeOf(o)!==Object.getPrototypeOf(a)&&(X=n,o=a,Tn.set(t,{target:o}),a=e()),Object.assign(o,a)):(i.target=a,a)},st[28].handlesRead=!0,st[29]=e=>{let t=Tn.get(e);return t.used=!0,t.target},st[258]=e=>new Set(e),(st[259]=e=>(ke.mapsAsObjects&&(ke.mapsAsObjects=!1,Qi=!0),e())).handlesRead=!0;function ci(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function To(){if(!Qt)if(ke.getShared)Vl();else throw new Error("No packed values available");return Qt}const Dg=1399353956;zl.push((e,t)=>{if(e>=225&&e<=255)return ci(To().prefixes[e-224],t);if(e>=28704&&e<=32767)return ci(To().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return ci(To().prefixes[e-1879048192],t);if(e>=216&&e<=223)return ci(t,To().suffixes[e-216]);if(e>=27647&&e<=28671)return ci(t,To().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return ci(t,To().suffixes[e-1811939328]);if(e==Dg)return{packedValues:Qt,structures:nt.slice(0),version:t};if(e==55799)return t});const Ng=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,uh=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Lg=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<uh.length;e++)qg(uh[e],Lg[e]);function qg(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let o=0;o<2;o++){if(!o&&r==1)continue;let i=r==2?1:r==4?2:r==8?3:0;st[o?t:t-4]=r==1||o==Ng?a=>{if(!e)throw new Error("Could not find typed array for code "+t);return!ke.copyBuffers&&(r===1||r===2&&!(a.byteOffset&1)||r===4&&!(a.byteOffset&3)||r===8&&!(a.byteOffset&7))?new e(a.buffer,a.byteOffset,a.byteLength>>i):new e(Uint8Array.prototype.slice.call(a,0).buffer)}:a=>{if(!e)throw new Error("Could not find typed array for code "+t);let s=new DataView(a.buffer,a.byteOffset,a.byteLength),l=a.length>>i,c=new e(l),d=s[n];for(let h=0;h<l;h++)c[h]=d.call(s,h<<i,o);return c}}}function jg(){let e=ui(),t=X+Oe();for(let r=2;r<e;r++){let o=ui();X+=o}let n=X;return X=t,ft=[Hl(ui()),Hl(ui())],ft.position0=0,ft.position1=0,ft.postBundlePosition=X,X=n,Oe()}function ui(){let e=ue[X++]&31;if(e>23)switch(e){case 24:e=ue[X++];break;case 25:e=Yt.getUint16(X),X+=2;break;case 26:e=Yt.getUint32(X),X+=4;break}return e}function Vl(){if(ke.getShared){let e=dh(()=>(ue=null,ke.getShared()))||{},t=e.structures||[];ke.sharedVersion=e.version,Qt=ke.sharedValues=e.packedValues,nt===!0?ke.structures=nt=t:nt.splice.apply(nt,[0,t.length].concat(t))}}function dh(e){let t=Ao,n=X,r=fs,o=Ki,i=hs,a=Tn,s=ft,l=new Uint8Array(ue.slice(0,Ao)),c=nt,d=ke,h=ea,f=e();return Ao=t,X=n,fs=r,Ki=o,hs=i,Tn=a,ft=s,ue=l,ea=h,nt=c,ke=d,Yt=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),f}function Gl(){ue=null,Tn=null,nt=null}const Xl=new Array(147);for(let e=0;e<256;e++)Xl[e]=+("1e"+Math.floor(45.15-e*.30103));let Zl=new ih({useRecords:!1});const hh=Zl.decode;Zl.decodeMultiple;let gs;try{gs=new TextEncoder}catch(e){}let Jl,fh;const ys=typeof globalThis=="object"&&globalThis.Buffer,ta=typeof ys<"u",Kl=ta?ys.allocUnsafeSlow:Uint8Array,ph=ta?ys:Uint8Array,mh=256,gh=ta?4294967296:2144337920;let Ql,z,Ge,D=0,eo,pt=null;const Bg=61440,Wg=/[\u0080-\uFFFF]/,un=Symbol("record-id");let Ug=class extends ih{constructor(e){super(e),this.offset=0;let t,n,r,o,i;e=e||{};let a=ph.prototype.utf8Write?function(b,_,E){return z.utf8Write(b,_,E)}:gs&&gs.encodeInto?function(b,_){return gs.encodeInto(b,z.subarray(_)).written}:!1,s=this,l=e.structures||e.saveStructures,c=e.maxSharedStructures;if(c==null&&(c=l?128:0),c>8190)throw new Error("Maximum maxSharedStructure is 8190");let d=e.sequential;d&&(c=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let h,f,m=e.sharedValues,v;if(m){v=Object.create(null);for(let b=0,_=m.length;b<_;b++)v[m[b]]=b}let C=[],k=0,j=0;this.mapEncode=function(b,_){if(this._keyMap&&!this._mapped)switch(b.constructor.name){case"Array":b=b.map(E=>this.encodeKeys(E));break}return this.encode(b,_)},this.encode=function(b,_){if(z||(z=new Kl(8192),Ge=new DataView(z.buffer,0,8192),D=0),eo=z.length-10,eo-D<2048?(z=new Kl(z.length),Ge=new DataView(z.buffer,0,z.length),eo=z.length-10,D=0):_===xh&&(D=D+7&2147483640),t=D,s.useSelfDescribedHeader&&(Ge.setUint32(D,3654940416),D+=3),i=s.structuredClone?new Map:null,s.bundleStrings&&typeof b!="string"?(pt=[],pt.size=1/0):pt=null,n=s.structures,n){if(n.uninitialized){let F=s.getShared()||{};s.structures=n=F.structures||[],s.sharedVersion=F.version;let I=s.sharedValues=F.packedValues;if(I){v={};for(let Y=0,G=I.length;Y<G;Y++)v[I[Y]]=Y}}let E=n.length;if(E>c&&!d&&(E=c),!n.transitions){n.transitions=Object.create(null);for(let F=0;F<E;F++){let I=n[F];if(!I)continue;let Y,G=n.transitions;for(let W=0,U=I.length;W<U;W++){G[un]===void 0&&(G[un]=F);let H=I[W];Y=G[H],Y||(Y=G[H]=Object.create(null)),G=Y}G[un]=F|1048576}}d||(n.nextId=E)}if(r&&(r=!1),o=n||[],f=v,e.pack){let E=new Map;if(E.values=[],E.encoder=s,E.maxValues=e.maxPrivatePackedValues||(v?16:1/0),E.objectMap=v||!1,E.samplingPackedValues=h,vs(b,E),E.values.length>0){z[D++]=216,z[D++]=51,xr(4);let F=E.values;P(F),xr(0),xr(0),f=Object.create(v||null);for(let I=0,Y=F.length;I<Y;I++)f[F[I]]=I}}Ql=_&nc;try{if(Ql)return;if(P(b),pt&&wh(t,P),s.offset=D,i&&i.idsToInsert){D+=i.idsToInsert.length*2,D>eo&&L(D),s.offset=D;let E=Hg(z.subarray(t,D),i.idsToInsert);return i=null,E}return _&xh?(z.start=t,z.end=D,z):z.subarray(t,D)}finally{if(n){if(j<10&&j++,n.length>c&&(n.length=c),k>1e4)n.transitions=null,j=0,k=0,C.length>0&&(C=[]);else if(C.length>0&&!d){for(let E=0,F=C.length;E<F;E++)C[E][un]=void 0;C=[]}}if(r&&s.saveShared){s.structures.length>c&&(s.structures=s.structures.slice(0,c));let E=z.subarray(t,D);return s.updateSharedData()===!1?s.encode(b):E}_&Yg&&(D=t)}},this.findCommonStringsToPack=()=>(h=new Map,v||(v=Object.create(null)),b=>{let _=b&&b.threshold||4,E=this.pack?b.maxPrivatePackedValues||16:0;m||(m=this.sharedValues=[]);for(let[F,I]of h)I.count>_&&(v[F]=E++,m.push(F),r=!0);for(;this.saveShared&&this.updateSharedData()===!1;);h=null});const P=b=>{D>eo&&(z=L(D));var _=typeof b,E;if(_==="string"){if(f){let G=f[b];if(G>=0){G<16?z[D++]=G+224:(z[D++]=198,G&1?P(15-G>>1):P(G-16>>1));return}else if(h&&!e.pack){let W=h.get(b);W?W.count++:h.set(b,{count:1})}}let F=b.length;if(pt&&F>=4&&F<1024){if((pt.size+=F)>Bg){let W,U=(pt[0]?pt[0].length*3+pt[1].length:0)+10;D+U>eo&&(z=L(D+U)),z[D++]=217,z[D++]=223,z[D++]=249,z[D++]=pt.position?132:130,z[D++]=26,W=D-t,D+=4,pt.position&&wh(t,P),pt=["",""],pt.size=0,pt.position=W}let G=Wg.test(b);pt[G?0:1]+=b,z[D++]=G?206:207,P(F);return}let I;F<32?I=1:F<256?I=2:F<65536?I=3:I=5;let Y=F*3;if(D+Y>eo&&(z=L(D+Y)),F<64||!a){let G,W,U,H=D+I;for(G=0;G<F;G++)W=b.charCodeAt(G),W<128?z[H++]=W:W<2048?(z[H++]=W>>6|192,z[H++]=W&63|128):(W&64512)===55296&&((U=b.charCodeAt(G+1))&64512)===56320?(W=65536+((W&1023)<<10)+(U&1023),G++,z[H++]=W>>18|240,z[H++]=W>>12&63|128,z[H++]=W>>6&63|128,z[H++]=W&63|128):(z[H++]=W>>12|224,z[H++]=W>>6&63|128,z[H++]=W&63|128);E=H-D-I}else E=a(b,D+I,Y);E<24?z[D++]=96|E:E<256?(I<2&&z.copyWithin(D+2,D+1,D+1+E),z[D++]=120,z[D++]=E):E<65536?(I<3&&z.copyWithin(D+3,D+2,D+2+E),z[D++]=121,z[D++]=E>>8,z[D++]=E&255):(I<5&&z.copyWithin(D+5,D+3,D+3+E),z[D++]=122,Ge.setUint32(D,E),D+=4),D+=E}else if(_==="number")if(!this.alwaysUseFloat&&b>>>0===b)b<24?z[D++]=b:b<256?(z[D++]=24,z[D++]=b):b<65536?(z[D++]=25,z[D++]=b>>8,z[D++]=b&255):(z[D++]=26,Ge.setUint32(D,b),D+=4);else if(!this.alwaysUseFloat&&b>>0===b)b>=-24?z[D++]=31-b:b>=-256?(z[D++]=56,z[D++]=~b):b>=-65536?(z[D++]=57,Ge.setUint16(D,~b),D+=2):(z[D++]=58,Ge.setUint32(D,~b),D+=4);else{let F;if((F=this.useFloat32)>0&&b<4294967296&&b>=-2147483648){z[D++]=250,Ge.setFloat32(D,b);let I;if(F<4||(I=b*Xl[(z[D]&127)<<1|z[D+1]>>7])>>0===I){D+=4;return}else D--}z[D++]=251,Ge.setFloat64(D,b),D+=8}else if(_==="object")if(!b)z[D++]=246;else{if(i){let I=i.get(b);if(I){if(z[D++]=216,z[D++]=29,z[D++]=25,!I.references){let Y=i.idsToInsert||(i.idsToInsert=[]);I.references=[],Y.push(I)}I.references.push(D-t),D+=2;return}else i.set(b,{offset:D-t})}let F=b.constructor;if(F===Object)T(b);else if(F===Array){E=b.length,E<24?z[D++]=128|E:xr(E);for(let I=0;I<E;I++)P(b[I])}else if(F===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(z[D++]=217,z[D++]=1,z[D++]=3),E=b.size,E<24?z[D++]=160|E:E<256?(z[D++]=184,z[D++]=E):E<65536?(z[D++]=185,z[D++]=E>>8,z[D++]=E&255):(z[D++]=186,Ge.setUint32(D,E),D+=4),s.keyMap)for(let[I,Y]of b)P(s.encodeKey(I)),P(Y);else for(let[I,Y]of b)P(I),P(Y);else{for(let I=0,Y=Jl.length;I<Y;I++){let G=fh[I];if(b instanceof G){let W=Jl[I],U=W.tag;U==null&&(U=W.getTag&&W.getTag.call(this,b)),U<24?z[D++]=192|U:U<256?(z[D++]=216,z[D++]=U):U<65536?(z[D++]=217,z[D++]=U>>8,z[D++]=U&255):U>-1&&(z[D++]=218,Ge.setUint32(D,U),D+=4),W.encode.call(this,b,P,L);return}}if(b[Symbol.iterator]){if(Ql){let I=new Error("Iterable should be serialized as iterator");throw I.iteratorNotHandled=!0,I}z[D++]=159;for(let I of b)P(I);z[D++]=255;return}if(b[Symbol.asyncIterator]||ec(b)){let I=new Error("Iterable/blob should be serialized as iterator");throw I.iteratorNotHandled=!0,I}if(this.useToJSON&&b.toJSON){const I=b.toJSON();if(I!==b)return P(I)}T(b)}}else if(_==="boolean")z[D++]=b?245:244;else if(_==="bigint"){if(b<BigInt(1)<<BigInt(64)&&b>=0)z[D++]=27,Ge.setBigUint64(D,b);else if(b>-(BigInt(1)<<BigInt(64))&&b<0)z[D++]=59,Ge.setBigUint64(D,-b-BigInt(1));else if(this.largeBigIntToFloat)z[D++]=251,Ge.setFloat64(D,Number(b));else throw new RangeError(b+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");D+=8}else if(_==="undefined")z[D++]=247;else throw new Error("Unknown type: "+_)},T=this.useRecords===!1?this.variableMapSize?b=>{let _=Object.keys(b),E=Object.values(b),F=_.length;if(F<24?z[D++]=160|F:F<256?(z[D++]=184,z[D++]=F):F<65536?(z[D++]=185,z[D++]=F>>8,z[D++]=F&255):(z[D++]=186,Ge.setUint32(D,F),D+=4),s.keyMap)for(let I=0;I<F;I++)P(s.encodeKey(_[I])),P(E[I]);else for(let I=0;I<F;I++)P(_[I]),P(E[I])}:b=>{z[D++]=185;let _=D-t;D+=2;let E=0;if(s.keyMap)for(let F in b)(typeof b.hasOwnProperty!="function"||b.hasOwnProperty(F))&&(P(s.encodeKey(F)),P(b[F]),E++);else for(let F in b)(typeof b.hasOwnProperty!="function"||b.hasOwnProperty(F))&&(P(F),P(b[F]),E++);z[_+++t]=E>>8,z[_+t]=E&255}:(b,_)=>{let E,F=o.transitions||(o.transitions=Object.create(null)),I=0,Y=0,G,W;if(this.keyMap){W=Object.keys(b).map(H=>this.encodeKey(H)),Y=W.length;for(let H=0;H<Y;H++){let Q=W[H];E=F[Q],E||(E=F[Q]=Object.create(null),I++),F=E}}else for(let H in b)(typeof b.hasOwnProperty!="function"||b.hasOwnProperty(H))&&(E=F[H],E||(F[un]&1048576&&(G=F[un]&65535),E=F[H]=Object.create(null),I++),F=E,Y++);let U=F[un];if(U!==void 0)U&=65535,z[D++]=217,z[D++]=U>>8|224,z[D++]=U&255;else if(W||(W=F.__keys__||(F.__keys__=Object.keys(b))),G===void 0?(U=o.nextId++,U||(U=0,o.nextId=1),U>=mh&&(o.nextId=(U=c)+1)):U=G,o[U]=W,U<c){z[D++]=217,z[D++]=U>>8|224,z[D++]=U&255,F=o.transitions;for(let H=0;H<Y;H++)(F[un]===void 0||F[un]&1048576)&&(F[un]=U),F=F[W[H]];F[un]=U|1048576,r=!0}else{if(F[un]=U,Ge.setUint32(D,3655335680),D+=3,I&&(k+=j*I),C.length>=mh-c&&(C.shift()[un]=void 0),C.push(F),xr(Y+2),P(57344+U),P(W),_)return;for(let H in b)(typeof b.hasOwnProperty!="function"||b.hasOwnProperty(H))&&P(b[H]);return}if(Y<24?z[D++]=128|Y:xr(Y),!_)for(let H in b)(typeof b.hasOwnProperty!="function"||b.hasOwnProperty(H))&&P(b[H])},L=b=>{let _;if(b>16777216){if(b-t>gh)throw new Error("Encoded buffer would be larger than maximum buffer size");_=Math.min(gh,Math.round(Math.max((b-t)*(b>67108864?1.25:2),4194304)/4096)*4096)}else _=(Math.max(b-t<<2,z.length-1)>>12)+1<<12;let E=new Kl(_);return Ge=new DataView(E.buffer,0,_),z.copy?z.copy(E,0,t,b):E.set(z.slice(t,b)),D-=t,t=0,eo=E.length-10,z=E};let N=100,R=1e3;this.encodeAsIterable=function(b,_){return x(b,_,A)},this.encodeAsAsyncIterable=function(b,_){return x(b,_,g)};function*A(b,_,E){let F=b.constructor;if(F===Object){let I=s.useRecords!==!1;I?T(b,!0):yh(Object.keys(b).length,160);for(let Y in b){let G=b[Y];I||P(Y),G&&typeof G=="object"?_[Y]?yield*A(G,_[Y]):yield*S(G,_,Y):P(G)}}else if(F===Array){let I=b.length;xr(I);for(let Y=0;Y<I;Y++){let G=b[Y];G&&(typeof G=="object"||D-t>N)?_.element?yield*A(G,_.element):yield*S(G,_,"element"):P(G)}}else if(b[Symbol.iterator]){z[D++]=159;for(let I of b)I&&(typeof I=="object"||D-t>N)?_.element?yield*A(I,_.element):yield*S(I,_,"element"):P(I);z[D++]=255}else ec(b)?(yh(b.size,64),yield z.subarray(t,D),yield b,M()):b[Symbol.asyncIterator]?(z[D++]=159,yield z.subarray(t,D),yield b,M(),z[D++]=255):P(b);E&&D>t?yield z.subarray(t,D):D-t>N&&(yield z.subarray(t,D),M())}function*S(b,_,E){let F=D-t;try{P(b),D-t>N&&(yield z.subarray(t,D),M())}catch(I){if(I.iteratorNotHandled)_[E]={},D=t+F,yield*A.call(this,b,_[E]);else throw I}}function M(){N=R,s.encode(null,nc)}function x(b,_,E){return _&&_.chunkThreshold?N=R=_.chunkThreshold:N=100,b&&typeof b=="object"?(s.encode(null,nc),E(b,s.iterateProperties||(s.iterateProperties={}),!0)):[s.encode(b)]}async function*g(b,_){for(let E of A(b,_,!0)){let F=E.constructor;if(F===ph||F===Uint8Array)yield E;else if(ec(E)){let I=E.stream().getReader(),Y;for(;!(Y=await I.read()).done;)yield Y.value}else if(E[Symbol.asyncIterator])for await(let I of E)M(),I?yield*g(I,_.async||(_.async={})):yield s.encode(I);else yield E}}}useBuffer(e){z=e,Ge=new DataView(z.buffer,z.byteOffset,z.byteLength),D=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let t=this.structures.slice(0),n=new vh(t,this.sharedValues,this.sharedVersion),r=this.saveShared(n,o=>(o&&o.version||0)==e);return r===!1?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):t.forEach((o,i)=>this.structures[i]=o),r}};function yh(e,t){e<24?z[D++]=t|e:e<256?(z[D++]=t|24,z[D++]=e):e<65536?(z[D++]=t|25,z[D++]=e>>8,z[D++]=e&255):(z[D++]=t|26,Ge.setUint32(D,e),D+=4)}class vh{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function xr(e){e<24?z[D++]=128|e:e<256?(z[D++]=152,z[D++]=e):e<65536?(z[D++]=153,z[D++]=e>>8,z[D++]=e&255):(z[D++]=154,Ge.setUint32(D,e),D+=4)}const zg=typeof Blob>"u"?function(){}:Blob;function ec(e){if(e instanceof zg)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function vs(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let o=t.samplingPackedValues.get(e);o?o.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,o=e.length;r<o;r++)vs(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&vs(n,t),vs(e[n],t))}break;case"function":console.log(e)}}const $g=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;fh=[Date,Set,Error,RegExp,Eo,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,vh],Jl=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(z[D++]=26,Ge.setUint32(D,n),D+=4):(z[D++]=251,Ge.setFloat64(D,n),D+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){bh(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||ta&&this.tagUint8Array!==!1))return 64},encode(e,t,n){bh(e,n)}},_r(68,1),_r(69,2),_r(70,4),_r(71,8),_r(72,1),_r(77,2),_r(78,4),_r(79,8),_r(85,4),_r(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){z[D++]=216,z[D++]=51,xr(4);let o=n.values;t(o),xr(0),xr(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,a=o.length;i<a;i++)packedObjectMap[o[i]]=i}if(r){Ge.setUint32(D,3655335424),D+=3;let o=r.slice(0);o.unshift(57344),o.push(new Eo(e.version,1399353956)),t(o)}else t(new Eo(e.version,1399353956))}}];function _r(e,t){return!$g&&t>1&&(e-=4),{tag:e,encode:function(n,r){let o=n.byteLength,i=n.byteOffset||0,a=n.buffer||n;r(ta?ys.from(a,i,o):new Uint8Array(a,i,o))}}}function bh(e,t){let n=e.byteLength;n<24?z[D++]=64+n:n<256?(z[D++]=88,z[D++]=n):n<65536?(z[D++]=89,z[D++]=n>>8,z[D++]=n&255):(z[D++]=90,Ge.setUint32(D,n),D+=4),D+n>=z.length&&t(D+n),z.set(e.buffer?e:new Uint8Array(e),D),D+=n}function Hg(e,t){let n,r=t.length*2,o=e.length-r;t.sort((i,a)=>i.offset>a.offset?1:-1);for(let i=0;i<t.length;i++){let a=t[i];a.id=i;for(let s of a.references)e[s++]=i>>8,e[s]=i&255}for(;n=t.pop();){let i=n.offset;e.copyWithin(i+r,i,o),r-=2;let a=i+r;e[a++]=216,e[a++]=28,o=i}return e}function wh(e,t){Ge.setUint32(pt.position+e,D-pt.position-e+1);let n=pt;pt=null,t(n[0]),t(n[1])}let tc=new Ug({useRecords:!1});tc.encode,tc.encodeAsIterable,tc.encodeAsAsyncIterable;const xh=512,Yg=1024,nc=2048;function Qe(e,n){var n=n||{};this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}Qe.prototype.peekAt=function(e){var t=e;if(t===(t|0)){var n=this.size();if(!(t>=n||t<-n))return t<0&&(t+=n),t=this._head+t&this._capacityMask,this._list[t]}},Qe.prototype.get=function(e){return this.peekAt(e)},Qe.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},Qe.prototype.peekFront=function(){return this.peek()},Qe.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(Qe.prototype,"length",{get:function(){return this.size()}}),Qe.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Qe.prototype.unshift=function(e){if(arguments.length===0)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Qe.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},Qe.prototype.push=function(e){if(arguments.length===0)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Qe.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),n}},Qe.prototype.removeOne=function(e){var t=e;if(t===(t|0)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(t>=n||t<-n)){t<0&&(t+=n),t=this._head+t&this._capacityMask;var o=this._list[t],i;if(e<n/2){for(i=e;i>0;i--)this._list[t]=this._list[t=t-1+r&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(i=n-1-e;i>0;i--)this._list[t]=this._list[t=t+1+r&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+r&this._capacityMask}return o}}},Qe.prototype.remove=function(e,t){var n=e,r,o=t;if(n===(n|0)&&this._head!==this._tail){var i=this.size(),a=this._list.length;if(!(n>=i||n<-i||t<1)){if(n<0&&(n+=i),t===1||!t)return r=new Array(1),r[0]=this.removeOne(n),r;if(n===0&&n+t>=i)return r=this.toArray(),this.clear(),r;n+t>i&&(t=i-n);var s;for(r=new Array(t),s=0;s<t;s++)r[s]=this._list[this._head+n+s&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===i){for(this._tail=this._tail-t+a&this._capacityMask,s=t;s>0;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(e===0){for(this._head=this._head+t+a&this._capacityMask,s=t-1;s>0;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(n<i/2){for(this._head=this._head+e+t+a&this._capacityMask,s=e;s>0;s--)this.unshift(this._list[n=n-1+a&this._capacityMask]);for(n=this._head-1+a&this._capacityMask;o>0;)this._list[n=n-1+a&this._capacityMask]=void 0,o--;e<0&&(this._tail=n)}else{for(this._tail=n,n=n+t+a&this._capacityMask,s=i-(t+e);s>0;s--)this.push(this._list[n++]);for(n=this._tail;o>0;)this._list[n=n+1+a&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),r}}},Qe.prototype.splice=function(e,t){var n=e;if(n===(n|0)){var r=this.size();if(n<0&&(n+=r),!(n>r))if(arguments.length>2){var o,i,a,s=arguments.length,l=this._list.length,c=2;if(!r||n<r/2){for(i=new Array(n),o=0;o<n;o++)i[o]=this._list[this._head+o&this._capacityMask];for(t===0?(a=[],n>0&&(this._head=this._head+n+l&this._capacityMask)):(a=this.remove(n,t),this._head=this._head+n+l&this._capacityMask);s>c;)this.unshift(arguments[--s]);for(o=n;o>0;o--)this.unshift(i[o-1])}else{i=new Array(r-(n+t));var d=i.length;for(o=0;o<d;o++)i[o]=this._list[this._head+n+t+o&this._capacityMask];for(t===0?(a=[],n!=r&&(this._tail=this._head+n+l&this._capacityMask)):(a=this.remove(n,t),this._tail=this._tail-d+l&this._capacityMask);c<s;)this.push(arguments[c++]);for(o=0;o<d;o++)this.push(i[o])}return a}else return this.remove(n,t)}},Qe.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},Qe.prototype.isEmpty=function(){return this._head===this._tail},Qe.prototype.toArray=function(){return this._copyArray(!1)},Qe.prototype._fromArray=function(e){var t=e.length,n=this._nextPowerOf2(t);this._list=new Array(n),this._capacityMask=n-1,this._tail=t;for(var r=0;r<t;r++)this._list[r]=e[r]},Qe.prototype._copyArray=function(e,t){var n=this._list,r=n.length,o=this.length;if(t=t|o,t==o&&this._head<this._tail)return this._list.slice(this._head,this._tail);var i=new Array(t),a=0,s;if(e||this._head>this._tail){for(s=this._head;s<r;s++)i[a++]=n[s];for(s=0;s<this._tail;s++)i[a++]=n[s]}else for(s=this._head;s<this._tail;s++)i[a++]=n[s];return i},Qe.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},Qe.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},Qe.prototype._nextPowerOf2=function(e){var t=Math.log(e)/Math.log(2),n=1<<t+1;return Math.max(n,4)};var Vg=Qe;const _h=Mo(Vg),Gg=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1})();window.crypto||(window.crypto=window.msCrypto);function Xg(e,t,n,r){switch(e){case"flac":return new Wl(Bl.Flac,t,n,r);case"opus":return new Wl(Bl.Opus,t,n,r)}}function Zg(e){return e=hh(e),e.data=new Int8Array(e.data),e}class Sh{constructor(){this.decoder=new eh}decode(t){return t=new Uint8Array(t),this.decoder.decode(t).map(Zg)}destroy(){this.decoder.free()}}function Jg(e){switch(e){case"zstd":return new Sh;case"av1":return new Sh}}async function Kg(){let e;Gg?e=await os(()=>import("./phantomsdrdsp_bg-DEIFT1zB.js").then(async t=>(await t.__tla,t)),[]):e=await os(()=>import("./phantomsdrdsp_bg_fallback-B8xkI6iD.js").then(async t=>(await t.__tla,t)),[]),Xd(e),e.__wbindgen_start()}const Qg={push:function(e){if(typeof e!="number")throw new Error("val must be a number.");return this.sum-=this.data[this.dataI],this.sum+=e,this.data[this.dataI]=e,this.dataI=(this.dataI+1)%this.size,this},get:function(){return this.sum/this.size}};var ey=(e,t=0)=>{if(typeof e!="number")throw new Error("size must be a number.");if(typeof t!="number")throw new Error("fill must be a number.");const n=Object.create(Qg);return n.sum=e*t,n.size=e,n.data=new Array(e),n.data.fill(t),n.dataI=0,n};const Ch=Mo(ey);var ty=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((u,p)=>{r=u,o=p}),["_init_decode","_exec_decode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(u=>{Object.getOwnPropertyDescriptor(n.ready,u)||Object.defineProperty(n.ready,u,{get:()=>de("You are getting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>de("You are setting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),a=(u,p)=>{throw p},s=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",d=!s&&!c&&!l;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var h="";function f(u){return n.locateFile?n.locateFile(u,h):h+u}var m,v,C;if(c){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var k=process.versions.node,j=k.split(".").slice(0,3);if(j=j[0]*1e4+j[1]*100+j[2].split("-")[0]*1,j<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+k+")");const{createRequire:u}=await os(()=>Promise.resolve().then(()=>ku),void 0);var P=u(import.meta.url),T=P("fs"),L=P("path");l?h=L.dirname(h)+"/":h=P("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),m=(p,O)=>(p=qt(p)?new URL(p):L.normalize(p),T.readFileSync(p,O?void 0:"utf8")),C=p=>{var O=m(p,!0);return O.buffer||(O=new Uint8Array(O)),g(O.buffer),O},v=(p,O,$,K=!0)=>{p=qt(p)?new URL(p):L.normalize(p),T.readFile(p,K?void 0:"utf8",(oe,se)=>{oe?$(oe):O(K?se.buffer:se)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",p=>{if(p!=="unwind"&&!(p instanceof St)&&!(p.context instanceof St))throw p}),a=(p,O)=>{throw process.exitCode=p,O},n.inspect=()=>"[Emscripten Module object]"}else if(d){if(typeof process=="object"&&typeof P=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(m=read),C=u=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(u));let p=read(u,"binary");return g(typeof p=="object"),p},v=(u,p,O)=>{setTimeout(()=>p(C(u)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=u=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=u=>typeof u=="function"?u():de()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(a=(u,p)=>{throw setTimeout(()=>{if(!(p instanceof St)){let O=p;p&&typeof p=="object"&&p.stack&&(O=[p,p.stack]),R("exiting due to exception: ".concat(O))}quit(u)}),p}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(s||l){if(l?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),e&&(h=e),h.indexOf("blob:")!==0?h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):h="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");m=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.send(null),p.responseText},l&&(C=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),v=(u,p,O)=>{var $=new XMLHttpRequest;$.open("GET",u,!0),$.responseType="arraybuffer",$.onload=()=>{if($.status==200||$.status==0&&$.response){p($.response);return}O()},$.onerror=O,$.send(null)}}else throw new Error("environment detection error");var N=n.print||console.log.bind(console),R=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,Sn(),n.arguments&&n.arguments,Ye("arguments","arguments_"),n.thisProgram&&n.thisProgram,Ye("thisProgram","thisProgram"),n.quit&&(a=n.quit),Ye("quit","quit_"),g(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),g(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),g(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),g(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),g(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),g(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),g(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),g(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),g(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Ye("asm","wasmExports"),Ye("read","read_"),Ye("readAsync","readAsync"),Ye("readBinary","readBinary"),Ye("setWindowTitle","setWindowTitle"),g(!d,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var A;n.wasmBinary&&(A=n.wasmBinary),Ye("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&de("no native wasm support detected");var S,M=!1,x;function g(u,p){u||de("Assertion failed"+(p?": "+p:""))}var b,_,E,F;function I(){var u=S.buffer;n.HEAP8=b=new Int8Array(u),n.HEAP16=new Int16Array(u),n.HEAPU8=_=new Uint8Array(u),n.HEAPU16=new Uint16Array(u),n.HEAP32=E=new Int32Array(u),n.HEAPU32=F=new Uint32Array(u),n.HEAPF32=new Float32Array(u),n.HEAPF64=new Float64Array(u)}g(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),g(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),g(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),g(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Y(){var u=Un();g((u&3)==0),u==0&&(u+=4),F[u>>2]=34821223,F[u+4>>2]=2310721022,F[0]=1668509029}function G(){if(!M){var u=Un();u==0&&(u+=4);var p=F[u>>2],O=F[u+4>>2];(p!=34821223||O!=2310721022)&&de("Stack overflow! Stack cookie has been overwritten at ".concat(Ft(u),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(Ft(O)," ").concat(Ft(p))),F[0]!=1668509029&&de("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var u=new Int16Array(1),p=new Int8Array(u.buffer);if(u[0]=25459,p[0]!==115||p[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var W=[],U=[],H=[],Q=!1;function ve(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)xe(n.preRun.shift());kt(W)}function J(){g(!Q),Q=!0,G(),kt(U)}function ie(){if(G(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)ae(n.postRun.shift());kt(H)}function xe(u){W.unshift(u)}function me(u){U.unshift(u)}function ae(u){H.unshift(u)}g(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),g(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),g(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),g(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Ee=0,Se=null,De=null,Ne={};function Pn(u){Ee++,n.monitorRunDependencies&&n.monitorRunDependencies(Ee),u?(g(!Ne[u]),Ne[u]=1,Se===null&&typeof setInterval<"u"&&(Se=setInterval(()=>{if(M){clearInterval(Se),Se=null;return}var p=!1;for(var O in Ne)p||(p=!0,R("still waiting on run dependencies:")),R("dependency: ".concat(O));p&&R("(end of list)")},1e4))):R("warning: run dependency added without ID")}function Re(u){if(Ee--,n.monitorRunDependencies&&n.monitorRunDependencies(Ee),u?(g(Ne[u]),delete Ne[u]):R("warning: run dependency removed without ID"),Ee==0&&(Se!==null&&(clearInterval(Se),Se=null),De)){var p=De;De=null,p()}}function de(u){n.onAbort&&n.onAbort(u),u="Aborted("+u+")",R(u),M=!0,x=1,u.indexOf("RuntimeError: unreachable")>=0&&(u+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var p=new WebAssembly.RuntimeError(u);throw o(p),p}var ne={error(){de("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){ne.error()},createDataFile(){ne.error()},createPreloadedFile(){ne.error()},createLazyFile(){ne.error()},open(){ne.error()},mkdev(){ne.error()},registerDevice(){ne.error()},analyzePath(){ne.error()},ErrnoError(){ne.error()}};n.FS_createDataFile=ne.createDataFile,n.FS_createPreloadedFile=ne.createPreloadedFile;var Tt="data:application/octet-stream;base64,",mn=u=>u.startsWith(Tt),qt=u=>u.startsWith("file://");function Ae(u){return function(){g(Q,"native function `".concat(u,"` called before runtime initialization"));var p=Ue[u];return g(p,"exported native function `".concat(u,"` not found")),p.apply(null,arguments)}}var qe;n.locateFile?(qe="decode.wasm",mn(qe)||(qe=f(qe))):qe=new URL("/assets/decode-BC3G6QKc.wasm",import.meta.url).href;function gn(u){if(u==qe&&A)return new Uint8Array(A);if(C)return C(u);throw"both async and sync fetching of the wasm failed"}function uo(u){if(!A&&(s||l)){if(typeof fetch=="function"&&!qt(u))return fetch(u,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at '"+u+"'";return p.arrayBuffer()}).catch(()=>gn(u));if(v)return new Promise((p,O)=>{v(u,$=>p(new Uint8Array($)),O)})}return Promise.resolve().then(()=>gn(u))}function Zt(u,p,O){return uo(u).then($=>WebAssembly.instantiate($,p)).then($=>$).then(O,$=>{R("failed to asynchronously prepare wasm: ".concat($)),qt(qe)&&R("warning: Loading from a file URI (".concat(qe,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),de($)})}function Dn(u,p,O,$){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!mn(p)&&!qt(p)&&!c&&typeof fetch=="function"?fetch(p,{credentials:"same-origin"}).then(K=>{var oe=WebAssembly.instantiateStreaming(K,O);return oe.then($,function(se){return R("wasm streaming compile failed: ".concat(se)),R("falling back to ArrayBuffer instantiation"),Zt(p,O,$)})}):Zt(p,O,$)}function ho(){var u={env:an,wasi_snapshot_preview1:an};function p(K,oe){return Ue=K.exports,Ue=V.instrumentWasmExports(Ue),S=Ue.memory,g(S,"memory not found in wasm exports"),I(),me(Ue.__wasm_call_ctors),Re("wasm-instantiate"),Ue}Pn("wasm-instantiate");var O=n;function $(K){g(n===O,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),O=null,p(K.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(u,p)}catch(K){R("Module.instantiateWasm callback failed with error: ".concat(K)),o(K)}return Dn(A,qe,u,$).catch(o),{}}function Ye(u,p,O=!0){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){let $=O?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";de("`Module.".concat(u,"` has been replaced by `").concat(p,"`")+$)}})}function tr(u){Object.getOwnPropertyDescriptor(n,u)&&de("`Module.".concat(u,"` was supplied but `").concat(u,"` not included in INCOMING_MODULE_JS_API"))}function yt(u){return u==="FS_createPath"||u==="FS_createDataFile"||u==="FS_createPreloadedFile"||u==="FS_unlink"||u==="addRunDependency"||u==="FS_createLazyFile"||u==="FS_createDevice"||u==="removeRunDependency"}function yn(u,p){typeof globalThis<"u"&&Object.defineProperty(globalThis,u,{configurable:!0,get(){Le("`"+u+"` is not longer defined by emscripten. "+p)}})}yn("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),yn("asm","Please use wasmExports instead");function vn(u){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,u)&&Object.defineProperty(globalThis,u,{configurable:!0,get(){var p="`"+u+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",O=u;O.startsWith("_")||(O="$"+u),p+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+O+"')",yt(u)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Le(p)}}),nr(u)}function nr(u){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){var p="'"+u+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";yt(u)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),de(p)}})}function St(u){this.name="ExitStatus",this.message="Program terminated with exit(".concat(u,")"),this.status=u}var kt=u=>{for(;u.length>0;)u.shift()(n)},rr=n.noExitRuntime||!0,Ft=u=>(g(typeof u=="number"),u>>>=0,"0x"+u.toString(16).padStart(8,"0")),Le=u=>{Le.shown||(Le.shown={}),Le.shown[u]||(Le.shown[u]=1,c&&(u="warning: "+u),R(u))},bn=(u,p,O)=>_.copyWithin(u,p,p+O),ut=()=>2147483648,fo=u=>{var p=S.buffer,O=(u-p.byteLength+65535)/65536;try{return S.grow(O),I(),1}catch($){R("growMemory: Attempted to grow heap from ".concat(p.byteLength," bytes to ").concat(u," bytes, but got error: ").concat($))}},nn=u=>{var p=_.length;u>>>=0,g(u>p);var O=ut();if(u>O)return R("Cannot enlarge memory, requested ".concat(u," bytes, but the limit is ").concat(O," bytes!")),!1;for(var $=(_e,ze)=>_e+(ze-_e%ze)%ze,K=1;K<=4;K*=2){var oe=p*(1+.2/K);oe=Math.min(oe,u+100663296);var se=Math.min(O,$(Math.max(u,oe),65536)),le=fo(se);if(le)return!0}return R("Failed to grow the heap from ".concat(p," bytes to ").concat(se," bytes, not enough memory!")),!1},Ot=0,Ct=()=>rr||Ot>0,It=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,jt=(u,p,O)=>{for(var $=p+O,K=p;u[K]&&!(K>=$);)++K;if(K-p>16&&u.buffer&&It)return It.decode(u.subarray(p,K));for(var oe="";p<K;){var se=u[p++];if(!(se&128)){oe+=String.fromCharCode(se);continue}var le=u[p++]&63;if((se&224)==192){oe+=String.fromCharCode((se&31)<<6|le);continue}var _e=u[p++]&63;if((se&240)==224?se=(se&15)<<12|le<<6|_e:((se&248)!=240&&Le("Invalid UTF-8 leading byte "+Ft(se)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),se=(se&7)<<18|le<<12|_e<<6|u[p++]&63),se<65536)oe+=String.fromCharCode(se);else{var ze=se-65536;oe+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return oe},Ze=(u,p)=>(g(typeof u=="number"),u?jt(_,u,p):""),or=u=>{x=u,Ct()||(n.onExit&&n.onExit(u),M=!0),a(u,new St(u))},Je=(u,p)=>{if(x=u,wo(),Ct()&&!p){var O="program exited (with status: ".concat(u,"), but keepRuntimeAlive() is set (counter=").concat(Ot,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(O),R(O)}or(u)},Bt=Je,Ir=u=>{de("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},po=(u,p)=>(g(u==u>>>0||u==(u|0)),g(p===(p|0)),p+2097152>>>0<4194305-!!u?(u>>>0)+p*4294967296:NaN);function wn(u,p,O,$,K){return po(p,O),70}var Nn=[null,[],[]],vt=(u,p)=>{var O=Nn[u];g(O),p===0||p===10?((u===1?N:R)(jt(O,0)),O.length=0):O.push(p)},Ln=()=>{lr(0),Nn[1].length&&vt(1,10),Nn[2].length&&vt(2,10)},Jr=(u,p,O,$)=>{for(var K=0,oe=0;oe<O;oe++){var se=F[p>>2],le=F[p+4>>2];p+=8;for(var _e=0;_e<le;_e++)vt(u,_[se+_e]);K+=le}return F[$>>2]=K,0},Jt=u=>{try{return u()}catch(p){de(p)}},qn=u=>{if(u instanceof St||u=="unwind")return x;G(),u instanceof WebAssembly.RuntimeError&&Pr()<=0&&R("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),a(1,u)},Rt=()=>{if(!Ct())try{Bt(x)}catch(u){qn(u)}},xn=u=>{if(M){R("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{u(),Rt()}catch(p){qn(p)}},jn=()=>{Ot+=1},ir=()=>{g(Ot>0),Ot-=1},V={instrumentWasmImports(u){var p=/^(_exec_decode|invoke_.*|__asyncjs__.*)$/;for(var O in u)(function($){var K=u[$];if(K.sig,typeof K=="function"){var oe=K.isAsync||p.test($);u[$]=function(){var se=V.state;try{return K.apply(null,arguments)}finally{var le=se===V.State.Normal&&V.state===V.State.Disabled,_e=$.startsWith("invoke_")&&!0;if(V.state!==se&&!oe&&!le&&!_e)throw new Error("import ".concat($," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(O)},instrumentWasmExports(u){var p={};for(var O in u)(function($){var K=u[$];typeof K=="function"?p[$]=function(){V.exportCallStack.push($);try{return K.apply(null,arguments)}finally{if(!M){var oe=V.exportCallStack.pop();g(oe===$),V.maybeStopUnwind()}}}:p[$]=K})(O);return p},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(u){var p=V.callStackNameToId[u];return p===void 0&&(p=V.callStackId++,V.callStackNameToId[u]=p,V.callStackIdToName[p]=u),p},maybeStopUnwind(){V.currData&&V.state===V.State.Unwinding&&V.exportCallStack.length===0&&(V.state=V.State.Normal,Jt(Dr),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return g(V.currData,"Tried to wait for an async operation when none is in progress."),g(!V.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((u,p)=>{V.asyncPromiseHandlers={resolve:u,reject:p}})},allocateData(){var u=Bn(12+V.StackSize);return V.setDataHeader(u,u+12,V.StackSize),V.setDataRewindFunc(u),u},setDataHeader(u,p,O){F[u>>2]=p,F[u+4>>2]=p+O},setDataRewindFunc(u){var p=V.exportCallStack[0],O=V.getCallStackId(p);E[u+8>>2]=O},getDataRewindFunc(u){var p=E[u+8>>2],O=V.callStackIdToName[p],$=Ue[O];return $},doRewind(u){var p=V.getDataRewindFunc(u);return p()},handleSleep(u){if(g(V.state!==V.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!M){if(V.state===V.State.Normal){var p=!1,O=!1;u(($=0)=>{if(g(!$||typeof $=="number"||typeof $=="boolean"),!M&&(V.handleSleepReturnValue=$,p=!0,!!O)){g(!V.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),V.state=V.State.Rewinding,Jt(()=>vo(V.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var K,oe=!1;try{K=V.doRewind(V.currData)}catch(_e){K=_e,oe=!0}var se=!1;if(!V.currData){var le=V.asyncPromiseHandlers;le&&(V.asyncPromiseHandlers=null,(oe?le.reject:le.resolve)(K),se=!0)}if(oe&&!se)throw K}}),O=!0,p||(V.state=V.State.Unwinding,V.currData=V.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),Jt(()=>ur(V.currData)))}else V.state===V.State.Rewinding?(V.state=V.State.Normal,Jt(dr),go(V.currData),V.currData=null,V.sleepCallbacks.forEach($=>xn($))):de("invalid state: ".concat(V.state));return V.handleSleepReturnValue}},handleAsync(u){return V.handleSleep(p=>{u().then(p)})}},ar=u=>{var p=n["_"+u];return g(p,"Cannot call unknown function "+u+", make sure it is exported"),p},bt=(u,p)=>{g(u.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),b.set(u,p)},sr=u=>{for(var p=0,O=0;O<u.length;++O){var $=u.charCodeAt(O);$<=127?p++:$<=2047?p+=2:$>=55296&&$<=57343?(p+=4,++O):p+=3}return p},_n=(u,p,O,$)=>{if(g(typeof u=="string"),!($>0))return 0;for(var K=O,oe=O+$-1,se=0;se<u.length;++se){var le=u.charCodeAt(se);if(le>=55296&&le<=57343){var _e=u.charCodeAt(++se);le=65536+((le&1023)<<10)|_e&1023}if(le<=127){if(O>=oe)break;p[O++]=le}else if(le<=2047){if(O+1>=oe)break;p[O++]=192|le>>6,p[O++]=128|le&63}else if(le<=65535){if(O+2>=oe)break;p[O++]=224|le>>12,p[O++]=128|le>>6&63,p[O++]=128|le&63}else{if(O+3>=oe)break;le>1114111&&Le("Invalid Unicode code point "+Ft(le)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),p[O++]=240|le>>18,p[O++]=128|le>>12&63,p[O++]=128|le>>6&63,p[O++]=128|le&63}}return p[O]=0,O-K},mo=(u,p,O)=>(g(typeof O=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_n(u,_,p,O)),rn=u=>{var p=sr(u)+1,O=cr(p);return mo(u,O,p),O},Rr=(u,p,O,$,K)=>{var oe={string:B=>{var re=0;return B!=null&&B!==0&&(re=rn(B)),re},array:B=>{var re=cr(B.length);return bt(B,re),re}};function se(B){return p==="string"?Ze(B):p==="boolean"?!!B:B}var le=ar(u),_e=[],ze=0;if(g(p!=="array",'Return type should not be "array".'),$)for(var Ve=0;Ve<$.length;Ve++){var Hn=oe[O[Ve]];Hn?(ze===0&&(ze=zn()),_e[Ve]=Hn($[Ve])):_e[Ve]=$[Ve]}var Yn=V.currData,Ut=le.apply(null,_e);function dt(B){return ir(),ze!==0&&yo(ze),se(B)}var Nr=K&&K.async;return jn(),V.currData!=Yn?(g(!(Yn&&V.currData),"We cannot start an async operation when one is already flight"),g(!(Yn&&!V.currData),"We cannot stop an async operation in flight"),g(Nr,"The call to "+u+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),V.whenDone().then(dt)):(Ut=dt(Ut),Nr?Promise.resolve(Ut):Ut)},on=(u,p,O,$)=>function(){return Rr(u,p,O,arguments,$)};function Sn(){tr("fetchSettings")}var an={emscripten_memcpy_js:bn,emscripten_resize_heap:nn,exit:Bt,fd_close:Ir,fd_seek:wn,fd_write:Jr};V.instrumentWasmImports(an);var Ue=ho();n._exec_decode=Ae("exec_decode"),n._init_decode=Ae("init_decode");var Bn=n._malloc=Ae("malloc"),go=n._free=Ae("free"),lr=n._fflush=Ae("fflush"),Wn=()=>(Wn=Ue.emscripten_stack_init)(),Un=()=>(Un=Ue.emscripten_stack_get_end)(),zn=Ae("stackSave"),yo=Ae("stackRestore"),cr=Ae("stackAlloc"),Pr=()=>(Pr=Ue.emscripten_stack_get_current)();n.dynCall_iii=Ae("dynCall_iii"),n.dynCall_iidiiii=Ae("dynCall_iidiiii"),n.dynCall_vii=Ae("dynCall_vii"),n.dynCall_iiii=Ae("dynCall_iiii"),n.dynCall_ii=Ae("dynCall_ii"),n.dynCall_jiji=Ae("dynCall_jiji");var ur=Ae("asyncify_start_unwind"),Dr=Ae("asyncify_stop_unwind"),vo=Ae("asyncify_start_rewind"),dr=Ae("asyncify_stop_rewind");n.cwrap=on;var Wt=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];Wt.forEach(vn);var bo=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];bo.forEach(nr);var sn;De=function u(){sn||$n(),sn||(De=u)};function tt(){Wn(),Y()}function $n(){if(Ee>0||(tt(),ve(),Ee>0))return;function u(){sn||(sn=!0,n.calledRun=!0,!M&&(J(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),g(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ie()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),u()},1)):u(),G()}function wo(){var u=N,p=R,O=!1;N=R=$=>{O=!0};try{Ln()}catch($){}N=u,R=p,O&&(Le("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Le("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return $n(),t.ready}})();const di=await ty(),ny=di.cwrap("init_decode","number",[],[]),ry=di.cwrap("exec_decode","number",["number","number"],{async:!0}),Mh=2048,Ah=di._malloc(Mh),oy=ny(),iy=async e=>{const t=di._malloc(e.length*e.BYTES_PER_ELEMENT);di.HEAPF32.set(e,t/e.BYTES_PER_ELEMENT),await ry(oy,t,Ah);const n=new Uint8Array(di.HEAPU8.buffer,Ah,Mh);return new TextDecoder("utf8").decode(n).replaceAll("\0","").trim().split("\n").filter(r=>r.length>0).map(r=>{const o=r.split(",");return{db:Number(o[0]),dt:Number(o[1]),df:Number(o[2]),text:o[3]}})};var ay=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((u,p)=>{r=u,o=p}),["_exec_encode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(u=>{Object.getOwnPropertyDescriptor(n.ready,u)||Object.defineProperty(n.ready,u,{get:()=>de("You are getting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>de("You are setting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),a=(u,p)=>{throw p},s=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",d=!s&&!c&&!l;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var h="";function f(u){return n.locateFile?n.locateFile(u,h):h+u}var m,v,C;if(c){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var k=process.versions.node,j=k.split(".").slice(0,3);if(j=j[0]*1e4+j[1]*100+j[2].split("-")[0]*1,j<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+k+")");const{createRequire:u}=await os(()=>Promise.resolve().then(()=>ku),void 0);var P=u(import.meta.url),T=P("fs"),L=P("path");l?h=L.dirname(h)+"/":h=P("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),m=(p,O)=>(p=qt(p)?new URL(p):L.normalize(p),T.readFileSync(p,O?void 0:"utf8")),C=p=>{var O=m(p,!0);return O.buffer||(O=new Uint8Array(O)),g(O.buffer),O},v=(p,O,$,K=!0)=>{p=qt(p)?new URL(p):L.normalize(p),T.readFile(p,K?void 0:"utf8",(oe,se)=>{oe?$(oe):O(K?se.buffer:se)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",p=>{if(p!=="unwind"&&!(p instanceof St)&&!(p.context instanceof St))throw p}),a=(p,O)=>{throw process.exitCode=p,O},n.inspect=()=>"[Emscripten Module object]"}else if(d){if(typeof process=="object"&&typeof P=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(m=read),C=u=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(u));let p=read(u,"binary");return g(typeof p=="object"),p},v=(u,p,O)=>{setTimeout(()=>p(C(u)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=u=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=u=>typeof u=="function"?u():de()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(a=(u,p)=>{throw setTimeout(()=>{if(!(p instanceof St)){let O=p;p&&typeof p=="object"&&p.stack&&(O=[p,p.stack]),R("exiting due to exception: ".concat(O))}quit(u)}),p}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(s||l){if(l?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),e&&(h=e),h.indexOf("blob:")!==0?h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):h="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");m=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.send(null),p.responseText},l&&(C=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),v=(u,p,O)=>{var $=new XMLHttpRequest;$.open("GET",u,!0),$.responseType="arraybuffer",$.onload=()=>{if($.status==200||$.status==0&&$.response){p($.response);return}O()},$.onerror=O,$.send(null)}}else throw new Error("environment detection error");var N=n.print||console.log.bind(console),R=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,Sn(),n.arguments&&n.arguments,Ye("arguments","arguments_"),n.thisProgram&&n.thisProgram,Ye("thisProgram","thisProgram"),n.quit&&(a=n.quit),Ye("quit","quit_"),g(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),g(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),g(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),g(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),g(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),g(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),g(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),g(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),g(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Ye("asm","wasmExports"),Ye("read","read_"),Ye("readAsync","readAsync"),Ye("readBinary","readBinary"),Ye("setWindowTitle","setWindowTitle"),g(!d,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var A;n.wasmBinary&&(A=n.wasmBinary),Ye("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&de("no native wasm support detected");var S,M=!1,x;function g(u,p){u||de("Assertion failed"+(p?": "+p:""))}var b,_,E,F;function I(){var u=S.buffer;n.HEAP8=b=new Int8Array(u),n.HEAP16=new Int16Array(u),n.HEAPU8=_=new Uint8Array(u),n.HEAPU16=new Uint16Array(u),n.HEAP32=E=new Int32Array(u),n.HEAPU32=F=new Uint32Array(u),n.HEAPF32=new Float32Array(u),n.HEAPF64=new Float64Array(u)}g(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),g(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),g(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),g(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Y(){var u=Un();g((u&3)==0),u==0&&(u+=4),F[u>>2]=34821223,F[u+4>>2]=2310721022,F[0]=1668509029}function G(){if(!M){var u=Un();u==0&&(u+=4);var p=F[u>>2],O=F[u+4>>2];(p!=34821223||O!=2310721022)&&de("Stack overflow! Stack cookie has been overwritten at ".concat(Ft(u),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(Ft(O)," ").concat(Ft(p))),F[0]!=1668509029&&de("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var u=new Int16Array(1),p=new Int8Array(u.buffer);if(u[0]=25459,p[0]!==115||p[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var W=[],U=[],H=[],Q=!1;function ve(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)xe(n.preRun.shift());kt(W)}function J(){g(!Q),Q=!0,G(),kt(U)}function ie(){if(G(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)ae(n.postRun.shift());kt(H)}function xe(u){W.unshift(u)}function me(u){U.unshift(u)}function ae(u){H.unshift(u)}g(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),g(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),g(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),g(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Ee=0,Se=null,De=null,Ne={};function Pn(u){Ee++,n.monitorRunDependencies&&n.monitorRunDependencies(Ee),u?(g(!Ne[u]),Ne[u]=1,Se===null&&typeof setInterval<"u"&&(Se=setInterval(()=>{if(M){clearInterval(Se),Se=null;return}var p=!1;for(var O in Ne)p||(p=!0,R("still waiting on run dependencies:")),R("dependency: ".concat(O));p&&R("(end of list)")},1e4))):R("warning: run dependency added without ID")}function Re(u){if(Ee--,n.monitorRunDependencies&&n.monitorRunDependencies(Ee),u?(g(Ne[u]),delete Ne[u]):R("warning: run dependency removed without ID"),Ee==0&&(Se!==null&&(clearInterval(Se),Se=null),De)){var p=De;De=null,p()}}function de(u){n.onAbort&&n.onAbort(u),u="Aborted("+u+")",R(u),M=!0,x=1,u.indexOf("RuntimeError: unreachable")>=0&&(u+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var p=new WebAssembly.RuntimeError(u);throw o(p),p}var ne={error(){de("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){ne.error()},createDataFile(){ne.error()},createPreloadedFile(){ne.error()},createLazyFile(){ne.error()},open(){ne.error()},mkdev(){ne.error()},registerDevice(){ne.error()},analyzePath(){ne.error()},ErrnoError(){ne.error()}};n.FS_createDataFile=ne.createDataFile,n.FS_createPreloadedFile=ne.createPreloadedFile;var Tt="data:application/octet-stream;base64,",mn=u=>u.startsWith(Tt),qt=u=>u.startsWith("file://");function Ae(u){return function(){g(Q,"native function `".concat(u,"` called before runtime initialization"));var p=Ue[u];return g(p,"exported native function `".concat(u,"` not found")),p.apply(null,arguments)}}var qe;n.locateFile?(qe="encode.wasm",mn(qe)||(qe=f(qe))):qe=new URL("/assets/encode-Boqet107.wasm",import.meta.url).href;function gn(u){if(u==qe&&A)return new Uint8Array(A);if(C)return C(u);throw"both async and sync fetching of the wasm failed"}function uo(u){if(!A&&(s||l)){if(typeof fetch=="function"&&!qt(u))return fetch(u,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at '"+u+"'";return p.arrayBuffer()}).catch(()=>gn(u));if(v)return new Promise((p,O)=>{v(u,$=>p(new Uint8Array($)),O)})}return Promise.resolve().then(()=>gn(u))}function Zt(u,p,O){return uo(u).then($=>WebAssembly.instantiate($,p)).then($=>$).then(O,$=>{R("failed to asynchronously prepare wasm: ".concat($)),qt(qe)&&R("warning: Loading from a file URI (".concat(qe,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),de($)})}function Dn(u,p,O,$){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!mn(p)&&!qt(p)&&!c&&typeof fetch=="function"?fetch(p,{credentials:"same-origin"}).then(K=>{var oe=WebAssembly.instantiateStreaming(K,O);return oe.then($,function(se){return R("wasm streaming compile failed: ".concat(se)),R("falling back to ArrayBuffer instantiation"),Zt(p,O,$)})}):Zt(p,O,$)}function ho(){var u={env:an,wasi_snapshot_preview1:an};function p(K,oe){return Ue=K.exports,Ue=V.instrumentWasmExports(Ue),S=Ue.memory,g(S,"memory not found in wasm exports"),I(),me(Ue.__wasm_call_ctors),Re("wasm-instantiate"),Ue}Pn("wasm-instantiate");var O=n;function $(K){g(n===O,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),O=null,p(K.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(u,p)}catch(K){R("Module.instantiateWasm callback failed with error: ".concat(K)),o(K)}return Dn(A,qe,u,$).catch(o),{}}function Ye(u,p,O=!0){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){let $=O?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";de("`Module.".concat(u,"` has been replaced by `").concat(p,"`")+$)}})}function tr(u){Object.getOwnPropertyDescriptor(n,u)&&de("`Module.".concat(u,"` was supplied but `").concat(u,"` not included in INCOMING_MODULE_JS_API"))}function yt(u){return u==="FS_createPath"||u==="FS_createDataFile"||u==="FS_createPreloadedFile"||u==="FS_unlink"||u==="addRunDependency"||u==="FS_createLazyFile"||u==="FS_createDevice"||u==="removeRunDependency"}function yn(u,p){typeof globalThis<"u"&&Object.defineProperty(globalThis,u,{configurable:!0,get(){Le("`"+u+"` is not longer defined by emscripten. "+p)}})}yn("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),yn("asm","Please use wasmExports instead");function vn(u){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,u)&&Object.defineProperty(globalThis,u,{configurable:!0,get(){var p="`"+u+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",O=u;O.startsWith("_")||(O="$"+u),p+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+O+"')",yt(u)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Le(p)}}),nr(u)}function nr(u){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){var p="'"+u+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";yt(u)&&(p+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),de(p)}})}function St(u){this.name="ExitStatus",this.message="Program terminated with exit(".concat(u,")"),this.status=u}var kt=u=>{for(;u.length>0;)u.shift()(n)},rr=n.noExitRuntime||!0,Ft=u=>(g(typeof u=="number"),u>>>=0,"0x"+u.toString(16).padStart(8,"0")),Le=u=>{Le.shown||(Le.shown={}),Le.shown[u]||(Le.shown[u]=1,c&&(u="warning: "+u),R(u))},bn=(u,p,O)=>_.copyWithin(u,p,p+O),ut=()=>2147483648,fo=u=>{var p=S.buffer,O=(u-p.byteLength+65535)/65536;try{return S.grow(O),I(),1}catch($){R("growMemory: Attempted to grow heap from ".concat(p.byteLength," bytes to ").concat(u," bytes, but got error: ").concat($))}},nn=u=>{var p=_.length;u>>>=0,g(u>p);var O=ut();if(u>O)return R("Cannot enlarge memory, requested ".concat(u," bytes, but the limit is ").concat(O," bytes!")),!1;for(var $=(_e,ze)=>_e+(ze-_e%ze)%ze,K=1;K<=4;K*=2){var oe=p*(1+.2/K);oe=Math.min(oe,u+100663296);var se=Math.min(O,$(Math.max(u,oe),65536)),le=fo(se);if(le)return!0}return R("Failed to grow the heap from ".concat(p," bytes to ").concat(se," bytes, not enough memory!")),!1},Ot=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ct=(u,p,O)=>{for(var $=p+O,K=p;u[K]&&!(K>=$);)++K;if(K-p>16&&u.buffer&&Ot)return Ot.decode(u.subarray(p,K));for(var oe="";p<K;){var se=u[p++];if(!(se&128)){oe+=String.fromCharCode(se);continue}var le=u[p++]&63;if((se&224)==192){oe+=String.fromCharCode((se&31)<<6|le);continue}var _e=u[p++]&63;if((se&240)==224?se=(se&15)<<12|le<<6|_e:((se&248)!=240&&Le("Invalid UTF-8 leading byte "+Ft(se)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),se=(se&7)<<18|le<<12|_e<<6|u[p++]&63),se<65536)oe+=String.fromCharCode(se);else{var ze=se-65536;oe+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return oe},It=(u,p)=>(g(typeof u=="number"),u?Ct(_,u,p):""),jt=u=>{de("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Ze=(u,p)=>(g(u==u>>>0||u==(u|0)),g(p===(p|0)),p+2097152>>>0<4194305-!!u?(u>>>0)+p*4294967296:NaN);function or(u,p,O,$,K){return Ze(p,O),70}var Je=[null,[],[]],Bt=(u,p)=>{var O=Je[u];g(O),p===0||p===10?((u===1?N:R)(Ct(O,0)),O.length=0):O.push(p)},Ir=()=>{Bn(0),Je[1].length&&Bt(1,10),Je[2].length&&Bt(2,10)},po=(u,p,O,$)=>{for(var K=0,oe=0;oe<O;oe++){var se=F[p>>2],le=F[p+4>>2];p+=8;for(var _e=0;_e<le;_e++)Bt(u,_[se+_e]);K+=le}return F[$>>2]=K,0},wn=u=>{try{return u()}catch(p){de(p)}},Nn=u=>{if(u instanceof St||u=="unwind")return x;G(),u instanceof WebAssembly.RuntimeError&&Pr()<=0&&R("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 2097152)"),a(1,u)},vt=0,Ln=()=>rr||vt>0,Jr=u=>{x=u,Ln()||(n.onExit&&n.onExit(u),M=!0),a(u,new St(u))},Jt=(u,p)=>{if(x=u,wo(),Ln()&&!p){var O="program exited (with status: ".concat(u,"), but keepRuntimeAlive() is set (counter=").concat(vt,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(O),R(O)}Jr(u)},qn=Jt,Rt=()=>{if(!Ln())try{qn(x)}catch(u){Nn(u)}},xn=u=>{if(M){R("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{u(),Rt()}catch(p){Nn(p)}},jn=()=>{vt+=1},ir=()=>{g(vt>0),vt-=1},V={instrumentWasmImports(u){var p=/^(_exec_encode|invoke_.*|__asyncjs__.*)$/;for(var O in u)(function($){var K=u[$];if(K.sig,typeof K=="function"){var oe=K.isAsync||p.test($);u[$]=function(){var se=V.state;try{return K.apply(null,arguments)}finally{var le=se===V.State.Normal&&V.state===V.State.Disabled,_e=$.startsWith("invoke_")&&!0;if(V.state!==se&&!oe&&!le&&!_e)throw new Error("import ".concat($," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(O)},instrumentWasmExports(u){var p={};for(var O in u)(function($){var K=u[$];typeof K=="function"?p[$]=function(){V.exportCallStack.push($);try{return K.apply(null,arguments)}finally{if(!M){var oe=V.exportCallStack.pop();g(oe===$),V.maybeStopUnwind()}}}:p[$]=K})(O);return p},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(u){var p=V.callStackNameToId[u];return p===void 0&&(p=V.callStackId++,V.callStackNameToId[u]=p,V.callStackIdToName[p]=u),p},maybeStopUnwind(){V.currData&&V.state===V.State.Unwinding&&V.exportCallStack.length===0&&(V.state=V.State.Normal,wn(Dr),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return g(V.currData,"Tried to wait for an async operation when none is in progress."),g(!V.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((u,p)=>{V.asyncPromiseHandlers={resolve:u,reject:p}})},allocateData(){var u=go(12+V.StackSize);return V.setDataHeader(u,u+12,V.StackSize),V.setDataRewindFunc(u),u},setDataHeader(u,p,O){F[u>>2]=p,F[u+4>>2]=p+O},setDataRewindFunc(u){var p=V.exportCallStack[0],O=V.getCallStackId(p);E[u+8>>2]=O},getDataRewindFunc(u){var p=E[u+8>>2],O=V.callStackIdToName[p],$=Ue[O];return $},doRewind(u){var p=V.getDataRewindFunc(u);return p()},handleSleep(u){if(g(V.state!==V.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!M){if(V.state===V.State.Normal){var p=!1,O=!1;u(($=0)=>{if(g(!$||typeof $=="number"||typeof $=="boolean"),!M&&(V.handleSleepReturnValue=$,p=!0,!!O)){g(!V.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),V.state=V.State.Rewinding,wn(()=>vo(V.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var K,oe=!1;try{K=V.doRewind(V.currData)}catch(_e){K=_e,oe=!0}var se=!1;if(!V.currData){var le=V.asyncPromiseHandlers;le&&(V.asyncPromiseHandlers=null,(oe?le.reject:le.resolve)(K),se=!0)}if(oe&&!se)throw K}}),O=!0,p||(V.state=V.State.Unwinding,V.currData=V.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),wn(()=>ur(V.currData)))}else V.state===V.State.Rewinding?(V.state=V.State.Normal,wn(dr),lr(V.currData),V.currData=null,V.sleepCallbacks.forEach($=>xn($))):de("invalid state: ".concat(V.state));return V.handleSleepReturnValue}},handleAsync(u){return V.handleSleep(p=>{u().then(p)})}},ar=u=>{var p=n["_"+u];return g(p,"Cannot call unknown function "+u+", make sure it is exported"),p},bt=(u,p)=>{g(u.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),b.set(u,p)},sr=u=>{for(var p=0,O=0;O<u.length;++O){var $=u.charCodeAt(O);$<=127?p++:$<=2047?p+=2:$>=55296&&$<=57343?(p+=4,++O):p+=3}return p},_n=(u,p,O,$)=>{if(g(typeof u=="string"),!($>0))return 0;for(var K=O,oe=O+$-1,se=0;se<u.length;++se){var le=u.charCodeAt(se);if(le>=55296&&le<=57343){var _e=u.charCodeAt(++se);le=65536+((le&1023)<<10)|_e&1023}if(le<=127){if(O>=oe)break;p[O++]=le}else if(le<=2047){if(O+1>=oe)break;p[O++]=192|le>>6,p[O++]=128|le&63}else if(le<=65535){if(O+2>=oe)break;p[O++]=224|le>>12,p[O++]=128|le>>6&63,p[O++]=128|le&63}else{if(O+3>=oe)break;le>1114111&&Le("Invalid Unicode code point "+Ft(le)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),p[O++]=240|le>>18,p[O++]=128|le>>12&63,p[O++]=128|le>>6&63,p[O++]=128|le&63}}return p[O]=0,O-K},mo=(u,p,O)=>(g(typeof O=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_n(u,_,p,O)),rn=u=>{var p=sr(u)+1,O=cr(p);return mo(u,O,p),O},Rr=(u,p,O,$,K)=>{var oe={string:B=>{var re=0;return B!=null&&B!==0&&(re=rn(B)),re},array:B=>{var re=cr(B.length);return bt(B,re),re}};function se(B){return p==="string"?It(B):p==="boolean"?!!B:B}var le=ar(u),_e=[],ze=0;if(g(p!=="array",'Return type should not be "array".'),$)for(var Ve=0;Ve<$.length;Ve++){var Hn=oe[O[Ve]];Hn?(ze===0&&(ze=zn()),_e[Ve]=Hn($[Ve])):_e[Ve]=$[Ve]}var Yn=V.currData,Ut=le.apply(null,_e);function dt(B){return ir(),ze!==0&&yo(ze),se(B)}var Nr=K&&K.async;return jn(),V.currData!=Yn?(g(!(Yn&&V.currData),"We cannot start an async operation when one is already flight"),g(!(Yn&&!V.currData),"We cannot stop an async operation in flight"),g(Nr,"The call to "+u+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),V.whenDone().then(dt)):(Ut=dt(Ut),Nr?Promise.resolve(Ut):Ut)},on=(u,p,O,$)=>function(){return Rr(u,p,O,arguments,$)};function Sn(){tr("fetchSettings")}var an={emscripten_memcpy_js:bn,emscripten_resize_heap:nn,fd_close:jt,fd_seek:or,fd_write:po};V.instrumentWasmImports(an);var Ue=ho();n._exec_encode=Ae("exec_encode");var Bn=n._fflush=Ae("fflush"),go=n._malloc=Ae("malloc"),lr=n._free=Ae("free"),Wn=()=>(Wn=Ue.emscripten_stack_init)(),Un=()=>(Un=Ue.emscripten_stack_get_end)(),zn=Ae("stackSave"),yo=Ae("stackRestore"),cr=Ae("stackAlloc"),Pr=()=>(Pr=Ue.emscripten_stack_get_current)();n.dynCall_iidiiii=Ae("dynCall_iidiiii"),n.dynCall_vii=Ae("dynCall_vii"),n.dynCall_ii=Ae("dynCall_ii"),n.dynCall_iiii=Ae("dynCall_iiii"),n.dynCall_jiji=Ae("dynCall_jiji");var ur=Ae("asyncify_start_unwind"),Dr=Ae("asyncify_stop_unwind"),vo=Ae("asyncify_start_rewind"),dr=Ae("asyncify_stop_rewind");n.cwrap=on;var Wt=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];Wt.forEach(vn);var bo=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];bo.forEach(nr);var sn;De=function u(){sn||$n(),sn||(De=u)};function tt(){Wn(),Y()}function $n(){if(Ee>0||(tt(),ve(),Ee>0))return;function u(){sn||(sn=!0,n.calledRun=!0,!M&&(J(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),g(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ie()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),u()},1)):u(),G()}function wo(){var u=N,p=R,O=!1;N=R=$=>{O=!0};try{Ir()}catch($){}N=u,R=p,O&&(Le("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Le("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return $n(),t.ready}})();(await ay()).cwrap("exec_encode","number",["string","number","number"],{async:!0});const Eh=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),Th=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),rc=(e,t)=>({startTime:t,type:"setValue",value:e}),kh=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),Fh=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),hi=e=>e.type==="exponentialRampToValue",bs=e=>e.type==="linearRampToValue",to=e=>hi(e)||bs(e),oc=e=>e.type==="setValue",Br=e=>e.type==="setValueCurve",ws=(e,t,n,r)=>{const o=e[t];return o===void 0?r:to(o)||oc(o)?o.value:Br(o)?o.values[o.values.length-1]:Fh(n,ws(e,t-1,o.startTime,r),o)},Oh=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:to(n)?[n.endTime,n.value]:oc(n)?[n.startTime,n.value]:Br(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,ws(e,t-1,n.startTime,o)],ic=e=>e.type==="cancelAndHold",ac=e=>e.type==="cancelScheduledValues",no=e=>ic(e)||ac(e)?e.cancelTime:hi(e)||bs(e)?e.endTime:e.startTime,Ih=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,Rh=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),sy=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},ly=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return sy(r,o)},xs=e=>e.type==="setTarget";class cy{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=no(t);if(ic(t)||ac(t)){const r=this._automationEvents.findIndex(i=>ac(t)&&Br(i)?i.startTime+i.duration>=n:no(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),ic(t)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&to(o)){if(i!==void 0&&xs(i))throw new Error("The internal list is malformed.");const a=i===void 0?o.insertTime:Br(i)?i.startTime+i.duration:no(i),s=i===void 0?this._defaultValue:Br(i)?i.values[i.values.length-1]:i.value,l=hi(o)?Ih(n,a,s,o):Rh(n,a,s,o),c=hi(o)?Eh(l,n,this._currenTime):Th(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&xs(i)&&this._automationEvents.push(rc(this.getValue(n),n)),i!==void 0&&Br(i)&&i.startTime+i.duration>n){const a=n-i.startTime,s=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(a*s)),c=a/(l-1)*s,d=i.values.slice(0,l);if(c<1)for(let h=1;h<l;h+=1){const f=c*h%1;d[h]=i.values[h-1]*(1-f)+i.values[h]*f}this._automationEvents[this._automationEvents.length-1]=kh(d,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>no(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Br(o)&&no(o)+o.duration>n)return!1;const i=hi(t)?Eh(t.value,t.endTime,this._currenTime):bs(t)?Th(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(i);else{if(Br(t)&&n+t.duration>no(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>no(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];xs(o)&&r.unshift(rc(ws(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>no(a)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&xs(i)&&(r===void 0||!to(r)||r.insertTime>t))return Fh(t,ws(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&oc(i)&&(r===void 0||!to(r)))return i.value;if(i!==void 0&&Br(i)&&(r===void 0||!to(r)||i.startTime+i.duration>t))return t<i.startTime+i.duration?ly(t,i):i.values[i.values.length-1];if(i!==void 0&&to(i)&&(r===void 0||!to(r)))return i.value;if(r!==void 0&&hi(r)){const[a,s]=Oh(this._automationEvents,o,i,r,this._defaultValue);return Ih(t,a,s,r)}if(r!==void 0&&bs(r)){const[a,s]=Oh(this._automationEvents,o,i,r,this._defaultValue);return Rh(t,a,s,r)}return this._defaultValue}}const uy=e=>({cancelTime:e,type:"cancelAndHold"}),dy=e=>({cancelTime:e,type:"cancelScheduledValues"}),hy=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),fy=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),py=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),my=()=>new DOMException("","AbortError"),gy=e=>(t,n,[r,o,i],a)=>{e(t[o],[n,r,i],s=>s[0]===n&&s[1]===r,a)},yy=e=>(t,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},vy=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},fi=new WeakSet,Ph=new WeakMap,Dh=new WeakMap,Nh=new WeakMap,Lh=new WeakMap,qh=new WeakMap,jh=new WeakMap,sc=new WeakMap,Bh=new WeakMap,Wh={construct(){return Wh}},by=e=>{try{const t=new Proxy(e,Wh);new t}catch(t){return!1}return!0},Uh=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,zh=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(Uh);for(;o!==null;){const i=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Uh)}return[n.join(";"),r]},$h=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Hh=e=>{if(!by(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},wy=(e,t,n,r,o,i,a,s,l,c,d,h,f)=>{let m=0;return(v,C,k={credentials:"omit"})=>{const j=d.get(v);if(j!==void 0&&j.has(C))return Promise.resolve();const P=c.get(v);if(P!==void 0){const N=P.get(C);if(N!==void 0)return N}const T=i(v),L=T.audioWorklet===void 0?o(C).then(([N,R])=>{const[A,S]=zh(N,R),M="".concat(A,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(S,"\n})})(window,'_AWGS')");return n(M)}).then(()=>{const N=f._AWGS.pop();if(N===void 0)throw new SyntaxError;r(T.currentTime,T.sampleRate,()=>N(class{},void 0,(R,A)=>{if(R.trim()==="")throw t();const S=Bh.get(T);if(S!==void 0){if(S.has(R))throw t();Hh(A),$h(A.parameterDescriptors),S.set(R,A)}else Hh(A),$h(A.parameterDescriptors),Bh.set(T,new Map([[R,A]]))},T.sampleRate,void 0,void 0))}):Promise.all([o(C),Promise.resolve(e(h,h))]).then(([[N,R],A])=>{const S=m+1;m=S;const[M,x]=zh(N,R),g="".concat(M,";((AudioWorkletProcessor,registerProcessor)=>{").concat(x,"\n})(").concat(A?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",",(n,p)=>registerProcessor(n,class extends p{").concat(A?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));","process(i,o,p){").concat(A?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));","return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(S,"',class extends AudioWorkletProcessor{process(){return !1}})"),b=new Blob([g],{type:"application/javascript; charset=utf-8"}),_=URL.createObjectURL(b);return T.audioWorklet.addModule(_,k).then(()=>{if(s(T))return T;const E=a(T);return E.audioWorklet.addModule(_,k).then(()=>E)}).then(E=>{if(l===null)throw new SyntaxError;try{new l(E,"__sac".concat(S))}catch(F){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(_))});return P===void 0?c.set(v,new Map([[C,L]])):P.set(C,L),L.then(()=>{const N=d.get(v);N===void 0?d.set(v,new Set([C])):N.add(C)}).finally(()=>{const N=c.get(v);N!==void 0&&N.delete(C)}),L}},ro=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},_s=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},Yh=(e,t,n,r)=>{const o=ro(e,t),i=_s(o,a=>a[0]===n&&a[1]===r);return o.size===0&&e.delete(t),i},na=e=>ro(jh,e),pi=e=>{if(fi.has(e))throw new Error("The AudioNode is already stored.");fi.add(e),na(e).forEach(t=>t(!0))},Vh=e=>"port"in e,ra=e=>{if(!fi.has(e))throw new Error("The AudioNode is not stored.");fi.delete(e),na(e).forEach(t=>t(!1))},lc=(e,t)=>{!Vh(e)&&t.every(n=>n.size===0)&&ra(e)},xy=(e,t,n,r,o,i,a,s,l,c,d,h,f)=>{const m=new WeakMap;return(v,C,k,j,P)=>{const{activeInputs:T,passiveInputs:L}=i(C),{outputs:N}=i(v),R=s(v),A=S=>{const M=l(C),x=l(v);if(S){const g=Yh(L,v,k,j);e(T,v,g,!1),!P&&!h(v)&&n(x,M,k,j),f(C)&&pi(C)}else{const g=r(T,v,k,j);t(L,j,g,!1),!P&&!h(v)&&o(x,M,k,j);const b=a(C);if(b===0)d(C)&&lc(C,T);else{const _=m.get(C);_!==void 0&&clearTimeout(_),m.set(C,setTimeout(()=>{d(C)&&lc(C,T)},b*1e3))}}};return c(N,[C,k,j],S=>S[0]===C&&S[1]===k&&S[2]===j,!0)?(R.add(A),d(v)?e(T,v,[k,j,A],!0):t(L,j,[v,k,A],!0),!0):!1}},_y=e=>(t,n,[r,o,i],a)=>{const s=t.get(r);s===void 0?t.set(r,new Set([[o,n,i]])):e(s,[o,n,i],l=>l[0]===o&&l[1]===n,a)},Sy=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Cy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},My=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=o(a),c={...Cy,...s},d=r(l,c),h=i(l)?t():null;super(a,!1,d,h),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const s=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=s,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const s=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=s,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Vt=(e,t)=>e.context===t,Ay=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Vt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=e(a,l)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},cc=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch(t){return!1}return!0},ko=()=>new DOMException("","IndexSizeError"),Gh=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?ko():r}})(e.getChannelData)},Ey={numberOfChannels:1},Ty=(e,t,n,r,o,i,a,s)=>{let l=null;return class qm{constructor(d){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:f,sampleRate:m}={...Ey,...d};l===null&&(l=new o(1,1,44100));const v=r!==null&&t(i,i)?new r({length:h,numberOfChannels:f,sampleRate:m}):l.createBuffer(f,h,m);if(v.numberOfChannels===0)throw n();return typeof v.copyFromChannel!="function"?(a(v),Gh(v)):t(cc,()=>cc(v))||s(v),e.add(v),v}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===qm.prototype||e.has(d)}}},dn=-3402823466385289e23,en=-dn,Wr=e=>fi.has(e),ky={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Fy=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const d=i(l),h={...ky,...c},f=o(d,h),m=a(d),v=m?t():null;super(l,!1,f,v),this._audioBufferSourceNodeRenderer=v,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,m,f.playbackRate,en,dn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?s(this,l):null;this._nativeAudioBufferSourceNode.onended=c;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===c?l:d}get playbackRate(){return this._playbackRate}start(l=0,c=0,d){if(this._nativeAudioBufferSourceNode.start(l,c,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[l,c]:[l,c,d]),this.context.state!=="closed"){pi(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),Wr(this)&&ra(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},Oy=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const l=async(c,d)=>{let h=n(c);const f=Vt(h,d);if(!f){const m={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=t(d,m),a!==null&&h.start(...a),s!==null&&h.stop(s)}return i.set(d,h),f?await e(d,c.playbackRate,h.playbackRate):await r(d,c.playbackRate,h.playbackRate),await o(c,d,h),h};return{set start(c){a=c},set stop(c){s=c},render(c,d){const h=i.get(d);return h!==void 0?Promise.resolve(h):l(c,d)}}},Iy=e=>"playbackRate"in e,Ry=e=>"frequency"in e&&"gain"in e,Py=e=>"offset"in e,Dy=e=>!("frequency"in e)&&"gain"in e,Ny=e=>"detune"in e&&"frequency"in e,Ly=e=>"pan"in e,hn=e=>ro(Ph,e),oa=e=>ro(Nh,e),uc=(e,t)=>{const{activeInputs:n}=hn(e);n.forEach(o=>o.forEach(([i])=>{t.includes(e)||uc(i,[...t,e])}));const r=Iy(e)?[e.playbackRate]:Vh(e)?Array.from(e.parameters.values()):Ry(e)?[e.Q,e.detune,e.frequency,e.gain]:Py(e)?[e.offset]:Dy(e)?[e.gain]:Ny(e)?[e.detune,e.frequency]:Ly(e)?[e.pan]:[];for(const o of r){const i=oa(o);i!==void 0&&i.activeInputs.forEach(([a])=>uc(a,t))}Wr(e)&&ra(e)},qy=e=>{uc(e.destination,[])},jy=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),By=(e,t,n,r,o,i,a,s,l)=>class extends e{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(c)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(d===null)throw r();if(!jy(c.latencyHint))throw new TypeError("The provided value '".concat(c.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(c.sampleRate!==void 0&&d.sampleRate!==c.sampleRate)throw n();super(d,2);const{latencyHint:h}=c,{sampleRate:f}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:h==="balanced"?512/f:h==="interactive"||h===void 0?256/f:h==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(h*f/128)))*128/f,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",m)};d.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),qy(this)}))}createMediaElementSource(c){return new o(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new a(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new s(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,d)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?c():this.resume().then(c,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?t():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?t():c})}},Wy=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const d=i(l),h=a(d),f=o(d,c,h),m=h?t(s):null;super(l,!1,f,m),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Uy=e=>{const t=new WeakMap,n=async(r,o)=>{const i=o.destination;return t.set(o,i),await e(r,o,i),i};return{render(r,o){const i=t.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},zy=(e,t,n,r,o,i,a,s)=>(l,c)=>{const d=c.listener,h=()=>{const N=new Float32Array(1),R=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),A=a(c);let S=!1,M=[0,0,-1,0,1,0],x=[0,0,0];const g=()=>{if(S)return;S=!0;const F=r(c,256,9,0);F.onaudioprocess=({inputBuffer:I})=>{const Y=[i(I,N,0),i(I,N,1),i(I,N,2),i(I,N,3),i(I,N,4),i(I,N,5)];Y.some((W,U)=>W!==M[U])&&(d.setOrientation(...Y),M=Y);const G=[i(I,N,6),i(I,N,7),i(I,N,8)];G.some((W,U)=>W!==x[U])&&(d.setPosition(...G),x=G)},R.connect(F)},b=F=>I=>{I!==M[F]&&(M[F]=I,d.setOrientation(...M))},_=F=>I=>{I!==x[F]&&(x[F]=I,d.setPosition(...x))},E=(F,I,Y)=>{const G=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I});G.connect(R,0,F),G.start(),Object.defineProperty(G.offset,"defaultValue",{get(){return I}});const W=e({context:l},A,G.offset,en,dn);return s(W,"value",U=>()=>U.call(W),U=>H=>{try{U.call(W,H)}catch(Q){if(Q.code!==9)throw Q}g(),A&&Y(H)}),W.cancelAndHoldAtTime=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.cancelAndHoldAtTime),W.cancelScheduledValues=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.cancelScheduledValues),W.exponentialRampToValueAtTime=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.exponentialRampToValueAtTime),W.linearRampToValueAtTime=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.linearRampToValueAtTime),W.setTargetAtTime=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.setTargetAtTime),W.setValueAtTime=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.setValueAtTime),W.setValueCurveAtTime=(U=>A?()=>{throw o()}:(...H)=>{const Q=U.apply(W,H);return g(),Q})(W.setValueCurveAtTime),W};return{forwardX:E(0,0,b(0)),forwardY:E(1,0,b(1)),forwardZ:E(2,-1,b(2)),positionX:E(6,0,_(0)),positionY:E(7,0,_(1)),positionZ:E(8,0,_(2)),upX:E(3,0,b(3)),upY:E(4,1,b(4)),upZ:E(5,0,b(5))}},{forwardX:f,forwardY:m,forwardZ:v,positionX:C,positionY:k,positionZ:j,upX:P,upY:T,upZ:L}=d.forwardX===void 0?h():d;return{get forwardX(){return f},get forwardY(){return m},get forwardZ(){return v},get positionX(){return C},get positionY(){return k},get positionZ(){return j},get upX(){return P},get upY(){return T},get upZ(){return L}}},Ss=e=>"context"in e,ia=e=>Ss(e[0]),Fo=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},Xh=(e,t,[n,r],o)=>{Fo(e,[t,n,r],i=>i[0]===t&&i[1]===n,o)},Zh=(e,[t,n,r],o)=>{const i=e.get(t);i===void 0?e.set(t,new Set([[n,r]])):Fo(i,[n,r],a=>a[0]===n,o)},mi=e=>"inputs"in e,Cs=(e,t,n,r)=>{if(mi(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},Jh=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},$y=(e,t,n)=>_s(e,r=>r[0]===t&&r[1]===n),Kh=(e,t)=>{if(!na(e).delete(t))throw new Error("Missing the expected event listener.")},Qh=(e,t,n)=>{const r=ro(e,t),o=_s(r,i=>i[0]===n);return r.size===0&&e.delete(t),o},Ms=(e,t,n,r)=>{mi(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},et=e=>ro(Dh,e),aa=e=>ro(Lh,e),Oo=e=>sc.has(e),As=e=>!fi.has(e),ef=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),i=e.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const s=e.createBufferSource();s.buffer=i,s.loop=!0,s.connect(r).connect(e.destination),s.connect(o),s.disconnect(o),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,d=>d===1)?n(!0):n(!1),s.stop(),r.onaudioprocess=null,s.disconnect(r),r.disconnect(e.destination)},s.start()}}),dc=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>t(o,r))},tf=e=>"context"in e,Hy=e=>{const t=new Map;e.connect=(n=>(r,o=0,i=0)=>{const a=tf(r)?n(r,o,i):n(r,o),s=t.get(r);return s===void 0?t.set(r,[{input:i,output:o}]):s.every(l=>l.input!==i||l.output!==o)&&s.push({input:i,output:o}),a})(e.connect.bind(e)),e.disconnect=(n=>(r,o,i)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[a,s]of t){const l=s.filter(c=>c.output!==r);l.length===0?t.delete(a):t.set(a,l)}else if(t.has(r))if(o===void 0)t.delete(r);else{const a=t.get(r);if(a!==void 0){const s=a.filter(l=>l.output!==o&&(l.input!==i||i===void 0));s.length===0?t.delete(r):t.set(r,s)}}for(const[a,s]of t)s.forEach(l=>{tf(a)?e.connect(a,l.output,l.input):e.connect(a,l.output)})})(e.disconnect)},Yy=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=oa(t),{outputs:a}=hn(e),s=na(e),l=c=>{const d=et(e),h=aa(t);if(c){const f=Qh(i,e,n);Xh(o,e,f,!1),!r&&!Oo(e)&&d.connect(h,n)}else{const f=$y(o,e,n);Zh(i,f,!1),!r&&!Oo(e)&&d.disconnect(h,n)}};return Fo(a,[t,n],c=>c[0]===t&&c[1]===n,!0)?(s.add(l),Wr(e)?Xh(o,e,[n,l],!0):Zh(i,[e,n,l],!0),!0):!1},Vy=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=hn(t),a=Jh(o[r],e,n);return a===null?[Yh(i,e,n,r)[2],!1]:[a[2],!0]},Gy=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=oa(t),i=Jh(r,e,n);return i===null?[Qh(o,e,n)[1],!1]:[i[2],!0]},hc=(e,t,n,r,o)=>{const[i,a]=Vy(e,n,r,o);if(i!==null&&(Kh(e,i),a&&!t&&!Oo(e)&&Ms(et(e),et(n),r,o)),Wr(n)){const{activeInputs:s}=hn(n);lc(n,s)}},fc=(e,t,n,r)=>{const[o,i]=Gy(e,n,r);o!==null&&(Kh(e,o),i&&!t&&!Oo(e)&&et(e).disconnect(aa(n),r))},Xy=(e,t)=>{const n=hn(e),r=[];for(const o of n.outputs)ia(o)?hc(e,t,...o):fc(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},Zy=(e,t,n)=>{const r=hn(e),o=[];for(const i of r.outputs)i[1]===n&&(ia(i)?hc(e,t,...i):fc(e,t,...i),o.push(i[0]),r.outputs.delete(i));return o},Jy=(e,t,n,r,o)=>{const i=hn(e);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(ia(a)?hc(e,t,...a):fc(e,t,...a),i.outputs.delete(a),a[0]))},Ky=(e,t,n,r,o,i,a,s,l,c,d,h,f,m,v,C)=>class extends c{constructor(k,j,P,T){super(P),this._context=k,this._nativeAudioNode=P;const L=d(k);h(L)&&n(ef,()=>ef(L,C))!==!0&&Hy(P),Dh.set(this,P),jh.set(this,new Set),k.state!=="closed"&&j&&pi(this),e(this,T,P)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(k){this._nativeAudioNode.channelCount=k}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(k){this._nativeAudioNode.channelCountMode=k}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(k){this._nativeAudioNode.channelInterpretation=k}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(k,j=0,P=0){if(j<0||j>=this._nativeAudioNode.numberOfOutputs)throw o();const T=d(this._context),L=v(T);if(f(k)||m(k))throw i();if(Ss(k)){const R=et(k);try{const A=Cs(this._nativeAudioNode,R,j,P),S=As(this);(L||S)&&this._nativeAudioNode.disconnect(...A),this.context.state!=="closed"&&!S&&As(k)&&pi(k)}catch(A){throw A.code===12?i():A}if(t(this,k,j,P,L)){const A=l([this],k);dc(A,r(L))}return k}const N=aa(k);if(N.name==="playbackRate"&&N.maxValue===1024)throw a();try{this._nativeAudioNode.connect(N,j),(L||As(this))&&this._nativeAudioNode.disconnect(N,j)}catch(R){throw R.code===12?i():R}if(Yy(this,k,j,L)){const R=l([this],k);dc(R,r(L))}}disconnect(k,j,P){let T;const L=d(this._context),N=v(L);if(k===void 0)T=Xy(this,N);else if(typeof k=="number"){if(k<0||k>=this.numberOfOutputs)throw o();T=Zy(this,N,k)}else{if(j!==void 0&&(j<0||j>=this.numberOfOutputs)||Ss(k)&&P!==void 0&&(P<0||P>=k.numberOfInputs))throw o();if(T=Jy(this,N,k,j,P),T.length===0)throw i()}for(const R of T){const A=l([this],R);dc(A,s)}}},Qy=(e,t,n,r,o,i,a,s,l,c,d,h,f)=>(m,v,C,k=null,j=null)=>{const P=C.value,T=new cy(P),L=v?r(T):null,N={get defaultValue(){return P},get maxValue(){return k===null?C.maxValue:k},get minValue(){return j===null?C.minValue:j},get value(){return C.value},set value(R){C.value=R,N.setValueAtTime(R,m.context.currentTime)},cancelAndHoldAtTime(R){if(typeof C.cancelAndHoldAtTime=="function")L===null&&T.flush(m.context.currentTime),T.add(o(R)),C.cancelAndHoldAtTime(R);else{const A=Array.from(T).pop();L===null&&T.flush(m.context.currentTime),T.add(o(R));const S=Array.from(T).pop();C.cancelScheduledValues(R),A!==S&&S!==void 0&&(S.type==="exponentialRampToValue"?C.exponentialRampToValueAtTime(S.value,S.endTime):S.type==="linearRampToValue"?C.linearRampToValueAtTime(S.value,S.endTime):S.type==="setValue"?C.setValueAtTime(S.value,S.startTime):S.type==="setValueCurve"&&C.setValueCurveAtTime(S.values,S.startTime,S.duration))}return N},cancelScheduledValues(R){return L===null&&T.flush(m.context.currentTime),T.add(i(R)),C.cancelScheduledValues(R),N},exponentialRampToValueAtTime(R,A){if(R===0)throw new RangeError;if(!Number.isFinite(A)||A<0)throw new RangeError;const S=m.context.currentTime;return L===null&&T.flush(S),Array.from(T).length===0&&(T.add(c(P,S)),C.setValueAtTime(P,S)),T.add(a(R,A)),C.exponentialRampToValueAtTime(R,A),N},linearRampToValueAtTime(R,A){const S=m.context.currentTime;return L===null&&T.flush(S),Array.from(T).length===0&&(T.add(c(P,S)),C.setValueAtTime(P,S)),T.add(s(R,A)),C.linearRampToValueAtTime(R,A),N},setTargetAtTime(R,A,S){return L===null&&T.flush(m.context.currentTime),T.add(l(R,A,S)),C.setTargetAtTime(R,A,S),N},setValueAtTime(R,A){return L===null&&T.flush(m.context.currentTime),T.add(c(R,A)),C.setValueAtTime(R,A),N},setValueCurveAtTime(R,A,S){const M=R instanceof Float32Array?R:new Float32Array(R);if(h!==null&&h.name==="webkitAudioContext"){const x=A+S,g=m.context.sampleRate,b=Math.ceil(A*g),_=Math.floor(x*g),E=_-b,F=new Float32Array(E);for(let Y=0;Y<E;Y+=1){const G=(M.length-1)/S*((b+Y)/g-A),W=Math.floor(G),U=Math.ceil(G);F[Y]=W===U?M[W]:(1-(G-W))*M[W]+(1-(U-G))*M[U]}L===null&&T.flush(m.context.currentTime),T.add(d(F,A,S)),C.setValueCurveAtTime(F,A,S);const I=_/g;I<x&&f(N,F[F.length-1],I),f(N,M[M.length-1],x)}else L===null&&T.flush(m.context.currentTime),T.add(d(M,A,S)),C.setValueCurveAtTime(M,A,S);return N}};return n.set(N,C),t.set(N,m),e(N,L),N},e2=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;t.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;t.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}}),t2=(e,t,n,r,o,i,a,s,l,c,d,h,f,m,v,C,k,j,P,T)=>class extends v{constructor(L,N){super(L,N),this._nativeContext=L,this._audioWorklet=e===void 0?void 0:{addModule:(R,A)=>e(this,R,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(L,N,R){return new n({length:N,numberOfChannels:L,sampleRate:R})}createBufferSource(){return new r(this)}createChannelMerger(L=6){return new i(this,{numberOfInputs:L})}createChannelSplitter(L=6){return new a(this,{numberOfOutputs:L})}createConstantSource(){return new s(this)}createConvolver(){return new l(this)}createDelay(L=1){return new d(this,{maxDelayTime:L})}createDynamicsCompressor(){return new h(this)}createGain(){return new f(this)}createIIRFilter(L,N){return new m(this,{feedback:N,feedforward:L})}createOscillator(){return new C(this)}createPanner(){return new k(this)}createPeriodicWave(L,N,R={disableNormalization:!1}){return new j(this,{...R,imag:N,real:L})}createStereoPanner(){return new P(this)}createWaveShaper(){return new T(this)}decodeAudioData(L,N,R){return c(this._nativeContext,L).then(A=>(typeof N=="function"&&N(A),A),A=>{throw typeof R=="function"&&R(A),A})}},n2={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},r2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const d=i(l),h={...n2,...c},f=o(d,h),m=a(d),v=m?n():null;super(l,!1,f,v),this._Q=t(this,m,f.Q,en,dn),this._detune=t(this,m,f.detune,1200*Math.log2(en),-1200*Math.log2(en)),this._frequency=t(this,m,f.frequency,l.sampleRate/2,0),this._gain=t(this,m,f.gain,40*Math.log10(en),dn),this._nativeBiquadFilterNode=f,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,c,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,c,d)}catch(h){throw h.code===11?r():h}if(l.length!==c.length||c.length!==d.length)throw r()}},o2=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const d=Vt(c,l);if(!d){const h={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(l,h)}return i.set(l,c),d?(await e(l,s.Q,c.Q),await e(l,s.detune,c.detune),await e(l,s.frequency,c.frequency),await e(l,s.gain,c.gain)):(await r(l,s.Q,c.Q),await r(l,s.detune,c.detune),await r(l,s.frequency,c.frequency),await r(l,s.gain,c.gain)),await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},i2=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(e.set(n,a),a.catch(()=>!1).then(s=>(e.delete(n),t.set(n,s),s))):(t.set(n,a),a)}catch(a){return t.set(n,!1),!1}},a2={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},s2=(e,t,n,r,o)=>class extends e{constructor(i,a){const s=r(i),l={...a2,...a},c=n(s,l),d=o(s)?t():null;super(i,!1,c,d)}},l2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Vt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(a,l)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},c2={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},u2=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=r(a),c=i({...c2,...s}),d=n(l,c),h=o(l)?t():null;super(a,!1,d,h)}},d2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Vt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(a,l)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},h2=e=>(t,n,r)=>e(n,t,r),f2=e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},p2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},m2=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),d={...p2,...l},h=r(c,d),f=i(c),m=f?n():null;super(s,!1,h,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=h,this._offset=t(this,f,h.offset,en,dn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(s){const l=typeof s=="function"?a(this,s):null;this._nativeConstantSourceNode.onended=l;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===l?s:c}start(s=0){if(this._nativeConstantSourceNode.start(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=s),this.context.state!=="closed"){pi(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),Wr(this)&&ra(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(s=0){this._nativeConstantSourceNode.stop(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=s)}},g2=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const l=async(c,d)=>{let h=n(c);const f=Vt(h,d);if(!f){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=t(d,m),a!==null&&h.start(a),s!==null&&h.stop(s)}return i.set(d,h),f?await e(d,c.offset,h.offset):await r(d,c.offset,h.offset),await o(c,d,h),h};return{set start(c){a=c},set stop(c){s=c},render(c,d){const h=i.get(d);return h!==void 0?Promise.resolve(h):l(c,d)}}},y2=e=>t=>(e[0]=t,e[0]),v2={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},b2=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=r(a),c={...v2,...s},d=n(l,c),h=o(l)?t():null;super(a,!1,d,h),this._isBufferNullified=!1,this._nativeConvolverNode=d,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const s=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=s.createBuffer(1,1,s.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},w2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Vt(s,a)){const l={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(a,l)}return r.set(a,s),mi(s)?await n(i,a,s.inputs[0]):await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},x2=()=>new DOMException("","DataCloneError"),nf=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>o();try{t.postMessage(e,[e])}catch(i){}finally{o()}})},_2=(e,t,n,r,o,i,a,s,l,c,d)=>(h,f)=>{const m=a(h)?h:i(h);if(o.has(f)){const v=n();return Promise.reject(v)}try{o.add(f)}catch(v){}return t(l,()=>l(m))?m.decodeAudioData(f).then(v=>(nf(f).catch(()=>{}),t(s,()=>s(v))||d(v),e.add(v),v)):new Promise((v,C)=>{const k=async()=>{try{await nf(f)}catch(P){}},j=P=>{C(P),k()};try{m.decodeAudioData(f,P=>{typeof P.copyFromChannel!="function"&&(c(P),Gh(P)),e.add(P),k().then(()=>v(P))},P=>{j(P===null?r():P)})}catch(P){j(P)}})},S2=(e,t,n,r,o,i,a,s)=>(l,c)=>{const d=t.get(l);if(d===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),f=s(h);if(d===c){if(t.delete(l),!f&&a(l)){const m=r(l),{outputs:v}=n(l);for(const C of v)if(ia(C)){const k=r(C[0]);e(m,k,C[1],C[2])}else{const k=o(C[0]);m.connect(k,C[1])}}}else t.set(l,d-c)},C2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},M2=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),d={...C2,...l},h=r(c,d),f=i(c),m=f?n(d.maxDelayTime):null;super(s,!1,h,m),this._delayTime=t(this,f,h.delayTime),a(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},A2=(e,t,n,r,o)=>i=>{const a=new WeakMap,s=async(l,c)=>{let d=n(l);const h=Vt(d,c);if(!h){const f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:i};d=t(c,f)}return a.set(c,d),h?await e(c,l.delayTime,d.delayTime):await r(c,l.delayTime,d.delayTime),await o(l,c,d),d};return{render(l,c){const d=a.get(c);return d!==void 0?Promise.resolve(d):s(l,c)}}},E2=e=>(t,n,r,o)=>e(t[o],i=>i[0]===n&&i[1]===r),T2=e=>"delayTime"in e,k2=(e,t,n)=>function r(o,i){const a=Ss(i)?i:n(e,i);if(T2(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:s}=t(a);return Array.from(s).map(l=>r([...o,a],l[0])).reduce((l,c)=>l.concat(c),[])},F2={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},O2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(l,c){const d=i(l),h={...F2,...c},f=r(d,h),m=a(d),v=m?n():null;super(l,!1,f,v),this._attack=t(this,m,f.attack),this._knee=t(this,m,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=t(this,m,f.ratio),this._release=t(this,m,f.release),this._threshold=t(this,m,f.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=c,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},I2=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const d=Vt(c,l);if(!d){const h={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(l,h)}return i.set(l,c),d?(await e(l,s.attack,c.attack),await e(l,s.knee,c.knee),await e(l,s.ratio,c.ratio),await e(l,s.release,c.release),await e(l,s.threshold,c.threshold)):(await r(l,s.attack,c.attack),await r(l,s.knee,c.knee),await r(l,s.ratio,c.ratio),await r(l,s.release,c.release),await r(l,s.threshold,c.threshold)),await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},R2=()=>new DOMException("","EncodingError"),P2=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const i=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(a),l=e.onerror,c=()=>{e.onerror=l,URL.revokeObjectURL(s)};e.onerror=(d,h,f,m,v)=>{if(h===s||h===e.location.href&&f===1&&m===1)return c(),r(v),!1;if(l!==null)return l(d,h,f,m,v)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=s,i.type="module",o.appendChild(i)}}),D2=e=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,n,r){if(n!==null){let o=this._listeners.get(n);o===void 0&&(o=e(this,n),typeof n=="function"&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(t,o,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,n,r){const o=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,r)}},N2=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},L2=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch(n){}throw e()},q2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},j2=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=o(a),c={...q2,...s},d=r(l,c),h=i(l),f=h?n():null;super(a,!1,d,f),this._gain=t(this,h,d.gain,en,dn)}get gain(){return this._gain}},B2=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const d=Vt(c,l);if(!d){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(l,h)}return i.set(l,c),d?await e(l,s.gain,c.gain):await r(l,s.gain,c.gain),await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},W2=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},U2=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},z2=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Gt=()=>new DOMException("","InvalidStateError"),$2=e=>t=>{const n=e.get(t);if(n===void 0)throw Gt();return n},H2=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},Es=()=>new DOMException("","InvalidAccessError"),Y2=e=>{e.getFrequencyResponse=(t=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw Es();return t.call(e,n,r,o)})(e.getFrequencyResponse)},V2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},G2=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=r(a),c=o(l),d={...V2,...s},h=t(l,c?null:a.baseLatency,d),f=c?n(d.feedback,d.feedforward):null;super(a,!1,h,f),Y2(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,s,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,s,l)}},rf=(e,t,n,r,o,i,a,s,l,c,d)=>{const h=c.length;let f=s;for(let m=0;m<h;m+=1){let v=n[0]*c[m];for(let C=1;C<o;C+=1){const k=f-C&l-1;v+=n[C]*i[k],v-=e[C]*a[k]}for(let C=o;C<r;C+=1)v+=n[C]*i[f-C&l-1];for(let C=o;C<t;C+=1)v-=e[C]*a[f-C&l-1];i[f]=c[m],a[f]=v,f=f+1&l-1,d[m]=v}return f},X2=(e,t,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),a=o.length,s=i.length,l=Math.min(a,s);if(o[0]!==1){for(let v=0;v<a;v+=1)i[v]/=o[0];for(let v=1;v<s;v+=1)o[v]/=o[0]}const c=32,d=new Float32Array(c),h=new Float32Array(c),f=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),m=e.numberOfChannels;for(let v=0;v<m;v+=1){const C=e.getChannelData(v),k=f.getChannelData(v);d.fill(0),h.fill(0),rf(o,a,i,s,l,d,h,0,c,C,k)}return f},Z2=(e,t,n,r,o)=>(i,a)=>{const s=new WeakMap;let l=null;const c=async(d,h)=>{let f=null,m=t(d);const v=Vt(m,h);if(h.createIIRFilter===void 0?f=e(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):v||(m=h.createIIRFilter(a,i)),s.set(h,f===null?m:f),f!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new n(d.context.destination.channelCount,d.context.length,h.sampleRate);l=(async()=>{await r(d,k,k.destination);const j=await o(k);return X2(j,h,i,a)})()}const C=await l;return f.buffer=C,f.start(0),f}return await r(d,h,m),m};return{render(d,h){const f=s.get(h);return f!==void 0?Promise.resolve(f):c(d,h)}}},J2=(e,t,n,r,o,i)=>a=>(s,l)=>{const c=e.get(s);if(c===void 0){if(!a&&i(s)){const d=r(s),{outputs:h}=n(s);for(const f of h)if(ia(f)){const m=r(f[0]);t(d,m,f[1],f[2])}else{const m=o(f[0]);d.disconnect(m,f[1])}}e.set(s,l)}else e.set(s,c+l)},K2=e=>t=>e!==null&&t instanceof e,Q2=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,ev=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,tv=(e,t)=>n=>e(n)||t(n),nv=e=>t=>e!==null&&t instanceof e,rv=e=>e!==null&&e.isSecureContext,ov=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o),s=t(a,i);if(r(a))throw TypeError();super(o,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},iv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},av=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o);if(r(a))throw new TypeError;const s={...iv,...i},l=t(a,s);super(o,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},sv=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o),s=t(a,i);if(r(a))throw new TypeError;super(o,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},lv=(e,t,n)=>class extends e{constructor(r,o){const i=n(r),a=t(i,o);super(r,!0,a,null)}},cv=(e,t,n,r,o,i)=>class extends n{constructor(a,s){super(a),this._nativeContext=a,qh.set(this,a),r(a)&&o.set(a,new Set),this._destination=new e(this,s),this._listener=t(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const s=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=s;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===s?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},pc=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch(n){}return!1},uv=(e,t)=>(n,r,o)=>{const i=new Set;return n.connect=(a=>(s,l=0,c=0)=>{const d=i.size===0;if(t(s))return a.call(n,s,l,c),e(i,[s,l,c],h=>h[0]===s&&h[1]===l&&h[2]===c,!0),d&&r(),s;a.call(n,s,l),e(i,[s,l],h=>h[0]===s&&h[1]===l,!0),d&&r()})(n.connect),n.disconnect=(a=>(s,l,c)=>{const d=i.size>0;if(s===void 0)a.apply(n),i.clear();else if(typeof s=="number"){a.call(n,s);for(const f of i)f[1]===s&&i.delete(f)}else{t(s)?a.call(n,s,l,c):a.call(n,s,l);for(const f of i)f[0]===s&&(l===void 0||f[1]===l)&&(c===void 0||f[2]===c)&&i.delete(f)}const h=i.size===0;d&&h&&o()})(n.disconnect),n},Ke=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},mt=(e,t)=>{Ke(e,t,"channelCount"),Ke(e,t,"channelCountMode"),Ke(e,t,"channelInterpretation")},of=e=>typeof e.getFloatTimeDomainData=="function",dv=e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let o=0;o<r;o+=1)t[o]=(n[o]-128)*.0078125;return t}},hv=(e,t)=>(n,r)=>{const o=n.createAnalyser();if(mt(o,r),!(r.maxDecibels>r.minDecibels))throw t();return Ke(o,r,"fftSize"),Ke(o,r,"maxDecibels"),Ke(o,r,"minDecibels"),Ke(o,r,"smoothingTimeConstant"),e(of,()=>of(o))||dv(o),o},fv=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,rt=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},pv=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Gt();t.call(e,r,o,i),n=!0}})(e.start)},mc=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},gc=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},mv=(e,t,n,r,o,i,a,s,l,c,d)=>(h,f)=>{const m=h.createBufferSource();return mt(m,f),rt(m,f,"playbackRate"),Ke(m,f,"buffer"),Ke(m,f,"loop"),Ke(m,f,"loopEnd"),Ke(m,f,"loopStart"),t(n,()=>n(h))||pv(m),t(r,()=>r(h))||l(m),t(o,()=>o(h))||c(m,h),t(i,()=>i(h))||mc(m),t(a,()=>a(h))||d(m,h),t(s,()=>s(h))||gc(m),e(h,m),m},gv=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,yv=(e,t)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch(s){}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=e(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return t(a,"channelCount",s=>()=>s.call(a),s=>l=>{s.call(a,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),t(a,"channelCountMode",s=>()=>s.call(a),s=>l=>{s.call(a,l),i.channelCountMode=l}),t(a,"channelInterpretation",s=>()=>s.call(a),s=>l=>{s.call(a,l),i.channelInterpretation=l}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},vv=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,bv=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),af=(e,t)=>{const n=e.createBiquadFilter();return mt(n,t),rt(n,t,"Q"),rt(n,t,"detune"),rt(n,t,"frequency"),rt(n,t,"gain"),Ke(n,t,"type"),n},wv=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),mt(o,r),o},xv=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw Gt()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Gt()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Gt()}})},yc=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return mt(n,t),xv(n),n},_v=(e,t,n,r,o)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const s=i.createConstantSource();return mt(s,a),rt(s,a,"offset"),t(r,()=>r(i))||mc(s),t(o,()=>o(i))||gc(s),e(i,s),s},gi=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Sv=(e,t,n,r)=>(o,{offset:i,...a})=>{const s=o.createBuffer(1,2,44100),l=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(o,{...a,gain:i}),d=s.getChannelData(0);d[0]=1,d[1]=1,l.buffer=s,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(v){c.channelCount=v},get channelCountMode(){return c.channelCountMode},set channelCountMode(v){c.channelCountMode=v},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(v){c.channelInterpretation=v},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(v){l.onended=v},addEventListener(...v){return l.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return l.dispatchEvent(v[0])},removeEventListener(...v){return l.removeEventListener(v[0],v[1],v[2])},start(v=0){l.start.call(l,v)},stop(v=0){l.stop.call(l,v)}},f=()=>l.connect(c),m=()=>l.disconnect(c);return e(o,l),r(gi(h,c),f,m)},Cv=(e,t)=>(n,r)=>{const o=n.createConvolver();if(mt(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Ke(o,r,"buffer"),r.channelCount>2||(t(o,"channelCount",i=>()=>i.call(o),i=>a=>{if(a>2)throw e();return i.call(o,a)}),r.channelCountMode==="max"))throw e();return t(o,"channelCountMode",i=>()=>i.call(o),i=>a=>{if(a==="max")throw e();return i.call(o,a)}),o},sf=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return mt(n,t),rt(n,t,"delayTime"),n},Mv=e=>(t,n)=>{const r=t.createDynamicsCompressor();if(mt(r,n),n.channelCount>2||n.channelCountMode==="max")throw e();return rt(r,n,"attack"),rt(r,n,"knee"),rt(r,n,"ratio"),rt(r,n,"release"),rt(r,n,"threshold"),r},Jn=(e,t)=>{const n=e.createGain();return mt(n,t),rt(n,t,"gain"),n},Av=e=>(t,n,r)=>{if(t.createIIRFilter===void 0)return e(t,n,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return mt(o,r),o};function Ev(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Tv(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function lf(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)n=Tv(n,t),n[0]+=e[r];return n}const kv=(e,t,n,r)=>(o,i,{channelCount:a,channelCountMode:s,channelInterpretation:l,feedback:c,feedforward:d})=>{const h=bv(i,o.sampleRate),f=c instanceof Float64Array?c:new Float64Array(c),m=d instanceof Float64Array?d:new Float64Array(d),v=f.length,C=m.length,k=Math.min(v,C);if(v===0||v>20)throw r();if(f[0]===0)throw t();if(C===0||C>20)throw r();if(m[0]===0)throw t();if(f[0]!==1){for(let A=0;A<C;A+=1)m[A]/=f[0];for(let A=1;A<v;A+=1)f[A]/=f[0]}const j=n(o,h,a,a);j.channelCount=a,j.channelCountMode=s,j.channelInterpretation=l;const P=32,T=[],L=[],N=[];for(let A=0;A<a;A+=1){T.push(0);const S=new Float32Array(P),M=new Float32Array(P);S.fill(0),M.fill(0),L.push(S),N.push(M)}j.onaudioprocess=A=>{const S=A.inputBuffer,M=A.outputBuffer,x=S.numberOfChannels;for(let g=0;g<x;g+=1){const b=S.getChannelData(g),_=M.getChannelData(g);T[g]=rf(f,v,m,C,k,L[g],N[g],T[g],P,b,_)}};const R=o.sampleRate/2;return gi({get bufferSize(){return h},get channelCount(){return j.channelCount},set channelCount(A){j.channelCount=A},get channelCountMode(){return j.channelCountMode},set channelCountMode(A){j.channelCountMode=A},get channelInterpretation(){return j.channelInterpretation},set channelInterpretation(A){j.channelInterpretation=A},get context(){return j.context},get inputs(){return[j]},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},addEventListener(...A){return j.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return j.dispatchEvent(A[0])},getFrequencyResponse(A,S,M){if(A.length!==S.length||S.length!==M.length)throw e();const x=A.length;for(let g=0;g<x;g+=1){const b=-Math.PI*(A[g]/R),_=[Math.cos(b),Math.sin(b)],E=lf(m,_),F=lf(f,_),I=Ev(E,F);S[g]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),M[g]=Math.atan2(I[1],I[0])}},removeEventListener(...A){return j.removeEventListener(A[0],A[1],A[2])}},j)},Fv=(e,t)=>e.createMediaElementSource(t.mediaElement),Ov=(e,t)=>{const n=e.createMediaStreamDestination();return mt(n,t),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Iv=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},Rv=(e,t)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw e();if(t(n))throw new TypeError;return i},Pv=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,Dv=(e,t,n,r,o,i)=>(a,s)=>{const l=a.createOscillator();return mt(l,s),rt(l,s,"detune"),rt(l,s,"frequency"),s.periodicWave!==void 0?l.setPeriodicWave(s.periodicWave):Ke(l,s,"type"),t(n,()=>n(a))||mc(l),t(r,()=>r(a))||i(l,a),t(o,()=>o(a))||gc(l),e(a,l),l},Nv=e=>(t,n)=>{const r=t.createPanner();return r.orientationX===void 0?e(t,n):(mt(r,n),rt(r,n,"orientationX"),rt(r,n,"orientationY"),rt(r,n,"orientationZ"),rt(r,n,"positionX"),rt(r,n,"positionY"),rt(r,n,"positionZ"),Ke(r,n,"coneInnerAngle"),Ke(r,n,"coneOuterAngle"),Ke(r,n,"coneOuterGain"),Ke(r,n,"distanceModel"),Ke(r,n,"maxDistance"),Ke(r,n,"panningModel"),Ke(r,n,"refDistance"),Ke(r,n,"rolloffFactor"),r)},Lv=(e,t,n,r,o,i,a,s,l,c)=>(d,{coneInnerAngle:h,coneOuterAngle:f,coneOuterGain:m,distanceModel:v,maxDistance:C,orientationX:k,orientationY:j,orientationZ:P,panningModel:T,positionX:L,positionY:N,positionZ:R,refDistance:A,rolloffFactor:S,...M})=>{const x=d.createPanner();if(M.channelCount>2||M.channelCountMode==="max")throw a();mt(x,M);const g={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},b=n(d,{...g,channelInterpretation:"speakers",numberOfInputs:6}),_=r(d,{...M,gain:1}),E=r(d,{...g,gain:1}),F=r(d,{...g,gain:0}),I=r(d,{...g,gain:0}),Y=r(d,{...g,gain:0}),G=r(d,{...g,gain:0}),W=r(d,{...g,gain:0}),U=o(d,256,6,1),H=i(d,{...g,curve:new Float32Array([1,1]),oversample:"none"});let Q=[k,j,P],ve=[L,N,R];const J=new Float32Array(1);U.onaudioprocess=({inputBuffer:ae})=>{const Ee=[l(ae,J,0),l(ae,J,1),l(ae,J,2)];Ee.some((De,Ne)=>De!==Q[Ne])&&(x.setOrientation(...Ee),Q=Ee);const Se=[l(ae,J,3),l(ae,J,4),l(ae,J,5)];Se.some((De,Ne)=>De!==ve[Ne])&&(x.setPosition(...Se),ve=Se)},Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(ae){if(ae>2)throw a();_.channelCount=ae,x.channelCount=ae},get channelCountMode(){return x.channelCountMode},set channelCountMode(ae){if(ae==="max")throw a();_.channelCountMode=ae,x.channelCountMode=ae},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(ae){_.channelInterpretation=ae,x.channelInterpretation=ae},get coneInnerAngle(){return x.coneInnerAngle},set coneInnerAngle(ae){x.coneInnerAngle=ae},get coneOuterAngle(){return x.coneOuterAngle},set coneOuterAngle(ae){x.coneOuterAngle=ae},get coneOuterGain(){return x.coneOuterGain},set coneOuterGain(ae){if(ae<0||ae>1)throw t();x.coneOuterGain=ae},get context(){return x.context},get distanceModel(){return x.distanceModel},set distanceModel(ae){x.distanceModel=ae},get inputs(){return[_]},get maxDistance(){return x.maxDistance},set maxDistance(ae){if(ae<0)throw new RangeError;x.maxDistance=ae},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get orientationX(){return E.gain},get orientationY(){return F.gain},get orientationZ(){return I.gain},get panningModel(){return x.panningModel},set panningModel(ae){x.panningModel=ae},get positionX(){return Y.gain},get positionY(){return G.gain},get positionZ(){return W.gain},get refDistance(){return x.refDistance},set refDistance(ae){if(ae<0)throw new RangeError;x.refDistance=ae},get rolloffFactor(){return x.rolloffFactor},set rolloffFactor(ae){if(ae<0)throw new RangeError;x.rolloffFactor=ae},addEventListener(...ae){return _.addEventListener(ae[0],ae[1],ae[2])},dispatchEvent(...ae){return _.dispatchEvent(ae[0])},removeEventListener(...ae){return _.removeEventListener(ae[0],ae[1],ae[2])}};h!==ie.coneInnerAngle&&(ie.coneInnerAngle=h),f!==ie.coneOuterAngle&&(ie.coneOuterAngle=f),m!==ie.coneOuterGain&&(ie.coneOuterGain=m),v!==ie.distanceModel&&(ie.distanceModel=v),C!==ie.maxDistance&&(ie.maxDistance=C),k!==ie.orientationX.value&&(ie.orientationX.value=k),j!==ie.orientationY.value&&(ie.orientationY.value=j),P!==ie.orientationZ.value&&(ie.orientationZ.value=P),T!==ie.panningModel&&(ie.panningModel=T),L!==ie.positionX.value&&(ie.positionX.value=L),N!==ie.positionY.value&&(ie.positionY.value=N),R!==ie.positionZ.value&&(ie.positionZ.value=R),A!==ie.refDistance&&(ie.refDistance=A),S!==ie.rolloffFactor&&(ie.rolloffFactor=S),(Q[0]!==1||Q[1]!==0||Q[2]!==0)&&x.setOrientation(...Q),(ve[0]!==0||ve[1]!==0||ve[2]!==0)&&x.setPosition(...ve);const xe=()=>{_.connect(x),e(_,H,0,0),H.connect(E).connect(b,0,0),H.connect(F).connect(b,0,1),H.connect(I).connect(b,0,2),H.connect(Y).connect(b,0,3),H.connect(G).connect(b,0,4),H.connect(W).connect(b,0,5),b.connect(U).connect(d.destination)},me=()=>{_.disconnect(x),s(_,H,0,0),H.disconnect(E),E.disconnect(b),H.disconnect(F),F.disconnect(b),H.disconnect(I),I.disconnect(b),H.disconnect(Y),Y.disconnect(b),H.disconnect(G),G.disconnect(b),H.disconnect(W),W.disconnect(b),b.disconnect(U),U.disconnect(d.destination)};return c(gi(ie,x),xe,me)},qv=e=>(t,{disableNormalization:n,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),a=o instanceof Float32Array?o:new Float32Array(o),s=t.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(r).length<2)throw e();return s},Ts=(e,t,n,r)=>e.createScriptProcessor(t,n,r),jv=(e,t)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw t();if(n.createStereoPanner===void 0)return e(n,r);const i=n.createStereoPanner();return mt(i,r),rt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:a=>{if(a!==o)throw t()}}),i},Bv=(e,t,n,r,o,i)=>{const a=new Float32Array([1,1]),s=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...l,oversample:"none"},d=(m,v,C,k)=>{const j=new Float32Array(16385),P=new Float32Array(16385);for(let S=0;S<16385;S+=1){const M=S/16384*s;j[S]=Math.cos(M),P[S]=Math.sin(M)}const T=n(m,{...l,gain:0}),L=r(m,{...c,curve:j}),N=r(m,{...c,curve:a}),R=n(m,{...l,gain:0}),A=r(m,{...c,curve:P});return{connectGraph(){v.connect(T),v.connect(N.inputs===void 0?N:N.inputs[0]),v.connect(R),N.connect(C),C.connect(L.inputs===void 0?L:L.inputs[0]),C.connect(A.inputs===void 0?A:A.inputs[0]),L.connect(T.gain),A.connect(R.gain),T.connect(k,0,0),R.connect(k,0,1)},disconnectGraph(){v.disconnect(T),v.disconnect(N.inputs===void 0?N:N.inputs[0]),v.disconnect(R),N.disconnect(C),C.disconnect(L.inputs===void 0?L:L.inputs[0]),C.disconnect(A.inputs===void 0?A:A.inputs[0]),L.disconnect(T.gain),A.disconnect(R.gain),T.disconnect(k,0,0),R.disconnect(k,0,1)}}},h=(m,v,C,k)=>{const j=new Float32Array(16385),P=new Float32Array(16385),T=new Float32Array(16385),L=new Float32Array(16385),N=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>N){const Y=(I-N)/(16384-N)*s;j[I]=Math.cos(Y),P[I]=Math.sin(Y),T[I]=0,L[I]=1}else{const Y=I/(16384-N)*s;j[I]=1,P[I]=0,T[I]=Math.cos(Y),L[I]=Math.sin(Y)}const R=t(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=n(m,{...l,gain:0}),S=r(m,{...c,curve:j}),M=n(m,{...l,gain:0}),x=r(m,{...c,curve:P}),g=r(m,{...c,curve:a}),b=n(m,{...l,gain:0}),_=r(m,{...c,curve:T}),E=n(m,{...l,gain:0}),F=r(m,{...c,curve:L});return{connectGraph(){v.connect(R),v.connect(g.inputs===void 0?g:g.inputs[0]),R.connect(A,0),R.connect(M,0),R.connect(b,1),R.connect(E,1),g.connect(C),C.connect(S.inputs===void 0?S:S.inputs[0]),C.connect(x.inputs===void 0?x:x.inputs[0]),C.connect(_.inputs===void 0?_:_.inputs[0]),C.connect(F.inputs===void 0?F:F.inputs[0]),S.connect(A.gain),x.connect(M.gain),_.connect(b.gain),F.connect(E.gain),A.connect(k,0,0),b.connect(k,0,0),M.connect(k,0,1),E.connect(k,0,1)},disconnectGraph(){v.disconnect(R),v.disconnect(g.inputs===void 0?g:g.inputs[0]),R.disconnect(A,0),R.disconnect(M,0),R.disconnect(b,1),R.disconnect(E,1),g.disconnect(C),C.disconnect(S.inputs===void 0?S:S.inputs[0]),C.disconnect(x.inputs===void 0?x:x.inputs[0]),C.disconnect(_.inputs===void 0?_:_.inputs[0]),C.disconnect(F.inputs===void 0?F:F.inputs[0]),S.disconnect(A.gain),x.disconnect(M.gain),_.disconnect(b.gain),F.disconnect(E.gain),A.disconnect(k,0,0),b.disconnect(k,0,0),M.disconnect(k,0,1),E.disconnect(k,0,1)}}},f=(m,v,C,k,j)=>{if(v===1)return d(m,C,k,j);if(v===2)return h(m,C,k,j);throw o()};return(m,{channelCount:v,channelCountMode:C,pan:k,...j})=>{if(C==="max")throw o();const P=e(m,{...j,channelCount:1,channelCountMode:C,numberOfInputs:2}),T=n(m,{...j,channelCount:v,channelCountMode:C,gain:1}),L=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:k});let{connectGraph:N,disconnectGraph:R}=f(m,v,T,L,P);Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"maxValue",{get:()=>1}),Object.defineProperty(L.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(g){T.channelCount!==g&&(S&&R(),{connectGraph:N,disconnectGraph:R}=f(m,g,T,L,P),S&&N()),T.channelCount=g},get channelCountMode(){return T.channelCountMode},set channelCountMode(g){if(g==="clamped-max"||g==="max")throw o();T.channelCountMode=g},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(g){T.channelInterpretation=g},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return L.gain},addEventListener(...g){return T.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return T.dispatchEvent(g[0])},removeEventListener(...g){return T.removeEventListener(g[0],g[1],g[2])}};let S=!1;const M=()=>{N(),S=!0},x=()=>{R(),S=!1};return i(gi(A,P),M,x)}},Wv=(e,t,n,r,o,i,a)=>(s,l)=>{const c=s.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&s.createGain().gain.automationRate===void 0)return n(s,l);mt(c,l);const d=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(d!==null&&d.length<2)throw t();Ke(c,{curve:d},"curve"),Ke(c,l,"oversample");let h=null,f=!1;return a(c,"curve",m=>()=>m.call(c),m=>v=>(m.call(c,v),f&&(r(v)&&h===null?h=e(s,c):!r(v)&&h!==null&&(h(),h=null)),v)),o(c,()=>{f=!0,r(c.curve)&&(h=e(s,c))},()=>{f=!1,h!==null&&(h(),h=null)})},Uv=(e,t,n,r,o)=>(i,{curve:a,oversample:s,...l})=>{const c=i.createWaveShaper(),d=i.createWaveShaper();mt(c,l),mt(d,l);const h=n(i,{...l,gain:1}),f=n(i,{...l,gain:-1}),m=n(i,{...l,gain:1}),v=n(i,{...l,gain:-1});let C=null,k=!1,j=null;const P={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(N){h.channelCount=N,f.channelCount=N,c.channelCount=N,m.channelCount=N,d.channelCount=N,v.channelCount=N},get channelCountMode(){return c.channelCountMode},set channelCountMode(N){h.channelCountMode=N,f.channelCountMode=N,c.channelCountMode=N,m.channelCountMode=N,d.channelCountMode=N,v.channelCountMode=N},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(N){h.channelInterpretation=N,f.channelInterpretation=N,c.channelInterpretation=N,m.channelInterpretation=N,d.channelInterpretation=N,v.channelInterpretation=N},get context(){return c.context},get curve(){return j},set curve(N){if(N!==null&&N.length<2)throw t();if(N===null)c.curve=N,d.curve=N;else{const R=N.length,A=new Float32Array(R+2-R%2),S=new Float32Array(R+2-R%2);A[0]=N[0],S[0]=-N[R-1];const M=Math.ceil((R+1)/2),x=(R+1)/2-1;for(let g=1;g<M;g+=1){const b=g/M*x,_=Math.floor(b),E=Math.ceil(b);A[g]=_===E?N[_]:(1-(b-_))*N[_]+(1-(E-b))*N[E],S[g]=_===E?-N[R-1-_]:-((1-(b-_))*N[R-1-_])-(1-(E-b))*N[R-1-E]}A[M]=R%2===1?N[M-1]:(N[M-2]+N[M-1])/2,c.curve=A,d.curve=S}j=N,k&&(r(j)&&C===null?C=e(i,h):C!==null&&(C(),C=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(N){c.oversample=N,d.oversample=N},addEventListener(...N){return h.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return h.dispatchEvent(N[0])},removeEventListener(...N){return h.removeEventListener(N[0],N[1],N[2])}};a!==null&&(P.curve=a instanceof Float32Array?a:new Float32Array(a)),s!==P.oversample&&(P.oversample=s);const T=()=>{h.connect(c).connect(m),h.connect(f).connect(d).connect(v).connect(m),k=!0,r(j)&&(C=e(i,h))},L=()=>{h.disconnect(c),c.disconnect(m),h.disconnect(f),f.disconnect(d),d.disconnect(v),v.disconnect(m),k=!1,C!==null&&(C(),C=null)};return o(gi(P,m),T,L)},Fn=()=>new DOMException("","NotSupportedError"),zv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},$v=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),d={...zv,...l},h=n(c,d),f=i(c),m=f?r():null,v=s.sampleRate/2;super(s,!1,h,m),this._detune=t(this,f,h.detune,153600,-153600),this._frequency=t(this,f,h.frequency,v,-v),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(s){const l=typeof s=="function"?a(this,s):null;this._nativeOscillatorNode.onended=l;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===l?s:c}get type(){return this._nativeOscillatorNode.type}set type(s){this._nativeOscillatorNode.type=s,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(s){this._nativeOscillatorNode.setPeriodicWave(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=s)}start(s=0){if(this._nativeOscillatorNode.start(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=s),this.context.state!=="closed"){pi(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),Wr(this)&&ra(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(s=0){this._nativeOscillatorNode.stop(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=s)}},Hv=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null,l=null;const c=async(d,h)=>{let f=n(d);const m=Vt(f,h);if(!m){const v={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:a===null?void 0:a,type:f.type};f=t(h,v),s!==null&&f.start(s),l!==null&&f.stop(l)}return i.set(h,f),m?(await e(h,d.detune,f.detune),await e(h,d.frequency,f.frequency)):(await r(h,d.detune,f.detune),await r(h,d.frequency,f.frequency)),await o(d,h,f),f};return{set periodicWave(d){a=d},set start(d){s=d},set stop(d){l=d},render(d,h){const f=i.get(h);return f!==void 0?Promise.resolve(f):c(d,h)}}},Yv={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Vv=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),d={...Yv,...l},h=n(c,d),f=i(c),m=f?r():null;super(s,!1,h,m),this._nativePannerNode=h,this._orientationX=t(this,f,h.orientationX,en,dn),this._orientationY=t(this,f,h.orientationY,en,dn),this._orientationZ=t(this,f,h.orientationZ,en,dn),this._positionX=t(this,f,h.positionX,en,dn),this._positionY=t(this,f,h.positionY,en,dn),this._positionZ=t(this,f,h.positionZ,en,dn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(s){this._nativePannerNode.coneInnerAngle=s}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(s){this._nativePannerNode.coneOuterAngle=s}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(s){this._nativePannerNode.coneOuterGain=s}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(s){this._nativePannerNode.distanceModel=s}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(s){this._nativePannerNode.maxDistance=s}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(s){this._nativePannerNode.panningModel=s}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(s){this._nativePannerNode.refDistance=s}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(s){this._nativePannerNode.rolloffFactor=s}},Gv=(e,t,n,r,o,i,a,s,l,c)=>()=>{const d=new WeakMap;let h=null;const f=async(m,v)=>{let C=null,k=i(m);const j={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},P={...j,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},T=Vt(k,v);if("bufferSize"in k)C=r(v,{...j,gain:1});else if(!T){const L={...P,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=o(v,L)}if(d.set(v,C===null?k:C),C!==null){if(h===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const g=new a(6,m.context.length,v.sampleRate),b=t(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});b.connect(g.destination),h=(async()=>{const _=await Promise.all([m.orientationX,m.orientationY,m.orientationZ,m.positionX,m.positionY,m.positionZ].map(async(E,F)=>{const I=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F===0?1:0});return await s(g,E,I.offset),I}));for(let E=0;E<6;E+=1)_[E].connect(b,0,E),_[E].start(0);return c(g)})()}const L=await h,N=r(v,{...j,gain:1});await l(m,v,N);const R=[];for(let g=0;g<L.numberOfChannels;g+=1)R.push(L.getChannelData(g));let A=[R[0][0],R[1][0],R[2][0]],S=[R[3][0],R[4][0],R[5][0]],M=r(v,{...j,gain:1}),x=o(v,{...P,orientationX:A[0],orientationY:A[1],orientationZ:A[2],positionX:S[0],positionY:S[1],positionZ:S[2]});N.connect(M).connect(x.inputs[0]),x.connect(C);for(let g=128;g<L.length;g+=128){const b=[R[0][g],R[1][g],R[2][g]],_=[R[3][g],R[4][g],R[5][g]];if(b.some((E,F)=>E!==A[F])||_.some((E,F)=>E!==S[F])){A=b,S=_;const E=g/v.sampleRate;M.gain.setValueAtTime(0,E),M=r(v,{...j,gain:0}),x=o(v,{...P,orientationX:A[0],orientationY:A[1],orientationZ:A[2],positionX:S[0],positionY:S[1],positionZ:S[2]}),M.gain.setValueAtTime(1,E),N.connect(M).connect(x.inputs[0]),x.connect(C)}}return C}return T?(await e(v,m.orientationX,k.orientationX),await e(v,m.orientationY,k.orientationY),await e(v,m.orientationZ,k.orientationZ),await e(v,m.positionX,k.positionX),await e(v,m.positionY,k.positionY),await e(v,m.positionZ,k.positionZ)):(await s(v,m.orientationX,k.orientationX),await s(v,m.orientationY,k.orientationY),await s(v,m.orientationZ,k.orientationZ),await s(v,m.positionX,k.positionX),await s(v,m.positionY,k.positionY),await s(v,m.positionZ,k.positionZ)),mi(k)?await l(m,v,k.inputs[0]):await l(m,v,k),k};return{render(m,v){const C=d.get(v);return C!==void 0?Promise.resolve(C):f(m,v)}}},Xv={disableNormalization:!1},Zv=(e,t,n,r)=>class jm{constructor(i,a){const s=t(i),l=r({...Xv,...a}),c=e(s,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===jm.prototype||n.has(i)}},Jv=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),Kv=(e,t,n)=>async(r,o,i)=>{const a=e(r);await Promise.all(a.activeInputs.map((s,l)=>Array.from(s).map(async([c,d])=>{const h=await t(c).render(c,o),f=r.context.destination;!n(c)&&(r!==f||!n(r))&&h.connect(i,d,l)})).reduce((s,l)=>[...s,...l],[]))},Qv=(e,t,n)=>async(r,o,i)=>{const a=t(r);await Promise.all(Array.from(a.activeInputs).map(async([s,l])=>{const c=await e(s).render(s,o);n(s)||c.connect(i,l)}))},eb=(e,t,n,r)=>o=>e(pc,()=>pc(o))?Promise.resolve(e(r,r)).then(i=>{if(!i){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const a=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=s=>{a.disconnect(),i(s.renderedBuffer)},a.connect(o.destination),o.startRendering()}),tb=e=>(t,n)=>e.set(t,n),nb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},rb=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const l=o(a),c={...nb,...s},d=n(l,c),h=i(l),f=h?r():null;super(a,!1,d,f),this._pan=t(this,h,d.pan)}get pan(){return this._pan}},ob=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,l)=>{let c=n(s);const d=Vt(c,l);if(!d){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(l,h)}return i.set(l,c),d?await e(l,s.pan,c.pan):await r(l,s.pan,c.pan),mi(c)?await o(s,l,c.inputs[0]):await o(s,l,c),c};return{render(s,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},ib=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch(t){return!1}return!0},ab=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(o);const s=new e(r,"a",{numberOfOutputs:0}),l=r.createOscillator();s.port.onmessage=()=>i=!0,s.onprocessorerror=()=>a=!0,l.connect(s),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch(s){}finally{URL.revokeObjectURL(o)}return i&&!a},sb=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},lb=()=>new DOMException("","UnknownError"),cb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ub=(e,t,n,r,o,i,a)=>class extends e{constructor(s,l){const c=o(s),d={...cb,...l},h=n(c,d),f=i(c)?r():null;super(s,!0,h,f),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(s){if(s===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(s.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=s}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(s){this._nativeWaveShaperNode.oversample=s}},db=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Vt(s,a)){const l={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(a,l)}return r.set(a,s),mi(s)?await n(i,a,s.inputs[0]):await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},hb=()=>typeof window>"u"?null:window,fb=(e,t)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(s),d=r.length;for(let h=a<0?-a:0;h+a<l&&h<d;h+=1)r[h]=c[h+a]},n.copyToChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const l=n.length,c=n.getChannelData(s),d=r.length;for(let h=a<0?-a:0;h+a<l&&h<d;h+=1)c[h+a]=r[h]}},pb=e=>t=>{t.copyFromChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyToChannel)},mb=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const i=o.call(t);return i===r?null:i},o=>i=>o.call(t,i===null?r:i))},gb=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const i=r.numberOfInputs;for(let a=0;a<i;a+=1)o.connect(r,0,a)},()=>o.disconnect(r))},cf=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),uf=e=>{if(e===null)return!1;const t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0},sa=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:i,set:a}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(i),set:r(a)})},yb=e=>({...e,channelCount:e.numberOfOutputs}),vb=e=>{const{imag:t,real:n}=e;return t===void 0?n===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,()=>0),real:n}:n===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:n}},df=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;df(e,t,n+1e-7)}},bb=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch(n){return!0}return!1},wb=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch(r){return!1}return!0},xb=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch(n){return!1}return!0},vc=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},hf=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},bc=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},_b=e=>{e.start=(t=>(n=0,r=0,o)=>{const i=e.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,o)})(e.start)},ff=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),gi(e,n),e.stop=(o=>{let i=!1;return(a=0)=>{if(i)try{o.call(e,a)}catch(s){n.gain.setValueAtTime(0,a)}else o.call(e,a),i=!0}})(e.stop)},la=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},Sb=gy(Fo),Cb=_y(Fo),Mb=E2(_s),pf=new WeakMap,Ab=U2(pf),Ur=i2(new Map,new WeakMap),Sr=hb(),mf=hv(Ur,ko),gf=W2(hn),Dt=Kv(hn,gf,Oo),Eb=Ay(mf,et,Dt),Xe=$2(qh),Io=Pv(Sr),He=nv(Io),yf=new WeakMap,vf=D2(la),ca=gv(Sr),bf=K2(ca),wf=Q2(Sr),Tb=ev(Sr),wc=vv(Sr),lt=Ky(yy(Ph),xy(Sb,Cb,Cs,Mb,Ms,hn,Ab,na,et,Fo,Wr,Oo,As),Ur,J2(sc,Ms,hn,et,aa,Wr),ko,Es,Fn,S2(Cs,sc,hn,et,aa,Xe,Wr,He),k2(yf,hn,ro),vf,Xe,bf,wf,Tb,He,wc),kb=My(lt,Eb,ko,mf,Xe,He),xf=new WeakSet,_f=fv(Sr),Sf=y2(new Uint32Array(1)),Cf=fb(Sf,ko),Mf=pb(Sf),xc=Ty(xf,Ur,Fn,_f,Io,ib(_f),Cf,Mf),ks=Sy(Jn),Af=Qv(gf,oa,Oo),zr=h2(Af),ua=mv(ks,Ur,bb,wb,xb,vc,hf,bc,_b,mb(sa),ff),$r=Jv(z2(oa),Af),Fb=Oy(zr,ua,et,$r,Dt),Cr=Qy(vy(Nh),yf,Lh,e2,uy,dy,hy,fy,py,rc,kh,ca,df),Ef=Fy(lt,Fb,Cr,Gt,ua,Xe,He,la),Ob=Wy(lt,Uy,ko,Gt,yv(Jn,sa),Xe,He,Dt),Ib=o2(zr,af,et,$r,Dt),Ro=tb(pf),da=r2(lt,Cr,Ib,Es,af,Xe,He,Ro),yi=uv(Fo,wf),Rb=gb(Gt,yi),vi=wv(ca,Rb),Pb=l2(vi,et,Dt),Db=s2(lt,Pb,vi,Xe,He),Nb=d2(yc,et,Dt),Lb=u2(lt,Nb,yc,Xe,He,yb),qb=Sv(ks,ua,Jn,yi),Fs=_v(ks,Ur,qb,vc,bc),jb=g2(zr,Fs,et,$r,Dt),Bb=m2(lt,Cr,jb,Fs,Xe,He,la),Tf=Cv(Fn,sa),Wb=w2(Tf,et,Dt),kf=b2(lt,Wb,Tf,Xe,He,Ro),Ub=A2(zr,sf,et,$r,Dt),zb=M2(lt,Cr,Ub,sf,Xe,He,Ro),Ff=Mv(Fn),$b=I2(zr,Ff,et,$r,Dt),Of=O2(lt,Cr,$b,Ff,Fn,Xe,He,Ro),Hb=B2(zr,Jn,et,$r,Dt),If=j2(lt,Cr,Hb,Jn,Xe,He),Yb=kv(Es,Gt,Ts,Fn),Rf=eb(Ur,Jn,Ts,sb(Jn,Io)),Vb=Z2(ua,et,Io,Dt,Rf),Gb=Av(Yb),Pf=G2(lt,Gb,Vb,Xe,He,Ro),Xb=zy(Cr,vi,Fs,Ts,Fn,cf,He,sa),Zb=new WeakMap,Jb=cv(Ob,Xb,vf,He,Zb,la),Df=Dv(ks,Ur,vc,hf,bc,ff),Kb=Hv(zr,Df,et,$r,Dt),Qb=$v(lt,Cr,Df,Kb,Xe,He,la),Nf=f2(ua),ew=Uv(Nf,Gt,Jn,uf,yi),Os=Wv(Nf,Gt,ew,uf,yi,ca,sa),tw=Lv(Cs,Gt,vi,Jn,Ts,Os,Fn,Ms,cf,yi),Lf=Nv(tw),nw=Gv(zr,vi,Fs,Jn,Lf,et,Io,$r,Dt,Rf),rw=Vv(lt,Cr,Lf,nw,Xe,He,Ro),ow=qv(ko),iw=Zv(ow,Xe,new WeakSet,vb),aw=Bv(vi,yc,Jn,Os,Fn,yi),qf=jv(aw,Fn),sw=ob(zr,qf,et,$r,Dt),lw=rb(lt,Cr,qf,sw,Xe,He),cw=db(Os,et,Dt),uw=ub(lt,Gt,Os,cw,Xe,He,Ro),dw=rv(Sr),hw=N2(Sr),fw=new WeakMap,pw=H2(fw,Io),mw=dw?wy(Ur,Fn,P2(Sr),hw,L2(my),Xe,pw,He,wc,new WeakMap,new WeakMap,ab(wc,Io),Sr):void 0,gw=tv(bf,He),yw=_2(xf,Ur,x2,R2,new WeakSet,Xe,gw,cc,pc,Cf,Mf),vw=t2(mw,kb,xc,Ef,da,Db,Lb,Bb,kf,yw,zb,Of,If,Pf,Jb,Qb,rw,iw,lw,uw),bw=ov(lt,Fv,Xe,He),jf=av(lt,Ov,Xe,He),ww=sv(lt,Iv,Xe,He),xw=Rv(Gt,He),_w=lv(lt,xw,Xe),Sw=By(vw,Gt,Fn,lb,bw,jf,ww,_w,ca);class Cw{constructor(t){if(this.isRecording=!1,this.recordedAudio=[],this.endpoint=t,this.playAmount=0,this.playMovingAverage=[],this.playSampleLength=1,this.audioQueue=[],this.demodulation="USB",this.accumulator=[],this.decodeFT8=!1,this.farthestDistance=0,this.nb=!1,this.mute=!1,this.squelchMute=!1,this.squelch=!1,this.squelchThreshold=0,this.power=1,this.ctcss=!1,this.audioCtx&&this.audioCtx.state=="running")startaudio=document.getElementById("startaudio"),startaudio&&startaudio.remove();else{const n=()=>{this.audioCtx&&this.audioCtx.state!=="running"&&this.audioCtx.resume();const r=document.getElementById("startaudio");r&&r.remove(),document.documentElement.removeEventListener("mousedown",n)};document.documentElement.addEventListener("mousedown",n)}this.mode=0,this.d=10,this.v=10,this.n2=10,this.n1=10,this.var=10,this.highThres=1,this.initTimer()}async init(){return this.promise?this.promise:(this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.audioSocket=new WebSocket(this.endpoint),this.audioSocket.binaryType="arraybuffer",this.firstAudioMessage=!0,this.audioSocket.onmessage=this.socketMessageInitial.bind(this),this.promise)}stop(){this.audioSocket.close(),this.decoder.free()}initAudio(t){const n=this.audioOutputSps;try{this.audioCtx=new Sw({sampleRate:n})}catch(r){this.resolvePromise();return}this.audioStartTime=this.audioCtx.currentTime,this.playTime=this.audioCtx.currentTime+.1,this.playStartTime=this.audioCtx.currentTime,this.decoder=Xg(t.audio_compression,this.audioMaxSps,this.trueAudioSps,this.audioOutputSps),this.bassBoost=new da(this.audioCtx),this.bassBoost.type="lowshelf",this.bassBoost.frequency.value=150,this.bassBoost.Q.value=.7,this.bassBoost.gain.value=6,this.bandpass=new da(this.audioCtx),this.bandpass.type="peaking",this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=3,this.highPass=new da(this.audioCtx),this.highPass.type="highpass",this.highPass.frequency.value=60,this.highPass.Q.value=.7,this.presenceBoost=new da(this.audioCtx),this.presenceBoost.type="peaking",this.presenceBoost.frequency.value=3500,this.presenceBoost.Q.value=1.5,this.presenceBoost.gain.value=4,this.convolverNode=new kf(this.audioCtx),this.setLowpass(15e3),this.compressor=new Of(this.audioCtx),this.compressor.threshold.value=-24,this.compressor.knee.value=30,this.compressor.ratio.value=12,this.compressor.attack.value=.003,this.compressor.release.value=.25,this.gainNode=new If(this.audioCtx),this.setGain(5),this.destinationNode=new jf(this.audioCtx),this.convolverNode.connect(this.highPass),this.highPass.connect(this.bandpass),this.bandpass.connect(this.bassBoost),this.bassBoost.connect(this.presenceBoost),this.presenceBoost.connect(this.compressor),this.compressor.connect(this.gainNode),this.gainNode.connect(this.destinationNode),this.gainNode.connect(this.audioCtx.destination),this.audioInputNode=this.convolverNode,this.updateFilters(),this.resolvePromise(t)}updateFilters(){switch(this.demodulation){case"USB":case"LSB":case"CW":this.bassBoost.gain.value=12,this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=3,this.highPass.frequency.value=60,this.presenceBoost.gain.value=4,this.setLowpass(3e3);break;case"CW":this.bassBoost.gain.value=0,this.bandpass.frequency.value=700,this.bandpass.Q.value=1.2,this.bandpass.gain.value=2,this.highPass.frequency.value=400,this.presenceBoost.gain.value=1,this.setLowpass(1e3);break;case"AM":this.bassBoost.gain.value=20,this.bandpass.frequency.value=1500,this.bandpass.Q.value=1,this.bandpass.gain.value=2,this.highPass.frequency.value=50,this.presenceBoost.gain.value=3,this.setLowpass(4500);break;case"FM":this.bassBoost.gain.value=30,this.bandpass.frequency.value=1500,this.bandpass.Q.value=.8,this.bandpass.gain.value=2,this.highPass.frequency.value=this.ctcss?300:30,this.presenceBoost.gain.value=3,this.setLowpass(15e3);break}}setFIRFilter(t){const n=new xc({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});n.copyToChannel(t,0,0),this.convolverNode.buffer=n}setLowpass(t){const n=this.audioOutputSps;if(t>=n/2){this.setFIRFilter(Float32Array.of(1));return}const r=Kd(t/n,1e3/n,.001);this.setFIRFilter(r)}setFT8Decoding(t){this.decodeFT8=t}setFmDeemph(t){if(t===0){this.audioInputNode=this.convolverNode;return}const n=1/t,r=this.audioOutputSps,o=-(2*r*Math.tan(n/(2*r)))/(2*r),i=-1,a=(1+o)/(1-o),s=-o/(1-o),l=[s*1,s*-i],c=[1,-a];this.fmDeemphNode=new Pf(this.audioCtx,{feedforward:l,feedback:c}),this.fmDeemphNode.connect(this.convolverNode),this.audioInputNode=this.fmDeemphNode}socketMessageInitial(t){const n=JSON.parse(t.data);this.settings=n,this.fftSize=n.fft_size,this.audioMaxSize=n.fft_result_size,this.baseFreq=n.basefreq,this.totalBandwidth=n.total_bandwidth,this.sps=n.sps,this.audioOverlap=n.fft_overlap/2,this.audioMaxSps=n.audio_max_sps,this.grid_locator=n.grid_locator,this.smeter_offset=n.smeter_offset,this.audioL=n.defaults.l,this.audioM=n.defaults.m,this.audioR=n.defaults.r;const r=Math.ceil(this.audioMaxSps*this.audioMaxSize/this.sps/4)*4;this.trueAudioSps=r/this.audioMaxSize*this.sps,this.audioOutputSps=Math.min(this.audioMaxSps,96e3),this.audioSocket.onmessage=this.socketMessage.bind(this),this.initAudio(n),console.log("Audio Samplerate: ",this.trueAudioSps)}socketMessage(t){if(t.data instanceof ArrayBuffer){const n=hh(new Uint8Array(t.data)),r=n.pwr;this.power=.5*this.power+.5*r||1;const o=20*Math.log10(Math.sqrt(this.power)/2);this.dBPower=o,this.squelch&&o<this.squelchThreshold?this.squelchMute=!0:this.squelchMute=!1,this.decode(n.data)}}decode(t){if(!this.audioCtx)return;let n=this.decoder.decode(t);if(n.length!==0){if(this.intervals=this.intervals||Ch(1e4,0),this.lens=this.lens||Ch(1e4,0),this.lastReceived=this.lastReceived||0,this.lastReceived===0)this.lastReceived=performance.now();else{const r=performance.now(),o=r-this.lastReceived;this.intervals.push(o),this.lastReceived=r,this.lens.push(n.length);let i=!0;this.mode===0?Math.abs(o-this.n1)>Math.abs(this.v)*2+800&&(this.var=0,this.mode=1):(this.var=this.var/2+Math.abs((2*o-this.n1-this.n2)/8),this.var<=63&&(this.mode=0,i=!1)),i&&(this.mode===0?this.d=.125*o+.875*this.d:this.d=this.d+o-this.n1,this.v=.125*Math.abs(o-this.d)+.875*this.v),this.n2=this.n1,this.n1=o}this.pcmArray=n,this.signalDecoder&&this.signalDecoder.decode(n),this.playAudio(n)}}updateAudioParams(){this.demodulation=="CW"?this.audioSocket.send(JSON.stringify({cmd:"window",l:this.audioLOffset,m:this.audioMOffset,r:this.audioROffset})):this.audioSocket.send(JSON.stringify({cmd:"window",l:this.audioL,m:this.audioM,r:this.audioR}))}setAudioDemodulation(t){this.demodulation=t,t=="CW"&&(t="USB"),this.updateFilters(),this.audioSocket.send(JSON.stringify({cmd:"demodulation",demodulation:t}))}setAudioRange(t,n,r,o,i,a){this.audioL=Math.floor(t),this.audioM=n,this.audioR=Math.ceil(r),this.actualL=t,this.actualR=r,this.audioLOffset=Math.floor(o),this.audioMOffset=i,this.audioROffset=Math.ceil(a),this.actualLOffset=o,this.actualROffset=a,this.updateAudioParams()}getAudioRange(){return[this.actualL,this.audioM,this.actualR]}setAudioOptions(t){this.audioOptions=t,this.audioSocket.send(JSON.stringify({cmd:"options",options:t}))}setGain(t){t/=35,this.gain=t,this.gainNode.gain.value=t}setMute(t){t!==this.mute&&(this.mute=t,this.audioSocket.send(JSON.stringify({cmd:"mute",mute:t})))}setCTCSSFilter(t){this.ctcss=t,this.updateFilters()}setSquelch(t){this.squelch=t}setSquelchThreshold(t){this.squelchThreshold=t}getPowerDb(){return this.dBPower}setUserID(t){this.audioSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSignalDecoder(t){this.signalDecoder=t}getSignalDecoder(){return this.signalDecoder}gridSquareToLatLong(t){const n=t.toUpperCase();let r=(n.charCodeAt(0)-65)*20-180,o=(n.charCodeAt(1)-65)*10-90;return n.length>=4&&(r+=(n.charCodeAt(2)-48)*2,o+=n.charCodeAt(3)-48),n.length==6?(r+=(n.charCodeAt(4)-65)*.08333333333333333,o+=(n.charCodeAt(5)-65)*.041666666666666664,r+=.041666666666666664,o+=.010416666666666666):n.length==4&&(r+=1,o+=.5),[o,r]}initTimer(){setInterval(()=>{this.updateCollectionStatus()},1e3)}extractGridLocators(t){const n=/[A-R]{2}[0-9]{2}([A-X]{2})?/gi,r=t.match(n);return r?Array.from(new Set(r)):[]}calculateDistance(t,n,r,o){function i(f){return f*Math.PI/180}var a=6371,s=i(r-t),l=i(o-n),c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i(t))*Math.cos(i(r))*Math.sin(l/2)*Math.sin(l/2),d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),h=a*d;return h}updateCollectionStatus(){const t=15-new Date().getSeconds()%15;t===15&&!this.isCollecting?this.startCollection():t===1&&this.isCollecting&&this.stopCollection()}startCollection(){this.isCollecting=!0,this.accumulator=[]}async stopCollection(){if(this.isCollecting=!1,this.decodeFT8){const t=new Float32Array(this.accumulator.flat());let n=await iy(t);const r=document.getElementById("ft8MessagesList");let o=this.gridSquareToLatLong(this.grid_locator);for(let i of n){let a=this.extractGridLocators(i.text);if(a.length>0){let s=this.gridSquareToLatLong(a[0]),l=this.calculateDistance(o[0],o[1],s[0],s[1]);l>this.farthestDistance&&(this.farthestDistance=l,document.getElementById("farthest-distance").textContent="Farthest Distance: ".concat(this.farthestDistance.toFixed(2)," km"));const c=document.createElement("div");c.classList.add("glass-message","p-2","rounded-lg","text-sm","flex","justify-between","items-center");const d=document.createElement("div");d.classList.add("flex-grow"),d.textContent=i.text,c.appendChild(d);const h=document.createElement("div");h.classList.add("flex","flex-col","items-end","ml-2","text-xs");const f=document.createElement("div");a.forEach((v,C)=>{const k=document.createElement("a");k.href="https://www.levinecentral.com/ham/grid_square.php?&Grid=".concat(v,"&Zoom=13&sm=y"),k.classList.add("text-yellow-300","hover:underline"),k.textContent=v,k.target="_blank",C>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(k)}),h.appendChild(f);const m=document.createElement("div");m.textContent="".concat(l.toFixed(2)," km"),h.appendChild(m),c.appendChild(h),r.appendChild(c)}}setTimeout(()=>{r.scrollTop=r.scrollHeight},500)}}playAudio(t){if(this.mute||this.squelchMute&&this.squelch||this.audioCtx.state!=="running")return;this.isCollecting&&this.decodeFT8&&this.accumulator.push(...t);const n=this.playPCM(t,this.playTime,this.audioOutputSps,1),r=this.audioCtx.currentTime,o=.1;this.playTime-r<=o?this.playTime=r+o+n:this.playTime-r>.5?this.playTime=r+o:this.playTime+=n,this.isRecording&&this.recordedAudio.push(...t)}playPCM(t,n,r,o){if(!this.audioInputNode)return console.warn("Audio not initialized"),0;const i=new Ef(this.audioCtx),a=new xc({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});a.copyToChannel(t,0,0),i.buffer=a,i.connect(this.audioInputNode);const s=Math.max(n,this.audioCtx.currentTime);return i.start(s),i.onended=()=>{i.disconnect()},a.duration}startRecording(){this.isRecording||(this.isRecording=!0,this.recordedChunks=[],this.mediaRecorder=new MediaRecorder(this.destinationNode.stream),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.start())}stopRecording(){this.isRecording&&(this.isRecording=!1,this.mediaRecorder.stop())}downloadRecording(){if(this.recordedChunks.length===0){console.warn("No recorded audio to download");return}new Blob(this.recordedChunks,{type:"audio/webm"}).arrayBuffer().then(t=>{this.audioCtx.decodeAudioData(t).then(n=>{const r=this.createWavFile(n),o=URL.createObjectURL(new Blob([r],{type:"audio/wav"})),i=document.createElement("a");document.body.appendChild(i),i.style.display="none",i.href=o,i.download="recorded_audio.wav",i.click(),window.URL.revokeObjectURL(o)})})}createWavFile(t){const n=t.numberOfChannels,r=t.sampleRate,o=1,i=16,a=i/8,s=n*a,l=r*s,c=t.length*s,d=44+c,h=new ArrayBuffer(d),f=new DataView(h),m=(C,k,j)=>{for(let P=0;P<j.length;P++)C.setUint8(k+P,j.charCodeAt(P))};m(f,0,"RIFF"),f.setUint32(4,d-8,!0),m(f,8,"WAVE"),m(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,o,!0),f.setUint16(22,n,!0),f.setUint32(24,r,!0),f.setUint32(28,l,!0),f.setUint16(32,s,!0),f.setUint16(34,i,!0),m(f,36,"data"),f.setUint32(40,c,!0);const v=44;for(let C=0;C<t.numberOfChannels;C++){const k=t.getChannelData(C);for(let j=0;j<k.length;j++){const P=Math.max(-1,Math.min(1,k[j]));f.setInt16(v+(j*n+C)*a,P*32767,!0)}}return h}}var Mw={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function Aw(e,t,n){return e*(1-n)+t*n}var Ew=Aw,Bf=Mw,Is=Ew,Tw=kw;function kw(e){var t,n,r,o,i,a,s,l,f,c,d;if(e||(e={}),l=(e.nshades||72)-1,s=e.format||"hex",a=e.colormap,a||(a="jet"),typeof a=="string"){if(a=a.toLowerCase(),!Bf[a])throw Error(a+" not a supported colorscale");i=Bf[a]}else if(Array.isArray(a))i=a.slice();else throw Error("unsupported colormap option",a);if(i.length>l+1)throw new Error(a+" map requires nshades to be at least size "+i.length);Array.isArray(e.alpha)?e.alpha.length!==2?c=[1,1]:c=e.alpha.slice():typeof e.alpha=="number"?c=[e.alpha,e.alpha]:c=[1,1],t=i.map(function(C){return Math.round(C.index*l)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var h=i.map(function(C,k){var j=i[k].index,P=i[k].rgb.slice();return P.length===4&&P[3]>=0&&P[3]<=1||(P[3]=c[0]+(c[1]-c[0])*j),P}),f=[];for(d=0;d<t.length-1;++d){o=t[d+1]-t[d],n=h[d],r=h[d+1];for(var m=0;m<o;m++){var v=m/o;f.push([Math.round(Is(n[0],r[0],v)),Math.round(Is(n[1],r[1],v)),Math.round(Is(n[2],r[2],v)),Is(n[3],r[3],v)])}}return f.push(i[i.length-1].rgb.concat(c[1])),s==="hex"?f=f.map(Ow):s==="rgbaString"?f=f.map(Iw):s==="float"&&(f=f.map(Fw)),f}function Fw(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function Ow(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function Iw(e){return"rgba("+e.join(",")+")"}const Rw=Mo(Tw),Pw=[[.18995,.07176,.23217],[.19483,.08339,.26149],[.19956,.09498,.29024],[.20415,.10652,.31844],[.2086,.11802,.34607],[.21291,.12947,.37314],[.21708,.14087,.39964],[.22111,.15223,.42558],[.225,.16354,.45096],[.22875,.17481,.47578],[.23236,.18603,.50004],[.23582,.1972,.52373],[.23915,.20833,.54686],[.24234,.21941,.56942],[.24539,.23044,.59142],[.2483,.24143,.61286],[.25107,.25237,.63374],[.25369,.26327,.65406],[.25618,.27412,.67381],[.25853,.28492,.693],[.26074,.29568,.71162],[.2628,.30639,.72968],[.26473,.31706,.74718],[.26652,.32768,.76412],[.26816,.33825,.7805],[.26967,.34878,.79631],[.27103,.35926,.81156],[.27226,.3697,.82624],[.27334,.38008,.84037],[.27429,.39043,.85393],[.27509,.40072,.86692],[.27576,.41097,.87936],[.27628,.42118,.89123],[.27667,.43134,.90254],[.27691,.44145,.91328],[.27701,.45152,.92347],[.27698,.46153,.93309],[.2768,.47151,.94214],[.27648,.48144,.95064],[.27603,.49132,.95857],[.27543,.50115,.96594],[.27469,.51094,.97275],[.27381,.52069,.97899],[.27273,.5304,.98461],[.27106,.54015,.9893],[.26878,.54995,.99303],[.26592,.55979,.99583],[.26252,.56967,.99773],[.25862,.57958,.99876],[.25425,.5895,.99896],[.24946,.59943,.99835],[.24427,.60937,.99697],[.23874,.61931,.99485],[.23288,.62923,.99202],[.22676,.63913,.98851],[.22039,.64901,.98436],[.21382,.65886,.97959],[.20708,.66866,.97423],[.20021,.67842,.96833],[.19326,.68812,.9619],[.18625,.69775,.95498],[.17923,.70732,.94761],[.17223,.7168,.93981],[.16529,.7262,.93161],[.15844,.73551,.92305],[.15173,.74472,.91416],[.14519,.75381,.90496],[.13886,.76279,.8955],[.13278,.77165,.8858],[.12698,.78037,.8759],[.12151,.78896,.86581],[.11639,.7974,.85559],[.11167,.80569,.84525],[.10738,.81381,.83484],[.10357,.82177,.82437],[.10026,.82955,.81389],[.0975,.83714,.80342],[.09532,.84455,.79299],[.09377,.85175,.78264],[.09287,.85875,.7724],[.09267,.86554,.7623],[.0932,.87211,.75237],[.09451,.87844,.74265],[.09662,.88454,.73316],[.09958,.8904,.72393],[.10342,.896,.715],[.10815,.90142,.70599],[.11374,.90673,.69651],[.12014,.91193,.6866],[.12733,.91701,.67627],[.13526,.92197,.66556],[.14391,.9268,.65448],[.15323,.93151,.64308],[.16319,.93609,.63137],[.17377,.94053,.61938],[.18491,.94484,.60713],[.19659,.94901,.59466],[.20877,.95304,.58199],[.22142,.95692,.56914],[.23449,.96065,.55614],[.24797,.96423,.54303],[.2618,.96765,.52981],[.27597,.97092,.51653],[.29042,.97403,.50321],[.30513,.97697,.48987],[.32006,.97974,.47654],[.33517,.98234,.46325],[.35043,.98477,.45002],[.36581,.98702,.43688],[.38127,.98909,.42386],[.39678,.99098,.41098],[.41229,.99268,.39826],[.42778,.99419,.38575],[.44321,.99551,.37345],[.45854,.99663,.3614],[.47375,.99755,.34963],[.48879,.99828,.33816],[.50362,.99879,.32701],[.51822,.9991,.31622],[.53255,.99919,.30581],[.54658,.99907,.29581],[.56026,.99873,.28623],[.57357,.99817,.27712],[.58646,.99739,.26849],[.59891,.99638,.26038],[.61088,.99514,.2528],[.62233,.99366,.24579],[.63323,.99195,.23937],[.64362,.98999,.23356],[.65394,.98775,.22835],[.66428,.98524,.2237],[.67462,.98246,.2196],[.68494,.97941,.21602],[.69525,.9761,.21294],[.70553,.97255,.21032],[.71577,.96875,.20815],[.72596,.9647,.2064],[.7361,.96043,.20504],[.74617,.95593,.20406],[.75617,.95121,.20343],[.76608,.94627,.20311],[.77591,.94113,.2031],[.78563,.93579,.20336],[.79524,.93025,.20386],[.80473,.92452,.20459],[.8141,.91861,.20552],[.82333,.91253,.20663],[.83241,.90627,.20788],[.84133,.89986,.20926],[.8501,.89328,.21074],[.85868,.88655,.2123],[.86709,.87968,.21391],[.8753,.87267,.21555],[.88331,.86553,.21719],[.89112,.85826,.2188],[.8987,.85087,.22038],[.90605,.84337,.22188],[.91317,.83576,.22328],[.92004,.82806,.22456],[.92666,.82025,.2257],[.93301,.81236,.22667],[.93909,.80439,.22744],[.94489,.79634,.228],[.95039,.78823,.22831],[.9556,.78005,.22836],[.96049,.77181,.22811],[.96507,.76352,.22754],[.96931,.75519,.22663],[.97323,.74682,.22536],[.97679,.73842,.22369],[.98,.73,.22161],[.98289,.7214,.21918],[.98549,.7125,.2165],[.98781,.7033,.21358],[.98986,.69382,.21043],[.99163,.68408,.20706],[.99314,.67408,.20348],[.99438,.66386,.19971],[.99535,.65341,.19577],[.99607,.64277,.19165],[.99654,.63193,.18738],[.99675,.62093,.18297],[.99672,.60977,.17842],[.99644,.59846,.17376],[.99593,.58703,.16899],[.99517,.57549,.16412],[.99419,.56386,.15918],[.99297,.55214,.15417],[.99153,.54036,.1491],[.98987,.52854,.14398],[.98799,.51667,.13883],[.9859,.50479,.13367],[.9836,.49291,.12849],[.98108,.48104,.12332],[.97837,.4692,.11817],[.97545,.4574,.11305],[.97234,.44565,.10797],[.96904,.43399,.10294],[.96555,.42241,.09798],[.96187,.41093,.0931],[.95801,.39958,.08831],[.95398,.38836,.08362],[.94977,.37729,.07905],[.94538,.36638,.07461],[.94084,.35566,.07031],[.93612,.34513,.06616],[.93125,.33482,.06218],[.92623,.32473,.05837],[.92105,.31489,.05475],[.91572,.3053,.05134],[.91024,.29599,.04814],[.90463,.28696,.04516],[.89888,.27824,.04243],[.89298,.26981,.03993],[.88691,.26152,.03753],[.88066,.25334,.03521],[.87422,.24526,.03297],[.8676,.2373,.03082],[.86079,.22945,.02875],[.8538,.2217,.02677],[.84662,.21407,.02487],[.83926,.20654,.02305],[.83172,.19912,.02131],[.82399,.19182,.01966],[.81608,.18462,.01809],[.80799,.17753,.0166],[.79971,.17055,.0152],[.79125,.16368,.01387],[.7826,.15693,.01264],[.77377,.15028,.01148],[.76476,.14374,.01041],[.75556,.13731,.00942],[.74617,.13098,.00851],[.73661,.12477,.00769],[.72686,.11867,.00695],[.71692,.11268,.00629],[.7068,.1068,.00571],[.6965,.10102,.00522],[.68602,.09536,.00481],[.67535,.0898,.00449],[.66449,.08436,.00424],[.65345,.07902,.00408],[.64223,.0738,.00401],[.63082,.06868,.00401],[.61923,.06367,.0041],[.60746,.05878,.00427],[.5955,.05399,.00453],[.58336,.04931,.00486],[.57103,.04474,.00529],[.55852,.04028,.00579],[.54583,.03593,.00638],[.53295,.03169,.00705],[.51989,.02756,.0078],[.50664,.02354,.00863],[.49321,.01963,.00955],[.4796,.01583,.01055]],Dw=[[0,0,0],[0,0,.007843],[0,0,.015686],[0,0,.023529],[0,0,.031373],[0,0,.039216],[0,0,.047059],[0,0,.054902],[0,0,.062745],[0,0,.070588],[0,0,.078431],[0,0,.086275],[0,0,.094118],[0,0,.101961],[0,0,.109804],[0,0,.117647],[0,0,.12549],[0,0,.133333],[0,0,.141176],[0,0,.14902],[0,0,.156863],[0,0,.164706],[0,0,.172549],[0,0,.180392],[0,0,.188235],[0,0,.196078],[0,0,.203922],[0,0,.211765],[0,0,.219608],[0,0,.227451],[0,0,.235294],[0,0,.243137],[0,0,.25098],[0,0,.258824],[0,0,.266667],[0,0,.27451],[0,0,.282353],[0,0,.290196],[0,0,.298039],[0,0,.305882],[0,0,.313725],[0,0,.321569],[0,0,.329412],[0,0,.337255],[0,0,.345098],[0,0,.352941],[0,0,.360784],[0,0,.368627],[0,0,.376471],[0,0,.384314],[0,0,.392157],[0,0,.4],[0,0,.407843],[0,0,.415686],[0,0,.423529],[0,0,.431373],[0,0,.439216],[0,0,.447059],[0,0,.454902],[0,0,.462745],[0,0,.470588],[0,0,.478431],[0,0,.486275],[0,0,.494118],[0,0,.501961],[.011765,0,.509804],[.023529,0,.517647],[.035294,0,.52549],[.047059,0,.533333],[.058824,0,.541176],[.070588,0,.54902],[.082353,0,.556863],[.094118,0,.564706],[.105882,0,.572549],[.117647,0,.580392],[.129412,0,.588235],[.141176,0,.596078],[.152941,0,.603922],[.164706,0,.611765],[.176471,0,.619608],[.188235,0,.627451],[.2,0,.635294],[.211765,0,.643137],[.223529,0,.65098],[.235294,0,.658824],[.247059,0,.666667],[.258824,0,.67451],[.270588,0,.682353],[.282353,0,.690196],[.294118,0,.698039],[.305882,0,.705882],[.317647,0,.713725],[.329412,0,.721569],[.341176,0,.729412],[.352941,0,.737255],[.364706,0,.745098],[.376471,0,.752941],[.388235,0,.760784],[.4,0,.768627],[.411765,0,.776471],[.423529,0,.784314],[.435294,0,.792157],[.447059,0,.8],[.458824,0,.807843],[.470588,0,.815686],[.482353,0,.823529],[.494118,0,.831373],[.505882,0,.839216],[.517647,0,.847059],[.529412,0,.854902],[.541176,0,.862745],[.552941,0,.870588],[.564706,0,.878431],[.576471,0,.886275],[.588235,0,.894118],[.6,0,.901961],[.611765,0,.909804],[.623529,0,.917647],[.635294,0,.92549],[.647059,0,.933333],[.658824,0,.941176],[.670588,0,.94902],[.682353,0,.956863],[.694118,0,.964706],[.705882,0,.972549],[.717647,0,.980392],[.729412,0,.988235],[.741176,0,.996078],[.752941,0,1],[.756863,.12549,.992157],[.760784,.176471,.984314],[.764706,.215686,.976471],[.768627,.25098,.968627],[.772549,.278431,.960784],[.776471,.305882,.952941],[.780392,.329412,.945098],[.784314,.352941,.937255],[.788235,.376471,.929412],[.792157,.396078,.921569],[.796078,.415686,.913725],[.8,.431373,.905882],[.803922,.45098,.898039],[.807843,.466667,.890196],[.811765,.482353,.882353],[.815686,.501961,.87451],[.819608,.513725,.866667],[.823529,.529412,.858824],[.827451,.545098,.85098],[.831373,.560784,.843137],[.835294,.572549,.835294],[.839216,.588235,.827451],[.843137,.6,.819608],[.847059,.611765,.811765],[.85098,.627451,.803922],[.854902,.639216,.796078],[.858824,.65098,.788235],[.862745,.662745,.780392],[.866667,.67451,.772549],[.870588,.686275,.764706],[.87451,.698039,.756863],[.878431,.709804,.74902],[.882353,.717647,.741176],[.886275,.729412,.733333],[.890196,.741176,.72549],[.894118,.752941,.717647],[.898039,.760784,.709804],[.901961,.772549,.701961],[.905882,.780392,.694118],[.909804,.792157,.686275],[.913725,.8,.678431],[.917647,.811765,.670588],[.921569,.819608,.662745],[.92549,.831373,.654902],[.929412,.839216,.647059],[.933333,.85098,.639216],[.937255,.858824,.631373],[.941176,.866667,.623529],[.945098,.878431,.615686],[.94902,.886275,.607843],[.952941,.894118,.6],[.956863,.901961,.592157],[.960784,.909804,.584314],[.964706,.921569,.576471],[.968627,.929412,.568627],[.972549,.937255,.560784],[.976471,.945098,.552941],[.980392,.952941,.545098],[.984314,.960784,.537255],[.988235,.968627,.529412],[.992157,.976471,.521569],[.996078,.984314,.513725],[1,.992157,.505882],[1,1,.501961],[1,1,.509804],[1,1,.517647],[1,1,.52549],[1,1,.533333],[1,1,.541176],[1,1,.54902],[1,1,.556863],[1,1,.564706],[1,1,.572549],[1,1,.580392],[1,1,.588235],[1,1,.596078],[1,1,.603922],[1,1,.611765],[1,1,.619608],[1,1,.627451],[1,1,.635294],[1,1,.643137],[1,1,.65098],[1,1,.658824],[1,1,.666667],[1,1,.67451],[1,1,.682353],[1,1,.690196],[1,1,.698039],[1,1,.705882],[1,1,.713725],[1,1,.721569],[1,1,.729412],[1,1,.737255],[1,1,.745098],[1,1,.752941],[1,1,.760784],[1,1,.768627],[1,1,.776471],[1,1,.784314],[1,1,.792157],[1,1,.8],[1,1,.807843],[1,1,.815686],[1,1,.823529],[1,1,.831373],[1,1,.839216],[1,1,.847059],[1,1,.854902],[1,1,.862745],[1,1,.870588],[1,1,.878431],[1,1,.886275],[1,1,.894118],[1,1,.901961],[1,1,.909804],[1,1,.917647],[1,1,.92549],[1,1,.933333],[1,1,.941176],[1,1,.94902],[1,1,.956863],[1,1,.964706],[1,1,.972549],[1,1,.980392],[1,1,.988235],[1,1,.996078]],Hr=[];for(let e=0;e<256;e++)e<20?Hr.push([0,0,0]):e>=20&&e<70?Hr.push([0,0,140*(e-20)/50]):e>=70&&e<100?Hr.push([60*(e-70)/30,125*(e-70)/30,115*(e-70)/30+140]):e>=100&&e<150?Hr.push([195*(e-100)/50+60,130*(e-100)/50+125,255-255*(e-100)/50]):e>=150&&e<250?Hr.push([255,255-255*(e-150)/100,0]):e>=250&&Hr.push([255,255*(e-250)/5,255*(e-250)/5]),Hr[e]=Hr[e].map(t=>t/255);const bi=[];for(let e=0;e<256;e++){if(e<105){const t=13*e/105,n=0,r=134*e/105;bi.push([t,n,r])}else if(e<192){const t=98+157*(e-96)/63,n=0+254*(e-96)/63,r=176+19*(e-96)/63;bi.push([t,n,r])}else bi.push([255,254,195]);bi[e]=bi[e].map(t=>t/255)}const Po=[];for(let e=0;e<256;e++){if(e<64){const t=128+e*2;Po.push([0,0,t])}else if(e<128){const t=(e-64)*4,n=255-(e-64)*4;Po.push([0,t,n])}else if(e<192){const t=(e-128)*4;Po.push([t,255,0])}else{const t=255-(e-192)*4;Po.push([255,t,0])}Po[e]=Po[e].map(t=>Math.min(t,255)/255)}const Wf={turbo:Pw,gqrx:Hr,twente:bi,twentev2:Dw,SpectraVU:Po},Nw=["turbo","gqrx","twente","twentev2","SpectraVU"];function Uf(e){return e.map(t=>{const n=new Uint8ClampedArray(4);return t.length<4&&(t=[...t,255]),n.set(t.map(r=>Math.round(r*255))),n})}function zf(e){let t;return e in Wf?t=Wf[e]:t=Rw({colormap:e,nshades:256,format:"float",alpha:1}),t}var ha=function(e){return e&&e.Math===Math&&e},Nt=ha(typeof globalThis=="object"&&globalThis)||ha(typeof window=="object"&&window)||ha(typeof self=="object"&&self)||ha(typeof Xi=="object"&&Xi)||ha(typeof Xi=="object"&&Xi)||function(){return this}()||Function("return this")(),_c={},Yr=function(e){try{return!!e()}catch(t){return!0}},Lw=Yr,Do=!Lw(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),qw=Yr,Rs=!qw(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),jw=Rs,Ps=Function.prototype.call,Sc=jw?Ps.bind(Ps):function(){return Ps.apply(Ps,arguments)},$f={},Hf={}.propertyIsEnumerable,Yf=Object.getOwnPropertyDescriptor,Bw=Yf&&!Hf.call({1:2},1);$f.f=Bw?function(e){var t=Yf(this,e);return!!t&&t.enumerable}:Hf;var Vf=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Gf=Rs,Xf=Function.prototype,Cc=Xf.call,Ww=Gf&&Xf.bind.bind(Cc,Cc),Kn=Gf?Ww:function(e){return function(){return Cc.apply(e,arguments)}},Zf=Kn,Uw=Zf({}.toString),zw=Zf("".slice),Mc=function(e){return zw(Uw(e),8,-1)},$w=Kn,Hw=Yr,Yw=Mc,Ac=Object,Vw=$w("".split),Gw=Hw(function(){return!Ac("z").propertyIsEnumerable(0)})?function(e){return Yw(e)==="String"?Vw(e,""):Ac(e)}:Ac,Jf=function(e){return e==null},Xw=Jf,Zw=TypeError,Kf=function(e){if(Xw(e))throw new Zw("Can't call method on "+e);return e},Jw=Gw,Kw=Kf,Ec=function(e){return Jw(Kw(e))},Tc=typeof document=="object"&&document.all,On=typeof Tc>"u"&&Tc!==void 0?function(e){return typeof e=="function"||e===Tc}:function(e){return typeof e=="function"},Qw=On,fa=function(e){return typeof e=="object"?e!==null:Qw(e)},kc=Nt,e5=On,t5=function(e){return e5(e)?e:void 0},Fc=function(e,t){return arguments.length<2?t5(kc[e]):kc[e]&&kc[e][t]},n5=Kn,r5=n5({}.isPrototypeOf),Oc=typeof navigator<"u"&&String(navigator.userAgent)||"",Qf=Nt,Ic=Oc,ep=Qf.process,tp=Qf.Deno,np=ep&&ep.versions||tp&&tp.version,rp=np&&np.v8,Qn,Ds;rp&&(Qn=rp.split("."),Ds=Qn[0]>0&&Qn[0]<4?1:+(Qn[0]+Qn[1])),!Ds&&Ic&&(Qn=Ic.match(/Edge\/(\d+)/),(!Qn||Qn[1]>=74)&&(Qn=Ic.match(/Chrome\/(\d+)/),Qn&&(Ds=+Qn[1])));var o5=Ds,op=o5,i5=Yr,a5=Nt,s5=a5.String,ip=!!Object.getOwnPropertySymbols&&!i5(function(){var e=Symbol("symbol detection");return!s5(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&op&&op<41}),l5=ip,ap=l5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",c5=Fc,u5=On,d5=r5,h5=ap,f5=Object,sp=h5?function(e){return typeof e=="symbol"}:function(e){var t=c5("Symbol");return u5(t)&&d5(t.prototype,f5(e))},p5=String,m5=function(e){try{return p5(e)}catch(t){return"Object"}},g5=On,y5=m5,v5=TypeError,lp=function(e){if(g5(e))return e;throw new v5(y5(e)+" is not a function")},b5=lp,w5=Jf,x5=function(e,t){var n=e[t];return w5(n)?void 0:b5(n)},Rc=Sc,Pc=On,Dc=fa,_5=TypeError,S5=function(e,t){var n,r;if(t==="string"&&Pc(n=e.toString)&&!Dc(r=Rc(n,e))||Pc(n=e.valueOf)&&!Dc(r=Rc(n,e))||t!=="string"&&Pc(n=e.toString)&&!Dc(r=Rc(n,e)))return r;throw new _5("Can't convert object to primitive value")},cp={exports:{}},up=Nt,C5=Object.defineProperty,Nc=function(e,t){try{C5(up,e,{value:t,configurable:!0,writable:!0})}catch(n){up[e]=t}return t},M5=Nt,A5=Nc,dp="__core-js_shared__",hp=cp.exports=M5[dp]||A5(dp,{});(hp.versions||(hp.versions=[])).push({version:"3.36.1",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Lc=cp.exports,fp=Lc,pp=function(e,t){return fp[e]||(fp[e]=t||{})},E5=Kf,T5=Object,k5=function(e){return T5(E5(e))},F5=Kn,O5=k5,I5=F5({}.hasOwnProperty),oo=Object.hasOwn||function(e,t){return I5(O5(e),t)},R5=Kn,P5=0,D5=Math.random(),N5=R5(1 .toString),mp=function(e){return"Symbol("+(e===void 0?"":e)+")_"+N5(++P5+D5,36)},L5=Nt,q5=pp,gp=oo,j5=mp,B5=ip,W5=ap,wi=L5.Symbol,qc=q5("wks"),U5=W5?wi.for||wi:wi&&wi.withoutSetter||j5,z5=function(e){return gp(qc,e)||(qc[e]=B5&&gp(wi,e)?wi[e]:U5("Symbol."+e)),qc[e]},$5=Sc,yp=fa,vp=sp,H5=x5,Y5=S5,V5=z5,G5=TypeError,X5=V5("toPrimitive"),Z5=function(e,t){if(!yp(e)||vp(e))return e;var n=H5(e,X5),r;if(n){if(t===void 0&&(t="default"),r=$5(n,e,t),!yp(r)||vp(r))return r;throw new G5("Can't convert object to primitive value")}return t===void 0&&(t="number"),Y5(e,t)},J5=Z5,K5=sp,bp=function(e){var t=J5(e,"string");return K5(t)?t:t+""},Q5=Nt,wp=fa,jc=Q5.document,e3=wp(jc)&&wp(jc.createElement),xp=function(e){return e3?jc.createElement(e):{}},t3=Do,n3=Yr,r3=xp,_p=!t3&&!n3(function(){return Object.defineProperty(r3("div"),"a",{get:function(){return 7}}).a!==7}),o3=Do,i3=Sc,a3=$f,s3=Vf,l3=Ec,c3=bp,u3=oo,d3=_p,Sp=Object.getOwnPropertyDescriptor;_c.f=o3?Sp:function(e,t){if(e=l3(e),t=c3(t),d3)try{return Sp(e,t)}catch(n){}if(u3(e,t))return s3(!i3(a3.f,e,t),e[t])};var Ns={},h3=Do,f3=Yr,p3=h3&&f3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),g3=fa,y3=String,v3=TypeError,Cp=function(e){if(g3(e))return e;throw new v3(y3(e)+" is not an object")},b3=Do,w3=_p,x3=p3,Ls=Cp,Mp=bp,_3=TypeError,Bc=Object.defineProperty,S3=Object.getOwnPropertyDescriptor,Wc="enumerable",Uc="configurable",zc="writable";Ns.f=b3?x3?function(e,t,n){if(Ls(e),t=Mp(t),Ls(n),typeof e=="function"&&t==="prototype"&&"value"in n&&zc in n&&!n[zc]){var r=S3(e,t);r&&r[zc]&&(e[t]=n.value,n={configurable:Uc in n?n[Uc]:r[Uc],enumerable:Wc in n?n[Wc]:r[Wc],writable:!1})}return Bc(e,t,n)}:Bc:function(e,t,n){if(Ls(e),t=Mp(t),Ls(n),w3)try{return Bc(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new _3("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var C3=Do,M3=Ns,A3=Vf,Ap=C3?function(e,t,n){return M3.f(e,t,A3(1,n))}:function(e,t,n){return e[t]=n,e},Ep={exports:{}},$c=Do,E3=oo,Tp=Function.prototype,T3=$c&&Object.getOwnPropertyDescriptor,Hc=E3(Tp,"name"),k3=Hc&&(function(){}).name==="something",F3=Hc&&(!$c||$c&&T3(Tp,"name").configurable),O3={EXISTS:Hc,PROPER:k3,CONFIGURABLE:F3},I3=Kn,R3=On,Yc=Lc,P3=I3(Function.toString);R3(Yc.inspectSource)||(Yc.inspectSource=function(e){return P3(e)});var D3=Yc.inspectSource,N3=Nt,L3=On,kp=N3.WeakMap,q3=L3(kp)&&/native code/.test(String(kp)),j3=pp,B3=mp,Fp=j3("keys"),W3=function(e){return Fp[e]||(Fp[e]=B3(e))},Op={},U3=q3,Ip=Nt,z3=fa,$3=Ap,Vc=oo,Gc=Lc,H3=W3,Y3=Op,Rp="Object already initialized",Xc=Ip.TypeError,V3=Ip.WeakMap,qs,pa,js,G3=function(e){return js(e)?pa(e):qs(e,{})},X3=function(e){return function(t){var n;if(!z3(t)||(n=pa(t)).type!==e)throw new Xc("Incompatible receiver, "+e+" required");return n}};if(U3||Gc.state){var Mr=Gc.state||(Gc.state=new V3);Mr.get=Mr.get,Mr.has=Mr.has,Mr.set=Mr.set,qs=function(e,t){if(Mr.has(e))throw new Xc(Rp);return t.facade=e,Mr.set(e,t),t},pa=function(e){return Mr.get(e)||{}},js=function(e){return Mr.has(e)}}else{var xi=H3("state");Y3[xi]=!0,qs=function(e,t){if(Vc(e,xi))throw new Xc(Rp);return t.facade=e,$3(e,xi,t),t},pa=function(e){return Vc(e,xi)?e[xi]:{}},js=function(e){return Vc(e,xi)}}var Z3={set:qs,get:pa,has:js,enforce:G3,getterFor:X3},Zc=Kn,J3=Yr,K3=On,Bs=oo,Jc=Do,Q3=O3.CONFIGURABLE,ex=D3,Pp=Z3,tx=Pp.enforce,nx=Pp.get,Dp=String,Ws=Object.defineProperty,rx=Zc("".slice),ox=Zc("".replace),ix=Zc([].join),ax=Jc&&!J3(function(){return Ws(function(){},"length",{value:8}).length!==8}),sx=String(String).split("String"),lx=Ep.exports=function(e,t,n){rx(Dp(t),0,7)==="Symbol("&&(t="["+ox(Dp(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Bs(e,"name")||Q3&&e.name!==t)&&(Jc?Ws(e,"name",{value:t,configurable:!0}):e.name=t),ax&&n&&Bs(n,"arity")&&e.length!==n.arity&&Ws(e,"length",{value:n.arity});try{n&&Bs(n,"constructor")&&n.constructor?Jc&&Ws(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=tx(e);return Bs(r,"source")||(r.source=ix(sx,typeof t=="string"?t:"")),e};Function.prototype.toString=lx(function(){return K3(this)&&nx(this).source||ex(this)},"toString");var cx=Ep.exports,ux=On,dx=Ns,hx=cx,fx=Nc,px=function(e,t,n,r){r||(r={});var o=r.enumerable,i=r.name!==void 0?r.name:t;if(ux(n)&&hx(n,i,r),r.global)o?e[t]=n:fx(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(a){}o?e[t]=n:dx.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Np={},mx=Math.ceil,gx=Math.floor,yx=Math.trunc||function(e){var t=+e;return(t>0?gx:mx)(t)},vx=yx,Lp=function(e){var t=+e;return t!==t||t===0?0:vx(t)},bx=Lp,wx=Math.max,xx=Math.min,_x=function(e,t){var n=bx(e);return n<0?wx(n+t,0):xx(n,t)},Sx=Lp,Cx=Math.min,Mx=function(e){var t=Sx(e);return t>0?Cx(t,9007199254740991):0},Ax=Mx,Ex=function(e){return Ax(e.length)},Tx=Ec,kx=_x,Fx=Ex,qp=function(e){return function(t,n,r){var o=Tx(t),i=Fx(o);if(i===0)return!e&&-1;var a=kx(r,i),s;if(e&&n!==n){for(;i>a;)if(s=o[a++],s!==s)return!0}else for(;i>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},Ox={includes:qp(!0),indexOf:qp(!1)},Ix=Kn,Kc=oo,Rx=Ec,Px=Ox.indexOf,Dx=Op,jp=Ix([].push),Nx=function(e,t){var n=Rx(e),r=0,o=[],i;for(i in n)!Kc(Dx,i)&&Kc(n,i)&&jp(o,i);for(;t.length>r;)Kc(n,i=t[r++])&&(~Px(o,i)||jp(o,i));return o},Lx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],qx=Nx,jx=Lx,Bx=jx.concat("length","prototype");Np.f=Object.getOwnPropertyNames||function(e){return qx(e,Bx)};var Bp={};Bp.f=Object.getOwnPropertySymbols;var Wx=Fc,Ux=Kn,zx=Np,$x=Bp,Hx=Cp,Yx=Ux([].concat),Vx=Wx("Reflect","ownKeys")||function(e){var t=zx.f(Hx(e)),n=$x.f;return n?Yx(t,n(e)):t},Wp=oo,Gx=Vx,Xx=_c,Zx=Ns,Jx=function(e,t,n){for(var r=Gx(t),o=Zx.f,i=Xx.f,a=0;a<r.length;a++){var s=r[a];!Wp(e,s)&&!(n&&Wp(n,s))&&o(e,s,i(t,s))}},Kx=Yr,Qx=On,e6=/#|\.prototype\./,ma=function(e,t){var n=n6[t6(e)];return n===o6?!0:n===r6?!1:Qx(t)?Kx(t):!!t},t6=ma.normalize=function(e){return String(e).replace(e6,".").toLowerCase()},n6=ma.data={},r6=ma.NATIVE="N",o6=ma.POLYFILL="P",i6=ma,Us=Nt,a6=_c.f,s6=Ap,l6=px,c6=Nc,u6=Jx,d6=i6,Up=function(e,t){var n=e.target,r=e.global,o=e.stat,i,a,s,l,c,d;if(r?a=Us:o?a=Us[n]||c6(n,{}):a=Us[n]&&Us[n].prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(d=a6(a,s),l=d&&d.value):l=a[s],i=d6(r?s:n+(o?".":"#")+s,e.forced),!i&&l!==void 0){if(typeof c==typeof l)continue;u6(c,l)}(e.sham||l&&l.sham)&&s6(c,"sham",!0),l6(a,s,c,e)}},h6=Rs,zp=Function.prototype,$p=zp.apply,Hp=zp.call,Yp=typeof Reflect=="object"&&Reflect.apply||(h6?Hp.bind($p):function(){return Hp.apply($p,arguments)}),f6=Mc,p6=Kn,m6=function(e){if(f6(e)==="Function")return p6(e)},Vp=m6,g6=lp,y6=Rs,v6=Vp(Vp.bind),b6=function(e,t){return g6(e),t===void 0?e:y6?v6(e,t):function(){return e.apply(t,arguments)}},w6=Fc,x6=w6("document","documentElement"),_6=Kn,Gp=_6([].slice),S6=TypeError,Xp=function(e,t){if(e<t)throw new S6("Not enough arguments");return e},C6=Oc,M6=/(?:ipad|iphone|ipod).*applewebkit/i.test(C6),A6=Nt,E6=Mc,T6=E6(A6.process)==="process",fn=Nt,k6=Yp,F6=b6,Zp=On,O6=oo,Jp=Yr,Kp=x6,I6=Gp,Qp=xp,R6=Xp,P6=M6,D6=T6,Qc=fn.setImmediate,eu=fn.clearImmediate,N6=fn.process,tu=fn.Dispatch,L6=fn.Function,e0=fn.MessageChannel,q6=fn.String,nu=0,ga={},t0="onreadystatechange",ya,No,ru,ou;Jp(function(){ya=fn.location});var iu=function(e){if(O6(ga,e)){var t=ga[e];delete ga[e],t()}},au=function(e){return function(){iu(e)}},n0=function(e){iu(e.data)},r0=function(e){fn.postMessage(q6(e),ya.protocol+"//"+ya.host)};(!Qc||!eu)&&(Qc=function(e){R6(arguments.length,1);var t=Zp(e)?e:L6(e),n=I6(arguments,1);return ga[++nu]=function(){k6(t,void 0,n)},No(nu),nu},eu=function(e){delete ga[e]},D6?No=function(e){N6.nextTick(au(e))}:tu&&tu.now?No=function(e){tu.now(au(e))}:e0&&!P6?(ru=new e0,ou=ru.port2,ru.port1.onmessage=n0,No=F6(ou.postMessage,ou)):fn.addEventListener&&Zp(fn.postMessage)&&!fn.importScripts&&ya&&ya.protocol!=="file:"&&!Jp(r0)?(No=r0,fn.addEventListener("message",n0,!1)):t0 in Qp("script")?No=function(e){Kp.appendChild(Qp("script"))[t0]=function(){Kp.removeChild(this),iu(e)}}:No=function(e){setTimeout(au(e),0)});var o0={set:Qc,clear:eu},j6=Up,B6=Nt,i0=o0.clear;j6({global:!0,bind:!0,enumerable:!0,forced:B6.clearImmediate!==i0},{clearImmediate:i0});var W6=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",a0=Nt,U6=Yp,z6=On,$6=W6,H6=Oc,Y6=Gp,V6=Xp,G6=a0.Function,X6=/MSIE .\./.test(H6)||$6&&function(){var e=a0.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),Z6=function(e,t){var n=t?2:1;return X6?function(r,o){var i=V6(arguments.length,1)>n,a=z6(r)?r:G6(r),s=i?Y6(arguments,n):[],l=i?function(){U6(a,this,s)}:a;return t?e(l,o):e(l)}:e},J6=Up,s0=Nt,l0=o0.set,K6=Z6,c0=s0.setImmediate?K6(l0,!1):l0;J6({global:!0,bind:!0,enumerable:!0,forced:s0.setImmediate!==c0},{setImmediate:c0});var Q6=Nt,u0=Q6,e4=u0;e4.setImmediate;var t4=u0;t4.clearImmediate;class n4{constructor(){this.events={}}subscribe(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}publish(t,n){this.events[t]&&this.events[t].forEach(r=>r(n))}}const va=new n4;class r4{constructor(t,n){this.markers=[],this.currentBand=null,this.endpoint=t,this.zoomFactor=1,this.autoAdjust=!1,this.adjustmentBuffer=[],this.bufferSize=50,this.dampeningFactor=.1,this.spectrum=!1,this.waterfall=!1,this.frequencyMarkerComponent=null,this.pendingMarkers=[],this.waterfallQueue=new _h(10),this.drawnWaterfallQueue=new _h(4096),this.lagTime=0,this.spectrumAlpha=.5,this.spectrumFiltered=[[-1,-1],[0]],this.waterfallColourShift=130,this.minWaterfall=-30,this.maxWaterfall=110,this.colormap=[],this.setColormap("gqrx"),this.clients={},this.clientColormap=Uf(zf("rainbow")),this.updateTimeout=setTimeout(()=>{},0),this.lineResets=0,this.wfheight=200*window.devicePixelRatio;const r={AM:"AM",FM:"FM",LSB:"LSB",USB:"USB",CW:"CW-U",DIGITAL:"DIGITAL"};this.bands=[{name:"2200M HAM",startFreq:135700,endFreq:137800,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:135700,endFreq:137800}]},{name:"630M HAM",startFreq:472e3,endFreq:479e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:472e3,endFreq:475e3},{mode:r.LSB,startFreq:475e3,endFreq:479e3}]},{name:"600M HAM",startFreq:501e3,endFreq:504e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:501e3,endFreq:504e3}]},{name:"160M HAM",startFreq:181e4,endFreq:2e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:181e4,endFreq:184e4},{mode:r.LSB,startFreq:184e4,endFreq:2e6}]},{name:"80M HAM",startFreq:35e5,endFreq:39e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:35e5,endFreq:36e5},{mode:r.LSB,startFreq:36e5,endFreq:39e5}]},{name:"60M HAM",startFreq:5351500,endFreq:5366500,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.USB,startFreq:5351500,endFreq:5366500}]},{name:"49M AM",startFreq:59e5,endFreq:62e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:59e5,endFreq:62e5}]},{name:"40M HAM",startFreq:7e6,endFreq:72e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:7e6,endFreq:705e4},{mode:r.LSB,startFreq:705e4,endFreq:72e5}]},{name:"41M AM",startFreq:72e5,endFreq:745e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:72e5,endFreq:745e4}]},{name:"31M AM",startFreq:94e5,endFreq:99e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:94e5,endFreq:99e5}]},{name:"30M HAM",startFreq:101e5,endFreq:1015e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:101e5,endFreq:1015e4}]},{name:"25M AM",startFreq:116e5,endFreq:121e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:116e5,endFreq:121e5}]},{name:"22M AM",startFreq:1357e4,endFreq:1387e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:1357e4,endFreq:1387e4}]},{name:"20M HAM",startFreq:14e6,endFreq:1435e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:14e6,endFreq:1407e4},{mode:r.USB,startFreq:1407e4,endFreq:1435e4}]},{name:"19M AM",startFreq:151e5,endFreq:158e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:151e5,endFreq:158e5}]},{name:"16M AM",startFreq:1748e4,endFreq:179e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:1748e4,endFreq:179e5}]},{name:"17M HAM",startFreq:18068e3,endFreq:18168e3,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:18068e3,endFreq:181e5},{mode:r.USB,startFreq:181e5,endFreq:18168e3}]},{name:"15M AM",startFreq:189e5,endFreq:1902e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:189e5,endFreq:1902e4}]},{name:"15M HAM",startFreq:21e6,endFreq:2145e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:21e6,endFreq:2107e4},{mode:r.USB,startFreq:2107e4,endFreq:2145e4}]},{name:"13M AM",startFreq:2145e4,endFreq:2185e4,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:2145e4,endFreq:2185e4}]},{name:"12M HAM",startFreq:2489e4,endFreq:2499e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:2489e4,endFreq:2492e4},{mode:r.USB,startFreq:2492e4,endFreq:2499e4}]},{name:"11M AM",startFreq:2567e4,endFreq:261e5,color:"rgba(199, 12, 193, 0.6)",modes:[{mode:r.AM,startFreq:2567e4,endFreq:261e5}]},{name:"CB",startFreq:26965e3,endFreq:27405e3,color:"rgba(3, 227, 252, 0.6)",modes:[{mode:r.AM,startFreq:26965e3,endFreq:27405e3}]},{name:"10M HAM",startFreq:28e6,endFreq:297e5,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:28e6,endFreq:2807e4},{mode:r.USB,startFreq:2807e4,endFreq:297e5}]},{name:"6M HAM",startFreq:5e7,endFreq:54e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:5e7,endFreq:501e5},{mode:r.USB,startFreq:501e5,endFreq:54e6}]},{name:"4M HAM",startFreq:6995e4,endFreq:6995e4,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.FM,startFreq:6995e4,endFreq:6995e4}]},{name:"4M HAM",startFreq:70112500,endFreq:70412500,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.FM,startFreq:70112500,endFreq:70412500}]},{name:"2M HAM",startFreq:144e6,endFreq:148e6,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:144e6,endFreq:1441e5},{mode:r.USB,startFreq:1441e5,endFreq:1443e5},{mode:r.FM,startFreq:1443e5,endFreq:148e6}]},{name:"70CM HAM",startFreq:43e7,endFreq:44e7,color:"rgba(50, 168, 72, 0.6)",modes:[{mode:r.CW,startFreq:43e7,endFreq:4301e5},{mode:r.USB,startFreq:4301e5,endFreq:4321e5},{mode:r.FM,startFreq:4321e5,endFreq:44e7}]}]}addMarker(t,n,r){this.markers.push({frequency:t,name:n,mode:r}),this.markers.sort((o,i)=>o.frequency-i.frequency)}initCanvas(t){this.canvasElem=t.canvasElem,this.ctx=this.canvasElem.getContext("2d"),this.ctx.imagesmoothingEnabled=!1,this.canvasWidth=this.canvasElem.width,this.canvasHeight=this.canvasElem.height,this.backgroundColor=window.getComputedStyle(document.body,null).getPropertyValue("background-color"),this.curLine=this.canvasHeight/2,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height),this.graduationCanvasElem=t.graduationCanvasElem,this.graduationCtx=this.graduationCanvasElem.getContext("2d"),this.bandPlanCanvasElem=t.bandPlanCanvasElem,this.bandPlanCtx=this.bandPlanCanvasElem.getContext("2d"),this.spectrumCanvasElem=t.spectrumCanvasElem,this.spectrumCtx=this.spectrumCanvasElem.getContext("2d"),this.spectrumCanvasElem.addEventListener("mousemove",this.spectrumMouseMove.bind(this)),this.spectrumCanvasElem.addEventListener("mouseleave",this.spectrumMouseLeave.bind(this)),this.tempCanvasElem=t.tempCanvasElem,this.tempCtx=this.tempCanvasElem.getContext("2d"),this.tempCanvasElem.height=this.wfheight,this.waterfall=!0,this.mobile=!1;let n;this.resizeCallback=()=>{this.setCanvasWidth();let r=document.createElement("canvas");r.width=this.canvasElem.width,r.height=this.canvasElem.height;let o=r.getContext("2d");o.imagesmoothingEnabled=!1,o.drawImage(this.canvasElem,0,0),this.curLine=Math.ceil(this.curLine*this.canvasElem.height/r.height),this.ctx.imagesmoothingEnabled=!1,this.ctx.drawImage(r,0,0,r.width,r.height,0,0,this.canvasElem.width,this.canvasElem.height),this.updateGraduation(),this.updateBandPlan(),n=void 0},window.addEventListener("resize",()=>{n&&clearTimeout(n)})}async init(){return this.promise?this.promise:(this.waterfallSocket=new WebSocket(this.endpoint),this.waterfallSocket.binaryType="arraybuffer",this.firstWaterfallMessage=!0,this.waterfallSocket.onmessage=this.socketMessageInitial.bind(this),this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.promise)}stop(){this.waterfallSocket.close()}setCanvasWidth(){const t=window.devicePixelRatio,n=window.innerWidth;let r=n>1372?1372:n;r*=t,r!=1372&&(this.mobile=!0),this.canvasElem.width=r,this.canvasScale=r/1372,this.spectrumCanvasElem.width=r,this.spectrumCanvasElem.height=r/1372*128,this.graduationCanvasElem.width=r,this.graduationCanvasElem.height=r/1372*30,this.bandPlanCanvasElem.width=r,this.bandPlanCanvasElem.height=r/1372*40,this.canvasElem.height=this.wfheight,this.canvasWidth=r,this.canvasHeight=this.canvasElem.height,this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=this.canvasWidth,this.bufferCanvas.height=this.canvasHeight,this.bufferContext=this.bufferCanvas.getContext("2d",{alpha:!1})}setFrequencyMarkerComponent(t){this.frequencyMarkerComponent=t,this.addMarkersToComponent()}addMarkersToComponent(){this.frequencyMarkerComponent&&this.pendingMarkers.length>0&&(this.frequencyMarkerComponent.insertAll(this.pendingMarkers),this.frequencyMarkerComponent.finalizeList(),this.pendingMarkers=[])}socketMessageInitial(t){if(!(t.data instanceof ArrayBuffer)){const n=JSON.parse(t.data);if(!n.fft_size)return;if(n.markers)try{const i=JSON.parse(n.markers);i.markers&&Array.isArray(i.markers)&&(this.pendingMarkers=i.markers.map(a=>({f:a.frequency,d:a.name,m:a.mode})),this.addMarkersToComponent())}catch(i){console.error("Error parsing markers:",i)}this.waterfallMaxSize=n.fft_result_size,this.fftSize=n.fft_size,this.baseFreq=n.basefreq,this.sps=n.sps,this.totalBandwidth=n.total_bandwidth,this.overlap=n.overlap,this.setCanvasWidth(),this.tempCanvasElem.width=n.waterfall_size,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height);const r=Math.max(1,Math.floor(this.sps/this.fftSize/5)*2),o=this.sps/this.fftSize/(r/2);console.log("Waterfall FPS: "+o),requestAnimationFrame(this.drawSpectrogram.bind(this)),this.waterfallL=0,this.waterfallR=this.waterfallMaxSize,this.waterfallSocket.onmessage=this.socketMessage.bind(this),this.firstWaterfallMessage=!1,this.waterfallDecoder=Jg(n.waterfall_compression),this.updateGraduation(),this.updateBandPlan(),this.resolvePromise(n)}}socketMessage(t){t.data instanceof ArrayBuffer&&this.enqueueSpectrogram(t.data)}getMouseX(t,n){const r=t.getBoundingClientRect(),o=t.width/r.width;return(n.clientX-r.left)*o}enqueueSpectrogram(t){if(this.waterfallDecoder.decode(t).forEach(n=>{this.waterfallQueue.unshift(n)}),!this.waterfall&&!this.spectrum){this.waterfallQueue.clear();return}for(;this.waterfallQueue.length>2;)this.waterfallQueue.pop()}accumulateAdjustmentData(t){this.adjustmentBuffer.push(...t),this.adjustmentBuffer.length>=this.bufferSize&&(this.adjustWaterfallLimits(this.adjustmentBuffer),this.adjustmentBuffer=[])}adjustWaterfallLimits(t){const n=Math.min(...t)-20,r=Math.max(...t)-20;this.minWaterfall+=(n-this.minWaterfall)*this.dampeningFactor,this.maxWaterfall+=(r-this.maxWaterfall)*this.dampeningFactor}transformValue(t){let n=(Math.max(this.minWaterfall,Math.min(this.maxWaterfall,t))-this.minWaterfall)/(this.maxWaterfall-this.minWaterfall),r=Math.floor(n*255);return Math.max(0,Math.min(255,r))}idxToFreq(t){return t/this.waterfallMaxSize*this.totalBandwidth+this.baseFreq}idxToCanvasX(t){return(t-this.waterfallL)/(this.waterfallR-this.waterfallL)*this.canvasWidth}canvasXtoFreq(t){const n=t/this.canvasWidth*(this.waterfallR-this.waterfallL)+this.waterfallL;return this.idxToFreq(n)}freqToIdx(t){return(t-this.baseFreq)/this.totalBandwidth*this.waterfallMaxSize}calculateOffsets(t,n,r){const o=this.canvasWidth/(this.waterfallR-this.waterfallL),i=(n-this.waterfallL)*o,a=(r-this.waterfallL)*o,s=new Uint8Array(t.length);for(let l=0;l<s.length;l++)s[l]=this.transformValue(t[l]);return[s,i,a]}drawSpectrogram(){const t=()=>{if(this.waterfallQueue.length===0){requestAnimationFrame(t);return}const{data:n,l:r,r:o}=this.waterfallQueue.pop(),[i,a,s]=this.calculateOffsets(n,r,o);this.autoAdjust&&this.accumulateAdjustmentData(i),this.waterfall&&this.drawWaterfall(i,a,s,r,o),this.spectrum&&this.drawSpectrum(i,a,s,r,o),requestAnimationFrame(t)};requestAnimationFrame(t)}async redrawWaterfall(){const t=this.drawnWaterfallQueue.toArray(),n=this.lineResets,r=this.curLine,o=i=>{const a=r+1+i+(this.lineResets-n)*this.canvasHeight/2,[s,l,c]=t[i],[d,h,f]=this.calculateOffsets(s,l,c);this.drawWaterfallLine(d,h,f,a),i+1<t.length&&(this.updateImmediate=setImmediate(()=>o(i+1)))};clearImmediate(this.updateImmediate),t.length&&o(0)}drawWaterfall(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r),this.bufferContext.drawImage(this.ctx.canvas,0,1,this.canvasWidth,this.canvasHeight-1,0,0,this.canvasWidth,this.canvasHeight-1),this.drawWaterfallLine(t,n,r,0,this.bufferContext),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.drawImage(this.bufferCanvas,0,0)}drawWaterfallLine(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r),o=Math.floor(o);const a=r-n,s=i.createImageData(a,1);for(let l=0;l<a;l++){const c=Math.floor(l*(t.length-1)/(a-1)),d=Math.floor(t[c]),h=l*4;s.data.set(this.colormap[d],h)}i.putImageData(s,n,i.canvas.height-1-o)}drawSpectrum(t,n,r,o,i){(o!==this.spectrumFiltered[0][0]||i!==this.spectrumFiltered[0][1])&&(this.spectrumFiltered[1]=t,this.spectrumFiltered[0]=[o,i]);for(let f=0;f<t.length;f++)this.spectrumFiltered[1][f]=this.spectrumAlpha*t[f]+(1-this.spectrumAlpha)*this.spectrumFiltered[1][f];t=this.spectrumFiltered[1];const a=(r-n)/t.length;this.canvasScale;const s=this.spectrumCanvasElem.height,l=t.map(f=>s-f/255*s);this.spectrumCtx.clearRect(0,0,this.spectrumCanvasElem.width,s);const c=this.spectrumCtx.createLinearGradient(0,0,0,s);c.addColorStop(0,"rgba(3, 157, 252, 0.8)"),c.addColorStop(1,"rgba(3, 157, 252, 0.2)"),this.spectrumCtx.lineWidth=2,this.spectrumCtx.strokeStyle="rgba(3, 157, 252, 0.8)",this.spectrumCtx.fillStyle=c,this.spectrumCtx.shadowColor="rgba(3, 157, 252, 0.5)",this.spectrumCtx.shadowBlur=10,this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(n,s);let d=n,h=l[0];this.spectrumCtx.lineTo(d,h);for(let f=1;f<l.length;f++){const m=n+f*a,v=l[f],C=(d+m)/2;this.spectrumCtx.quadraticCurveTo(d,h,C,(h+v)/2),d=m,h=v}this.spectrumCtx.lineTo(r,h),this.spectrumCtx.lineTo(r,s),this.spectrumCtx.closePath(),this.spectrumCtx.fill(),this.spectrumCtx.stroke(),this.spectrumCtx.shadowBlur=0,this.spectrumFreq&&(this.spectrumCtx.font="14px Arial",this.spectrumCtx.fillStyle="rgba(255, 255, 255, 0.9)",this.spectrumCtx.shadowColor="rgba(255, 255, 255, 0.5)",this.spectrumCtx.shadowBlur=5,this.spectrumCtx.fillText("".concat((this.spectrumFreq/1e6).toFixed(6)," MHz"),10,20),this.spectrumCtx.strokeStyle="rgba(255, 255, 255, 0.5)",this.spectrumCtx.lineWidth=1,this.spectrumCtx.setLineDash([5,3]),this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(this.spectrumX,0),this.spectrumCtx.lineTo(this.spectrumX,s),this.spectrumCtx.stroke(),this.spectrumCtx.setLineDash([]))}checkBandAndSetMode(t){let n=null,r=null;for(const o of this.bands)if(t>=o.startFreq&&t<=o.endFreq){n=o;for(const i of o.modes)if(t>=i.startFreq&&t<=i.endFreq){r=i.mode;break}break}return n!==this.currentBand||n&&r!==this.currentMode?(this.currentBand=n,this.currentMode=r,n?(va.publish("setMode",r),r):(va.publish("outOfBand"),null)):null}updateGraduation(){const t=this.idxToFreq(this.waterfallL),n=this.idxToFreq(this.waterfallR),r=this.canvasScale;let o=1;for(;(n-t)/o>8;)o*=10;o/=10,this.graduationCtx.fillStyle="white",this.graduationCtx.strokeStyle="white",this.graduationCtx.clearRect(0,0,this.graduationCanvasElem.width,this.graduationCanvasElem.height);let i=t;t%o!==0&&(i=t+(o-t%o));for(let a=i;a<=n;a+=o)a!=0&&a.toString().match(/0*$/g)[0].length;for(this.mobile?this.graduationCtx.font="".concat(12*r,"px Inter"):this.graduationCtx.font="".concat(10*r,"px Inter");i<=n;i+=o){const a=(i-t)/(n-t)*this.canvasWidth;let s=5,l=!1;if(i%(o*10)===0?(s=10,l=!0):i%(o*5)===0&&(s=7,l=!0),l){this.graduationCtx.textAlign="center";const c=i/1e3;this.graduationCtx.fillText(c.toString(),a,20*r)}this.graduationCtx.lineWidth=1*r,this.graduationCtx.beginPath(),this.graduationCtx.moveTo(a,(5+(5-s))*r),this.graduationCtx.lineTo(a,10*r),this.graduationCtx.stroke()}this.drawClients()}updateBandPlan(){this.idxToFreq(this.waterfallL),this.idxToFreq(this.waterfallR);const t=this.canvasScale;this.bandPlanCtx.clearRect(0,0,this.bandPlanCanvasElem.width,this.bandPlanCanvasElem.height);const n=10*t,r=25*t;this.bands.forEach(o=>{const i=this.freqToIdx(o.startFreq),a=this.freqToIdx(o.endFreq),s=this.idxToCanvasX(i),l=this.idxToCanvasX(a),c=l-s,d=this.bandPlanCanvasElem.height-n-r;this.bandPlanCtx.strokeStyle=o.color,this.bandPlanCtx.lineWidth=2*t,this.bandPlanCtx.lineCap="round",this.bandPlanCtx.beginPath(),this.bandPlanCtx.moveTo(s,d),this.bandPlanCtx.lineTo(l,d),this.bandPlanCtx.shadowColor=o.color,this.bandPlanCtx.shadowBlur=3*t,this.bandPlanCtx.stroke(),this.bandPlanCtx.shadowColor="transparent",this.bandPlanCtx.shadowBlur=0;let h=this.mobile?12*t:10*t;if(this.bandPlanCtx.font="".concat(h,"px Inter"),this.bandPlanCtx.fillStyle="white",this.bandPlanCtx.textAlign="center",this.bandPlanCtx.textBaseline="top",this.bandPlanCtx.measureText(o.name).width<=c-4*t){const f=d+n+2*t;this.bandPlanCtx.shadowColor="rgba(0, 0, 0, 0.5)",this.bandPlanCtx.shadowBlur=2*t,this.bandPlanCtx.shadowOffsetY=1*t,this.bandPlanCtx.fillText(o.name,(s+l)/2,f),this.bandPlanCtx.shadowColor="transparent",this.bandPlanCtx.shadowBlur=0,this.bandPlanCtx.shadowOffsetY=0}})}freqToCanvasX(t){const n=this.freqToIdx(t);return this.idxToCanvasX(n)}abbreviateBandName(t,n,r){if(this.bandPlanCtx.font="".concat(r,"px Inter"),this.bandPlanCtx.measureText(t).width<=n-4*this.canvasScale)return t;const o=t.split(" ");return o.length===1?t.substring(0,Math.floor(n/(r*.6))):o.map(i=>i[0]).join("")}setClients(t){this.clients=t}drawClients(){Object.entries(this.clients).filter(([t,n])=>n[1]<this.waterfallR&&n[1]>=this.waterfallL).forEach(([t,n])=>{const r=this.idxToCanvasX(n[1]),[o,i,a,s]=this.clientColormap[parseInt(t.substring(0,2),16)];this.graduationCtx.fillStyle="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(s,")"),this.graduationCtx.strokeStyle="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(s,")"),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r+2,5),this.graduationCtx.stroke(),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r-2,5),this.graduationCtx.stroke()})}applyBlur(t,n,r,o){const i=t.data,a=new Uint8ClampedArray(i);for(let s=0;s<r;s++)for(let l=0;l<n;l++){let c=0,d=0,h=0,f=0,m=0;for(let C=-o;C<=o;C++)for(let k=-o;k<=o;k++){const j=l+k,P=s+C;if(j>=0&&j<n&&P>=0&&P<r){const T=(P*n+j)*4;c+=a[T],d+=a[T+1],h+=a[T+2],f+=a[T+3],m++}}const v=(s*n+l)*4;i[v]=c/m,i[v+1]=d/m,i[v+2]=h/m,i[v+3]=f/m}return t}setWaterfallRange(t,n){if(t>=n)return;const r=n-t;t<0&&n>this.waterfallMaxSize?(t=0,n=this.waterfallMaxSize):t<0?(t=0,n=r):n>this.waterfallMaxSize&&(n=this.waterfallMaxSize,t=n-r);const o=this.waterfallL,i=this.waterfallR;this.waterfallL=t,this.waterfallR=n,this.waterfallSocket.send(JSON.stringify({cmd:"window",l:this.waterfallL,r:this.waterfallR}));const a=this.idxToCanvasX(o),s=this.idxToCanvasX(i),l=s-a;this.ctx.drawImage(this.canvasElem,0,0,this.canvasWidth,this.canvasHeight,a,0,l,this.canvasHeight),i-o<=n-t+1&&(this.ctx.fillRect(0,0,a,this.canvasHeight),this.ctx.fillRect(s,0,this.canvasWidth-s,this.canvasHeight)),this.updateGraduation(),this.updateBandPlan(),this.drawSpectrogram()}getWaterfallRange(){return[this.waterfallL,this.waterfallR]}setWaterfallLagTime(t){this.lagTime=Math.max(0,t)}setOffset(t){this.waterfallColourShift=t}setMinOffset(t){this.minWaterfall=t}setMaxOffset(t){this.maxWaterfall=t}setAlpha(t){this.spectrumAlpha=t}setColormapArray(t){this.colormap=Uf(t)}setColormap(t){this.setColormapArray(zf(t))}setUserID(t){this.waterfallSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSpectrum(t){this.spectrum=t,t==!0?(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfallBig(t){t==!0?(this.wfheight=300*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfall(t){this.waterfall=t}resetRedrawTimeout(t){}canvasWheel(t){if(window.getComputedStyle(t.target).cursor=="resize")return;const n=(t.coords||{x:this.getMouseX(this.spectrumCanvasElem,t)}).x;t.preventDefault();const r=t.deltaY||t.scale,o=this.waterfallL,i=this.waterfallR,a=t.scaleAmount||.85;if(i-o<=128&&r<0)return!1;r>0?this.zoomFactor!=1&&(this.zoomFactor=this.zoomFactor-1):r<0&&(this.zoomFactor=this.zoomFactor+1);const s=(i-o)*n/this.canvasWidth+o;let l=s-o,c=i-s;r<0?(l*=a,c*=a):r>0&&(l*=1/a,c*=1/a);const d=Math.round(s-l),h=Math.round(s+c);return this.setWaterfallRange(d,h),!1}mouseMove(t){const n=t.movementX,r=Math.round(n/this.canvasElem.getBoundingClientRect().width*(this.waterfallR-this.waterfallL)),o=this.waterfallL-r,i=this.waterfallR-r;this.setWaterfallRange(o,i)}spectrumMouseMove(t){const n=this.getMouseX(this.spectrumCanvasElem,t),r=this.canvasXtoFreq(n);this.spectrumFreq=r,this.spectrumX=n}spectrumMouseLeave(t){this.spectrumFreq=void 0,this.spectrumX=void 0}}class o4{constructor(t){this.endpoint=t,this.signalClients={},this.lastModified=performance.now()}init(){return this.promise?this.promise:(this.eventSocket=new WebSocket(this.endpoint),this.eventSocket.binaryType="arraybuffer",this.eventSocket.onmessage=this.socketMessage.bind(this),this.promise=new Promise((t,n)=>{this.eventSocket.onopen=t,this.resolvePromise=t,this.rejectPromise=n}),this.promise)}socketMessage(t){const n=JSON.parse(t.data);if(this.data=n,"signal_list"in n&&(this.signalClients=n.signal_list),"signal_changes"in n){const r=n.signal_changes;for(const[o,i]of Object.entries(r))i[0]===-1&&i[1]===-1?delete this.signalClients[o]:this.signalClients[o]=i}if("waterfall_clients"in n){const r=n.signal_clients,o=parseInt(n.waterfall_kbits+n.audio_kbits);document.getElementById("total_user_count").innerHTML='\n        <div class="flex items-center">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-fuchsia-400" viewBox="0 0 20 20" fill="currentColor">\n            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />\n          </svg>\n          <span class="text-fuchsia-400 font-medium">'.concat(r," ").concat(r>1?"Users":"User",'</span>\n        </div>\n        <div class="flex items-center">\n          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-400" viewBox="0 0 20 20" fill="currentColor">\n            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />\n          </svg>\n          <span class="text-blue-400 font-medium">').concat(o," kbit/s</span>\n        </div>\n      ")}this.lastModified=performance.now()}setUserID(t){this.eventSocket.send(JSON.stringify({cmd:"userid",userid:t}))}getSignalClients(){let t={};return Object.assign(t,this.signalClients),t}getLastModified(){return this.lastModified}}const i4="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let a4=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=i4[n[e]&63];return t},pn;const d0=window.location,su="".concat(d0.protocol.replace("http","ws"),"//").concat(d0.host),Fe=new r4(su+"/waterfall"),we=new Cw(su+"/audio"),ba=new o4(su+"/events");async function s4(){await Kg(),await Promise.all([Fe.init(),we.init(),ba.init()]),pn=we.settings;const e=a4();[Fe,we,ba].forEach(t=>{t.setUserID(e)})}function h0(e){const[t,n]=Fe.getWaterfallRange();return(e-Vr(t))/((n-t)/pn.fft_result_size*pn.total_bandwidth)}function l4(e){const[t,n]=Fe.getWaterfallRange();return e*((n-t)/pn.fft_result_size)*pn.total_bandwidth+Vr(t)}function io(e){return(e-pn.basefreq)/pn.total_bandwidth*pn.fft_result_size}function Vr(e){return e/pn.fft_result_size*pn.total_bandwidth+pn.basefreq}function c4(e){const[t,n]=Fe.getWaterfallRange();return e/pn.total_bandwidth*pn.fft_result_size/(n-t)}function wa(){return we.trueAudioSps}function u4(){return Fe.getWaterfallRange().map(Vr)}function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function In(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function zs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lu;typeof Object.assign!="function"?lu=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:lu=Object.assign;var Lo=lu,f0=["","webkit","Moz","MS","ms","o"],d4=typeof document>"u"?{style:{}}:document.createElement("div"),h4="function",_i=Math.round,qo=Math.abs,cu=Date.now;function $s(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<f0.length;){if(n=f0[i],r=n?n+o:t,r in e)return r;i++}}var Gr;typeof window>"u"?Gr={}:Gr=window;var p0=$s(d4.style,"touchAction"),m0=p0!==void 0;function f4(){if(!m0)return!1;var e={},t=Gr.CSS&&Gr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=t?Gr.CSS.supports("touch-action",n):!0}),e}var g0="compute",y0="auto",uu="manipulation",jo="none",xa="pan-x",_a="pan-y",Hs=f4(),p4=/mobile|tablet|ip(ad|hone|od)|android/i,v0="ontouchstart"in Gr,g4=$s(Gr,"PointerEvent")!==void 0,y4=v0&&p4.test(navigator.userAgent),Sa="touch",v4="pen",du="mouse",b4="kinect",w4=25,Xt=1,Bo=2,ct=4,tn=8,Ys=1,Ca=2,Ma=4,Aa=8,Si=16,Ar=Ca|Ma,Wo=Aa|Si,b0=Ar|Wo,w0=["x","y"],Vs=["clientX","clientY"];function Xr(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==void 0)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Gs(e,t){return typeof e===h4?e.apply(t&&t[0]||void 0,t):e}function Uo(e,t){return e.indexOf(t)>-1}function x4(e){if(Uo(e,jo))return jo;var t=Uo(e,xa),n=Uo(e,_a);return t&&n?jo:t||n?t?xa:_a:Uo(e,uu)?uu:y0}var x0=function(){function e(n,r){this.manager=n,this.set(r)}var t=e.prototype;return t.set=function(n){n===g0&&(n=this.compute()),m0&&this.manager.element.style&&Hs[n]&&(this.manager.element.style[p0]=n),this.actions=n.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var n=[];return Xr(this.manager.recognizers,function(r){Gs(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),x4(n.join(" "))},t.preventDefaults=function(n){var r=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var i=this.actions,a=Uo(i,jo)&&!Hs[jo],s=Uo(i,_a)&&!Hs[_a],l=Uo(i,xa)&&!Hs[xa];if(a){var c=n.pointers.length===1,d=n.distance<2,h=n.deltaTime<250;if(c&&d&&h)return}if(!(l&&s)&&(a||s&&o&Ar||l&&o&Wo))return this.preventSrc(r)},t.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function hu(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function _0(e){var t=e.length;if(t===1)return{x:_i(e[0].clientX),y:_i(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:_i(n/t),y:_i(r/t)}}function S0(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:_i(e.pointers[n].clientX),clientY:_i(e.pointers[n].clientY)},n++;return{timeStamp:cu(),pointers:t,center:_0(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Xs(e,t,n){n||(n=w0);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function fu(e,t,n){n||(n=w0);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.atan2(o,r)*180/Math.PI}function C0(e,t){return e===t?Ys:qo(e)>=qo(t)?e<0?Ca:Ma:t<0?Aa:Si}function _4(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};(t.eventType===Xt||i.eventType===ct)&&(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function M0(e,t,n){return{x:t/e||0,y:n/e||0}}function S4(e,t){return Xs(t[0],t[1],Vs)/Xs(e[0],e[1],Vs)}function C4(e,t){return fu(t[1],t[0],Vs)+fu(e[1],e[0],Vs)}function M4(e,t){var n=e.lastInterval||t,r=t.timeStamp-n.timeStamp,o,i,a,s;if(t.eventType!==tn&&(r>w4||n.velocity===void 0)){var l=t.deltaX-n.deltaX,c=t.deltaY-n.deltaY,d=M0(r,l,c);i=d.x,a=d.y,o=qo(d.x)>qo(d.y)?d.x:d.y,s=C0(l,c),e.lastInterval=t}else o=n.velocity,i=n.velocityX,a=n.velocityY,s=n.direction;t.velocity=o,t.velocityX=i,t.velocityY=a,t.direction=s}function A4(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=S0(t)),o>1&&!n.firstMultiple?n.firstMultiple=S0(t):o===1&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,l=t.center=_0(r);t.timeStamp=cu(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=fu(s,l),t.distance=Xs(s,l),_4(n,t),t.offsetDirection=C0(t.deltaX,t.deltaY);var c=M0(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=qo(c.x)>qo(c.y)?c.x:c.y,t.scale=a?S4(a.pointers,r):1,t.rotation=a?C4(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,M4(n,t);var d=e.element,h=t.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,hu(f,d)&&(d=f),t.target=d}function E4(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&Xt&&r-o===0,a=t&(ct|tn)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,A4(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Ea(e){return e.trim().split(/\s+/g)}function Ta(e,t,n){Xr(Ea(t),function(r){e.addEventListener(r,n,!1)})}function ka(e,t,n){Xr(Ea(t),function(r){e.removeEventListener(r,n,!1)})}function A0(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var Ci=function(){function e(n,r){var o=this;this.manager=n,this.callback=r,this.element=n.element,this.target=n.options.inputTarget,this.domHandler=function(i){Gs(n.options.enable,[n])&&o.handler(i)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Ta(this.element,this.evEl,this.domHandler),this.evTarget&&Ta(this.target,this.evTarget,this.domHandler),this.evWin&&Ta(A0(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&ka(this.element,this.evEl,this.domHandler),this.evTarget&&ka(this.target,this.evTarget,this.domHandler),this.evWin&&ka(A0(this.element),this.evWin,this.domHandler)},e}();function zo(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var T4={pointerdown:Xt,pointermove:Bo,pointerup:ct,pointercancel:tn,pointerout:tn},k4={2:Sa,3:v4,4:du,5:b4},E0="pointerdown",T0="pointermove pointerup pointercancel";Gr.MSPointerEvent&&!Gr.PointerEvent&&(E0="MSPointerDown",T0="MSPointerMove MSPointerUp MSPointerCancel");var k0=function(e){In(t,e);function t(){var r,o=t.prototype;return o.evEl=E0,o.evWin=T0,r=e.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var n=t.prototype;return n.handler=function(r){var o=this.store,i=!1,a=r.type.toLowerCase().replace("ms",""),s=T4[a],l=k4[r.pointerType]||r.pointerType,c=l===Sa,d=zo(o,r.pointerId,"pointerId");s&Xt&&(r.button===0||c)?d<0&&(o.push(r),d=o.length-1):s&(ct|tn)&&(i=!0),!(d<0)&&(o[d]=r,this.callback(this.manager,s,{pointers:o,changedPointers:[r],pointerType:l,srcEvent:r}),i&&o.splice(d,1))},t}(Ci);function Fa(e){return Array.prototype.slice.call(e,0)}function pu(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];zo(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(t?r=r.sort(function(s,l){return s[t]>l[t]}):r=r.sort()),r}var F4={touchstart:Xt,touchmove:Bo,touchend:ct,touchcancel:tn},O4="touchstart touchmove touchend touchcancel",mu=function(e){In(t,e);function t(){var r;return t.prototype.evTarget=O4,r=e.apply(this,arguments)||this,r.targetIds={},r}var n=t.prototype;return n.handler=function(r){var o=F4[r.type],i=I4.call(this,r,o);i&&this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:Sa,srcEvent:r})},t}(Ci);function I4(e,t){var n=Fa(e.touches),r=this.targetIds;if(t&(Xt|Bo)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var o,i,a=Fa(e.changedTouches),s=[],l=this.target;if(i=n.filter(function(c){return hu(c.target,l)}),t===Xt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(ct|tn)&&delete r[a[o].identifier],o++;if(s.length)return[pu(i.concat(s),"identifier",!0),s]}var R4={mousedown:Xt,mousemove:Bo,mouseup:ct},P4="mousedown",D4="mousemove mouseup",gu=function(e){In(t,e);function t(){var r,o=t.prototype;return o.evEl=P4,o.evWin=D4,r=e.apply(this,arguments)||this,r.pressed=!1,r}var n=t.prototype;return n.handler=function(r){var o=R4[r.type];o&Xt&&r.button===0&&(this.pressed=!0),o&Bo&&r.which!==1&&(o=ct),this.pressed&&(o&ct&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[r],changedPointers:[r],pointerType:du,srcEvent:r}))},t}(Ci),N4=2500,F0=25;function O0(e){var t=e.changedPointers,n=t[0];if(n.identifier===this.primaryTouch){var r={x:n.clientX,y:n.clientY},o=this.lastTouches;this.lastTouches.push(r);var i=function(){var a=o.indexOf(r);a>-1&&o.splice(a,1)};setTimeout(i,N4)}}function L4(e,t){e&Xt?(this.primaryTouch=t.changedPointers[0].identifier,O0.call(this,t)):e&(ct|tn)&&O0.call(this,t)}function q4(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=F0&&a<=F0)return!0}return!1}var I0=function(){var e=function(t){In(n,t);function n(o,i){var a;return a=t.call(this,o,i)||this,a.handler=function(s,l,c){var d=c.pointerType===Sa,h=c.pointerType===du;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)L4.call(zs(zs(a)),l,c);else if(h&&q4.call(zs(zs(a)),c))return;a.callback(s,l,c)}},a.touch=new mu(a.manager,a.handler),a.mouse=new gu(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var r=n.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},n}(Ci);return e}();function j4(e){var t,n=e.options.inputClass;return n?t=n:g4?t=k0:y4?t=mu:v0?t=I0:t=gu,new t(e,E4)}function Mi(e,t,n){return Array.isArray(e)?(Xr(e,n[t],n),!0):!1}var Zs=1,Rn=2,Ai=4,ao=8,Zr=ao,Oa=16,Er=32,B4=1;function W4(){return B4++}function Js(e,t){var n=t.manager;return n?n.get(e):e}function R0(e){return e&Oa?"cancel":e&ao?"end":e&Ai?"move":e&Rn?"start":""}var Ia=function(){function e(n){n===void 0&&(n={}),this.options=er({enable:!0},n),this.id=W4(),this.manager=null,this.state=Zs,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(n){return Lo(this.options,n),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(n){if(Mi(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Js(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},t.dropRecognizeWith=function(n){return Mi(n,"dropRecognizeWith",this)?this:(n=Js(n,this),delete this.simultaneous[n.id],this)},t.requireFailure=function(n){if(Mi(n,"requireFailure",this))return this;var r=this.requireFail;return n=Js(n,this),zo(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},t.dropRequireFailure=function(n){if(Mi(n,"dropRequireFailure",this))return this;n=Js(n,this);var r=zo(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},t.emit=function(n){var r=this,o=this.state;function i(a){r.manager.emit(a,n)}o<ao&&i(r.options.event+R0(o)),i(r.options.event),n.additionalEvent&&i(n.additionalEvent),o>=ao&&i(r.options.event+R0(o))},t.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Er},t.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Er|Zs)))return!1;n++}return!0},t.recognize=function(n){var r=Lo({},n);if(!Gs(this.options.enable,[this,r])){this.reset(),this.state=Er;return}this.state&(Zr|Oa|Er)&&(this.state=Zs),this.state=this.process(r),this.state&(Rn|Ai|ao|Oa)&&this.tryEmit(r)},t.process=function(n){},t.getTouchAction=function(){},t.reset=function(){},e}(),yu=function(e){In(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,er({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,o.pTime=!1,o.pCenter=!1,o._timer=null,o._input=null,o.count=0,o}var n=t.prototype;return n.getTouchAction=function(){return[uu]},n.process=function(r){var o=this,i=this.options,a=r.pointers.length===i.pointers,s=r.distance<i.threshold,l=r.deltaTime<i.time;if(this.reset(),r.eventType&Xt&&this.count===0)return this.failTimeout();if(s&&l&&a){if(r.eventType!==ct)return this.failTimeout();var c=this.pTime?r.timeStamp-this.pTime<i.interval:!0,d=!this.pCenter||Xs(this.pCenter,r.center)<i.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!d||!c?this.count=1:this.count+=1,this._input=r;var h=this.count%i.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Zr,o.tryEmit()},i.interval),Rn):Zr}return Er},n.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=Er},this.options.interval),Er},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===Zr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Ia),Ei=function(e){In(t,e);function t(r){return r===void 0&&(r={}),e.call(this,er({pointers:1},r))||this}var n=t.prototype;return n.attrTest=function(r){var o=this.options.pointers;return o===0||r.pointers.length===o},n.process=function(r){var o=this.state,i=r.eventType,a=o&(Rn|Ai),s=this.attrTest(r);return a&&(i&tn||!s)?o|Oa:a||s?i&ct?o|ao:o&Rn?o|Ai:Rn:Er},t}(Ia);function P0(e){return e===Si?"down":e===Aa?"up":e===Ca?"left":e===Ma?"right":""}var vu=function(e){In(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,er({event:"pan",threshold:10,pointers:1,direction:b0},r))||this,o.pX=null,o.pY=null,o}var n=t.prototype;return n.getTouchAction=function(){var r=this.options.direction,o=[];return r&Ar&&o.push(_a),r&Wo&&o.push(xa),o},n.directionTest=function(r){var o=this.options,i=!0,a=r.distance,s=r.direction,l=r.deltaX,c=r.deltaY;return s&o.direction||(o.direction&Ar?(s=l===0?Ys:l<0?Ca:Ma,i=l!==this.pX,a=Math.abs(r.deltaX)):(s=c===0?Ys:c<0?Aa:Si,i=c!==this.pY,a=Math.abs(r.deltaY))),r.direction=s,i&&a>o.threshold&&s&o.direction},n.attrTest=function(r){return Ei.prototype.attrTest.call(this,r)&&(this.state&Rn||!(this.state&Rn)&&this.directionTest(r))},n.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var o=P0(r.direction);o&&(r.additionalEvent=this.options.event+o),e.prototype.emit.call(this,r)},t}(Ei),D0=function(e){In(t,e);function t(r){return r===void 0&&(r={}),e.call(this,er({event:"swipe",threshold:10,velocity:.3,direction:Ar|Wo,pointers:1},r))||this}var n=t.prototype;return n.getTouchAction=function(){return vu.prototype.getTouchAction.call(this)},n.attrTest=function(r){var o=this.options.direction,i;return o&(Ar|Wo)?i=r.overallVelocity:o&Ar?i=r.overallVelocityX:o&Wo&&(i=r.overallVelocityY),e.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&qo(i)>this.options.velocity&&r.eventType&ct},n.emit=function(r){var o=P0(r.offsetDirection);o&&this.manager.emit(this.options.event+o,r),this.manager.emit(this.options.event,r)},t}(Ei),N0=function(e){In(t,e);function t(r){return r===void 0&&(r={}),e.call(this,er({event:"pinch",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[jo]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&Rn)},n.emit=function(r){if(r.scale!==1){var o=r.scale<1?"in":"out";r.additionalEvent=this.options.event+o}e.prototype.emit.call(this,r)},t}(Ei),L0=function(e){In(t,e);function t(r){return r===void 0&&(r={}),e.call(this,er({event:"rotate",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[jo]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&Rn)},t}(Ei),q0=function(e){In(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,er({event:"press",pointers:1,time:251,threshold:9},r))||this,o._timer=null,o._input=null,o}var n=t.prototype;return n.getTouchAction=function(){return[y0]},n.process=function(r){var o=this,i=this.options,a=r.pointers.length===i.pointers,s=r.distance<i.threshold,l=r.deltaTime>i.time;if(this._input=r,!s||!a||r.eventType&(ct|tn)&&!l)this.reset();else if(r.eventType&Xt)this.reset(),this._timer=setTimeout(function(){o.state=Zr,o.tryEmit()},i.time);else if(r.eventType&ct)return Zr;return Er},n.reset=function(){clearTimeout(this._timer)},n.emit=function(r){this.state===Zr&&(r&&r.eventType&ct?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=cu(),this.manager.emit(this.options.event,this._input)))},t}(Ia),j0={domEvents:!1,touchAction:g0,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},B0=[[L0,{enable:!1}],[N0,{enable:!1},["rotate"]],[D0,{direction:Ar}],[vu,{direction:Ar},["swipe"]],[yu],[yu,{event:"doubletap",taps:2},["tap"]],[q0]],U4=1,W0=2;function U0(e,t){var n=e.element;if(n.style){var r;Xr(e.options.cssProps,function(o,i){r=$s(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function z4(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var z0=function(){function e(n,r){var o=this;this.options=Lo({},j0,r||{}),this.options.inputTarget=this.options.inputTarget||n,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=n,this.input=j4(this),this.touchAction=new x0(this,this.options.touchAction),U0(this,!0),Xr(this.options.recognizers,function(i){var a=o.add(new i[0](i[1]));i[2]&&a.recognizeWith(i[2]),i[3]&&a.requireFailure(i[3])},this)}var t=e.prototype;return t.set=function(n){return Lo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},t.stop=function(n){this.session.stopped=n?W0:U4},t.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var o,i=this.recognizers,a=r.curRecognizer;(!a||a&&a.state&Zr)&&(r.curRecognizer=null,a=null);for(var s=0;s<i.length;)o=i[s],r.stopped!==W0&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(n):o.reset(),!a&&o.state&(Rn|Ai|ao)&&(r.curRecognizer=o,a=o),s++}},t.get=function(n){if(n instanceof Ia)return n;for(var r=this.recognizers,o=0;o<r.length;o++)if(r[o].options.event===n)return r[o];return null},t.add=function(n){if(Mi(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},t.remove=function(n){if(Mi(n,"remove",this))return this;var r=this.get(n);if(n){var o=this.recognizers,i=zo(o,r);i!==-1&&(o.splice(i,1),this.touchAction.update())}return this},t.on=function(n,r){if(n===void 0||r===void 0)return this;var o=this.handlers;return Xr(Ea(n),function(i){o[i]=o[i]||[],o[i].push(r)}),this},t.off=function(n,r){if(n===void 0)return this;var o=this.handlers;return Xr(Ea(n),function(i){r?o[i]&&o[i].splice(zo(o[i],r),1):delete o[i]}),this},t.emit=function(n,r){this.options.domEvents&&z4(n,r);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var i=0;i<o.length;)o[i](r),i++}},t.destroy=function(){this.element&&U0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),$4={touchstart:Xt,touchmove:Bo,touchend:ct,touchcancel:tn},H4="touchstart",Y4="touchstart touchmove touchend touchcancel",V4=function(e){In(t,e);function t(){var r,o=t.prototype;return o.evTarget=H4,o.evWin=Y4,r=e.apply(this,arguments)||this,r.started=!1,r}var n=t.prototype;return n.handler=function(r){var o=$4[r.type];if(o===Xt&&(this.started=!0),!!this.started){var i=G4.call(this,r,o);o&(ct|tn)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:Sa,srcEvent:r})}},t}(Ci);function G4(e,t){var n=Fa(e.touches),r=Fa(e.changedTouches);return t&(ct|tn)&&(n=pu(n.concat(r),"identifier",!0)),[n,r]}function $0(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var o=new Error("get-stack-trace"),i=o&&o.stack?o.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,r,i),e.apply(this,arguments)}}var H0=$0(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===void 0)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),X4=$0(function(e,t){return H0(e,t,!0)},"merge","Use `assign`.");function Z4(e,t,n){var r=t.prototype,o;o=e.prototype=Object.create(r),o.constructor=e,o._super=r,n&&Lo(o,n)}function Y0(e,t){return function(){return e.apply(t,arguments)}}var Ks=function(){var e=function(t,n){return n===void 0&&(n={}),new z0(t,er({recognizers:B0.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=b0,e.DIRECTION_DOWN=Si,e.DIRECTION_LEFT=Ca,e.DIRECTION_RIGHT=Ma,e.DIRECTION_UP=Aa,e.DIRECTION_HORIZONTAL=Ar,e.DIRECTION_VERTICAL=Wo,e.DIRECTION_NONE=Ys,e.DIRECTION_DOWN=Si,e.INPUT_START=Xt,e.INPUT_MOVE=Bo,e.INPUT_END=ct,e.INPUT_CANCEL=tn,e.STATE_POSSIBLE=Zs,e.STATE_BEGAN=Rn,e.STATE_CHANGED=Ai,e.STATE_ENDED=ao,e.STATE_RECOGNIZED=Zr,e.STATE_CANCELLED=Oa,e.STATE_FAILED=Er,e.Manager=z0,e.Input=Ci,e.TouchAction=x0,e.TouchInput=mu,e.MouseInput=gu,e.PointerEventInput=k0,e.TouchMouseInput=I0,e.SingleTouchInput=V4,e.Recognizer=Ia,e.AttrRecognizer=Ei,e.Tap=yu,e.Pan=vu,e.Swipe=D0,e.Pinch=N0,e.Rotate=L0,e.Press=q0,e.on=Ta,e.off=ka,e.each=Xr,e.merge=X4,e.extend=H0,e.bindFn=Y0,e.assign=Lo,e.inherit=Z4,e.bindFn=Y0,e.prefixed=$s,e.toArray=Fa,e.inArray=zo,e.uniqueArray=pu,e.splitStr=Ea,e.boolOrFn=Gs,e.hasParent=hu,e.addEventListeners=Ta,e.removeEventListeners=ka,e.defaults=Lo({},j0,{preset:B0}),e}();function J4(e){const t=new Ks.Manager(e),n=new Ks.Pinch;return t.add(n),t.on("pinchmove",function(r){e.dispatchEvent(new CustomEvent("pinchmove",{detail:r}))}),t.on("pinchstart",function(r){e.dispatchEvent(new CustomEvent("pinchstart",{detail:r}))}),{destroy(){}}}function bu(e){const t=new Ks.Manager(e),n=new Ks.Pan;return t.add(n),t.on("panstart",function(r){e.dispatchEvent(new CustomEvent("panstart",{detail:r}))}),t.on("panmove",function(r){e.dispatchEvent(new CustomEvent("panmove",{detail:r}))}),t.on("panend",function(r){e.dispatchEvent(new CustomEvent("panend",{detail:r}))}),{destroy(){}}}const{window:Qs}=Ed;function K4(e){let t,n,r,o,i,a,s,l,c,d,h,f,m,v,C;return{c(){t=q("div"),n=q("div"),r=q("div"),o=We("svg"),i=We("line"),a=We("line"),s=Z(),l=q("div"),c=Z(),d=We("svg"),h=We("line"),f=We("line"),y(i,"x1","100%"),y(i,"y1","20%"),y(i,"x2","20%"),y(i,"y2","100%"),y(i,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),y(a,"x1","0%"),y(a,"y1","100%"),y(a,"x2","20%"),y(a,"y2","100%"),y(a,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),y(o,"class","h-5 w-2 inline absolute group cursor-w-resize z-0"),wt(o,"right","100%"),y(o,"role","slider"),y(o,"aria-valuenow",e[5]),y(o,"tabindex","-1"),y(l,"class","w-full h-full border-t border-yellow-500 align-middle absolute z-10"),wt(l,"top","20%"),y(l,"role","slider"),y(l,"tabindex","-1"),y(h,"x1","0%"),y(h,"y1","20%"),y(h,"x2","80%"),y(h,"y2","100%"),y(h,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),y(f,"x1","80%"),y(f,"y1","100%"),y(f,"x2","100%"),y(f,"y2","100%"),y(f,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),y(d,"class","h-5 w-2 inline absolute group cursor-e-resize z-0"),wt(d,"left","100%"),y(d,"role","slider"),y(d,"aria-valuenow",e[6]),y(d,"tabindex","-1"),y(r,"class","h-full absolute cursor-grab z-10"),y(r,"style",e[9]),y(n,"class","h-full w-px bg-yellow-500"),y(n,"style",e[8]),y(t,"class","w-full h-5 bg-black"),Gn(()=>e[26].call(t))},m(k,j){ge(k,t,j),w(t,n),w(n,r),w(r,o),w(o,i),w(o,a),w(r,s),w(r,l),w(r,c),w(r,d),w(d,h),w(d,f),e[25](t),m=Gm(t,e[26].bind(t)),v||(C=[ee(Qs,"mouseup",e[12]),ee(Qs,"mousemove",e[11]),ee(Qs,"touchmove",e[2]),ee(Qs,"touchend",e[3]),ee(o,"mousedown",e[21]),$i(bu.call(null,o)),ee(o,"panstart",e[22]),ee(o,"panmove",e[11]),ee(o,"panend",e[12]),ee(d,"mousedown",e[23]),$i(bu.call(null,d)),ee(d,"panstart",e[24]),ee(d,"panmove",e[11]),ee(d,"panend",e[12]),ee(t,"wheel",e[10]),ee(t,"mousedown",e[27]),ee(t,"click",e[13]),ee(t,"touchstart",e[1])],v=!0)},p(k,j){j[0]&32&&y(o,"aria-valuenow",k[5]),j[0]&64&&y(d,"aria-valuenow",k[6]),j[0]&512&&y(r,"style",k[9]),j[0]&256&&y(n,"style",k[8])},i:$e,o:$e,d(k){k&&fe(t),e[25](null),m(),v=!1,$t(C)}}}const el=0,tl=1,Ra=2,Pa=3,wu=4;function V0(e){if(e.clientX)return e.clientX;if(e.detail.center.x)return e.detail.center.x}function Q4(e,t,n){const r=Ol();let o=!1,i=!1,a=el,s,l,c,d,h=-1e3,f,m,v,C,k;function j(){return(m-f)*1e6/c}function P(J){J.preventDefault();const ie=J.deltaY<0?1:-1,xe=.1,me=Math.min(Math.abs(J.deltaY)/100,10),ae=xe*me,Ee=j(),Se=ae*Ee,De=h+ie*(Se/c);n(19,h=Math.min(Math.max(-f,De),1-m)),E()}function T(J,ie){i=!0,(ie==Ra||ie==Pa)&&!o&&(o=!0,console.log("Normal Drag for "+a));const xe=V0(J);a=ie,l=0;const me=d.getBoundingClientRect(),ae=me.x+me.width/2;a===tl?s=xe-ae-h*c:a===Ra?s=xe-ae-(h+f)*c:a===Pa&&(s=xe-ae-(h+m)*c),I()}function L(J){const ie=V0(J);if(a===wu)l+=J.detail.srcEvent.movementX;else if(a!==el){const xe=window.getComputedStyle(J.target).cursor,me=d.getBoundingClientRect(),ae=me.x+me.width/2,Ee=ie-ae-s;if(a===tl&&!o&&!xe.includes("ew-resize")){const Se=d.getBoundingClientRect().x,De=J.clientX-Se;n(19,h=De/c-(m+f)/2)}a===Ra?n(5,f=(Ee-h*c)/c):a===Pa&&n(6,m=(Ee-h*c)/c),E()}}function N(J){a===wu&&l<5&&g(J),a=el,n(19,h),o=!1,i=!1}function R(J){}function A(J){if(a===el&&window.getComputedStyle(J.target).cursor!="resize"){if(a===wu&&l<5&&!o)g(J);else if(!o&&i){const ie=d.getBoundingClientRect().x,xe=J.clientX-ie;n(19,h=xe/c-(f+m)/2),E()}}}function S(J){if(J.touches.length===1){const ie=J.touches[0];T(ie,tl)}}function M(J){if(J.touches.length===1){const ie=J.touches[0];L(ie)}}function x(J){N(J)}function g(J){const ie=d.getBoundingClientRect().x,xe=J.clientX-ie;n(19,h=xe/c-(m+f)/2),E()}function b(J){const ie=d.getBoundingClientRect().x;return(J.clientX-ie)/c}let _=0;function E(){const J=[h+f,h,h+m],ie=Date.now();ie-_>50&&(r("change",J),_=ie)}function F(J){const[ie,xe,me]=J;n(19,h=xe),n(5,f=ie-xe),n(6,m=me-xe)}function I(){n(20,v=c4(wa()))}Fl(()=>{});const Y=J=>T(J,Ra),G=J=>T(J,Ra),W=J=>T(J,Pa),U=J=>T(J,Pa);function H(J){Kt[J?"unshift":"push"](()=>{d=J,n(7,d)})}function Q(){c=this.clientWidth,n(4,c)}const ve=J=>T(J,tl);return e.$$.update=()=>{e.$$.dirty[0]&1048592,e.$$.dirty[0]&524304&&n(8,C="transform: translate3d(".concat(h*c-.5,"px, 0, 0)")),e.$$.dirty[0]&112&&n(9,k="transform: translate3d(".concat(f*c+.5,"px, 0, 0); width: ").concat((m-f)*c,"px"))},[T,S,M,x,c,f,m,d,C,k,P,L,N,A,R,g,b,F,I,h,v,Y,G,W,U,H,Q,ve]}class e8 extends rs{constructor(t){super(),ns(this,t,Q4,K4,Jo,{handleMoveStart:0,setMode:14,handleTouchStart:1,handleTouchMove:2,handleTouchEnd:3,handlePassbandClick:15,getOffsetFromEvent:16,changePassband:17,updatePassbandLimits:18},null,[-1,-1])}get handleMoveStart(){return this.$$.ctx[0]}get setMode(){return this.$$.ctx[14]}get handleTouchStart(){return this.$$.ctx[1]}get handleTouchMove(){return this.$$.ctx[2]}get handleTouchEnd(){return this.$$.ctx[3]}get handlePassbandClick(){return this.$$.ctx[15]}get getOffsetFromEvent(){return this.$$.ctx[16]}get changePassband(){return this.$$.ctx[17]}get updatePassbandLimits(){return this.$$.ctx[18]}}var t8=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};const G0=Mo(t8);function n8(e){let t,n,r,o,i,a,s;return{c(){t=q("div"),n=q("div"),r=q("input"),o=Z(),i=q("span"),i.textContent="".concat(X0),y(r,"type","number"),y(r,"class","text-3xl font-mono text-white outline-none bg-transparent text-center appearance-none p-0 m-0 inline-block svelte-1n8n5wk"),y(i,"class","text-white font-mono p-1 m-1 text-3xl"),y(n,"class","m-0 p-0"),n.hidden=!0,y(t,"class","w-full md-2 items-center bg-black pt-1")},m(l,c){ge(l,t,c),w(t,n),w(n,r),ht(r,e[0]),w(n,o),w(n,i),e[10](n),a||(s=[ee(r,"input",e[9]),ee(r,"change",e[2])],a=!0)},p(l,[c]){c&1&&ei(r.value)!==l[0]&&ht(r,l[0])},i:$e,o:$e,d(l){l&&fe(t),e[10](null),a=!1,$t(s)}}}const X0="MHz";function r8(e,t,n){const r=Ol();let o=0,i=0,a,s,l,c=0;const d={Hz:0,kHz:3,MHz:6,GHz:9},h={3:"k",6:"M",9:"G"};let f=[];function m(S){n(8,o=S),r("change",S+i)}function v(S){if(!G0(s)){C();return}let M=parseFloat(s);M*=Math.pow(10,a),k(M)&&m(M),C()}function C(S){n(0,s=(o/Math.pow(10,a)).toFixed(a));let M=!0;for(let x=0;x<f.length;x++){let g=Math.floor(o/f[x].multiplier)%10;g!==0&&(M=!1),M&&g==0?f[x].value=" ":f[x].value=Math.round(g)}f=f}function k(S){const M=we.baseFreq,x=M+we.totalBandwidth;return S>=M&&S<x}function j(S){k(S)&&n(8,o=S)}function P(){return o}function T(S){i=S}function L(){return i}function N(S,M){c=M;let x=Math.ceil(Math.log10(c+1));for(let g=0;g<x;g++){let b=x-g-1;f.push({element:null,multiplier:Math.pow(10,x-g-1),separator:b%3===0?h[b]:null,value:0})}f=f}C();function R(){s=ei(this.value),n(0,s)}function A(S){Kt[S?"unshift":"push"](()=>{l=S,n(1,l)})}return e.$$.update=()=>{e.$$.dirty&256&&C()},a=d[X0],[s,l,v,j,P,T,L,N,o,R,A]}class o8 extends rs{constructor(t){super(),ns(this,t,r8,n8,Jo,{setFrequency:3,getFrequency:4,setBFO:5,getBFO:6,updateFrequencyLimits:7})}get setFrequency(){return this.$$.ctx[3]}get getFrequency(){return this.$$.ctx[4]}get setBFO(){return this.$$.ctx[5]}get getBFO(){return this.$$.ctx[6]}get updateFrequencyLimits(){return this.$$.ctx[7]}}function i8(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l>=0?(i=a,o=a-1):r=a+1}return i}function a8(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l>0?(i=a,o=a-1):r=a+1}return i}function s8(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l<0?(i=a,r=a+1):o=a-1}return i}function l8(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],l=n!==void 0?n(s,t):s-t;l<=0?(i=a,r=a+1):o=a-1}return i}function c8(e,t,n,r,o){for(;r<=o;){var i=r+o>>>1,a=e[i],s=n!==void 0?n(a,t):a-t;if(s===0)return i;s<=0?r=i+1:o=i-1}return-1}function Da(e,t,n,r,o,i){return typeof n=="function"?i(e,t,n,r===void 0?0:r|0,o===void 0?e.length-1:o|0):i(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}var u8={ge:function(e,t,n,r,o){return Da(e,t,n,r,o,i8)},gt:function(e,t,n,r,o){return Da(e,t,n,r,o,a8)},lt:function(e,t,n,r,o){return Da(e,t,n,r,o,s8)},le:function(e,t,n,r,o){return Da(e,t,n,r,o,l8)},eq:function(e,t,n,r,o){return Da(e,t,n,r,o,c8)}};const Z0=Mo(u8);function J0(e,t,n){const r=e.slice();return r[16]=t[n],r}function K0(e,t){let n,r,o,i,a=t[16].description+"",s,l,c,d;function h(){return t[8](t[16])}return{key:e,first:null,c(){n=q("div"),r=q("div"),r.innerHTML="",o=Z(),i=q("div"),s=Te(a),l=Z(),y(r,"class","top-0 w-px h-8 z-0 peer bg-yellow-600 absolute"),y(i,"class","outline-1 outline-black outline-offset-0 outline p-px bg-yellow-400 absolute bottom-0 z-10 group-hover:z-20 hover:z-20 peer-hover:z-20 text-left whitespace-pre whitespace-nowrap text-black text-xs align-middle border border-yellow-600 transform origin-bottom-left overflow-hidden h-auto max-h-full hover:max-h-screen peer-hover:max-h-screen transition-all ease-linear duration-1000"),y(n,"class","h-4 absolute p-0 group"),wt(n,"left",t[16].left*100+"%"),this.first=n},m(f,m){ge(f,n,m),w(n,r),w(n,o),w(n,i),w(i,s),w(n,l),c||(d=ee(n,"click",h),c=!0)},p(f,m){t=f,m&2&&a!==(a=t[16].description+"")&&at(s,a),m&2&&wt(n,"left",t[16].left*100+"%")},d(f){f&&fe(n),c=!1,d()}}}function d8(e){let t,n=[],r=new Map,o,i,a=Et(e[1]);const s=l=>l[16].id;for(let l=0;l<a.length;l+=1){let c=J0(e,a,l),d=s(c);r.set(d,n[l]=K0(d,c))}return{c(){t=q("div");for(let l=0;l<n.length;l+=1)n[l].c();y(t,"class","w-full h-4 bg-black relative"),y(t,"role","button")},m(l,c){ge(l,t,c);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(t,null);e[9](t),o||(i=[ee(t,"click",Ml(e[6])),ee(t,"wheel",Ml(e[7]))],o=!0)},p(l,[c]){c&6&&(a=Et(l[1]),n=Nl(n,c,s,1,l,a,r,t,Dl,K0,null,J0))},i:$e,o:$e,d(l){l&&fe(t);for(let c=0;c<n.length;c+=1)n[c].d();e[9](null),o=!1,$t(i)}}}function xu(e,t){return e[0]-t[0]}function h8(e,t,n){const r=Ol();let o;var i=[];function a(T){for(const L of T)i.push([L.f||L.frequency,L.d||L.description,L.m||L.modulation]);i=[...i]}function s(){i.sort(xu),i.length===0&&n(0,o.style.display="none",o)}function l(T,L){return[Z0.ge(i,[T],xu),Z0.ge(i,[L],xu)]}let c=0;function d(T,L){return i.slice(T,L).map(N=>({id:c++,frequency:N[0],description:N[1],modulation:N[2],left:0}))}let h=[],f=-1,m=-1;function v(){const[T,L]=u4(),[N,R]=l(T,L);L-T<=35e5?(N!==f||R!==m)&&(f=N,m=R,n(1,h=d(f,m))):(n(1,h=[]),m=-1,f=-1),n(1,h=h.map(A=>({...A,left:h0(A.frequency)}))),n(1,h=[...h])}Fl(()=>{});function C(T){Id.call(this,e,T)}function k(T){Id.call(this,e,T)}const j=T=>r("markerclick",T);function P(T){Kt[T?"unshift":"push"](()=>{o=T,n(0,o)})}return[o,h,r,a,s,v,C,k,j,P]}class f8 extends rs{constructor(t){super(),ns(this,t,h8,d8,Jo,{insertAll:3,finalizeList:4,updateFrequencyMarkerPositions:5})}get insertAll(){return this.$$.ctx[3]}get finalizeList(){return this.$$.ctx[4]}get updateFrequencyMarkerPositions(){return this.$$.ctx[5]}}var p8=Error,m8=EvalError,g8=RangeError,y8=ReferenceError,Q0=SyntaxError,Na=TypeError,v8=URIError,b8=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0},e1=typeof Symbol<"u"&&Symbol,w8=b8,x8=function(){return typeof e1!="function"||typeof Symbol!="function"||typeof e1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:w8()},_u={__proto__:null,foo:{}},_8=Object,S8=function(){return{__proto__:_u}.foo===_u.foo&&!(_u instanceof _8)},C8="Function.prototype.bind called on incompatible ",M8=Object.prototype.toString,A8=Math.max,E8="[object Function]",t1=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},T8=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},k8=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},F8=function(e){var t=this;if(typeof t!="function"||M8.apply(t)!==E8)throw new TypeError(C8+t);for(var n=T8(arguments,1),r,o=function(){if(this instanceof r){var c=t.apply(this,t1(n,arguments));return Object(c)===c?c:this}return t.apply(e,t1(n,arguments))},i=A8(0,t.length-n.length),a=[],s=0;s<i;s++)a[s]="$"+s;if(r=Function("binder","return function ("+k8(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},O8=F8,Su=Function.prototype.bind||O8,I8=Function.prototype.call,R8=Object.prototype.hasOwnProperty,P8=Su,D8=P8.call(I8,R8),Ie,N8=p8,L8=m8,q8=g8,j8=y8,Ti=Q0,ki=Na,B8=v8,n1=Function,Cu=function(e){try{return n1('"use strict"; return ('+e+").constructor;")()}catch(t){}},$o=Object.getOwnPropertyDescriptor;if($o)try{$o({},"")}catch(e){$o=null}var Mu=function(){throw new ki},W8=$o?function(){try{return arguments.callee,Mu}catch(e){try{return $o(arguments,"callee").get}catch(t){return Mu}}}():Mu,Fi=x8(),U8=S8(),_t=Object.getPrototypeOf||(U8?function(e){return e.__proto__}:null),Oi={},z8=typeof Uint8Array>"u"||!_t?Ie:_t(Uint8Array),Ho={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ie:ArrayBuffer,"%ArrayIteratorPrototype%":Fi&&_t?_t([][Symbol.iterator]()):Ie,"%AsyncFromSyncIteratorPrototype%":Ie,"%AsyncFunction%":Oi,"%AsyncGenerator%":Oi,"%AsyncGeneratorFunction%":Oi,"%AsyncIteratorPrototype%":Oi,"%Atomics%":typeof Atomics>"u"?Ie:Atomics,"%BigInt%":typeof BigInt>"u"?Ie:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":N8,"%eval%":eval,"%EvalError%":L8,"%Float32Array%":typeof Float32Array>"u"?Ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ie:FinalizationRegistry,"%Function%":n1,"%GeneratorFunction%":Oi,"%Int8Array%":typeof Int8Array>"u"?Ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fi&&_t?_t(_t([][Symbol.iterator]())):Ie,"%JSON%":typeof JSON=="object"?JSON:Ie,"%Map%":typeof Map>"u"?Ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fi||!_t?Ie:_t(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ie:Promise,"%Proxy%":typeof Proxy>"u"?Ie:Proxy,"%RangeError%":q8,"%ReferenceError%":j8,"%Reflect%":typeof Reflect>"u"?Ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fi||!_t?Ie:_t(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fi&&_t?_t(""[Symbol.iterator]()):Ie,"%Symbol%":Fi?Symbol:Ie,"%SyntaxError%":Ti,"%ThrowTypeError%":W8,"%TypedArray%":z8,"%TypeError%":ki,"%Uint8Array%":typeof Uint8Array>"u"?Ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ie:Uint32Array,"%URIError%":B8,"%WeakMap%":typeof WeakMap>"u"?Ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ie:WeakSet};if(_t)try{null.error}catch(e){var $8=_t(_t(e));Ho["%Error.prototype%"]=$8}var H8=function e(t){var n;if(t==="%AsyncFunction%")n=Cu("async function () {}");else if(t==="%GeneratorFunction%")n=Cu("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Cu("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&_t&&(n=_t(o.prototype))}return Ho[t]=n,n},r1={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},La=Su,nl=D8,Y8=La.call(Function.call,Array.prototype.concat),V8=La.call(Function.apply,Array.prototype.splice),o1=La.call(Function.call,String.prototype.replace),rl=La.call(Function.call,String.prototype.slice),G8=La.call(Function.call,RegExp.prototype.exec),X8=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z8=/\\(\\)?/g,J8=function(e){var t=rl(e,0,1),n=rl(e,-1);if(t==="%"&&n!=="%")throw new Ti("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Ti("invalid intrinsic syntax, expected opening `%`");var r=[];return o1(e,X8,function(o,i,a,s){r[r.length]=a?o1(s,Z8,"$1"):i||o}),r},K8=function(e,t){var n=e,r;if(nl(r1,n)&&(r=r1[n],n="%"+r[0]+"%"),nl(Ho,n)){var o=Ho[n];if(o===Oi&&(o=H8(n)),typeof o>"u"&&!t)throw new ki("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new Ti("intrinsic "+e+" does not exist!")},Ii=function(e,t){if(typeof e!="string"||e.length===0)throw new ki("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new ki('"allowMissing" argument must be a boolean');if(G8(/^%?[^%]*%?$/,e)===null)throw new Ti("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=J8(e),r=n.length>0?n[0]:"",o=K8("%"+r+"%",t),i=o.name,a=o.value,s=!1,l=o.alias;l&&(r=l[0],V8(n,Y8([0,1],l)));for(var c=1,d=!0;c<n.length;c+=1){var h=n[c],f=rl(h,0,1),m=rl(h,-1);if((f==='"'||f==="'"||f==="`"||m==='"'||m==="'"||m==="`")&&f!==m)throw new Ti("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(s=!0),r+="."+h,i="%"+r+"%",nl(Ho,i))a=Ho[i];else if(a!=null){if(!(h in a)){if(!t)throw new ki("base intrinsic for "+e+" exists, but the property is not available.");return}if($o&&c+1>=n.length){var v=$o(a,h);d=!!v,d&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[h]}else d=nl(a,h),a=a[h];d&&!s&&(Ho[i]=a)}}return a},i1={exports:{}},Au,a1;function Eu(){if(a1)return Au;a1=1;var e=Ii,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}return Au=t,Au}var Q8=Ii,ol=Q8("%Object.getOwnPropertyDescriptor%",!0);if(ol)try{ol([],"length")}catch(e){ol=null}var s1=ol,l1=Eu(),e_=Q0,Ri=Na,c1=s1,t_=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ri("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Ri("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ri("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ri("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ri("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ri("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,s=!!c1&&c1(e,t);if(l1)l1(e,t,{configurable:i===null&&s?s.configurable:!i,enumerable:r===null&&s?s.enumerable:!r,value:n,writable:o===null&&s?s.writable:!o});else if(a||!r&&!o&&!i)e[t]=n;else throw new e_("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tu=Eu(),u1=function(){return!!Tu};u1.hasArrayLengthDefineBug=function(){if(!Tu)return null;try{return Tu([],"length",{value:1}).length!==1}catch(e){return!0}};var n_=u1,r_=Ii,d1=t_,o_=n_(),h1=s1,f1=Na,i_=r_("%Math.floor%"),a_=function(e,t){if(typeof e!="function")throw new f1("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||i_(t)!==t)throw new f1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,o=!0;if("length"in e&&h1){var i=h1(e,"length");i&&!i.configurable&&(r=!1),i&&!i.writable&&(o=!1)}return(r||o||!n)&&(o_?d1(e,"length",t,!0,!0):d1(e,"length",t)),e};(function(e){var t=Su,n=Ii,r=a_,o=Na,i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,i),l=Eu(),c=n("%Math.max%");e.exports=function(h){if(typeof h!="function")throw new o("a function is required");var f=s(t,a,arguments);return r(f,1+c(0,h.length-(arguments.length-1)),!0)};var d=function(){return s(t,i,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d})(i1);var s_=i1.exports,p1=Ii,m1=s_,l_=m1(p1("String.prototype.indexOf")),c_=function(e,t){var n=p1(e,!!t);return typeof n=="function"&&l_(e,".prototype.")>-1?m1(n):n};const u_={},ku=Object.freeze(Object.defineProperty({__proto__:null,default:u_},Symbol.toStringTag,{value:"Module"})),d_=ig(ku);var Fu=typeof Map=="function"&&Map.prototype,Ou=Object.getOwnPropertyDescriptor&&Fu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,il=Fu&&Ou&&typeof Ou.get=="function"?Ou.get:null,g1=Fu&&Map.prototype.forEach,Iu=typeof Set=="function"&&Set.prototype,Ru=Object.getOwnPropertyDescriptor&&Iu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,al=Iu&&Ru&&typeof Ru.get=="function"?Ru.get:null,y1=Iu&&Set.prototype.forEach,h_=typeof WeakMap=="function"&&WeakMap.prototype,qa=h_?WeakMap.prototype.has:null,f_=typeof WeakSet=="function"&&WeakSet.prototype,ja=f_?WeakSet.prototype.has:null,p_=typeof WeakRef=="function"&&WeakRef.prototype,v1=p_?WeakRef.prototype.deref:null,m_=Boolean.prototype.valueOf,g_=Object.prototype.toString,y_=Function.prototype.toString,v_=String.prototype.match,Pu=String.prototype.slice,so=String.prototype.replace,b_=String.prototype.toUpperCase,b1=String.prototype.toLowerCase,w1=RegExp.prototype.test,x1=Array.prototype.concat,Tr=Array.prototype.join,w_=Array.prototype.slice,_1=Math.floor,Du=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Nu=Object.getOwnPropertySymbols,Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Pi||!0)?Symbol.toStringTag:null,S1=Object.prototype.propertyIsEnumerable,C1=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M1(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||w1.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-_1(-e):_1(e);if(r!==e){var o=String(r),i=Pu.call(t,o.length+1);return so.call(o,n,"$&_")+"."+so.call(so.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return so.call(t,n,"$&_")}var qu=d_,A1=qu.custom,E1=F1(A1)?A1:null,x_=function e(t,n,r,o){var i=n||{};if(lo(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(lo(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=lo(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(lo(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(lo(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return I1(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return s?M1(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return s?M1(t,c):c}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return ju(t)?"[Array]":"[Object]";var h=j_(i,r);if(typeof o>"u")o=[];else if(O1(o,t)>=0)return"[Circular]";function f(_,E,F){if(E&&(o=w_.call(o),o.push(E)),F){var I={depth:i.depth};return lo(i,"quoteStyle")&&(I.quoteStyle=i.quoteStyle),e(_,I,r+1,o)}return e(_,i,r+1,o)}if(typeof t=="function"&&!k1(t)){var m=F_(t),v=sl(t,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+Tr.call(v,", ")+" }":"")}if(F1(t)){var C=Pi?so.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lu.call(t);return typeof t=="object"&&!Pi?Ba(C):C}if(N_(t)){for(var k="<"+b1.call(String(t.nodeName)),j=t.attributes||[],P=0;P<j.length;P++)k+=" "+j[P].name+"="+T1(__(j[P].value),"double",i);return k+=">",t.childNodes&&t.childNodes.length&&(k+="..."),k+="</"+b1.call(String(t.nodeName))+">",k}if(ju(t)){if(t.length===0)return"[]";var T=sl(t,f);return h&&!q_(T)?"["+Wu(T,h)+"]":"[ "+Tr.call(T,", ")+" ]"}if(C_(t)){var L=sl(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!S1.call(t,"cause")?"{ ["+String(t)+"] "+Tr.call(x1.call("[cause]: "+f(t.cause),L),", ")+" }":L.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Tr.call(L,", ")+" }"}if(typeof t=="object"&&a){if(E1&&typeof t[E1]=="function"&&qu)return qu(t,{depth:d-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(O_(t)){var N=[];return g1&&g1.call(t,function(_,E){N.push(f(E,t,!0)+" => "+f(_,t))}),R1("Map",il.call(t),N,h)}if(P_(t)){var R=[];return y1&&y1.call(t,function(_){R.push(f(_,t))}),R1("Set",al.call(t),R,h)}if(I_(t))return Bu("WeakMap");if(D_(t))return Bu("WeakSet");if(R_(t))return Bu("WeakRef");if(A_(t))return Ba(f(Number(t)));if(T_(t))return Ba(f(Du.call(t)));if(E_(t))return Ba(m_.call(t));if(M_(t))return Ba(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Xi)return"{ [object globalThis] }";if(!S_(t)&&!k1(t)){var A=sl(t,f),S=C1?C1(t)===Object.prototype:t instanceof Object||t.constructor===Object,M=t instanceof Object?"":"null prototype",x=!S&&Lt&&Object(t)===t&&Lt in t?Pu.call(co(t),8,-1):M?"Object":"",g=S||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",b=g+(x||M?"["+Tr.call(x1.call([],x||[],M||[]),": ")+"] ":"");return A.length===0?b+"{}":h?b+"{"+Wu(A,h)+"}":b+"{ "+Tr.call(A,", ")+" }"}return String(t)};function T1(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function __(e){return so.call(String(e),/"/g,"&quot;")}function ju(e){return co(e)==="[object Array]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function S_(e){return co(e)==="[object Date]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function k1(e){return co(e)==="[object RegExp]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function C_(e){return co(e)==="[object Error]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function M_(e){return co(e)==="[object String]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function A_(e){return co(e)==="[object Number]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function E_(e){return co(e)==="[object Boolean]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function F1(e){if(Pi)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Lu)return!1;try{return Lu.call(e),!0}catch(t){}return!1}function T_(e){if(!e||typeof e!="object"||!Du)return!1;try{return Du.call(e),!0}catch(t){}return!1}var k_=Object.prototype.hasOwnProperty||function(e){return e in this};function lo(e,t){return k_.call(e,t)}function co(e){return g_.call(e)}function F_(e){if(e.name)return e.name;var t=v_.call(y_.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function O1(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function O_(e){if(!il||!e||typeof e!="object")return!1;try{il.call(e);try{al.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function I_(e){if(!qa||!e||typeof e!="object")return!1;try{qa.call(e,qa);try{ja.call(e,ja)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function R_(e){if(!v1||!e||typeof e!="object")return!1;try{return v1.call(e),!0}catch(t){}return!1}function P_(e){if(!al||!e||typeof e!="object")return!1;try{al.call(e);try{il.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function D_(e){if(!ja||!e||typeof e!="object")return!1;try{ja.call(e,ja);try{qa.call(e,qa)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function N_(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function I1(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return I1(Pu.call(e,0,t.maxStringLength),t)+r}var o=so.call(so.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,L_);return T1(o,"single",t)}function L_(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+b_.call(t.toString(16))}function Ba(e){return"Object("+e+")"}function Bu(e){return e+" { ? }"}function R1(e,t,n,r){var o=r?Wu(n,r):Tr.call(n,", ");return e+" ("+t+") {"+o+"}"}function q_(e){for(var t=0;t<e.length;t++)if(O1(e[t],"\n")>=0)return!1;return!0}function j_(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Tr.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Tr.call(Array(t+1),n)}}function Wu(e,t){if(e.length===0)return"";var n="\n"+t.prev+t.base;return n+Tr.call(e,","+n)+"\n"+t.prev}function sl(e,t){var n=ju(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=lo(e,o)?t(e[o],e):""}var i=typeof Nu=="function"?Nu(e):[],a;if(Pi){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var l in e)lo(e,l)&&(n&&String(Number(l))===l&&l<e.length||Pi&&a["$"+l]instanceof Symbol||(w1.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof Nu=="function")for(var c=0;c<i.length;c++)S1.call(e,i[c])&&r.push("["+t(i[c])+"]: "+t(e[i[c]],e));return r}var P1=Ii,Di=c_,B_=x_,W_=Na,ll=P1("%WeakMap%",!0),cl=P1("%Map%",!0),U_=Di("WeakMap.prototype.get",!0),z_=Di("WeakMap.prototype.set",!0),$_=Di("WeakMap.prototype.has",!0),H_=Di("Map.prototype.get",!0),Y_=Di("Map.prototype.set",!0),V_=Di("Map.prototype.has",!0),Uu=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},G_=function(e,t){var n=Uu(e,t);return n&&n.value},X_=function(e,t,n){var r=Uu(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},Z_=function(e,t){return!!Uu(e,t)},J_=function(){var e,t,n,r={assert:function(o){if(!r.has(o))throw new W_("Side channel does not contain "+B_(o))},get:function(o){if(ll&&o&&(typeof o=="object"||typeof o=="function")){if(e)return U_(e,o)}else if(cl){if(t)return H_(t,o)}else if(n)return G_(n,o)},has:function(o){if(ll&&o&&(typeof o=="object"||typeof o=="function")){if(e)return $_(e,o)}else if(cl){if(t)return V_(t,o)}else if(n)return Z_(n,o);return!1},set:function(o,i){ll&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new ll),z_(e,o,i)):cl?(t||(t=new cl),Y_(t,o,i)):(n||(n={key:{},next:null}),X_(n,o,i))}};return r},K_=String.prototype.replace,Q_=/%20/g,zu={RFC1738:"RFC1738",RFC3986:"RFC3986"},$u={default:zu.RFC3986,formatters:{RFC1738:function(e){return K_.call(e,Q_,"+")},RFC3986:function(e){return String(e)}},RFC1738:zu.RFC1738,RFC3986:zu.RFC3986},e9=$u,Hu=Object.prototype.hasOwnProperty,Yo=Array.isArray,kr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),t9=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Yo(n)){for(var r=[],o=0;o<n.length;++o)typeof n[o]<"u"&&r.push(n[o]);t.obj[t.prop]=r}}},D1=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},n9=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Yo(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Hu.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return Yo(t)&&!Yo(n)&&(o=D1(t,r)),Yo(t)&&Yo(n)?(n.forEach(function(i,a){if(Hu.call(t,a)){var s=t[a];s&&typeof s=="object"&&i&&typeof i=="object"?t[a]=e(s,i,r):t.push(i)}else t[a]=i}),t):Object.keys(n).reduce(function(i,a){var s=n[a];return Hu.call(i,a)?i[a]=e(i[a],s,r):i[a]=s,i},o)},r9=function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},o9=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},i9=function(e,t,n,r,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var a="",s=0;s<i.length;++s){var l=i.charCodeAt(s);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===e9.RFC1738&&(l===40||l===41)){a+=i.charAt(s);continue}if(l<128){a=a+kr[l];continue}if(l<2048){a=a+(kr[192|l>>6]+kr[128|l&63]);continue}if(l<55296||l>=57344){a=a+(kr[224|l>>12]+kr[128|l>>6&63]+kr[128|l&63]);continue}s+=1,l=65536+((l&1023)<<10|i.charCodeAt(s)&1023),a+=kr[240|l>>18]+kr[128|l>>12&63]+kr[128|l>>6&63]+kr[128|l&63]}return a},a9=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var l=a[s],c=i[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(t.push({obj:i,prop:l}),n.push(c))}return t9(t),e},s9=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},l9=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},c9=function(e,t){return[].concat(e,t)},u9=function(e,t){if(Yo(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},N1={arrayToObject:D1,assign:r9,combine:c9,compact:a9,decode:o9,encode:i9,isBuffer:l9,isRegExp:s9,maybeMap:u9,merge:n9},L1=J_,ul=N1,Wa=$u,d9=Object.prototype.hasOwnProperty,q1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Fr=Array.isArray,h9=Array.prototype.push,j1=function(e,t){h9.apply(e,Fr(t)?t:[t])},f9=Date.prototype.toISOString,B1=Wa.default,gt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ul.encode,encodeValuesOnly:!1,format:B1,formatter:Wa.formatters[B1],indices:!1,serializeDate:function(e){return f9.call(e)},skipNulls:!1,strictNullHandling:!1},p9=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Yu={},m9=function e(t,n,r,o,i,a,s,l,c,d,h,f,m,v,C,k,j,P){for(var T=t,L=P,N=0,R=!1;(L=L.get(Yu))!==void 0&&!R;){var A=L.get(t);if(N+=1,typeof A<"u"){if(A===N)throw new RangeError("Cyclic object value");R=!0}typeof L.get(Yu)>"u"&&(N=0)}if(typeof d=="function"?T=d(n,T):T instanceof Date?T=m(T):r==="comma"&&Fr(T)&&(T=ul.maybeMap(T,function(U){return U instanceof Date?m(U):U})),T===null){if(a)return c&&!k?c(n,gt.encoder,j,"key",v):n;T=""}if(p9(T)||ul.isBuffer(T)){if(c){var S=k?n:c(n,gt.encoder,j,"key",v);return[C(S)+"="+C(c(T,gt.encoder,j,"value",v))]}return[C(n)+"="+C(String(T))]}var M=[];if(typeof T>"u")return M;var x;if(r==="comma"&&Fr(T))k&&c&&(T=ul.maybeMap(T,c)),x=[{value:T.length>0?T.join(",")||null:void 0}];else if(Fr(d))x=d;else{var g=Object.keys(T);x=h?g.sort(h):g}var b=l?n.replace(/\./g,"%2E"):n,_=o&&Fr(T)&&T.length===1?b+"[]":b;if(i&&Fr(T)&&T.length===0)return _+"[]";for(var E=0;E<x.length;++E){var F=x[E],I=typeof F=="object"&&typeof F.value<"u"?F.value:T[F];if(!(s&&I===null)){var Y=f&&l?F.replace(/\./g,"%2E"):F,G=Fr(T)?typeof r=="function"?r(_,Y):_:_+(f?"."+Y:"["+Y+"]");P.set(t,N);var W=L1();W.set(Yu,P),j1(M,e(I,G,r,o,i,a,s,l,r==="comma"&&k&&Fr(T)?null:c,d,h,f,m,v,C,k,j,W))}}return M},g9=function(e){if(!e)return gt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||gt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Wa.default;if(typeof e.format<"u"){if(!d9.call(Wa.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Wa.formatters[n],o=gt.filter;(typeof e.filter=="function"||Fr(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in q1?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=gt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:gt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:gt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:gt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:gt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?gt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:gt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:gt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:gt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:gt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:gt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:gt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:gt.strictNullHandling}},y9=function(e,t){var n=e,r=g9(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Fr(r.filter)&&(i=r.filter,o=i);var a=[];if(typeof n!="object"||n===null)return"";var s=q1[r.arrayFormat],l=s==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var c=L1(),d=0;d<o.length;++d){var h=o[d];r.skipNulls&&n[h]===null||j1(a,m9(n[h],h,s,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var f=a.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""},Ni=N1,Vu=Object.prototype.hasOwnProperty,v9=Array.isArray,ot={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Ni.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},b9=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},W1=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},w9="utf8=%26%2310003%3B",x9="utf8=%E2%9C%93",_9=function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=-1,s,l=t.charset;if(t.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===x9?l="utf-8":i[s]===w9&&(l="iso-8859-1"),a=s,s=i.length);for(s=0;s<i.length;++s)if(s!==a){var c=i[s],d=c.indexOf("]="),h=d===-1?c.indexOf("="):d+1,f,m;h===-1?(f=t.decoder(c,ot.decoder,l,"key"),m=t.strictNullHandling?null:""):(f=t.decoder(c.slice(0,h),ot.decoder,l,"key"),m=Ni.maybeMap(W1(c.slice(h+1),t),function(C){return t.decoder(C,ot.decoder,l,"value")})),m&&t.interpretNumericEntities&&l==="iso-8859-1"&&(m=b9(m)),c.indexOf("[]=")>-1&&(m=v9(m)?[m]:m);var v=Vu.call(n,f);v&&t.duplicates==="combine"?n[f]=Ni.combine(n[f],m):(!v||t.duplicates==="last")&&(n[f]=m)}return n},S9=function(e,t,n,r){for(var o=r?t:W1(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&o===""?[]:[].concat(o);else{a=n.plainObjects?Object.create(null):{};var l=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(c,10);!n.parseArrays&&c===""?a={0:o}:!isNaN(d)&&s!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[],a[d]=o):c!=="__proto__"&&(a[c]=o)}o=a}return o},C9=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),l=s?o.slice(0,s.index):o,c=[];if(l){if(!n.plainObjects&&Vu.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var d=0;n.depth>0&&(s=a.exec(o))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Vu.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),S9(c,t,n,r)}},M9=function(e){if(!e)return ot;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?ot.charset:e.charset,n=typeof e.duplicates>"u"?ot.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ot.allowDots:!!e.allowDots;return{allowDots:r,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ot.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ot.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ot.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ot.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ot.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ot.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ot.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ot.decoder,delimiter:typeof e.delimiter=="string"||Ni.isRegExp(e.delimiter)?e.delimiter:ot.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ot.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ot.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ot.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ot.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ot.strictNullHandling}},A9=function(e,t){var n=M9(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?_9(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var s=i[a],l=C9(s,r[s],n,typeof e=="string");o=Ni.merge(o,l,n)}return n.allowSparse===!0?o:Ni.compact(o)},E9=y9,T9=A9,k9=$u,F9={formats:k9,parse:T9,stringify:E9};const U1=Mo(F9);function O9(e){return U1.stringify(e)}function I9(e){const t=U1.parse(e);return P9(t)}function R9(e){Object.entries(e).forEach(([t,n])=>{localStorage.setItem(t,n)})}function P9(e){const t={};return"frequency"in e&&G0(e.frequency)&&(t.frequency=parseFloat(e.frequency)),"modulation"in e&&(t.modulation=e.modulation.toUpperCase()),t}const{document:z1,window:$1}=Ed;function H1(e,t,n){const r=e.slice();r[155]=t[n].id,r[156]=t[n].text;const o=a7(r[156]);return r[157]=o,r}function Y1(e,t,n){const r=e.slice();return r[160]=t[n],r[162]=n,r}function D9(e,t,n){const r=e.slice();return r[163]=t[n],r}function V1(e,t,n){const r=e.slice();return r[166]=t[n],r}function G1(e,t,n){const r=e.slice();return r[169]=t[n].option,r[170]=t[n].icon,r[171]=t[n].enabled,r}function X1(e,t,n){const r=e.slice();return r[174]=t[n].action,r[175]=t[n].title,r[170]=t[n].icon,r[156]=t[n].text,r}function Z1(e,t,n){const r=e.slice();return r[178]=t[n],r}function J1(e,t,n){const r=e.slice();return r[181]=t[n],r}function K1(e){let t,n=e[35],r,o,i,a,s=e[35]+1+"",l,c,d=e[79].length+"",h,f,m,v=e[79][e[35]].content+"",C,k,j,P,T,L,N=e[35]<e[79].length-1?"Next":"Finish",R,A,S,M,x,g,b=em(e);return{c(){t=q("div"),b.c(),r=Z(),o=q("div"),i=q("h3"),a=Te("Step "),l=Te(s),c=Te(" of "),h=Te(d),f=Z(),m=q("p"),C=Te(v),k=Z(),j=q("div"),P=q("button"),P.textContent="Skip Tutorial",T=Z(),L=q("button"),R=Te(N),y(i,"class","text-lg sm:text-xl font-semibold mb-2"),y(m,"class","mb-4 text-sm sm:text-lg"),y(P,"class","w-full sm:w-auto px-4 sm:px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"),y(L,"class","w-full sm:w-auto px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"),y(j,"class","flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0 sm:space-x-4"),y(o,"class","fixed bottom-4 left-4 right-4 sm:left-1/2 sm:right-auto sm:transform sm:-translate-x-1/2 bg-gray-800 text-white p-4 sm:p-6 rounded-lg shadow-lg max-w-md text-center backdrop-filter backdrop-blur-lg bg-opacity-90 border border-gray-700"),y(t,"class","fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center")},m(_,E){ge(_,t,E),b.m(t,null),w(t,r),w(t,o),w(o,i),w(i,a),w(i,l),w(i,c),w(i,h),w(o,f),w(o,m),w(m,C),w(o,k),w(o,j),w(j,P),w(j,T),w(j,L),w(L,R),M=!0,x||(g=[ee(P,"click",kd(e[81])),ee(L,"click",kd(e[80])),ee(t,"click",Ml(e[80]))],x=!0)},p(_,E){E[1]&16&&Jo(n,n=_[35])?(b.d(1),b=em(_),b.c(),b.m(t,r)):b.p(_,E),(!M||E[1]&16)&&s!==(s=_[35]+1+"")&&at(l,s),(!M||E[1]&16)&&v!==(v=_[79][_[35]].content+"")&&at(C,v),(!M||E[1]&16)&&N!==(N=_[35]<_[79].length-1?"Next":"Finish")&&at(R,N)},i(_){M||(_&&Gn(()=>{M&&(A||(A=ii(o,ql,{y:50,duration:300},!0)),A.run(1))}),_&&Gn(()=>{M&&(S||(S=ii(t,Ud,{duration:300},!0)),S.run(1))}),M=!0)},o(_){_&&(A||(A=ii(o,ql,{y:50,duration:300},!1)),A.run(0)),_&&(S||(S=ii(t,Ud,{duration:300},!1)),S.run(0)),M=!1},d(_){_&&fe(t),b.d(_),_&&A&&A.end(),_&&S&&S.end(),x=!1,$t(g)}}}function Q1(e){let t,n,r;return{c(){t=q("div"),y(t,"class","absolute bg-blue-500 bg-opacity-20 border-2 border-blue-500 transition-all duration-300 ease-in-out pointer-events-none"),wt(t,"top",e[38].top+"px"),wt(t,"left",e[38].left+"px"),wt(t,"width",e[38].width+"px"),wt(t,"height",e[38].height+"px")},m(o,i){ge(o,t,i),r=!0},p(o,i){(!r||i[1]&128)&&wt(t,"top",o[38].top+"px"),(!r||i[1]&128)&&wt(t,"left",o[38].left+"px"),(!r||i[1]&128)&&wt(t,"width",o[38].width+"px"),(!r||i[1]&128)&&wt(t,"height",o[38].height+"px")},i(o){r||(o&&Gn(()=>{r&&(n||(n=ii(t,zd,{duration:300,start:.95},!0)),n.run(1))}),r=!0)},o(o){o&&(n||(n=ii(t,zd,{duration:300,start:.95},!1)),n.run(0)),r=!1},d(o){o&&fe(t),o&&n&&n.end()}}}function em(e){let t,n=e[37]&&Q1(e);return{c(){n&&n.c(),t=Cl()},m(r,o){n&&n.m(r,o),ge(r,t,o)},p(r,o){r[37]?n?(n.p(r,o),o[1]&64&&Xn(n,1)):(n=Q1(r),n.c(),Xn(n,1),n.m(t.parentNode,t)):n&&(qd(),oi(n,1,1,()=>{n=null}),jd())},d(r){r&&fe(t),n&&n.d(r)}}}function N9(e){let t;return{c(){t=We("path"),y(t,"d","M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM18.584 5.106a.75.75 0 011.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 11-1.06-1.06 8.25 8.25 0 000-11.668.75.75 0 010-1.06z")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function L9(e){let t;return{c(){t=We("path"),y(t,"d","M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM17.78 9.22a.75.75 0 10-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 001.06 1.06L19.5 13.06l1.72 1.72a.75.75 0 101.06-1.06L20.56 12l1.72-1.72a.75.75 0 00-1.06-1.06L19.5 10.94l-1.72-1.72z")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function tm(e){let t;return{c(){t=q("div"),t.innerHTML='<div class="flex justify-between items-center mb-3 text-sm"><h4 class="text-white font-semibold">FT8 Messages</h4> <span class="text-gray-300 pl-4 lg:pl-0" id="farthest-distance">Farthest: 0 km</span></div> <div class="text-gray-300 overflow-auto max-h-40 custom-scrollbar pr-2"><div id="ft8MessagesList"></div></div>',y(t,"class","bg-gray-700 rounded-lg p-4 mt-6")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function q9(e){let t,n,r;return{c(){t=We("svg"),n=We("path"),r=Te("\n                    Record"),y(n,"fill-rule","evenodd"),y(n,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),y(n,"clip-rule","evenodd"),y(t,"xmlns","http://www.w3.org/2000/svg"),y(t,"class","h-4 w-4 mr-2"),y(t,"viewBox","0 0 20 20"),y(t,"fill","currentColor")},m(o,i){ge(o,t,i),w(t,n),ge(o,r,i)},d(o){o&&(fe(t),fe(r))}}}function j9(e){let t,n,r;return{c(){t=We("svg"),n=We("path"),r=Te("\n                    Stop"),y(n,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z"),y(t,"xmlns","http://www.w3.org/2000/svg"),y(t,"class","h-4 w-4 mr-2"),y(t,"viewBox","0 0 20 20"),y(t,"fill","currentColor")},m(o,i){ge(o,t,i),w(t,n),ge(o,r,i)},d(o){o&&(fe(t),fe(r))}}}function nm(e){let t,n,r;return{c(){t=q("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>\n                    Download',y(t,"class","bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors")},m(o,i){ge(o,t,i),n||(r=ee(t,"click",e[42]),n=!0)},p:$e,d(o){o&&fe(t),n=!1,r()}}}function rm(e){let t,n,r=e[181].label+"",o,i,a;return{c(){t=q("div"),n=q("span"),o=Te(r),a=Z(),y(n,"class",i="text-xs font-mono ".concat(e[181].enabled?"text-".concat(e[181].color,"-500"):"text-".concat(e[181].color,"-500 opacity-20")," relative z-10")),y(t,"class","px-1 py-0.5 flex items-center justify-center w-12 h-5 relative overflow-hidden")},m(s,l){ge(s,t,l),w(t,n),w(n,o),w(t,a)},p(s,l){l[0]&235929600&&r!==(r=s[181].label+"")&&at(o,r),l[0]&235929600&&i!==(i="text-xs font-mono ".concat(s[181].enabled?"text-".concat(s[181].color,"-500"):"text-".concat(s[181].color,"-500 opacity-20")," relative z-10"))&&y(n,"class",i)},d(s){s&&fe(t)}}}function om(e){let t,n,r,o,i,a;function s(){return e[104](e[178])}return{c(){t=q("button"),n=Te(e[178]),r=Z(),y(t,"class",o="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[19]===e[178]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))},m(l,c){ge(l,t,c),w(t,n),w(t,r),i||(a=ee(t,"click",s),i=!0)},p(l,c){e=l,c[0]&524288&&o!==(o="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[19]===e[178]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))&&y(t,"class",o)},d(l){l&&fe(t),i=!1,a()}}}function B9(e){let t;return{c(){t=We("path"),y(t,"d","M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function W9(e){let t;return{c(){t=We("path"),y(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function U9(e){let t,n,r;return{c(){t=We("circle"),n=We("line"),r=We("line"),y(t,"cx","11"),y(t,"cy","11"),y(t,"r","8"),y(n,"x1","21"),y(n,"y1","21"),y(n,"x2","16.65"),y(n,"y2","16.65"),y(r,"x1","8"),y(r,"y1","11"),y(r,"x2","14"),y(r,"y2","11")},m(o,i){ge(o,t,i),ge(o,n,i),ge(o,r,i)},d(o){o&&(fe(t),fe(n),fe(r))}}}function z9(e){let t,n,r,o;return{c(){t=We("circle"),n=We("line"),r=We("line"),o=We("line"),y(t,"cx","11"),y(t,"cy","11"),y(t,"r","8"),y(n,"x1","21"),y(n,"y1","21"),y(n,"x2","16.65"),y(n,"y2","16.65"),y(r,"x1","11"),y(r,"y1","8"),y(r,"x2","11"),y(r,"y2","14"),y(o,"x1","8"),y(o,"y1","11"),y(o,"x2","14"),y(o,"y2","11")},m(i,a){ge(i,t,a),ge(i,n,a),ge(i,r,a),ge(i,o,a)},d(i){i&&(fe(t),fe(n),fe(r),fe(o))}}}function im(e){let t,n,r,o,i,a,s;function l(f,m){if(f[170]==="zoom-in")return z9;if(f[170]==="zoom-out")return U9;if(f[170]==="maximize")return W9;if(f[170]==="minimize")return B9}let c=l(e),d=c&&c(e);function h(...f){return e[105](e[174],...f)}return{c(){t=q("button"),n=We("svg"),d&&d.c(),r=Z(),o=q("span"),o.textContent="".concat(e[156]),i=Z(),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"class","h-4 w-4 mr-2"),y(n,"viewBox","0 0 24 24"),y(n,"fill","none"),y(n,"stroke","currentColor"),y(n,"stroke-width","2"),y(n,"stroke-linecap","round"),y(n,"stroke-linejoin","round"),y(t,"class","retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out bg-gray-700 hover:bg-gray-600"),y(t,"title",e[175])},m(f,m){ge(f,t,m),w(t,n),d&&d.m(n,null),w(t,r),w(t,o),w(t,i),a||(s=ee(t,"click",h),a=!0)},p(f,m){e=f},d(f){f&&fe(t),d&&d.d(),a=!1,s()}}}function $9(e){let t;return{c(){t=We("polygon"),y(t,"points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function H9(e){let t;return{c(){t=We("path"),y(t,"d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function Y9(e){let t;return{c(){t=We("polygon"),y(t,"points","13 2 3 14 12 14 11 22 21 10 12 10 13 2")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function V9(e){let t;return{c(){t=We("path"),y(t,"d","M0 15h3v-3h3v3h3v-3h3v3h3v-3h3v3h3v-3h3")},m(n,r){ge(n,t,r)},d(n){n&&fe(t)}}}function am(e){let t,n,r,o,i=e[169]+"",a,s,l,c,d;function h(C,k){if(C[170]==="wave-square")return V9;if(C[170]==="zap")return Y9;if(C[170]==="shield")return H9;if(C[170]==="filter")return $9}let f=h(e),m=f&&f(e);function v(){return e[106](e[169])}return{c(){t=q("button"),n=We("svg"),m&&m.c(),r=Z(),o=q("span"),a=Te(i),s=Z(),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"class","h-4 w-4 mr-2"),y(n,"viewBox","0 0 24 24"),y(n,"fill","none"),y(n,"stroke","currentColor"),y(n,"stroke-width","2"),y(n,"stroke-linecap","round"),y(n,"stroke-linejoin","round"),y(t,"class",l="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[171]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))},m(C,k){ge(C,t,k),w(t,n),m&&m.m(n,null),w(t,r),w(t,o),w(o,a),w(t,s),c||(d=ee(t,"click",v),c=!0)},p(C,k){e=C,f!==(f=h(e))&&(m&&m.d(1),m=f&&f(e),m&&(m.c(),m.m(n,null))),k[0]&503316480&&i!==(i=e[169]+"")&&at(a,i),k[0]&503316480&&l!==(l="retro-button text-white font-bold h-10 text-sm rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(e[171]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))&&y(t,"class",l)},d(C){C&&fe(t),m&&m.d(),c=!1,d()}}}function sm(e,t){let n,r=t[166]+"",o,i,a,s,l,c;function d(...h){return t[107](t[166],...h)}return{key:e,first:null,c(){n=q("button"),o=Te(r),i=Z(),y(n,"class",a="retro-button text-white font-bold h-10 text-base rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(t[15]===t[166]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600")),y(n,"title",s=t[166]+" kHz"),this.first=n},m(h,f){ge(h,n,f),w(n,o),w(n,i),l||(c=ee(n,"click",d),l=!0)},p(h,f){t=h,f[0]&16777216&&r!==(r=t[166]+"")&&at(o,r),f[0]&16809984&&a!==(a="retro-button text-white font-bold h-10 text-base rounded-md flex items-center justify-center border border-gray-600 shadow-inner transition-all duration-200 ease-in-out "+(t[15]===t[166]?"bg-blue-600 pressed scale-95":"bg-gray-700 hover:bg-gray-600"))&&y(n,"class",a),f[0]&16777216&&s!==(s=t[166]+" kHz")&&y(n,"title",s)},d(h){h&&fe(n),l=!1,c()}}}function G9(e){let t;return{c(){t=q("option"),t.textContent="".concat(e[163]),t.__value=e[163],ht(t,t.__value)},m(n,r){ge(n,t,r)},p:$e,d(n){n&&fe(t)}}}function lm(e){let t,n,r,o,i,a,s,l,c,d,h,f,m,v,C,k,j,P,T,L,N,R,A,S,M,x,g,b,_=Et(e[40]),E=[];for(let F=0;F<_.length;F+=1)E[F]=cm(Y1(e,_,F));return{c(){t=q("div"),n=q("div"),r=q("div"),o=q("h2"),o.textContent="Bookmarks",i=Z(),a=q("button"),a.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',s=Z(),l=q("div"),c=q("label"),c.textContent="Add New Bookmark",d=Z(),h=q("div"),f=q("input"),m=Z(),v=q("button"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg>\n                          Add',C=Z(),k=q("div"),j=q("label"),j.textContent="Current Link",P=Z(),T=q("div"),L=q("input"),N=Z(),R=q("button"),R.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                          Copy',A=Z(),S=q("div"),M=q("label"),M.textContent="Saved Bookmarks",x=Z();for(let F=0;F<E.length;F+=1)E[F].c();y(o,"class","text-xl font-bold text-white"),y(a,"class","text-gray-400 hover:text-white"),y(r,"class","flex justify-between items-center mb-4"),y(c,"class","block text-sm font-medium text-gray-300 mb-2"),y(f,"class","glass-input text-white text-sm rounded-lg focus:outline-none px-3 py-2 flex-grow"),y(f,"placeholder","Bookmark name"),y(v,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center"),y(h,"class","flex items-center gap-2"),y(l,"class","mb-6"),y(j,"class","block text-sm font-medium text-gray-300 mb-2"),y(L,"type","text"),y(L,"class","glass-input text-white text-sm rounded-lg focus:outline-none px-3 py-2 flex-grow"),L.value=e[11],L.readOnly=!0,y(R,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center"),y(T,"class","flex items-center gap-2"),y(k,"class","mb-6"),y(M,"class","block text-sm font-medium text-gray-300 mb-2"),y(S,"class","overflow-y-auto flex-grow h-80"),y(n,"class","bg-gray-800 p-6 rounded-lg max-w-lg w-full max-h-[80vh] flex flex-col"),y(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(F,I){ge(F,t,I),w(t,n),w(n,r),w(r,o),w(r,i),w(r,a),w(n,s),w(n,l),w(l,c),w(l,d),w(l,h),w(h,f),ht(f,e[30]),w(h,m),w(h,v),w(n,C),w(n,k),w(k,j),w(k,P),w(k,T),w(T,L),w(T,N),w(T,R),w(n,A),w(n,S),w(S,M),w(S,x);for(let Y=0;Y<E.length;Y+=1)E[Y]&&E[Y].m(S,null);g||(b=[ee(a,"click",e[78]),ee(f,"input",e[113]),ee(v,"click",e[75]),ee(R,"click",e[70])],g=!0)},p(F,I){if(I[0]&1073741824&&f.value!==F[30]&&ht(f,F[30]),I[0]&2048&&L.value!==F[11]&&(L.value=F[11]),I[1]&512|I[2]&49152){_=Et(F[40]);let Y;for(Y=0;Y<_.length;Y+=1){const G=Y1(F,_,Y);E[Y]?E[Y].p(G,I):(E[Y]=cm(G),E[Y].c(),E[Y].m(S,null))}for(;Y<E.length;Y+=1)E[Y].d(1);E.length=_.length}},d(F){F&&fe(t),Qo(E,F),g=!1,$t(b)}}}function cm(e){let t,n,r,o=e[160].name+"",i,a,s,l=(e[160].frequency/1e3).toFixed(3)+"",c,d,h,f,m,v,C,k,j,P,T,L;function N(){return e[114](e[160])}function R(){return e[115](e[160])}function A(){return e[116](e[162])}return{c(){t=q("div"),n=q("div"),r=q("span"),i=Te(o),a=Z(),s=q("span"),c=Te(l),d=Te(" kHz"),h=Z(),f=q("div"),m=q("button"),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>\n                              Go',v=Z(),C=q("button"),C.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                              Copy',k=Z(),j=q("button"),j.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>\n                              Delete',P=Z(),y(r,"class","text-white text-sm"),y(s,"class","text-gray-400 text-xs"),y(n,"class","flex flex-col"),y(m,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),y(C,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),y(j,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),y(f,"class","flex gap-2"),y(t,"class","glass-panel rounded-lg p-3 flex items-center justify-between mb-2")},m(S,M){ge(S,t,M),w(t,n),w(n,r),w(r,i),w(n,a),w(n,s),w(s,c),w(s,d),w(t,h),w(t,f),w(f,m),w(f,v),w(f,C),w(f,k),w(f,j),w(t,P),T||(L=[ee(m,"click",N),ee(C,"click",R),ee(j,"click",A)],T=!0)},p(S,M){e=S,M[1]&512&&o!==(o=e[160].name+"")&&at(i,o),M[1]&512&&l!==(l=(e[160].frequency/1e3).toFixed(3)+"")&&at(c,l)},d(S){S&&fe(t),T=!1,$t(L)}}}function X9(e){let t,n=(e[32]||"Anonymous")+"",r,o,i,a,s;return{c(){t=q("span"),r=Te(n),o=Z(),i=q("button"),i.textContent="Edit",y(t,"class","glass-username text-white text-xs sm:text-sm px-3 py-1 rounded-lg mr-2 mb-2 sm:mb-0"),y(i,"class","glass-button text-white py-1 px-3 mb-2 lg:mb-0 rounded-lg text-xs sm:text-sm")},m(l,c){ge(l,t,c),w(t,r),ge(l,o,c),ge(l,i,c),a||(s=ee(i,"click",e[74]),a=!0)},p(l,c){c[1]&2&&n!==(n=(l[32]||"Anonymous")+"")&&at(r,n)},d(l){l&&(fe(t),fe(o),fe(i)),a=!1,s()}}}function Z9(e){let t,n,r,o,i;return{c(){t=q("input"),n=Z(),r=q("button"),r.textContent="Save",y(t,"class","glass-input text-white py-1 px-2 rounded-lg outline-none text-xs sm:text-sm flex-grow mr-2 mb-2 sm:mb-0"),y(t,"placeholder","Enter your name/callsign"),y(r,"class","glass-button text-white py-1 px-3 mb-2 lg:mb-0 rounded-lg text-xs sm:text-sm")},m(a,s){ge(a,t,s),ht(t,e[32]),ge(a,n,s),ge(a,r,s),o||(i=[ee(t,"input",e[117]),ee(t,"keydown",e[118]),ee(r,"click",e[73])],o=!0)},p(a,s){s[1]&2&&t.value!==a[32]&&ht(t,a[32])},d(a){a&&(fe(t),fe(n),fe(r)),o=!1,$t(i)}}}function J9(e){let t,n=Li(e[157].parts)+"",r;return{c(){t=new Al(!1),r=Cl(),t.a=r},m(o,i){t.m(n,o,i),ge(o,r,i)},p(o,i){i[0]&1&&n!==(n=Li(o[157].parts)+"")&&t.p(n)},d(o){o&&(fe(r),t.d())}}}function K9(e){let t,n=Li(e[157].beforeFreq)+"",r,o,i=(e[157].frequency/1e3).toFixed(3)+"",a,s,l=e[157].demodulation+"",c,d,h,f,m=Li(e[157].afterFreq)+"",v,C,k;function j(){return e[119](e[157])}return{c(){t=new Al(!1),r=Z(),o=q("a"),a=Te(i),s=Te(" kHz ("),c=Te(l),d=Te(")"),h=Z(),f=new Al(!1),v=Cl(),t.a=r,y(o,"href","#"),y(o,"class","text-blue-300 hover:underline"),f.a=v},m(P,T){t.m(n,P,T),ge(P,r,T),ge(P,o,T),w(o,a),w(o,s),w(o,c),w(o,d),ge(P,h,T),f.m(m,P,T),ge(P,v,T),C||(k=ee(o,"click",$m(j)),C=!0)},p(P,T){e=P,T[0]&1&&n!==(n=Li(e[157].beforeFreq)+"")&&t.p(n),T[0]&1&&i!==(i=(e[157].frequency/1e3).toFixed(3)+"")&&at(a,i),T[0]&1&&l!==(l=e[157].demodulation+"")&&at(c,l),T[0]&1&&m!==(m=Li(e[157].afterFreq)+"")&&f.p(m)},d(P){P&&(t.d(),fe(r),fe(o),fe(h),fe(v),f.d()),C=!1,k()}}}function um(e,t){let n,r,o,i,a=t[157].username+"",s,l,c,d=t[157].timestamp+"",h,f,m,v,C;function k(T,L){return T[157].isFormatted?K9:J9}let j=k(t),P=j(t);return{key:e,first:null,c(){n=q("div"),r=q("div"),o=q("p"),i=q("span"),s=Te(a),l=Z(),c=q("span"),h=Te(d),f=Z(),m=q("p"),P.c(),v=Z(),y(i,"class","font-semibold text-blue-300"),y(c,"class","text-xs text-gray-400 ml-2"),y(o,"class","text-white text-xs sm:text-sm break-words"),y(m,"class","text-white text-xs sm:text-sm break-words mt-1"),y(r,"class","inline-block bg-gray-800 rounded-lg p-2 max-w-full"),y(n,"class","mb-2 sm:mb-3 text-left"),this.first=n},m(T,L){ge(T,n,L),w(n,r),w(r,o),w(o,i),w(i,s),w(o,l),w(o,c),w(c,h),w(r,f),w(r,m),P.m(m,null),w(n,v)},p(T,L){t=T,L[0]&1&&a!==(a=t[157].username+"")&&at(s,a),L[0]&1&&d!==(d=t[157].timestamp+"")&&at(h,d),j===(j=k(t))&&P?P.p(t,L):(P.d(1),P=j(t),P&&(P.c(),P.m(m,null)))},i(T){T&&(C||Gn(()=>{C=tg(n,ql,{y:20,duration:300,easing:og}),C.start()}))},o:$e,d(T){T&&fe(n),P.d()}}}function Q9(e){let t,n,r,o,i,a,s,l,c,d,h,f,m,v,C,k,j,P,T,L,N,R,A,S,M,x,g,b,_,E,F,I,Y,G,W,U,H,Q,ve,J,ie,xe,me,ae,Ee,Se,De,Ne,Pn,Re,de,ne,Tt,mn,qt,Ae,qe,gn,uo,Zt,Dn,ho,Ye,tr,yt,yn,vn,nr,St,kt,rr,Ft,Le,bn,ut,fo,nn,Ot,Ct,It,jt,Ze,or,Je,Bt,Ir,po,wn,Nn,vt,Ln,Jr,Jt,qn,Rt,xn,jn,ir,V,ar,bt,sr,_n,mo,rn,Rr,on,Sn,an,Ue,Bn,go,lr,Wn,Un,zn,yo,cr,Pr,ur,Dr,vo,dr,Wt=[],bo=new Map,sn,tt,$n,wo,u,p,O,$,K,oe,se,le,_e,ze,Ve,Hn,Yn,Ut,dt,Nr,B,re,pe,Ce,be,he,je,Be,Mt,Pt,it,hr,Cn,xo,Mn,fr,Ua,Xu,dm,Vo,dl,hm,qi,hl,fm,Zu,pm,Go,fl,mm,ji,pl,gm,Ju,ym,Bi,vm,za,bm,wm,$a,pr,ml,xm,Xo,gl,_m,Sm,Wi,mr=[],Cm=new Map,Mm,Ui,Kr,Am,zi,Ha,Em,Ya,Tm,yl,vl,Ku,Va,Ga,zt,Qu,km,c7={};P=new o8({props:c7}),e[91](P),P.$on("change",e[56]);let u7={};L=new f8({props:u7}),e[92](L),L.$on("click",function(){Ht(e[10].handlePassbandClick)&&e[10].handlePassbandClick.apply(this,arguments)}),L.$on("wheel",e[43]),L.$on("markerclick",e[69]);let d7={};S=new e8({props:d7}),e[95](S),S.$on("change",e[55]),S.$on("wheel",e[43]);let At=e[36]&&K1(e);function Fm(te,ce){return te[20]?L9:N9}let bl=Fm(e),_o=bl(e),An=e[13]&&tm();function Om(te,ce){return te[1]?j9:q9}let wl=Om(e),So=wl(e),ln=e[2]&&nm(e),ed=Et([{label:"MUTED",enabled:e[20],color:"red"},{label:"NR",enabled:e[25],color:"green"},{label:"NB",enabled:e[26],color:"green"},{label:"AN",enabled:e[27],color:"green"}]),gr=[];for(let te=0;te<4;te+=1)gr[te]=rm(J1(e,ed,te));let td=Et(["USB","LSB","CW","AM","FM"]),yr=[];for(let te=0;te<5;te+=1)yr[te]=om(Z1(e,td,te));let nd=Et([{action:"+",title:"Zoom in",icon:"zoom-in",text:"In"},{action:"-",title:"Zoom out",icon:"zoom-out",text:"Out"},{action:"max",title:"Zoom to max",icon:"maximize",text:"Max"},{action:"min",title:"Zoom to min",icon:"minimize",text:"Min"}]),vr=[];for(let te=0;te<4;te+=1)vr[te]=im(X1(e,nd,te));let rd=Et([{option:"NR",icon:"wave-square",enabled:e[25]},{option:"NB",icon:"zap",enabled:e[26]},{option:"AN",icon:"shield",enabled:e[27]},{option:"CTCSS",icon:"filter",enabled:e[28]}]),br=[];for(let te=0;te<4;te+=1)br[te]=am(G1(e,rd,te));let xl=Et(e[24]);const Im=te=>te[166];for(let te=0;te<xl.length;te+=1){let ce=V1(e,xl,te),Me=Im(ce);bo.set(Me,Wt[te]=sm(Me,ce))}let Rm=Et(Nw),Zo=[];for(let te=0;te<Rm.length;te+=1)Zo[te]=G9(D9(e,Rm,te));let cn=e[34]&&lm(e);function Pm(te,ce){return te[33]?Z9:X9}let _l=Pm(e),Lr=_l(e),Xa=Et(e[0]);const Dm=te=>te[155];for(let te=0;te<Xa.length;te+=1){let ce=H1(e,Xa,te),Me=Dm(ce);Cm.set(Me,mr[te]=um(Me,ce))}return{c(){t=q("main"),n=q("div"),r=q("div"),o=q("div"),i=q("div"),a=q("div"),s=Z(),l=q("div"),c=q("div"),d=q("div"),h=q("canvas"),m=Z(),v=q("canvas"),C=Z(),k=q("canvas"),j=Z(),Ll(P.$$.fragment),T=Z(),Ll(L.$$.fragment),N=Z(),R=q("canvas"),A=Z(),Ll(S.$$.fragment),M=Z(),x=q("canvas"),x.innerHTML="",g=Z(),b=q("div"),b.innerHTML='<div class="text-center p-4 pointer-events-none"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-2 text-white opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg> <p class="text-white text-lg font-medium">Tap to enable audio</p></div>',_=Z(),At&&At.c(),E=Z(),F=q("div"),I=q("div"),Y=q("h2"),Y.textContent="Audio",G=Z(),W=q("div"),U=q("button"),H=We("svg"),_o.c(),Q=Z(),ve=q("div"),J=q("input"),ie=Z(),xe=q("span"),me=Te(e[21]),ae=Te("%"),Ee=Z(),Se=q("div"),De=q("button"),Ne=q("span"),Ne.textContent="SQ",Pn=Z(),Re=q("div"),de=q("input"),ne=Z(),Tt=q("span"),mn=Te(e[23]),qt=Te("db"),Ae=Z(),qe=q("div"),gn=q("label"),gn.textContent="Decoder Options",uo=Z(),Zt=q("div"),Dn=q("button"),ho=Te("None"),tr=Z(),yt=q("button"),yn=Te("FT8"),nr=Z(),An&&An.c(),St=Z(),kt=q("div"),rr=q("label"),rr.textContent="Recording Options",Ft=Z(),Le=q("div"),bn=q("button"),So.c(),fo=Z(),ln&&ln.c(),nn=Z(),Ot=q("div"),Ct=q("div"),It=q("div"),jt=q("div"),Ze=q("input"),or=Z(),Je=q("div"),Bt=q("span"),Ir=Te(e[19]),po=Z(),wn=q("span"),wn.textContent="|",Nn=Z(),vt=q("span"),Ln=Te("BW "),Jr=Te(e[15]),Jt=Te(" kHz"),qn=Z(),Rt=q("div"),xn=q("div");for(let te=0;te<4;te+=1)gr[te].c();jn=Z(),ir=q("canvas"),V=Z(),ar=q("div"),bt=q("div"),sr=q("div"),_n=q("div");for(let te=0;te<5;te+=1)yr[te].c();mo=Z(),rn=q("hr"),Rr=Z(),on=q("div"),Sn=q("div"),an=q("h3"),an.textContent="Zoom",Ue=Z(),Bn=q("div");for(let te=0;te<4;te+=1)vr[te].c();go=Z(),lr=q("div"),Wn=q("h3"),Wn.textContent="Misc",Un=Z(),zn=q("div");for(let te=0;te<4;te+=1)br[te].c();yo=Z(),cr=q("hr"),Pr=Z(),ur=q("div"),Dr=q("h3"),Dr.textContent="Bandwidth",vo=Z(),dr=q("div");for(let te=0;te<Wt.length;te+=1)Wt[te].c();sn=Z(),tt=q("div"),$n=q("h3"),$n.textContent="Waterfall Controls",wo=Z(),u=q("div"),p=q("div"),O=q("span"),O.textContent="Min:",$=Z(),K=q("div"),oe=q("input"),se=Z(),le=q("span"),_e=Te(e[17]),ze=Z(),Ve=q("div"),Hn=q("span"),Hn.textContent="Max:",Yn=Z(),Ut=q("div"),dt=q("input"),Nr=Z(),B=q("span"),re=Te(e[18]),pe=Z(),Ce=q("div"),be=q("div"),he=q("select");for(let te=0;te<Zo.length;te+=1)Zo[te].c();je=Z(),Be=q("div"),Be.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path></svg>',Mt=Z(),Pt=q("div"),it=q("div"),hr=q("div"),Cn=q("span"),Cn.textContent="Auto Adjust",xo=Z(),Mn=q("label"),fr=q("input"),Ua=Z(),Xu=q("span"),dm=Z(),Vo=q("div"),dl=q("span"),dl.textContent="Spectrum",hm=Z(),qi=q("label"),hl=q("input"),fm=Z(),Zu=q("span"),pm=Z(),Go=q("div"),fl=q("span"),fl.textContent="Increase Size",mm=Z(),ji=q("label"),pl=q("input"),gm=Z(),Ju=q("span"),ym=Z(),Bi=q("button"),Bi.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path></svg>\n                Bookmarks',vm=Z(),za=q("div"),za.innerHTML='<div id="total_user_count" class="bg-gray-800 rounded-md p-2 text-center flex justify-between items-center"></div>',bm=Z(),cn&&cn.c(),wm=Z(),$a=q("div"),pr=q("div"),ml=q("h2"),ml.textContent="Chat",xm=Z(),Xo=q("div"),gl=q("span"),gl.textContent="Chatting as:",_m=Z(),Lr.c(),Sm=Z(),Wi=q("div");for(let te=0;te<mr.length;te+=1)mr[te].c();Mm=Z(),Ui=q("div"),Kr=q("input"),Am=Z(),zi=q("div"),Ha=q("button"),Ha.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>\n                    Send',Em=Z(),Ya=q("button"),Ya.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                    Paste Freq',Tm=Z(),yl=q("footer"),vl=q("span"),vl.textContent="PhantomSDR+ | v".concat(e7),Ku=Z(),Va=q("link"),Ga=q("link"),y(a,"class","xl:pt-20"),y(h,"class",f="w-full bg-black peer "+(e[14]?"max-h-40":"max-h-0")),y(h,"width","1024"),y(h,"height","128"),y(v,"class","w-full bg-black block"),y(v,"width","1024"),y(k,"class","hidden"),y(k,"width","1024"),y(k,"height","1024"),y(R,"class","w-full bg-black peer"),y(R,"width","1024"),y(R,"height","20"),y(x,"class","w-full bg-black peer"),y(x,"width","1024"),y(x,"height","20"),wt(d,"image-rendering","pixelated"),y(d,"class","w-full xl:rounded-lg peer overflow-hidden"),y(d,"id","waterfall"),y(c,"class","w-full"),y(c,"id","outer-waterfall-container"),y(l,"class","flex justify-center w-full"),y(b,"class","absolute inset-0 z-20 bg-black bg-opacity-40 backdrop-filter backdrop-blur-sm transition-opacity duration-300 ease-in-out cursor-pointer flex justify-center items-center"),y(b,"id","startaudio"),y(Y,"class","text-2xl font-semibold text-gray-100 mb-6"),y(H,"xmlns","http://www.w3.org/2000/svg"),y(H,"viewBox","0 0 24 24"),y(H,"fill","currentColor"),y(H,"class","w-5 h-5"),y(U,"class","glass-button text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4"),y(J,"type","range"),y(J,"class","glass-slider"),J.disabled=e[20],y(J,"min","0"),y(J,"max","100"),y(J,"step","1"),y(ve,"class","slider-container"),y(xe,"class","value-display text-gray-300 ml-4"),y(W,"class","control-group"),y(W,"id","volume-slider"),y(Ne,"class","text-xs font-semibold"),y(De,"class","glass-button text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4"),wt(De,"background",e[22]?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)"),y(de,"type","range"),y(de,"class","glass-slider"),y(de,"min","-150"),y(de,"max","0"),y(de,"step","1"),y(Re,"class","slider-container"),y(Tt,"class","value-display text-gray-300 ml-4"),y(Se,"class","control-group mt-4"),y(Se,"id","squelch-slider"),y(gn,"class","block text-sm font-medium text-gray-300 mb-3"),y(Dn,"class",Ye="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[13]?"":"ring-2 ring-blue-500")),y(yt,"id","ft8-decoder"),y(yt,"class",vn="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[13]?"ring-2 ring-blue-500":"")),y(Zt,"class","flex justify-center gap-4"),y(qe,"class","mt-6"),y(rr,"class","block text-sm font-medium text-gray-300 mb-3"),y(bn,"class",ut="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[1]?"ring-2 ring-red-500":"")),y(Le,"class","flex justify-center gap-4"),y(kt,"class","mt-6 w-full"),y(I,"class","p-5 flex flex-col items-center bg-gray-800 lg:border lg:border-gray-700 rounded-none rounded-t-lg lg:rounded-none lg:rounded-l-lg"),y(Ze,"class","text-4xl h-16 w-48 text-center bg-black text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 rounded-lg mb-2"),y(Ze,"type","text"),y(Ze,"size","3"),y(Ze,"name","frequency"),y(Bt,"class","text-green-400 px-2"),y(wn,"class","text-gray-400 px-2"),y(vt,"class","text-cyan-300 px-2"),y(Je,"class","flex items-center justify-center text-sm w-48"),y(jt,"class","flex flex-col items-center"),y(xn,"class","flex space-x-1 mb-1"),y(ir,"id","sMeter"),y(ir,"width","250"),y(ir,"height","40"),y(Rt,"class","flex flex-col items-center"),y(It,"class","flex flex-col sm:flex-row items-center justify-between gap-4"),y(Ct,"class","bg-black rounded-lg p-8 min-w-80 lg:min-w-0 lg:p-4 mb-4 w-full"),y(Ct,"id","smeter-tut"),y(_n,"id","demodulationModes"),y(_n,"class","grid grid-cols-3 sm:grid-cols-5 gap-2 w-full max-w-md"),y(sr,"class","flex justify-center"),y(rn,"class","border-gray-600 my-2"),y(an,"class","text-white text-lg font-semibold mb-2"),y(Bn,"id","zoom-controls"),y(Bn,"class","grid grid-cols-2 gap-2"),y(Wn,"class","text-white text-lg font-semibold mb-2"),y(zn,"id","moreoptions"),y(zn,"class","grid grid-cols-2 gap-2"),y(on,"class","grid sm:grid-cols-2 gap-4"),y(cr,"class","border-gray-600 my-2"),y(Dr,"class","text-white text-lg font-semibold mb-2"),y(dr,"class","grid grid-cols-2 sm:grid-cols-4 gap-2"),y(bt,"class","space-y-3"),y(ar,"id","frequencyContainer"),y(ar,"class","w-full mt-4"),y(Ot,"class","flex flex-col items-center bg-gray-800 p-6 border-l-0 border-r-0 border border-gray-700"),y($n,"class","text-white text-lg font-semibold mb-4"),y(O,"class","text-gray-300 text-sm w-10"),y(oe,"type","range"),y(oe,"min","-100"),y(oe,"max","255"),y(oe,"step","1"),y(oe,"class","glass-slider w-full"),y(K,"class","slider-container w-48 mx-2"),y(le,"class","text-gray-300 text-sm w-10 text-right"),y(p,"id","brightness-controls"),y(p,"class","flex items-center justify-between mb-2"),y(Hn,"class","text-gray-300 text-sm w-10"),y(dt,"type","range"),y(dt,"min","0"),y(dt,"max","255"),y(dt,"step","1"),y(dt,"class","glass-slider w-full"),y(Ut,"class","slider-container w-48 mx-2"),y(B,"class","text-gray-300 text-sm w-10 text-right"),y(Ve,"class","flex items-center justify-between"),y(u,"class","w-full mb-6"),y(he,"class","glass-select block w-full pl-3 pr-10 py-2 text-sm rounded-lg text-gray-200 appearance-none focus:outline-none"),e[16]===void 0&&Gn(()=>e[110].call(he)),y(Be,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400"),y(be,"id","colormap-select"),y(be,"class","relative"),y(Ce,"class","w-full mb-6"),y(Cn,"class","text-sm text-gray-300 mb-1"),y(fr,"type","checkbox"),y(Xu,"class","toggle-slider"),y(Mn,"class","toggle-switch"),y(hr,"id","auto-adjust"),y(hr,"class","flex flex-col items-center"),y(dl,"class","text-sm text-gray-300 mb-1"),y(hl,"type","checkbox"),y(Zu,"class","toggle-slider"),y(qi,"class","toggle-switch"),y(Vo,"id","spectrum-toggle"),y(Vo,"class","flex flex-col items-center"),y(fl,"class","text-sm text-gray-300 mb-1 text-center"),y(pl,"type","checkbox"),y(Ju,"class","toggle-slider"),y(ji,"class","toggle-switch"),y(Go,"id","bigger-waterfall"),y(Go,"class","flex flex-col items-center"),y(it,"class","grid grid-cols-1 sm:grid-cols-3 gap-4"),y(Pt,"class","w-full mb-6"),y(Bi,"id","bookmark-button"),y(Bi,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center w-full justify-center"),y(za,"id","user_count_container"),y(za,"class","w-full mt-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-1"),y(tt,"class","flex flex-col items-center bg-gray-800 p-6 lg:border lg:border-gray-700 rounded-none rounded-b-lg lg:rounded-none lg:rounded-r-lg"),y(F,"class","flex flex-col xl:flex-row rounded p-5 justify-center rounded"),y(F,"id","middle-column"),y(ml,"class","text-xl sm:text-2xl font-semibold text-gray-100 mb-2 sm:mb-4"),y(gl,"class","text-white text-xs sm:text-sm mr-2 mb-2 sm:mb-0"),y(Xo,"class","mb-2 sm:mb-4 flex flex-wrap items-center"),y(Wi,"class","bg-gray-900 rounded-lg p-2 sm:p-3 mb-2 sm:mb-4 h-48 sm:h-64 overflow-y-auto custom-scrollbar"),y(Kr,"class","glass-input text-white py-2 px-3 rounded-lg outline-none text-xs sm:text-sm flex-grow"),y(Kr,"placeholder","Type a message..."),y(Ha,"class","glass-button text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center text-xs sm:text-sm flex-grow sm:flex-grow-0"),y(Ya,"class","glass-button text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center text-xs sm:text-sm flex-grow sm:flex-grow-0"),y(zi,"class","flex space-x-2"),y(Ui,"class","flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"),y(pr,"class","p-3 sm:p-5 flex flex-col bg-gray-800 border border-gray-700 rounded-lg w-full mb-8"),y(pr,"id","chat-box"),y($a,"class","flex flex-col rounded p-2 justify-center "),y($a,"id","chat-column"),y(i,"class","max-w-screen-lg mx-auto"),y(o,"class","min-h-screen bg-custom-dark text-gray-200"),wt(o,"padding-top","10px"),y(vl,"class","text-sm text-gray-400"),y(yl,"class","mt-4 mb-4 text-center text-gray-400 text-sm"),y(r,"class","w-full sm:h-screen overflow-y-scroll sm:w-1/2 xl:w-1/3 lg:w-1/4 sm:transition-all sm:ease-linear sm:duration-100"),wt(r,"width","100%"),y(n,"class","h-screen overflow-hidden flex flex-col min-h-screen"),y(t,"class","custom-scrollbar"),y(Va,"href","https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"),y(Va,"rel","stylesheet"),y(Ga,"href","https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap"),y(Ga,"rel","stylesheet")},m(te,ce){ge(te,t,ce),w(t,n),w(n,r),w(r,o),w(o,i),w(i,a),w(i,s),w(i,l),w(l,c),w(c,d),w(d,h),e[88](h),w(d,m),w(d,v),e[89](v),w(d,C),w(d,k),e[90](k),w(d,j),es(P,d,null),w(d,T),es(L,d,null),w(d,N),w(d,R),e[93](R),w(d,A),es(S,d,null),w(d,M),w(d,x),e[96](x),w(i,g),w(i,b),w(i,_),At&&At.m(i,null),w(i,E),w(i,F),w(F,I),w(I,Y),w(I,G),w(I,W),w(W,U),w(U,H),_o.m(H,null),w(W,Q),w(W,ve),w(ve,J),ht(J,e[21]),w(W,ie),w(W,xe),w(xe,me),w(xe,ae),w(I,Ee),w(I,Se),w(Se,De),w(De,Ne),w(Se,Pn),w(Se,Re),w(Re,de),ht(de,e[23]),w(Se,ne),w(Se,Tt),w(Tt,mn),w(Tt,qt),w(I,Ae),w(I,qe),w(qe,gn),w(qe,uo),w(qe,Zt),w(Zt,Dn),w(Dn,ho),w(Zt,tr),w(Zt,yt),w(yt,yn),w(I,nr),An&&An.m(I,null),w(I,St),w(I,kt),w(kt,rr),w(kt,Ft),w(kt,Le),w(Le,bn),So.m(bn,null),w(Le,fo),ln&&ln.m(Le,null),w(F,nn),w(F,Ot),w(Ot,Ct),w(Ct,It),w(It,jt),w(jt,Ze),ht(Ze,e[9]),w(jt,or),w(jt,Je),w(Je,Bt),w(Bt,Ir),w(Je,po),w(Je,wn),w(Je,Nn),w(Je,vt),w(vt,Ln),w(vt,Jr),w(vt,Jt),w(It,qn),w(It,Rt),w(Rt,xn);for(let Me=0;Me<4;Me+=1)gr[Me]&&gr[Me].m(xn,null);w(Rt,jn),w(Rt,ir),w(Ot,V),w(Ot,ar),w(ar,bt),w(bt,sr),w(sr,_n);for(let Me=0;Me<5;Me+=1)yr[Me]&&yr[Me].m(_n,null);w(bt,mo),w(bt,rn),w(bt,Rr),w(bt,on),w(on,Sn),w(Sn,an),w(Sn,Ue),w(Sn,Bn);for(let Me=0;Me<4;Me+=1)vr[Me]&&vr[Me].m(Bn,null);w(on,go),w(on,lr),w(lr,Wn),w(lr,Un),w(lr,zn);for(let Me=0;Me<4;Me+=1)br[Me]&&br[Me].m(zn,null);w(bt,yo),w(bt,cr),w(bt,Pr),w(bt,ur),w(ur,Dr),w(ur,vo),w(ur,dr);for(let Me=0;Me<Wt.length;Me+=1)Wt[Me]&&Wt[Me].m(dr,null);w(F,sn),w(F,tt),w(tt,$n),w(tt,wo),w(tt,u),w(u,p),w(p,O),w(p,$),w(p,K),w(K,oe),ht(oe,e[17]),w(p,se),w(p,le),w(le,_e),w(u,ze),w(u,Ve),w(Ve,Hn),w(Ve,Yn),w(Ve,Ut),w(Ut,dt),ht(dt,e[18]),w(Ve,Nr),w(Ve,B),w(B,re),w(tt,pe),w(tt,Ce),w(Ce,be),w(be,he);for(let Me=0;Me<Zo.length;Me+=1)Zo[Me]&&Zo[Me].m(he,null);Fd(he,e[16],!0),w(be,je),w(be,Be),w(tt,Mt),w(tt,Pt),w(Pt,it),w(it,hr),w(hr,Cn),w(hr,xo),w(hr,Mn),w(Mn,fr),fr.checked=e[12],w(Mn,Ua),w(Mn,Xu),w(it,dm),w(it,Vo),w(Vo,dl),w(Vo,hm),w(Vo,qi),w(qi,hl),w(qi,fm),w(qi,Zu),w(it,pm),w(it,Go),w(Go,fl),w(Go,mm),w(Go,ji),w(ji,pl),w(ji,gm),w(ji,Ju),w(tt,ym),w(tt,Bi),w(tt,vm),w(tt,za),w(tt,bm),cn&&cn.m(tt,null),w(i,wm),w(i,$a),w($a,pr),w(pr,ml),w(pr,xm),w(pr,Xo),w(Xo,gl),w(Xo,_m),Lr.m(Xo,null),w(pr,Sm),w(pr,Wi);for(let Me=0;Me<mr.length;Me+=1)mr[Me]&&mr[Me].m(Wi,null);e[120](Wi),w(pr,Mm),w(pr,Ui),w(Ui,Kr),ht(Kr,e[31]),w(Ui,Am),w(Ui,zi),w(zi,Ha),w(zi,Em),w(zi,Ya),w(r,Tm),w(r,yl),w(yl,vl),ge(te,Ku,ce),w(z1.head,Va),w(z1.head,Ga),zt=!0,Qu||(km=[ee($1,"mousemove",e[45]),ee($1,"mouseup",e[46]),ee(h,"wheel",e[43]),ee(h,"click",function(){Ht(e[10].handlePassbandClick)&&e[10].handlePassbandClick.apply(this,arguments)}),$i(J4.call(null,v)),ee(v,"pinchstart",e[85]),ee(v,"pinchmove",e[86]),$i(bu.call(null,v)),ee(v,"panmove",e[87]),ee(v,"wheel",e[43]),ee(v,"mousedown",e[44]),ee(R,"wheel",e[43]),ee(R,"click",function(){Ht(e[10].handlePassbandClick)&&e[10].handlePassbandClick.apply(this,arguments)}),ee(R,"mousedown",e[94]),ee(R,"touchstart",function(){Ht(e[10].handleTouchStart)&&e[10].handleTouchStart.apply(this,arguments)}),ee(R,"touchmove",function(){Ht(e[10].handleTouchMove)&&e[10].handleTouchMove.apply(this,arguments)}),ee(R,"touchend",function(){Ht(e[10].handleTouchEnd)&&e[10].handleTouchEnd.apply(this,arguments)}),ee(x,"wheel",e[43]),ee(x,"click",function(){Ht(e[10].handlePassbandClick)&&e[10].handlePassbandClick.apply(this,arguments)}),ee(x,"mousedown",e[97]),ee(x,"touchstart",function(){Ht(e[10].handleTouchStart)&&e[10].handleTouchStart.apply(this,arguments)}),ee(x,"touchmove",function(){Ht(e[10].handleTouchMove)&&e[10].handleTouchMove.apply(this,arguments)}),ee(x,"touchend",function(){Ht(e[10].handleTouchEnd)&&e[10].handleTouchEnd.apply(this,arguments)}),ee(U,"click",e[60]),ee(J,"change",e[98]),ee(J,"input",e[98]),ee(J,"input",e[61]),ee(De,"click",e[62]),ee(de,"change",e[99]),ee(de,"input",e[99]),ee(de,"input",e[63]),ee(Dn,"click",e[100]),ee(yt,"click",e[101]),ee(bn,"click",e[41]),ee(Ze,"input",e[102]),ee(Ze,"keydown",e[103]),$i(e[58].call(null,Ze)),ee(oe,"change",e[108]),ee(oe,"input",e[108]),ee(oe,"input",e[50]),ee(dt,"change",e[109]),ee(dt,"input",e[109]),ee(dt,"input",e[51]),ee(he,"change",e[110]),ee(he,"change",e[49]),ee(fr,"change",e[111]),ee(fr,"change",e[112]),ee(hl,"change",e[47]),ee(pl,"change",e[48]),ee(Bi,"click",e[78]),ee(Kr,"input",e[121]),ee(Kr,"keydown",e[64]),ee(Ha,"click",e[82]),ee(Ya,"click",e[83])],Qu=!0)},p(te,ce){e=te,(!zt||ce[0]&16384&&f!==(f="w-full bg-black peer "+(e[14]?"max-h-40":"max-h-0")))&&y(h,"class",f);const Me={};P.$set(Me);const h7={};L.$set(h7);const f7={};if(S.$set(f7),e[36]?At?(At.p(e,ce),ce[1]&32&&Xn(At,1)):(At=K1(e),At.c(),Xn(At,1),At.m(i,E)):At&&(qd(),oi(At,1,1,()=>{At=null}),jd()),bl!==(bl=Fm(e))&&(_o.d(1),_o=bl(e),_o&&(_o.c(),_o.m(H,null))),(!zt||ce[0]&1048576)&&(J.disabled=e[20]),ce[0]&2097152&&ht(J,e[21]),(!zt||ce[0]&2097152)&&at(me,e[21]),(!zt||ce[0]&4194304)&&wt(De,"background",e[22]?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)"),ce[0]&8388608&&ht(de,e[23]),(!zt||ce[0]&8388608)&&at(mn,e[23]),(!zt||ce[0]&8192&&Ye!==(Ye="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[13]?"":"ring-2 ring-blue-500")))&&y(Dn,"class",Ye),(!zt||ce[0]&8192&&vn!==(vn="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[13]?"ring-2 ring-blue-500":"")))&&y(yt,"class",vn),e[13]?An||(An=tm(),An.c(),An.m(I,St)):An&&(An.d(1),An=null),wl!==(wl=Om(e))&&(So.d(1),So=wl(e),So&&(So.c(),So.m(bn,null))),(!zt||ce[0]&2&&ut!==(ut="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg flex items-center transition-colors "+(e[1]?"ring-2 ring-red-500":"")))&&y(bn,"class",ut),e[2]?ln?ln.p(e,ce):(ln=nm(e),ln.c(),ln.m(Le,null)):ln&&(ln.d(1),ln=null),ce[0]&512&&Ze.value!==e[9]&&ht(Ze,e[9]),(!zt||ce[0]&524288)&&at(Ir,e[19]),(!zt||ce[0]&32768)&&at(Jr,e[15]),ce[0]&235929600){ed=Et([{label:"MUTED",enabled:e[20],color:"red"},{label:"NR",enabled:e[25],color:"green"},{label:"NB",enabled:e[26],color:"green"},{label:"AN",enabled:e[27],color:"green"}]);let ye;for(ye=0;ye<4;ye+=1){const wr=J1(e,ed,ye);gr[ye]?gr[ye].p(wr,ce):(gr[ye]=rm(wr),gr[ye].c(),gr[ye].m(xn,null))}for(;ye<4;ye+=1)gr[ye].d(1)}if(ce[0]&524288|ce[1]&4194304){td=Et(["USB","LSB","CW","AM","FM"]);let ye;for(ye=0;ye<5;ye+=1){const wr=Z1(e,td,ye);yr[ye]?yr[ye].p(wr,ce):(yr[ye]=om(wr),yr[ye].c(),yr[ye].m(_n,null))}for(;ye<5;ye+=1)yr[ye].d(1)}if(ce[1]&67108864){nd=Et([{action:"+",title:"Zoom in",icon:"zoom-in",text:"In"},{action:"-",title:"Zoom out",icon:"zoom-out",text:"Out"},{action:"max",title:"Zoom to max",icon:"maximize",text:"Max"},{action:"min",title:"Zoom to min",icon:"minimize",text:"Min"}]);let ye;for(ye=0;ye<4;ye+=1){const wr=X1(e,nd,ye);vr[ye]?vr[ye].p(wr,ce):(vr[ye]=im(wr),vr[ye].c(),vr[ye].m(Bn,null))}for(;ye<4;ye+=1)vr[ye].d(1)}if(ce[0]&503316480|ce[2]&120){rd=Et([{option:"NR",icon:"wave-square",enabled:e[25]},{option:"NB",icon:"zap",enabled:e[26]},{option:"AN",icon:"shield",enabled:e[27]},{option:"CTCSS",icon:"filter",enabled:e[28]}]);let ye;for(ye=0;ye<4;ye+=1){const wr=G1(e,rd,ye);br[ye]?br[ye].p(wr,ce):(br[ye]=am(wr),br[ye].c(),br[ye].m(zn,null))}for(;ye<4;ye+=1)br[ye].d(1)}ce[0]&16809984|ce[1]&268435456&&(xl=Et(e[24]),Wt=Nl(Wt,ce,Im,1,e,xl,bo,dr,Dl,sm,null,V1)),ce[0]&131072&&ht(oe,e[17]),(!zt||ce[0]&131072)&&at(_e,e[17]),ce[0]&262144&&ht(dt,e[18]),(!zt||ce[0]&262144)&&at(re,e[18]),ce[0]&65536&&Fd(he,e[16]),ce[0]&4096&&(fr.checked=e[12]),e[34]?cn?cn.p(e,ce):(cn=lm(e),cn.c(),cn.m(tt,null)):cn&&(cn.d(1),cn=null),_l===(_l=Pm(e))&&Lr?Lr.p(e,ce):(Lr.d(1),Lr=_l(e),Lr&&(Lr.c(),Lr.m(Xo,null))),ce[0]&1|ce[2]&4194304&&(Xa=Et(e[0]),mr=Nl(mr,ce,Dm,1,e,Xa,Cm,Wi,Dl,um,null,H1)),ce[1]&1&&Kr.value!==e[31]&&ht(Kr,e[31])},i(te){if(!zt){Xn(P.$$.fragment,te),Xn(L.$$.fragment,te),Xn(S.$$.fragment,te),Xn(At);for(let ce=0;ce<Xa.length;ce+=1)Xn(mr[ce]);zt=!0}},o(te){oi(P.$$.fragment,te),oi(L.$$.fragment,te),oi(S.$$.fragment,te),oi(At),zt=!1},d(te){te&&(fe(t),fe(Ku)),e[88](null),e[89](null),e[90](null),e[91](null),ts(P),e[92](null),ts(L),e[93](null),e[95](null),ts(S),e[96](null),At&&At.d(),_o.d(),An&&An.d(),So.d(),ln&&ln.d(),Qo(gr,te),Qo(yr,te),Qo(vr,te),Qo(br,te);for(let ce=0;ce<Wt.length;ce+=1)Wt[ce].d();Qo(Zo,te),cn&&cn.d(),Lr.d();for(let ce=0;ce<mr.length;ce+=1)mr[ce].d();e[120](null),fe(Va),fe(Ga),Qu=!1,$t(km)}}}const e7="1.5.4",t7=35;function n7(){return Math.random().toString(36).substr(2,10)+Math.random().toString(36).substr(2,10)}function r7(e){const t=document.getElementById("sMeter"),n=t.getContext("2d");t.width=300,t.height=40;const r=t.width,o=t.height;n.clearRect(0,0,r,o);const i=6,a=3,s=8,l=15,c=25,d=5,h=5,f=r/2;n.strokeStyle="#a7e6fe",n.lineWidth=2,n.beginPath(),n.moveTo(0,l),n.lineTo(f,l),n.stroke(),n.strokeStyle="#ed1c24",n.beginPath(),n.moveTo(f,l),n.lineTo(268,l),n.stroke();for(let v=0;v<30;v++){const C=v*(i+a);v<e?n.fillStyle=v<17?"#a3eced":"#d9191c":n.fillStyle=v<17?"#003333":"#330000",n.fillRect(C,0,i,s)}n.font="11px monospace",n.textAlign="center";const m=["S1","3","5","7","9","+20","+40","+60dB"];for(let v=0;v<=16;v++){const C=v*16.6970588235;n.fillStyle=C<=f?"#a3eced":"#d9191c",v%2===1?(n.fillRect(C,l,1,h+2),(v-1)/2<m.length&&n.fillText(m[(v-1)/2],C,c+8)):n.fillRect(C,l,1,d)}}function o7(e){e=Math.min(Math.max(e,-100),0);const t=Math.round((e+100)*t7/100);r7(t)}function i7(e){localStorage.setItem("bookmarks",JSON.stringify(e))}function Or(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function a7(e){const t=/^(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) (.+?): (.+)$/,n=e.match(t);if(n){const[r,o,i,a]=n,s=/\[FREQ:(\d+):([\w-]+)\]/,l=a.match(s);if(l){const[c,d,h]=l,[f,m]=a.split(c).map(v=>Gu(Or(v)));return{isFormatted:!0,timestamp:Or(o),username:Or(i),frequency:parseInt(d,10),demodulation:Or(h),beforeFreq:f,afterFreq:m}}return{isFormatted:!1,timestamp:Or(o),username:Or(i),parts:Gu(Or(a))}}return{isFormatted:!1,parts:Gu(Or(e))}}function Gu(e){const t=/(https?:\/\/[^\s]+)/g,n=[];let r=0,o;for(;(o=t.exec(e))!==null;)o.index>r&&n.push({type:"text",content:e.slice(r,o.index)}),n.push({type:"link",content:o[0],url:o[0]}),r=o.index+o[0].length;return r<e.length&&n.push({type:"text",content:e.slice(r)}),n}function Li(e){return e.map(t=>t.type==="link"?'<a href="'.concat(Or(t.url),'" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline">').concat(Or(t.content),"</a>"):t.content).join("")}function s7(e,t,n){let r,o,i=!1,a=!1,s,l,c,d,h,f,m,v,C;function k(){i?(we.stopRecording(),n(1,i=!1),n(2,a=!0)):(we.startRecording(),n(1,i=!0),n(2,a=!1))}function j(){we.downloadRecording()}let P,T=!1;function L(B){B=B||we.getAudioRange();const re=B.map(Vr);n(15,I=((re[2]-re[0])/1e3).toFixed(2));const pe=re.map(h0);v.changePassband(pe)}function N(B){Fe.canvasWheel(B),v.updatePassbandLimits(),L(),ut.updateFrequencyMarkerPositions()}let R=!1,A=!1,S=0;function M(B){S=0,A=!0,B.clientX}function x(B){A&&(S+=Math.abs(B.movementX)+Math.abs(B.movementY),Fe.mouseMove(B),L(),ut.updateFrequencyMarkerPositions())}function g(B){A&&(S<2&&v.handlePassbandClick(B),A=!1)}let b=!0,_=!1;function E(){n(14,b=!b),Fe.setSpectrum(b)}function F(){_=!_,Fe.setWaterfallBig(_)}let I,Y="gqrx",G=-30,W=110;function U(){const B=localStorage.getItem("selectedColormap");B&&n(16,Y=B),Fe.setColormap(Y)}function H(B){n(16,Y=B.target.value),Fe.setColormap(Y),localStorage.setItem("selectedColormap",Y)}function Q(){Fe.setMinOffset(G)}function ve(){Fe.setMaxOffset(W)}function J(B){n(12,T=B),Fe.autoAdjust=T}let ie=["USB","LSB","CW","CW-L","AM","FM"];const xe={USB:{type:"USB",offsets:[-100,2800]},LSB:{type:"LSB",offsets:[2800,-100]},CW:{type:"USB",offsets:[250,250]},AM:{type:"AM",offsets:[5e3,5e3]},FM:{type:"FM",offsets:[5e3,5e3]},WBFM:{type:"FM",offsets:[95e3,95e3]}};let me="USB";function ae(B){(B=="CW-U"||B=="CW-L")&&(B="CW"),console.log("Setting mode to",B),n(19,me=B),Ee(null,!0),nn()}function Ee(B,re){v.setMode(me);const pe=xe[me];re&&(me==="WBFM"?we.setFmDeemph(5e-5):we.setFmDeemph(0),pe.type=="USB"&&pe.offsets[0]==250?we.setAudioDemodulation("CW"):we.setAudioDemodulation(pe.type));let Ce=f.getBFO(),be=pe.bfo||0,[he,je,Be]=we.getAudioRange().map(Vr);je=je+be-Ce,he=je-pe.offsets[0],Be=je+pe.offsets[1],f.setBFO(be),f.setFrequency(),n(9,m=(f.getFrequency()/1e3).toFixed(2));const Mt=he-200,Pt=je-750,it=Be-200,hr=[Mt,Pt,it].map(io),Cn=[he,je,Be].map(io);we.setAudioRange(...Cn,...hr),L(),nn()}function Se(B,re){n(13,R=re),we.setFT8Decoding(re)}function De(B){let[re,pe,Ce]=B.detail.map(l4),be=f.getBFO();be=0,re+=be,pe+=be,Ce+=be;const he=re-200,je=pe-750,Be=Ce-200;n(15,I=((Ce-re)/1e3).toFixed(2)),f.setFrequency(pe),n(9,m=(f.getFrequency()/1e3).toFixed(2));const Mt=[re,pe,Ce].map(io),Pt=[he,je,Be].map(io);we.setAudioRange(...Mt,...Pt),nn(),L(),Fe.checkBandAndSetMode(m*1e3)}function Ne(B){const re=B.detail,pe=we.getAudioRange(),[Ce,be,he]=pe.map(Vr);let je=[re-(be-Ce),re,re+(he-be)].map(io);const Be=je[1],Mt=re-(be-Ce)-200,Pt=re-750,it=re+(he-be)-200,hr=[Mt,Pt,it].map(io);let[Cn,xo]=Fe.getWaterfallRange();if(Be<Cn||Be>=xo){const Mn=Math.floor((xo-Cn)/2);let fr;pe[1]>=Cn&&pe[1]<xo?fr=pe[1]-Cn:fr=Mn;const Ua=Math.min(Fe.waterfallMaxSize-Mn,Math.max(Mn,Be-fr+Mn));Cn=Math.floor(Ua-Mn),xo=Math.floor(Ua+Mn),Fe.setWaterfallRange(Cn,xo)}we.setAudioRange(...je,...hr),L(),nn(),B.markerclick||Fe.checkBandAndSetMode(re),ut.updateFrequencyMarkerPositions()}function Pn(B,re){let[pe,Ce,be]=we.getAudioRange();const[he,je]=Fe.getWaterfallRange(),Be=(Ce-he)/(je-he)*Fe.canvasWidth;switch(re){case"max":Ce=Math.min(Fe.waterfallMaxSize-512,Math.max(512,Ce)),pe=Math.floor(Ce-512),be=Math.ceil(Ce+512);break;case"+":B.coords={x:Be},B.scale=-1,Fe.canvasWheel(B),L(),ut.updateFrequencyMarkerPositions();return;case"-":B.coords={x:Be},B.scale=1,Fe.canvasWheel(B),L(),ut.updateFrequencyMarkerPositions();return;case"min":pe=0,be=Fe.waterfallMaxSize;break}Fe.setWaterfallRange(pe,be),ut.updateFrequencyMarkerPositions(),L()}let Re,de=65,ne,Tt=-50,mn=0;const qt=Yd.RollingMax(10);function Ae(B){function re(pe){pe.preventDefault();const Ce=pe.deltaY>0?-1:1,be=pe.shiftKey;let he=Math.round(parseFloat(m)*1e3);function je(Be,Mt,Pt){const it=Pt?100:50;return Be%it===0?Be+Mt*it:Mt>0?Math.ceil(Be/it)*it:Math.floor(Be/it)*it}he=je(he,Ce,be),n(9,m=(he/1e3).toFixed(2)),n(9,m=Math.max(0,parseFloat(m))),f.setFrequency(he),Ne({detail:he})}return B.addEventListener("wheel",re),{destroy(){B.removeEventListener("wheel",re)}}}let qe=["-1000","-100","+100","+1000"];function gn(B,re){re=parseFloat(re);const pe=xe[me].type;let[Ce,be,he]=we.getAudioRange().map(Vr);pe==="USB"?he=Math.max(be,Math.min(be+wa(),he+re)):pe==="LSB"?Ce=Math.max(be-wa(),Math.min(be,Ce-re)):(he=Math.max(0,Math.min(be+wa()/2,he+re/2)),Ce=Math.max(be-wa()/2,Math.min(be,Ce-re/2)));let je=[Ce,be,he].map(io);const Be=Ce-200,Mt=be-750,Pt=he-200,it=[Be,Mt,Pt].map(io);we.setAudioRange(...je,...it),L()}function uo(){n(20,Re=!Re),we.setMute(Re)}function Zt(){we.setGain(Math.pow(10,(de-50)/50+2.6))}function Dn(){n(22,ne=!ne),we.setSquelch(ne)}function ho(){we.setSquelchThreshold(Tt)}function Ye(B){B.key==="Enter"&&(B.preventDefault(),_n())}let tr=!1,yt=!1,yn=!1,vn=!1;function nr(){n(25,tr=!tr),we.decoder.set_nr(tr)}function St(){n(26,yt=!yt),we.nb=yt,we.decoder.set_nb(yt)}function kt(){n(27,yn=!yn),we.decoder.set_an(yn)}function rr(){n(28,vn=!vn),we.setCTCSSFilter(vn)}let Ft,Le=0;function bn(){if(mn=we.getPowerDb()/150*100+we.smeter_offset,qt(mn)/150*100+we.smeter_offset,o7(mn),ba.getLastModified()>Le){const B=we.getAudioRange(),re=ba.getSignalClients(),pe=Object.keys(re).reduce((Ce,be)=>{const he=re[Ce],je=re[be],Be=Math.abs(he[1]-B[1]),Mt=Math.abs(je[1]-B[1]);return Be<Mt?Ce:be});delete re[pe],Fe.setClients(re),requestAnimationFrame(()=>{Fe.updateGraduation(),Fe.drawClients()}),Le=ba.getLastModified()}}let ut;function fo(B){Ne({detail:B.detail.frequency,markerclick:!0}),n(9,m=(B.detail.frequency/1e3).toFixed(2)),n(9,m=Math.max(0,parseFloat(m))),f.setFrequency(B.detail.frequency),ae(B.detail.modulation)}function nn(){const B={frequency:f.getFrequency().toFixed(0),modulation:me};n(9,m=(f.getFrequency()/1e3).toFixed(2));const re=O9(B);n(11,C="".concat(location.origin).concat(location.pathname,"?").concat(re)),R9(B)}function Ot(){Hd(C)}let Ct=Vd([]);xd(e,Ct,B=>n(40,o=B));let It="",jt=Vd([]);xd(e,jt,B=>n(0,r=B));let Ze="",or,Je="user".concat(Math.floor(Math.random()*1e4)),Bt=!1;function Ir(){localStorage.setItem("chatusername",Je),n(33,Bt=!1)}function po(){n(33,Bt=!0)}function wn(){const B={name:It,link:C,frequency:f.getFrequency(),demodulation:me};n(9,m=(f.getFrequency()/1e3).toFixed(2)),Ct.update(re=>{const pe=[...re,B];return localStorage.setItem("bookmarks",JSON.stringify(pe)),pe}),n(30,It="")}function Nn(B){f.setFrequency(B.frequency),Ne({detail:B.frequency}),n(19,me=B.demodulation),Ee(null,!0),nn()}function vt(B){Ct.update(re=>{const pe=re.filter((Ce,be)=>be!==B);return i7(pe),pe})}let Ln=!1;function Jr(){n(34,Ln=!Ln)}let Jt=0,qn=!1,Rt=null,xn={top:0,left:0,width:0,height:0};const jn=[{selector:"#demodulator-select",content:"Welcome to PhantomSDR - This is the Tutorial."},{selector:"#waterfall",content:"This is the Waterfall, the main part of a WebSDR where you see all signals visuallly."},{selector:"#volume-slider",content:"Use this Slider to change the Volume."},{selector:"#squelch-slider",content:"Use this Slider to change the Squelch."},{selector:"#ft8-decoder",content:"This Button lets you Decode FT8 Signals, if you are on the proper Frequency"},{selector:"#smeter-tut",content:"This Section shows you the S-Meter, lets you Input the Frequency and shows the Mode with Filter Bandwidth."},{selector:"#demodulationModes",content:"Use this Section to change the Demodulation Mode."},{selector:"#zoom-controls",content:"Use these buttons to zoom in and out of the waterfall display."},{selector:"#moreoptions",content:"These options allow you to enable things like CTCSS Supression, Noise Reduction and more."},{selector:"#brightness-controls",content:"Adjust the brightness levels of the waterfall display."},{selector:"#colormap-select",content:"Choose different color schemes for the waterfall."},{selector:"#auto-adjust",content:"Toggle automatic adjustment of the waterfall display."},{selector:"#spectrum-toggle",content:"Turn the spectrum display on or off."},{selector:"#bigger-waterfall",content:"Increase the size of the waterfall display."},{selector:"#bookmark-button",content:"Click this to open the Bookmarks Menu."},{selector:"#chat-box",content:"This is the Chatbox, where to communicae with other users and sending Frequencies"},{selector:"#chat-box",content:"Thank you for completing the Tutorial, now you can use the WebSDR as you wish. Enjoy!"}];async function ir(){localStorage.getItem("TutorialComplete")||(await Rl(),jn.every(B=>document.querySelector(B.selector))?(n(36,qn=!0),V()):(console.warn("Some tutorial elements are missing. Skipping tutorial."),localStorage.setItem("TutorialComplete","true")))}function V(){const{selector:B}=jn[Jt];if(n(37,Rt=B?document.querySelector(B):null),Rt){var re=Rt.getBoundingClientRect();n(38,xn={top:re.top+window.scrollY,left:re.left+window.scrollX,width:re.width,height:re.height});const pe=re.top,Ce=re.bottom,be=window.innerHeight;(pe<0||Ce>be)&&Rt.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),re=Rt.getBoundingClientRect(),n(38,xn={top:re.top+window.scrollY,left:re.left+window.scrollX,width:re.width,height:re.height})}}async function ar(){Jt<jn.length-1?(n(35,Jt+=1),await Rl(),V(),Jt==7&&(activeTab="waterfall")):bt()}function bt(){n(36,qn=!1),localStorage.setItem("TutorialComplete","true")}ir();let sr;Fl(async()=>{localStorage.getItem("TutorialComplete")||(await Rl(),jn.slice(1).every(he=>document.querySelector(he.selector))?(n(36,qn=!0),await V()):(console.warn("Some tutorial elements are missing. Skipping tutorial."),localStorage.setItem("TutorialComplete","true"))),Fe.initCanvas({canvasElem:s,spectrumCanvasElem:l,graduationCanvasElem:c,bandPlanCanvasElem:d,tempCanvasElem:h}),sr=s4(),await sr,Fe.setFrequencyMarkerComponent(ut),[...document.getElementsByTagName("button"),...document.getElementsByTagName("input")].forEach(he=>{he.disabled=!1}),we.trueAudioSps>17e4&&(ie.push("WBFM"),ie=ie,qe.unshift("-100000"),qe.push("+100000"),n(24,qe)),f.setFrequency(Vr(we.getAudioRange()[1])),f.updateFrequencyLimits(we.baseFreq,we.baseFreq+we.totalBandwidth),n(32,Je=localStorage.getItem("chatusername")||""),Je||(console.log("No Username. Setting a random username."),n(32,Je="user".concat(Math.floor(Math.random()*1e4)))),n(33,Bt=!Je),n(19,me=we.settings.defaults.modulation);const B=he=>{f.setFrequency(he.frequency),f.getFrequency()===he.frequency&&Ne({detail:he.frequency}),ie.indexOf(he.modulation)!==-1&&(n(19,me=he.modulation),Ee({},!0)),ut.updateFrequencyMarkerPositions()},re=I9(location.search.slice(1));B(re),L(),v.updatePassbandLimits(),U(),Ee({},!0),E(),Zt(),nn(),P=n7(),we.getAudioRange().map(Vr);const pe=localStorage.getItem("bookmarks");pe&&Ct.set(JSON.parse(pe)),Ft=setInterval(()=>requestAnimationFrame(bn),200),window.spectrumAudio=we,window.spectrumWaterfall=Fe,or=new WebSocket(window.location.origin.replace(/^http/,"ws")+"/chat"),document.getElementById("chat_content"),or.onmessage=he=>{if(he.data.startsWith("Chat history:")){const je=he.data.replace("Chat history:\n","").trim();if(je){const Be=je.split("\n").map((Mt,Pt)=>({id:Date.now()+Pt,text:Mt.trim(),isCurrentUser:Mt.startsWith(P),timestamp:Date.now()-(je.length-Pt)*1e3}));jt.set(Be)}}else{const je={id:Date.now(),text:he.data.trim(),isCurrentUser:he.data.startsWith(P),timestamp:Date.now()};jt.update(Be=>[...Be,je])}Rr()};const Ce=document.getElementById("middle-column");document.getElementById("chat-box");function be(){Ce.offsetWidth,document.documentElement.style.setProperty("--middle-column-width","1372px")}return be(),window.addEventListener("resize",be),va.subscribe("frequencyClick",({frequency:he,mode:je})=>{on(he,je)}),va.subscribe("frequencyChange",he=>{f.setFrequency(he.detail),n(9,m=(he.detail/1e3).toFixed(2)),Ne(he)}),va.subscribe("setMode",he=>{ae(he)}),()=>{window.removeEventListener("resize",be)}});function _n(){if(Ze.trim()&&Je.trim()){const B={cmd:"chat",message:Ze.trim(),username:Je};or.send(JSON.stringify(B)),n(31,Ze=""),Rr()}}function mo(){const B=f.getFrequency(),re=me,pe="[FREQ:".concat(Math.round(B),":").concat(re,"]");n(31,Ze=Ze+" "+pe)}let rn;function Rr(){rn&&rn.scrollTo({top:rn.scrollHeight,behavior:"smooth"})}function on(B,re){n(19,me=re);const pe=parseInt(B,10);if(isNaN(pe)){console.error("Invalid frequency:",B);return}f.setFrequency(pe),Ne({detail:pe}),Ee(null,!0),nn()}Km(()=>{clearInterval(Ft),we.stop(),Fe.stop(),or.close()});let Sn=0;function an(B){Sn=0}function Ue(B){const re=B.detail.scale-Sn;Sn=B.detail.scale;const pe=1-Math.abs(B.detail.srcEvent.movementX)/s.getBoundingClientRect().width,Ce=B.detail.srcEvent;Ce.coords={x:B.detail.center.x},Ce.deltaY=-Math.sign(re),Ce.scaleAmount=pe,Fe.canvasWheel(Ce),L(),S+=2}function Bn(B){B.detail.srcEvent.pointerType==="touch"&&(Fe.mouseMove(B.detail.srcEvent),L())}function go(B){Kt[B?"unshift":"push"](()=>{l=B,n(4,l)})}function lr(B){Kt[B?"unshift":"push"](()=>{s=B,n(3,s)})}function Wn(B){Kt[B?"unshift":"push"](()=>{h=B,n(7,h)})}function Un(B){Kt[B?"unshift":"push"](()=>{f=B,n(8,f)})}function zn(B){Kt[B?"unshift":"push"](()=>{ut=B,n(29,ut)})}function yo(B){Kt[B?"unshift":"push"](()=>{c=B,n(5,c)})}const cr=B=>v.handleMoveStart(B,1);function Pr(B){Kt[B?"unshift":"push"](()=>{v=B,n(10,v)})}function ur(B){Kt[B?"unshift":"push"](()=>{d=B,n(6,d)})}const Dr=B=>v.handleMoveStart(B,1);function vo(){de=ei(this.value),n(21,de)}function dr(){Tt=ei(this.value),n(23,Tt)}const Wt=B=>Se(B,!1),bo=B=>Se(B,!0);function sn(){m=this.value,n(9,m)}const tt=B=>{B.key==="Enter"&&(f.setFrequency(m*1e3),Ne({detail:m*1e3}))},$n=B=>ae(B),wo=(B,re)=>Pn(re,B),u=B=>{B==="NR"?nr():B==="NB"?St():B==="AN"?kt():rr()},p=(B,re)=>gn(re,B);function O(){G=ei(this.value),n(17,G)}function $(){W=ei(this.value),n(18,W)}function K(){Y=Ym(this),n(16,Y)}function oe(){T=this.checked,n(12,T)}const se=()=>J(T);function le(){It=this.value,n(30,It)}const _e=B=>Nn(B),ze=B=>Hd(B.link),Ve=B=>vt(B);function Hn(){Je=this.value,n(32,Je)}const Yn=B=>B.key==="Enter"&&Ir(),Ut=B=>on(B.frequency,B.demodulation);function dt(B){Kt[B?"unshift":"push"](()=>{rn=B,n(39,rn)})}function Nr(){Ze=this.value,n(31,Ze)}return e.$$.update=()=>{e.$$.dirty[0]&1&&r&&setTimeout(Rr,100)},[r,i,a,s,l,c,d,h,f,m,v,C,T,R,b,I,Y,G,W,me,Re,de,ne,Tt,qe,tr,yt,yn,vn,ut,It,Ze,Je,Bt,Ln,Jt,qn,Rt,xn,rn,o,k,j,N,M,x,g,E,F,H,Q,ve,J,ae,Se,De,Ne,Pn,Ae,gn,uo,Zt,Dn,ho,Ye,nr,St,kt,rr,fo,Ot,Ct,jt,Ir,po,wn,Nn,vt,Jr,jn,ar,bt,_n,mo,on,an,Ue,Bn,go,lr,Wn,Un,zn,yo,cr,Pr,ur,Dr,vo,dr,Wt,bo,sn,tt,$n,wo,u,p,O,$,K,oe,se,le,_e,ze,Ve,Hn,Yn,Ut,dt,Nr]}class l7 extends rs{constructor(t){super(),ns(this,t,s7,Q9,Jo,{},null,[-1,-1,-1,-1,-1,-1])}}new l7({target:document.getElementById("app")})})();export{Nm as $,od as _,g7 as __tla,Lm as __vite_legacy_guard,id as a,ad as b,sd as c,ld as d,cd as e,ud as f,dd as g,hd as h,fd as i,pd as j,md as k,gd as l,yd as m,vd as n};
